{"version":3,"file":"comunica-browser.js","mappings":"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E,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAIC,EAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,KAAKC,EAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAKC,EAAI,CAAC,GAAG,GAAG,GAAG,GAAG,IAAIC,EAAI,CAAC,EAAE,KAAKC,EAAI,CAAC,EAAE,KAAKC,EAAI,CAAC,EAAE,KAAKC,EAAI,CAAC,EAAE,KAAKC,EAAI,CAAC,EAAE,KAAKC,EAAI,CAAC,EAAE,KAAKC,EAAI,CAAC,EAAE,KAAKC,EAAI,CAAC,EAAE,KAAKC,EAAI,CAAC,EAAE,KAAKC,EAAI,CAAC,EAAE,KAAKC,EAAI,CAAC,EAAE,KAAKC,EAAI,CAAC,EAAE,KAAKC,EAAI,CAAC,EAAE,KAAKC,EAAI,CAAC,EAAE,KAAKC,EAAI,CAAC,EAAE,KAAKC,EAAI,CAAC,EAAE,KAAKC,EAAI,CAAC,EAAE,KAAKC,EAAI,CAAC,EAAE,KAAKC,EAAI,CAAC,EAAE,KAAKC,EAAI,CAAC,EAAE,KAAKC,EAAI,CAAC,EAAE,KAAKC,GAAI,CAAC,EAAE,KAAKC,GAAI,CAAC,EAAE,KAAKC,GAAI,CAAC,EAAE,KAAKC,GAAI,CAAC,EAAE,KAAKC,GAAI,CAAC,EAAE,KAAKC,GAAI,CAAC,EAAE,KAAKC,GAAI,CAAC,EAAE,KAAKC,GAAI,CAAC,EAAE,KAAKC,GAAI,CAAC,EAAE,KAAKC,GAAI,CAAC,EAAE,KAAKC,GAAI,CAAC,EAAE,KAAKC,GAAI,CAAC,EAAE,KAAKC,GAAK,CAAC,EAAE,KAAKC,GAAK,CAAC,EAAE,KAAKC,GAAK,CAAC,EAAE,KAAKC,GAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAKC,GAAK,CAAC,EAAE,KAAKC,GAAK,CAAC,EAAE,KAAKC,GAAK,CAAC,EAAE,KAAKC,GAAK,CAAC,EAAE,KAAKC,GAAK,CAAC,EAAE,KAAKC,GAAK,CAAC,EAAE,KAAKC,GAAK,CAAC,GAAG,KAAKC,GAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAIC,GAAK,CAAC,EAAE,KAAKC,GAAK,CAAC,EAAE,KAAKC,GAAK,CAAC,EAAE,KAAKC,GAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,IAAIC,GAAK,CAAC,EAAE,KAAKC,GAAK,CAAC,EAAE,KAAKC,GAAK,CAAC,EAAE,KAAKC,GAAK,CAAC,EAAE,KAAKC,GAAK,CAAC,EAAE,KAAKC,GAAK,CAAC,EAAE,KAAKC,GAAK,CAAC,EAAE,KAAKC,GAAK,CAAC,EAAE,KAAKC,GAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,IAAIC,GAAK,CAAC,GAAG,GAAG,IAAI,IAAI,KAAKC,GAAK,CAAC,GAAG,GAAG,IAAI,IAAI,IAAI,KAAKC,GAAK,CAAC,GAAG,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAKC,GAAK,CAAC,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAKC,GAAK,CAAC,EAAE,KAAKC,GAAK,CAAC,EAAE,KAAKC,GAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAKC,GAAK,CAAC,EAAE,KAAKC,GAAK,CAAC,EAAE,KAAKC,GAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAKC,GAAK,CAAC,GAAG,IAAIC,GAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAKC,GAAK,CAAC,GAAG,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAKC,GAAK,CAAC,GAAG,IAAIC,GAAK,CAAC,GAAG,IAAIC,GAAK,CAAC,EAAE,IAAI,KAAKC,GAAK,CAAC,GAAG,KAAKC,GAAK,CAAC,EAAE,GAAG,GAAG,GAAG,IAAIC,GAAK,CAAC,EAAE,KAAKC,GAAK,CAAC,EAAE,KAAKC,GAAK,CAAC,EAAE,KAAKC,GAAK,CAAC,EAAE,KAAKC,GAAK,CAAC,GAAG,IAAI,KAAKC,GAAK,CAAC,GAAG,GAAG,GAAG,IAAI,KAAKC,GAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAKC,GAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAKC,GAAK,CAAC,EAAE,KAAKC,GAAK,CAAC,EAAE,KAAKC,GAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAKC,GAAK,CAAC,EAAE,KAAKC,GAAK,CAAC,EAAE,KAAKC,GAAK,CAAC,EAAE,KAAKC,GAAK,CAAC,EAAE,GAAG,IAAIC,GAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAKC,GAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAKC,GAAK,CAAC,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,KAAKC,GAAK,CAAC,EAAE,KAAKC,GAAK,CAAC,EAAE,KAAKC,GAAK,CAAC,EAAE,KAAKC,GAAK,CAAC,EAAE,KAAKC,GAAK,CAAC,GAAG,IAAI,IAAI,IAAI,KAAKC,GAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAKC,GAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAKC,GAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAKC,GAAK,CAAC,GAAG,IAAIC,GAAK,CAAC,EAAE,KAAKC,GAAK,CAAC,EAAE,KAAKC,GAAK,CAAC,EAAE,KAAKC,GAAK,CAAC,EAAE,KAAKC,GAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAKC,GAAK,CAAC,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,KAAKC,GAAK,CAAC,EAAE,KAAKC,GAAK,CAAC,EAAE,KAAKC,GAAK,CAAC,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAKC,GAAK,CAAC,GAAG,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,KAAKC,GAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAKC,GAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAKC,GAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAKC,GAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAKC,GAAK,CAAC,GAAG,GAAG,GAAG,KAAKC,GAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAKC,GAAK,CAAC,EAAE,KAAKC,GAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAKC,GAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAKC,GAAK,CAAC,EAAE,KAAKC,GAAK,CAAC,GAAG,GAAG,GAAG,IAAI,IAAI,KAAKC,GAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAKC,GAAK,CAAC,GAAG,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAKC,GAAK,CAAC,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAKC,GAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAKC,GAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAKC,GAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,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AAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,GAAG,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,GAAG,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,EAAE,GAAG,CAAC,EAAE,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,EAAE,GAAG,CAAC,EAAE,GAAG,CAAC,EAAE,GAAG,CAAC,EAAE,GAAG,CAAC,EAAE,GAAG,CAAC,EAAE,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,G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AEf,KAAK,GAAG,OAAO,IAEf,KAAK,GAAG,OAAO,IAEf,KAAK,GAAG,OAAO,IAEf,KAAK,GAAG,OAAO,IAEf,KAAK,GAAG,OAAO,IAEf,KAAK,GAAG,OAAO,IAEf,KAAK,GAAG,OAAO,IAEf,KAAK,GAAG,OAAO,IAEf,KAAK,GAAG,OAAO,IAEf,KAAK,GAAG,OAAO,IAEf,KAAK,GAAG,OAAO,IAEf,KAAK,GAAG,OAAO,IAEf,KAAK,GAAG,OAAO,IAEf,KAAK,GAAG,OAAO,IAEf,KAAK,GAAG,OAAO,IAEf,KAAK,GAAG,OAAO,IAEf,KAAK,GAAG,OAAO,IAEf,KAAK,GAAG,OAAO,IAEf,KAAK,GAAG,OAAO,IAEf,KAAK,GAAG,OAAO,IAEf,KAAK,GAAG,OAAO,IAEf,KAAK,GAAG,OAAO,IAEf,KAAK,GAAG,OAAO,IAEf,KAAK,GAAG,OAAO,IAEf,KAAK,GAAG,OAAO,IAEf,KAAK,GAAG,OAAO,IAEf,KAAK,GAAG,OAAO,IAEf,KAAK,GAAG,OAAO,IAEf,KAAK,GAAG,OAAO,IAEf,KAAK,GAAG,OAAO,IAEf,KAAK,GAAG,OAAO,IAEf,KAAK,GAAG,OAAO,IAEf,KAAK,GAAG,OAAO,IAEf,KAAK,GAAG,OAAO,IAEf,KAAK,GAAG,OAAO,IAEf,KAAK,GAAG,OAAO,IAEf,KAAK,GAAG,OAAO,IAEf,KAAK,GAAG,OAAO,IAEf,KAAK,GAAG,OAAO,IAEf,KAAK,GAAG,OAAO,IAEf,KAAK,GAAG,OAAO,IAEf,KAAK,GAAG,OAAO,IAEf,KAAK,GAAG,OAAO,IAEf,KAAK,GAAG,OAAO,IAEf,KAAK,GAAG,OAAO,IAEf,KAAK,GAAG,OAAO,IAEf,KAAK,GAAG,OAAO,IAEf,KAAK,GAAG,OAAO,IAEf,KAAK,GAAG,OAAO,IAEf,KAAK,GAAG,OAAO,IAEf,KAAK,GAAG,OAAO,IAEf,KAAK,GAAG,OAAO,IAEf,KAAK,GAAG,OAAO,IAEf,KAAK,GAAG,OAAO,GAEf,KAAK,GAAG,OAAO,GAEf,KAAK,GAAG,OAAO,IAEf,KAAK,IAAI,OAAO,IAEhB,KAAK,IAAI,OAAO,GAEhB,KAAK,IAAI,OAAO,IAEhB,KAAK,IAAI,OAA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","sources":["webpack://Comunica/../../node_modules/abort-controller/browser.js","webpack://Comunica/../../node_modules/asyncjoin/index.js","webpack://Comunica/../../node_modules/asyncjoin/join/DynamicNestedLoopJoin.js","webpack://Comunica/../../node_modules/asyncjoin/join/HashJoin.js","webpack://Comunica/../../node_modules/asyncjoin/join/NestedLoopJoin.js","webpack://Comunica/../../node_modules/asyncjoin/join/SymmetricHashJoin.js","webpack://Comunica/../../node_modules/asyncjoin/util/MergeIterator.js","webpack://Comunica/./engine-default.js","webpack://Comunica/QueryEngine.ts","webpack://Comunica/index-browser.ts","webpack://Comunica/ActorAbstractMediaTyped.ts","webpack://Comunica/ActorAbstractMediaTypedFixed.ts","webpack://Comunica/index.ts","webpack://Comunica/ActorAbstractPath.ts","webpack://Comunica/PathVariableObjectIterator.ts","webpack://Comunica/ActorContextPreprocessSourceToDestination.ts","webpack://Comunica/ActorHashBindingsSha1.ts","webpack://Comunica/ActorInitQuery-browser.ts","webpack://Comunica/ActorInitQueryBase.ts","webpack://Comunica/MemoryPhysicalQueryPlanLogger.ts","webpack://Comunica/QueryEngineBase.ts","webpack://Comunica/ActorOptimizeQueryOperationBgpToJoin.ts","webpack://Comunica/ActorOptimizeQueryOperationJoinBgp.ts","webpack://Comunica/ActorOptimizeQueryOperationJoinConnected.ts","webpack://Comunica/ActorQueryOperationAsk.ts","webpack://Comunica/ActorQueryOperationBgpJoin.ts","webpack://Comunica/ActorQueryOperationConstruct.ts","webpack://Comunica/BindingsToQuadsIterator.ts","webpack://Comunica/ActorQueryOperationDescribeSubject.ts","webpack://Comunica/ActorQueryOperationDistinctHash.ts","webpack://Comunica/ActorQueryOperationExtend.ts","webpack://Comunica/ActorQueryOperationFilterSparqlee.ts","webpack://Comunica/ActorQueryOperationFromQuad.ts","webpack://Comunica/ActorQueryOperationGroup.ts","webpack://Comunica/GroupsState.ts","webpack://Comunica/ActorQueryOperationJoin.ts","webpack://Comunica/ActorQueryOperationLeftJoin.ts","webpack://Comunica/ActorQueryOperationMinus.ts","webpack://Comunica/ActorQueryOperationNop.ts","webpack://Comunica/ActorQueryOperationOrderBySparqlee.ts","webpack://Comunica/SortIterator.ts","webpack://Comunica/ActorQueryOperationPathAlt.ts","webpack://Comunica/ActorQueryOperationPathInv.ts","webpack://Comunica/ActorQueryOperationPathLink.ts","webpack://Comunica/ActorQueryOperationPathNps.ts","webpack://Comunica/ActorQueryOperationPathOneOrMore.ts","webpack://Comunica/ActorQueryOperationPathSeq.ts","webpack://Comunica/ActorQueryOperationPathZeroOrMore.ts","webpack://Comunica/ActorQueryOperationPathZeroOrOne.ts","webpack://Comunica/ActorQueryOperationProject.ts","webpack://Comunica/ActorQueryOperationQuadpattern.ts","webpack://Comunica/ActorQueryOperationReducedHash.ts","webpack://Comunica/ActorQueryOperationService.ts","webpack://Comunica/ActorQueryOperationSlice.ts","webpack://Comunica/ActorQueryOperationSparqlEndpoint.ts","webpack://Comunica/LazyCardinalityIterator.ts","webpack://Comunica/ActorQueryOperationUnion.ts","webpack://Comunica/ActorQueryOperationAddRewrite.ts","webpack://Comunica/ActorQueryOperationClear.ts","webpack://Comunica/ActorQueryOperationUpdateCompositeUpdate.ts","webpack://Comunica/ActorQueryOperationCopyRewrite.ts","webpack://Comunica/ActorQueryOperationCreate.ts","webpack://Comunica/ActorQueryOperationUpdateDeleteInsert.ts","webpack://Comunica/ActorQueryOperationDrop.ts","webpack://Comunica/ActorQueryOperationLoad.ts","webpack://Comunica/ActorQueryOperationMoveRewrite.ts","webpack://Comunica/ActorQueryOperationValues.ts","webpack://Comunica/ActorQueryParseGraphql.ts","webpack://Comunica/ActorQueryParseSparql.ts","webpack://Comunica/ActorQueryResultSerializeJson.ts","webpack://Comunica/ActorQueryResultSerializeRdf.ts","webpack://Comunica/ActorQueryResultSerializeSimple.ts","webpack://Comunica/ActorQueryResultSerializeSparqlCsv.ts","webpack://Comunica/ActionObserverHttp.ts","webpack://Comunica/ActorQueryResultSerializeSparqlJson.ts","webpack://Comunica/ActorQueryResultSerializeSparqlTsv.ts","webpack://Comunica/ActorQueryResultSerializeSparqlXml.ts","webpack://Comunica/XmlSerializer.ts","webpack://Comunica/ActorQueryResultSerializeStats.ts","webpack://Comunica/ActorQueryResultSerializeTable.ts","webpack://Comunica/ActorQueryResultSerializeTree.ts","webpack://Comunica/ActorRdfJoinEntriesSortCardinality.ts","webpack://Comunica/ActorRdfJoinHash.ts","webpack://Comunica/ActorRdfJoinMultiBind.ts","webpack://Comunica/ActorRdfJoinMultiEmpty.ts","webpack://Comunica/ActorRdfJoinMultiSmallest.ts","webpack://Comunica/ActorRdfJoinNestedLoop.ts","webpack://Comunica/ActorRdfJoinNone.ts","webpack://Comunica/ActorRdfJoinSingle.ts","webpack://Comunica/ActorRdfJoinSymmetricHash.ts","webpack://Comunica/ActorRdfJoinMinusHashUndef.ts","webpack://Comunica/BindingsIndex.ts","webpack://Comunica/ActorRdfJoinMinusHash.ts","webpack://Comunica/ActorRdfJoinOptionalBind.ts","webpack://Comunica/ActorRdfJoinOptionalNestedLoop.ts","webpack://Comunica/ActorRdfJoinSelectivityVariableCounting.ts","webpack://Comunica/ActorRdfResolveQuadPatternFederated.ts","webpack://Comunica/FederatedQuadSource.ts","webpack://Comunica/ActorRdfResolveQuadPatternRdfJsSource.ts","webpack://Comunica/RdfJsQuadSource.ts","webpack://Comunica/ActorRdfSerializeJsonLd.ts","webpack://Comunica/ActorRdfSerializeN3.ts","webpack://Comunica/ActorRdfUpdateQuadsRdfJsStore.ts","webpack://Comunica/RdfJsQuadDestination.ts","webpack://Comunica/Bindings.ts","webpack://Comunica/BindingsFactory.ts","webpack://Comunica/bindingsToString.ts","webpack://Comunica/ActorContextPreprocess.ts","webpack://Comunica/ActorHashBindings.ts","webpack://Comunica/ActorHttpInvalidate.ts","webpack://Comunica/ActorHttpInvalidateListenable.ts","webpack://Comunica/ActorHttp.ts","webpack://Comunica/ActorInit.ts","webpack://Comunica/ActorOptimizeQueryOperation.ts","webpack://Comunica/ActorQueryOperation.ts","webpack://Comunica/ActorQueryOperationTyped.ts","webpack://Comunica/ActorQueryOperationTypedMediated.ts","webpack://Comunica/BusQueryOperation.ts","webpack://Comunica/ClosableTransformIterator.ts","webpack://Comunica/ActorQueryParse.ts","webpack://Comunica/ActorQueryResultSerialize.ts","webpack://Comunica/ActorQueryResultSerializeFixedMediaTypes.ts","webpack://Comunica/ActorRdfJoinEntriesSort.ts","webpack://Comunica/ActorRdfJoinSelectivity.ts","webpack://Comunica/ActorRdfJoin.ts","webpack://Comunica/ActorRdfResolveQuadPattern.ts","webpack://Comunica/ActorRdfResolveQuadPatternSource.ts","webpack://Comunica/utils.ts","webpack://Comunica/ActorRdfSerialize.ts","webpack://Comunica/ActorRdfSerializeFixedMediaTypes.ts","webpack://Comunica/ActorRdfUpdateQuads.ts","webpack://Comunica/ActorRdfUpdateQuadsDestination.ts","webpack://Comunica/IQuadDestination.ts","webpack://Comunica/Keys.ts","webpack://Comunica/ActionContext.ts","webpack://Comunica/ActionObserver.ts","webpack://Comunica/Actor.ts","webpack://Comunica/Bus.ts","webpack://Comunica/BusIndexed.ts","webpack://Comunica/ContextEntries.ts","webpack://Comunica/Mediator.ts","webpack://Comunica/BlankNodeBindingsScoped.ts","webpack://Comunica/BlankNodeScoped.ts","webpack://Comunica/LoggerVoid.ts","webpack://Comunica/MediatorAll.ts","webpack://Comunica/MediatorCombinePipeline.ts","webpack://Comunica/MediatorCombineUnion.ts","webpack://Comunica/MediatorJoinCoefficientsFixed.ts","webpack://Comunica/MediatorNumber.ts","webpack://Comunica/MediatorRace.ts","webpack://Comunica/Logger.ts","webpack://Comunica/../../node_modules/base64-js/index.js","webpack://Comunica/../../node_modules/bignumber.js/bignumber.js","webpack://Comunica/../../node_modules/buffer/index.js","webpack://Comunica/../../node_modules/canonicalize/lib/canonicalize.js","webpack://Comunica/../../node_modules/cross-fetch/dist/browser-polyfill.js","webpack://Comunica/../../node_modules/events/events.js","webpack://Comunica/../../node_modules/fast-deep-equal/es6/index.js","webpack://Comunica/../../node_modules/fetch-sparql-endpoint/index.js","webpack://Comunica/../../node_modules/fetch-sparql-endpoint/lib/SparqlEndpointFetcher.js","webpack://Comunica/../../node_modules/graphql-to-sparql/index.js","webpack://Comunica/../../node_modules/graphql-to-sparql/lib/Converter.js","webpack://Comunica/../../node_modules/graphql-to-sparql/lib/IConvertContext.js","webpack://Comunica/../../node_modules/graphql-to-sparql/lib/IConvertSettings.js","webpack://Comunica/../../node_modules/graphql-to-sparql/lib/Util.js","webpack://Comunica/../../node_modules/graphql-to-sparql/lib/handler/NodeHandlerAdapter.js","webpack://Comunica/../../node_modules/graphql-to-sparql/lib/handler/NodeHandlerDefinitionAdapter.js","webpack://Comunica/../../node_modules/graphql-to-sparql/lib/handler/NodeHandlerDefinitionFragment.js","webpack://Comunica/../../node_modules/graphql-to-sparql/lib/handler/NodeHandlerDefinitionOperation.js","webpack://Comunica/../../node_modules/graphql-to-sparql/lib/handler/NodeHandlerDocument.js","webpack://Comunica/../../node_modules/graphql-to-sparql/lib/handler/NodeHandlerSelectionAdapter.js","webpack://Comunica/../../node_modules/graphql-to-sparql/lib/handler/NodeHandlerSelectionField.js","webpack://Comunica/../../node_modules/graphql-to-sparql/lib/handler/NodeHandlerSelectionFragmentSpread.js","webpack://Comunica/../../node_modules/graphql-to-sparql/lib/handler/NodeHandlerSelectionInlineFragment.js","webpack://Comunica/../../node_modules/graphql-to-sparql/lib/handler/directivenode/DirectiveNodeHandlerAdapter.js","webpack://Comunica/../../node_modules/graphql-to-sparql/lib/handler/directivenode/DirectiveNodeHandlerInclude.js","webpack://Comunica/../../node_modules/graphql-to-sparql/lib/handler/directivenode/DirectiveNodeHandlerOptional.js","webpack://Comunica/../../node_modules/graphql-to-sparql/lib/handler/directivenode/DirectiveNodeHandlerPlural.js","webpack://Comunica/../../node_modules/graphql-to-sparql/lib/handler/directivenode/DirectiveNodeHandlerSingle.js","webpack://Comunica/../../node_modules/graphql-to-sparql/lib/handler/directivenode/DirectiveNodeHandlerSkip.js","webpack://Comunica/../../node_modules/graphql-to-sparql/lib/handler/directivenode/index.js","webpack://Comunica/../../node_modules/graphql-to-sparql/lib/handler/index.js","webpack://Comunica/../../node_modules/graphql-to-sparql/lib/handler/valuenode/NodeValueHandlerAdapter.js","webpack://Comunica/../../node_modules/graphql-to-sparql/lib/handler/valuenode/NodeValueHandlerBoolean.js","webpack://Comunica/../../node_modules/graphql-to-sparql/lib/handler/valuenode/NodeValueHandlerEnum.js","webpack://Comunica/../../node_modules/graphql-to-sparql/lib/handler/valuenode/NodeValueHandlerFloat.js","webpack://Comunica/../../node_modules/graphql-to-sparql/lib/handler/valuenode/NodeValueHandlerInt.js","webpack://Comunica/../../node_modules/graphql-to-sparql/lib/handler/valuenode/NodeValueHandlerList.js","webpack://Comunica/../../node_modules/graphql-to-sparql/lib/handler/valuenode/NodeValueHandlerNull.js","webpack://Comunica/../../node_modules/graphql-to-sparql/lib/handler/valuenode/NodeValueHandlerObject.js","webpack://Comunica/../../node_modules/graphql-to-sparql/lib/handler/valuenode/NodeValueHandlerString.js","webpack://Comunica/../../node_modules/graphql-to-sparql/lib/handler/valuenode/NodeValueHandlerVariable.js","webpack://Comunica/../../node_modules/graphql-to-sparql/lib/handler/valuenode/index.js","webpack://Comunica/../../node_modules/graphql/error/GraphQLError.js","webpack://Comunica/../../node_modules/graphql/error/syntaxError.js","webpack://Comunica/../../node_modules/graphql/jsutils/defineInspect.js","webpack://Comunica/../../node_modules/graphql/jsutils/devAssert.js","webpack://Comunica/../../node_modules/graphql/jsutils/inspect.js","webpack://Comunica/../../node_modules/graphql/jsutils/instanceOf.js","webpack://Comunica/../../node_modules/graphql/jsutils/invariant.js","webpack://Comunica/../../node_modules/graphql/jsutils/isObjectLike.js","webpack://Comunica/../../node_modules/graphql/jsutils/nodejsCustomInspectSymbol.js","webpack://Comunica/../../node_modules/graphql/language/ast.js","webpack://Comunica/../../node_modules/graphql/language/blockString.js","webpack://Comunica/../../node_modules/graphql/language/directiveLocation.js","webpack://Comunica/../../node_modules/graphql/language/index.js","webpack://Comunica/../../node_modules/graphql/language/kinds.js","webpack://Comunica/../../node_modules/graphql/language/lexer.js","webpack://Comunica/../../node_modules/graphql/language/location.js","webpack://Comunica/../../node_modules/graphql/language/parser.js","webpack://Comunica/../../node_modules/graphql/language/predicates.js","webpack://Comunica/../../node_modules/graphql/language/printLocation.js","webpack://Comunica/../../node_modules/graphql/language/printer.js","webpack://Comunica/../../node_modules/graphql/language/source.js","webpack://Comunica/../../node_modules/graphql/language/tokenKind.js","webpack://Comunica/../../node_modules/graphql/language/visitor.js","webpack://Comunica/../../node_modules/graphql/polyfills/symbols.js","webpack://Comunica/../../node_modules/hash.js/lib/hash.js","webpack://Comunica/../../node_modules/hash.js/lib/hash/common.js","webpack://Comunica/../../node_modules/hash.js/lib/hash/hmac.js","webpack://Comunica/../../node_modules/hash.js/lib/hash/ripemd.js","webpack://Comunica/../../node_modules/hash.js/lib/hash/sha.js","webpack://Comunica/../../node_modules/hash.js/lib/hash/sha/1.js","webpack://Comunica/../../node_modules/hash.js/lib/hash/sha/224.js","webpack://Comunica/../../node_modules/hash.js/lib/hash/sha/256.js","webpack://Comunica/../../node_modules/hash.js/lib/hash/sha/384.js","webpack://Comunica/../../node_modules/hash.js/lib/hash/sha/512.js","webpack://Comunica/../../node_modules/hash.js/lib/hash/sha/common.js","webpack://Comunica/../../node_modules/hash.js/lib/hash/utils.js","webpack://Comunica/../../node_modules/http-link-header/lib/link.js","webpack://Comunica/../../node_modules/ieee754/index.js","webpack://Comunica/../../node_modules/immutable/dist/immutable.es.js","webpack://Comunica/../../node_modules/inherits/inherits_browser.js","webpack://Comunica/../../node_modules/is-stream/index.js","webpack://Comunica/../../node_modules/jsonld-context-parser/index.js","webpack://Comunica/../../node_modules/jsonld-context-parser/lib/ContextParser.js","webpack://Comunica/../../node_modules/jsonld-context-parser/lib/ErrorCoded.js","webpack://Comunica/../../node_modules/jsonld-context-parser/lib/FetchDocumentLoader.js","webpack://Comunica/../../node_modules/jsonld-context-parser/lib/IDocumentLoader.js","webpack://Comunica/../../node_modules/jsonld-context-parser/lib/JsonLdContext.js","webpack://Comunica/../../node_modules/jsonld-context-parser/lib/JsonLdContextNormalized.js","webpack://Comunica/../../node_modules/jsonld-context-parser/lib/Util.js","webpack://Comunica/../../node_modules/jsonld-streaming-serializer/index.js","webpack://Comunica/../../node_modules/jsonld-streaming-serializer/lib/JsonLdSerializer.js","webpack://Comunica/../../node_modules/jsonld-streaming-serializer/lib/SeparatorType.js","webpack://Comunica/../../node_modules/jsonld-streaming-serializer/lib/Util.js","webpack://Comunica/../../node_modules/jsonparse/jsonparse.js","webpack://Comunica/../../node_modules/lru-cache/index.js","webpack://Comunica/../../node_modules/minimalistic-assert/index.js","webpack://Comunica/../../node_modules/n3/node_modules/readable-stream/errors-browser.js","webpack://Comunica/../../node_modules/n3/node_modules/readable-stream/lib/_stream_duplex.js","webpack://Comunica/../../node_modules/n3/node_modules/readable-stream/lib/_stream_passthrough.js","webpack://Comunica/../../node_modules/n3/node_modules/readable-stream/lib/_stream_readable.js","webpack://Comunica/../../node_modules/n3/node_modules/readable-stream/lib/_stream_transform.js","webpack://Comunica/../../node_modules/n3/node_modules/readable-stream/lib/_stream_writable.js","webpack://Comunica/../../node_modules/n3/node_modules/readable-stream/lib/internal/streams/async_iterator.js","webpack://Comunica/../../node_modules/n3/node_modules/readable-stream/lib/internal/streams/buffer_list.js","webpack://Comunica/../../node_modules/n3/node_modules/readable-stream/lib/internal/streams/destroy.js","webpack://Comunica/../../node_modules/n3/node_modules/readable-stream/lib/internal/streams/end-of-stream.js","webpack://Comunica/../../node_modules/n3/node_modules/readable-stream/lib/internal/streams/from-browser.js","webpack://Comunica/../../node_modules/n3/node_modules/readable-stream/lib/internal/streams/pipeline.js","webpack://Comunica/../../node_modules/n3/node_modules/readable-stream/lib/internal/streams/state.js","webpack://Comunica/../../node_modules/n3/node_modules/readable-stream/lib/internal/streams/stream-browser.js","webpack://Comunica/../../node_modules/n3/node_modules/readable-stream/readable-browser.js","webpack://Comunica/../../node_modules/n3/src/IRIs.js","webpack://Comunica/../../node_modules/n3/src/N3Lexer.js","webpack://Comunica/../../node_modules/n3/src/N3Util.js","webpack://Comunica/../../node_modules/n3/src/N3DataFactory.js","webpack://Comunica/../../node_modules/n3/src/N3Parser.js","webpack://Comunica/../../node_modules/n3/src/N3Writer.js","webpack://Comunica/../../node_modules/n3/src/N3Store.js","webpack://Comunica/../../node_modules/n3/src/N3StreamParser.js","webpack://Comunica/../../node_modules/n3/src/N3StreamWriter.js","webpack://Comunica/../../node_modules/n3/src/index.js","webpack://Comunica/../../node_modules/process/browser.js","webpack://Comunica/../../node_modules/promise-polyfill/Promise.js","webpack://Comunica/../../node_modules/queue-microtask/index.js","webpack://Comunica/../../node_modules/rdf-data-factory/index.js","webpack://Comunica/../../node_modules/rdf-data-factory/lib/BlankNode.js","webpack://Comunica/../../node_modules/rdf-data-factory/lib/DataFactory.js","webpack://Comunica/../../node_modules/rdf-data-factory/lib/DefaultGraph.js","webpack://Comunica/../../node_modules/rdf-data-factory/lib/Literal.js","webpack://Comunica/../../node_modules/rdf-data-factory/lib/NamedNode.js","webpack://Comunica/../../node_modules/rdf-data-factory/lib/Quad.js","webpack://Comunica/../../node_modules/rdf-data-factory/lib/Variable.js","webpack://Comunica/../../node_modules/rdf-isomorphic/index.js","webpack://Comunica/../../node_modules/rdf-isomorphic/lib/RdfIsomorphic.js","webpack://Comunica/../../node_modules/rdf-literal/index.js","webpack://Comunica/../../node_modules/rdf-literal/lib/ITypeHandler.js","webpack://Comunica/../../node_modules/rdf-literal/lib/Translator.js","webpack://Comunica/../../node_modules/rdf-literal/lib/handler/TypeHandlerBoolean.js","webpack://Comunica/../../node_modules/rdf-literal/lib/handler/TypeHandlerDate.js","webpack://Comunica/../../node_modules/rdf-literal/lib/handler/TypeHandlerNumberDouble.js","webpack://Comunica/../../node_modules/rdf-literal/lib/handler/TypeHandlerNumberInteger.js","webpack://Comunica/../../node_modules/rdf-literal/lib/handler/TypeHandlerString.js","webpack://Comunica/../../node_modules/rdf-literal/lib/handler/index.js","webpack://Comunica/../../node_modules/rdf-string-ttl/index.js","webpack://Comunica/../../node_modules/rdf-string-ttl/lib/TermUtil.js","webpack://Comunica/../../node_modules/rdf-string/index.js","webpack://Comunica/../../node_modules/rdf-string/lib/TermUtil.js","webpack://Comunica/../../node_modules/rdf-terms/index.js","webpack://Comunica/../../node_modules/rdf-terms/lib/QuadTermUtil.js","webpack://Comunica/../../node_modules/rdf-terms/lib/TermUtil.js","webpack://Comunica/../../node_modules/readable-stream-node-to-web/index.js","webpack://Comunica/../../node_modules/readable-stream/lib/internal/streams/add-abort-signal.js","webpack://Comunica/../../node_modules/readable-stream/lib/internal/streams/buffer_list.js","webpack://Comunica/../../node_modules/readable-stream/lib/internal/streams/compose.js","webpack://Comunica/../../node_modules/readable-stream/lib/internal/streams/destroy.js","webpack://Comunica/../../node_modules/readable-stream/lib/internal/streams/duplex.js","webpack://Comunica/../../node_modules/readable-stream/lib/internal/streams/duplexify.js","webpack://Comunica/../../node_modules/readable-stream/lib/internal/streams/end-of-stream.js","webpack://Comunica/../../node_modules/readable-stream/lib/internal/streams/from.js","webpack://Comunica/../../node_modules/readable-stream/lib/internal/streams/legacy.js","webpack://Comunica/../../node_modules/readable-stream/lib/internal/streams/operators.js","webpack://Comunica/../../node_modules/readable-stream/lib/internal/streams/passthrough.js","webpack://Comunica/../../node_modules/readable-stream/lib/internal/streams/pipeline.js","webpack://Comunica/../../node_modules/readable-stream/lib/internal/streams/readable.js","webpack://Comunica/../../node_modules/readable-stream/lib/internal/streams/state.js","webpack://Comunica/../../node_modules/readable-stream/lib/internal/streams/transform.js","webpack://Comunica/../../node_modules/readable-stream/lib/internal/streams/utils.js","webpack://Comunica/../../node_modules/readable-stream/lib/internal/streams/writable.js","webpack://Comunica/../../node_modules/readable-stream/lib/internal/validators.js","webpack://Comunica/../../node_modules/readable-stream/lib/ours/browser.js","webpack://Comunica/../../node_modules/readable-stream/lib/ours/errors.js","webpack://Comunica/../../node_modules/readable-stream/lib/ours/primordials.js","webpack://Comunica/../../node_modules/readable-stream/lib/ours/util.js","webpack://Comunica/../../node_modules/readable-stream/lib/stream.js","webpack://Comunica/../../node_modules/readable-stream/lib/stream/promises.js","webpack://Comunica/../../node_modules/readable-web-to-node-stream/lib/index.js","webpack://Comunica/../../node_modules/readable-web-to-node-stream/node_modules/readable-stream/errors-browser.js","webpack://Comunica/../../node_modules/readable-web-to-node-stream/node_modules/readable-stream/lib/_stream_duplex.js","webpack://Comunica/../../node_modules/readable-web-to-node-stream/node_modules/readable-stream/lib/_stream_passthrough.js","webpack://Comunica/../../node_modules/readable-web-to-node-stream/node_modules/readable-stream/lib/_stream_readable.js","webpack://Comunica/../../node_modules/readable-web-to-node-stream/node_modules/readable-stream/lib/_stream_transform.js","webpack://Comunica/../../node_modules/readable-web-to-node-stream/node_modules/readable-stream/lib/_stream_writable.js","webpack://Comunica/../../node_modules/readable-web-to-node-stream/node_modules/readable-stream/lib/internal/streams/async_iterator.js","webpack://Comunica/../../node_modules/readable-web-to-node-stream/node_modules/readable-stream/lib/internal/streams/buffer_list.js","webpack://Comunica/../../node_modules/readable-web-to-node-stream/node_modules/readable-stream/lib/internal/streams/destroy.js","webpack://Comunica/../../node_modules/readable-web-to-node-stream/node_modules/readable-stream/lib/internal/streams/end-of-stream.js","webpack://Comunica/../../node_modules/readable-web-to-node-stream/node_modules/readable-stream/lib/internal/streams/from-browser.js","webpack://Comunica/../../node_modules/readable-web-to-node-stream/node_modules/readable-stream/lib/internal/streams/pipeline.js","webpack://Comunica/../../node_modules/readable-web-to-node-stream/node_modules/readable-stream/lib/internal/streams/state.js","webpack://Comunica/../../node_modules/readable-web-to-node-stream/node_modules/readable-stream/lib/internal/streams/stream-browser.js","webpack://Comunica/../../node_modules/readable-web-to-node-stream/node_modules/readable-stream/readable-browser.js","webpack://Comunica/../../node_modules/relative-to-absolute-iri/index.js","webpack://Comunica/../../node_modules/relative-to-absolute-iri/lib/Resolve.js","webpack://Comunica/../../node_modules/safe-buffer/index.js","webpack://Comunica/../../node_modules/saxes/saxes.js","webpack://Comunica/../../node_modules/spark-md5/spark-md5.js","webpack://Comunica/../../node_modules/sparqlalgebrajs/index.js","webpack://Comunica/../../node_modules/sparqlalgebrajs/lib/algebra.js","webpack://Comunica/../../node_modules/sparqlalgebrajs/lib/factory.js","webpack://Comunica/../../node_modules/sparqlalgebrajs/lib/sparql.js","webpack://Comunica/../../node_modules/sparqlalgebrajs/lib/sparqlAlgebra.js","webpack://Comunica/../../node_modules/sparqlalgebrajs/lib/util.js","webpack://Comunica/../../node_modules/sparqlee/dist/index.js","webpack://Comunica/../../node_modules/sparqlee/dist/lib/aggregators/Average.js","webpack://Comunica/../../node_modules/sparqlee/dist/lib/aggregators/BaseAggregator.js","webpack://Comunica/../../node_modules/sparqlee/dist/lib/aggregators/Count.js","webpack://Comunica/../../node_modules/sparqlee/dist/lib/aggregators/GroupConcat.js","webpack://Comunica/../../node_modules/sparqlee/dist/lib/aggregators/Max.js","webpack://Comunica/../../node_modules/sparqlee/dist/lib/aggregators/Min.js","webpack://Comunica/../../node_modules/sparqlee/dist/lib/aggregators/Sample.js","webpack://Comunica/../../node_modules/sparqlee/dist/lib/aggregators/Sum.js","webpack://Comunica/../../node_modules/sparqlee/dist/lib/aggregators/index.js","webpack://Comunica/../../node_modules/sparqlee/dist/lib/evaluators/AggregateEvaluator.js","webpack://Comunica/../../node_modules/sparqlee/dist/lib/evaluators/AsyncAggregateEvaluator.js","webpack://Comunica/../../node_modules/sparqlee/dist/lib/evaluators/AsyncEvaluator.js","webpack://Comunica/../../node_modules/sparqlee/dist/lib/evaluators/SyncEvaluator.js","webpack://Comunica/../../node_modules/sparqlee/dist/lib/evaluators/evaluatorHelpers/AsyncRecursiveEvaluator.js","webpack://Comunica/../../node_modules/sparqlee/dist/lib/evaluators/evaluatorHelpers/BaseAggregateEvaluator.js","webpack://Comunica/../../node_modules/sparqlee/dist/lib/evaluators/evaluatorHelpers/BaseExpressionEvaluator.js","webpack://Comunica/../../node_modules/sparqlee/dist/lib/evaluators/evaluatorHelpers/SyncRecursiveEvaluator.js","webpack://Comunica/../../node_modules/sparqlee/dist/lib/expressions/Aggregate.js","webpack://Comunica/../../node_modules/sparqlee/dist/lib/expressions/AsyncExtension.js","webpack://Comunica/../../node_modules/sparqlee/dist/lib/expressions/Existence.js","webpack://Comunica/../../node_modules/sparqlee/dist/lib/expressions/Expressions.js","webpack://Comunica/../../node_modules/sparqlee/dist/lib/expressions/Named.js","webpack://Comunica/../../node_modules/sparqlee/dist/lib/expressions/Operator.js","webpack://Comunica/../../node_modules/sparqlee/dist/lib/expressions/SpecialOperator.js","webpack://Comunica/../../node_modules/sparqlee/dist/lib/expressions/SyncExtension.js","webpack://Comunica/../../node_modules/sparqlee/dist/lib/expressions/Term.js","webpack://Comunica/../../node_modules/sparqlee/dist/lib/expressions/Variable.js","webpack://Comunica/../../node_modules/sparqlee/dist/lib/expressions/index.js","webpack://Comunica/../../node_modules/sparqlee/dist/lib/functions/Core.js","webpack://Comunica/../../node_modules/sparqlee/dist/lib/functions/Helpers.js","webpack://Comunica/../../node_modules/sparqlee/dist/lib/functions/LegacyTree.js","webpack://Comunica/../../node_modules/sparqlee/dist/lib/functions/NamedFunctions.js","webpack://Comunica/../../node_modules/sparqlee/dist/lib/functions/OverloadTree.js","webpack://Comunica/../../node_modules/sparqlee/dist/lib/functions/RegularFunctions.js","webpack://Comunica/../../node_modules/sparqlee/dist/lib/functions/SpecialFunctions.js","webpack://Comunica/../../node_modules/sparqlee/dist/lib/functions/XPathFunctions.js","webpack://Comunica/../../node_modules/sparqlee/dist/lib/functions/index.js","webpack://Comunica/../../node_modules/sparqlee/dist/lib/transformers/AlgebraTransformer.js","webpack://Comunica/../../node_modules/sparqlee/dist/lib/transformers/TermTransformer.js","webpack://Comunica/../../node_modules/sparqlee/dist/lib/util/Consts.js","webpack://Comunica/../../node_modules/sparqlee/dist/lib/util/Errors.js","webpack://Comunica/../../node_modules/sparqlee/dist/lib/util/Ordering.js","webpack://Comunica/../../node_modules/sparqlee/dist/lib/util/Parsing.js","webpack://Comunica/../../node_modules/sparqlee/dist/lib/util/TypeHandling.js","webpack://Comunica/../../node_modules/sparqljs/lib/SparqlGenerator.js","webpack://Comunica/../../node_modules/sparqljs/lib/SparqlParser.js","webpack://Comunica/../../node_modules/sparqljs/lib/Wildcard.js","webpack://Comunica/../../node_modules/sparqljs/sparql.js","webpack://Comunica/../../node_modules/sparqljson-parse/index.js","webpack://Comunica/../../node_modules/sparqljson-parse/lib/SparqlJsonParser.js","webpack://Comunica/../../node_modules/sparqljson-to-tree/index.js","webpack://Comunica/../../node_modules/sparqljson-to-tree/lib/Converter.js","webpack://Comunica/../../node_modules/sparqlxml-parse/index.js","webpack://Comunica/../../node_modules/sparqlxml-parse/lib/SparqlXmlParser.js","webpack://Comunica/../../node_modules/stream-to-string/index.js","webpack://Comunica/../../node_modules/string_decoder/lib/string_decoder.js","webpack://Comunica/../../node_modules/util-deprecate/browser.js","webpack://Comunica/../../node_modules/uuid/dist/esm-browser/rng.js","webpack://Comunica/../../node_modules/uuid/dist/esm-browser/regex.js","webpack://Comunica/../../node_modules/uuid/dist/esm-browser/validate.js","webpack://Comunica/../../node_modules/uuid/dist/esm-browser/stringify.js","webpack://Comunica/../../node_modules/uuid/dist/esm-browser/v1.js","webpack://Comunica/../../node_modules/uuid/dist/esm-browser/parse.js","webpack://Comunica/../../node_modules/uuid/dist/esm-browser/v35.js","webpack://Comunica/../../node_modules/uuid/dist/esm-browser/md5.js","webpack://Comunica/../../node_modules/uuid/dist/esm-browser/v3.js","webpack://Comunica/../../node_modules/uuid/dist/esm-browser/v4.js","webpack://Comunica/../../node_modules/uuid/dist/esm-browser/sha1.js","webpack://Comunica/../../node_modules/uuid/dist/esm-browser/v5.js","webpack://Comunica/../../node_modules/uuid/dist/esm-browser/nil.js","webpack://Comunica/../../node_modules/uuid/dist/esm-browser/version.js","webpack://Comunica/../../node_modules/web-streams-ponyfill/dist/polyfill-ie11.min.js","webpack://Comunica/../../node_modules/xmlchars/xml/1.0/ed5.js","webpack://Comunica/../../node_modules/xmlchars/xml/1.1/ed2.js","webpack://Comunica/../../node_modules/xmlchars/xmlns/1.0/ed3.js","webpack://Comunica/../../node_modules/yallist/iterator.js","webpack://Comunica/../../node_modules/yallist/yallist.js","webpack://Comunica/../../node_modules/asynciterator/dist/asynciterator.cjs","webpack://Comunica/../../node_modules/asynciterator/dist/linkedlist.cjs","webpack://Comunica/../../node_modules/asynciterator/dist/taskscheduler.cjs","webpack://Comunica/webpack/bootstrap","webpack://Comunica/webpack/runtime/compat get default export","webpack://Comunica/webpack/runtime/define property getters","webpack://Comunica/webpack/runtime/global","webpack://Comunica/webpack/runtime/hasOwnProperty shorthand","webpack://Comunica/webpack/runtime/make namespace object","webpack://Comunica/webpack/runtime/node module decorator","webpack://Comunica/webpack/startup"],"sourcesContent":["/*globals self, window */\n\"use strict\"\n\n/*eslint-disable @mysticatea/prettier */\nconst { AbortController, AbortSignal } =\n    typeof self !== \"undefined\" ? self :\n    typeof window !== \"undefined\" ? window :\n    /* otherwise */ undefined\n/*eslint-enable @mysticatea/prettier */\n\nmodule.exports = AbortController\nmodule.exports.AbortSignal = AbortSignal\nmodule.exports.default = AbortController\n","\nconst DynamicNestedLoopJoin = require('./join/DynamicNestedLoopJoin');\nconst HashJoin = require('./join/HashJoin');\nconst NestedLoopJoin = require('./join/NestedLoopJoin');\nconst SymmetricHashJoin = require('./join/SymmetricHashJoin');\n\nconst MergeStream = require('./util/MergeIterator');\n\nmodule.exports = {\n    DynamicNestedLoopJoin,\n    HashJoin,\n    NestedLoopJoin,\n    SymmetricHashJoin,\n\n    MergeStream\n};","\nlet AsyncIterator = require('asynciterator');\nlet MultiTransformIterator = AsyncIterator.MultiTransformIterator;\nlet SimpleTransformIterator = AsyncIterator.SimpleTransformIterator;\n\n// Nested Loop Join, but the values of the inner loop are determined by each value of the outer loop, possibly reducing the number of necessary checks\nclass DynamicNestedLoopJoin extends MultiTransformIterator\n{\n    constructor (left, funRight, funJoin, options)\n    {\n        super(left, options);\n\n        this.funRight = funRight;\n        this.funJoin = funJoin;\n    }\n\n    _createTransformer (leftItem)\n    {\n        return new SimpleTransformIterator(this.funRight(leftItem), { transform: (rightItem, done, push) =>\n        {\n            let result = this.funJoin(leftItem, rightItem);\n            if (result !== null)\n                push(result);\n            done();\n        }});\n    }\n}\n\nmodule.exports = DynamicNestedLoopJoin;\n","\nlet AsyncIterator = require('asynciterator').AsyncIterator;\n\n// https://en.wikipedia.org/wiki/Hash_join\nclass HashJoin extends AsyncIterator\n{\n    constructor (left, right, funHash, funJoin)\n    {\n        super();\n\n        this.addedDataListener = false;\n        this.left = left;\n        this.right = right;\n        this.funHash = funHash;\n        this.funJoin = funJoin;\n\n        this.leftMap = new Map();\n\n        this.match    = null;\n        this.matches  = [];\n        this.matchIdx = 0;\n\n        this.left.on('error', (error) => this.destroy(error));\n        this.right.on('error', (error) => this.destroy(error));\n\n        this.readable = false;\n\n        this.left.on('end', allowJoining.bind(this));\n\n        function allowJoining ()\n        {\n            if (this.leftMap.size <= 0)\n                return this.close();\n            this.readable = true;\n            this.right.on('readable', () => this.readable = true);\n            this.right.on('end', () => { if (!this.hasResults()) this._end(); });\n        }\n\n        this.on('newListener', (eventName) =>\n        {\n            if (eventName === 'data' && !this.addedDataListener)\n            {\n                this.addedDataListener = true;\n                this._addDataListener();\n            }\n        })\n    }\n\n    hasResults ()\n    {\n        return !this.right.ended || this.matchIdx < this.matches.length;\n    }\n\n    _end ()\n    {\n        super._end();\n        this.left.destroy();\n        this.right.destroy();\n    }\n\n    read ()\n    {\n        if (!this.addedDataListener)\n        {\n            this.addedDataListener = true;\n            this._addDataListener();\n        }\n\n        while(true) {\n            if (this.ended || !this.readable)\n                return null;\n\n            while (this.matchIdx < this.matches.length)\n            {\n                let item = this.matches[this.matchIdx++];\n                let result = this.funJoin(item, this.match);\n                if (result !== null)\n                    return result;\n            }\n\n            if (!this.hasResults())\n                this._end();\n\n            this.match = this.right.read();\n\n            if (this.match === null)\n            {\n                this.readable = false;\n                return null;\n            }\n\n            let hash = this.funHash(this.match);\n            this.matches = this.leftMap.get(hash) || [];\n            this.matchIdx = 0;\n        }\n    }\n\n    _addDataListener()\n    {\n        this.left.on('data', addItem.bind(this));\n\n        function addItem(item)\n        {\n            let hash = this.funHash(item);\n            if (!this.leftMap.has(hash))\n                this.leftMap.set(hash, []);\n            let arr = this.leftMap.get(hash);\n            arr.push(item);\n        }\n    }\n}\n\nmodule.exports = HashJoin;\n","\nconst { MultiTransformIterator, SimpleTransformIterator, scheduleTask } = require('asynciterator');\n\n// https://en.wikipedia.org/wiki/Nested_loop_join\nclass NestedLoopJoin extends MultiTransformIterator\n{\n    constructor (left, right, funJoin, options)\n    {\n        super(left, options);\n\n        this.right = right;\n        this.funJoin = funJoin; // function that joins 2 elements or returns null if join is not possible\n        this.on('end', () => this.right.close());\n    }\n\n    _end ()\n    {\n        super._end();\n        scheduleTask(() => this.right.destroy());\n    }\n\n    _createTransformer (leftItem)\n    {\n        return new SimpleTransformIterator(this.right.clone(), { transform: (rightItem, done, push) =>\n        {\n            let result = this.funJoin(leftItem, rightItem);\n            if (result !== null)\n                push(result);\n            done();\n        }});\n    }\n}\n\nmodule.exports = NestedLoopJoin;\n","\nlet AsyncIterator = require('asynciterator').AsyncIterator;\n\n// https://en.wikipedia.org/wiki/Symmetric_Hash_Join\nclass SymmetricHashJoin extends AsyncIterator\n{\n    constructor (left, right, funHash, funJoin)\n    {\n        super();\n\n        this.left  = left;\n        this.right = right;\n\n        this.funHash = funHash;\n        this.funJoin = funJoin;\n\n        this.usedLeft = false;\n        this.leftMap  = new Map();\n        this.rightMap = new Map();\n\n        this.on('end', () => this._cleanup() );\n\n        this.match    = null;\n        this.matches  = [];\n        this.matchIdx = 0;\n\n        if (this.left.readable || this.right.readable)\n        {\n            this.readable = true;\n        }\n\n        this.left.on('error', (error) => this.destroy(error));\n        this.right.on('error', (error) => this.destroy(error));\n\n        this.left.on('readable', () => this.readable = true);\n        this.right.on('readable', () => this.readable = true);\n\n        // this needs to be here since it's possible the left/right streams only get ended after there are no more results left\n        this.left.on ('end', () => { if (!this.hasResults()) this._end(); });\n        this.right.on('end', () => { if (!this.hasResults()) this._end(); });\n    }\n\n    hasResults()\n    {\n        // The \"!!this.match\" condition was added as a workaround to race\n        // conditions and/or duplicate \"end\" events that may lead to premature\n        // cleanups of the \"this.matches\" array.\n        // See https://github.com/joachimvh/asyncjoin/issues/7\n        return !this.left.ended  || !this.right.ended || (!!this.matches && this.matchIdx < this.matches.length);\n    }\n\n    _cleanup ()\n    {\n        // motivate garbage collector to remove these\n        this.leftMap = null;\n        this.rightMap = null;\n        this.matches = null;\n    }\n\n    _end ()\n    {\n        super._end();\n        this.left.destroy();\n        this.right.destroy();\n    }\n\n    read ()\n    {\n        if (this.ended)\n            return null;\n\n        while (this.matchIdx < this.matches.length)\n        {\n            let item = this.matches[this.matchIdx++];\n            let result = this.usedLeft ? this.funJoin(this.match, item) : this.funJoin(item, this.match);\n            if (result !== null)\n                return result;\n        }\n\n        if (!this.hasResults())\n            this._end();\n\n        let item = null;\n        // try both streams if the first one has no value\n        for (let i = 0; i < 2; ++i)\n        {\n            item = this.usedLeft ? this.right.read() : this.left.read();\n            this.usedLeft = !this.usedLeft; // try other stream next time\n\n            // found a result, no need to check the other stream this run\n            if (item !== null)\n                break;\n        }\n\n        if (this.done || item === null)\n        {\n            this.readable = false;\n            return null;\n        }\n\n        let hash = this.funHash(item);\n        let map = this.usedLeft ? this.leftMap : this.rightMap;\n        if (!map.has(hash))\n            map.set(hash, []);\n        let arr = map.get(hash);\n        arr.push(item);\n\n        this.match = item;\n        this.matches = (this.usedLeft ? this.rightMap : this.leftMap).get(hash) || [];\n        this.matchIdx = 0;\n\n        // array is filled again so recursive call can have results\n        return this.read();\n    }\n}\n\nmodule.exports = SymmetricHashJoin;\n","\nlet AsyncIterator = require('asynciterator').AsyncIterator;\n\n// merges the contents of multiple streams\nclass MergeIterator extends AsyncIterator\n{\n    constructor (streams)\n    {\n        super();\n        \n        if (!Array.isArray(streams))\n            streams = Array.prototype.slice.call(arguments);\n        \n        this.streams = streams;\n        \n        for (let stream of streams)\n        {\n            stream.on('readable', () => this.emit('readable'));\n            stream.on('end', () => this._removeStream(stream));\n        }\n        \n        if (this.streams.length === 0)\n            this.close();\n        \n        this.idx = this.streams.length-1;\n    }\n    \n    _removeStream (stream)\n    {\n        let idx = this.streams.indexOf(stream);\n        if (idx < 0)\n            return;\n        \n        this.streams.splice(idx, 1);\n        if (this.idx >= this.streams.length)\n            --this.idx;\n        \n        if (this.streams.length === 0)\n            this._end();\n    }\n    \n    close ()\n    {\n        super.close();\n        for (let stream of this.streams)\n            stream.close();\n    }\n    \n    read ()\n    {\n        for (let attempts = 0; attempts < this.streams.length; ++attempts)\n        {\n            this.idx = (this.idx + 1) % this.streams.length;\n            let item = this.streams[this.idx].read();\n            if (item !== null)\n                return item;\n        }\n        \n        return null;\n    }\n}\n\nmodule.exports = MergeIterator;","const df_367_1 = new (require('@comunica/logger-void').LoggerVoid)();\nconst https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_init__2_0_0_components_ActorInit_jsonld_ActorInit_default_bus = new (require('@comunica/core').Bus)({\n  'name': 'https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-init/^2.0.0/components/ActorInit.jsonld#ActorInit_default_bus'\n});\nconst https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_context_preprocess__2_0_0_components_ActorContextPreprocess_jsonld_ActorContextPreprocess_default_bus = new (require('@comunica/core').Bus)({\n  'name': 'https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-context-preprocess/^2.0.0/components/ActorContextPreprocess.jsonld#ActorContextPreprocess_default_bus'\n});\nconst https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_hash_bindings__2_0_0_components_ActorHashBindings_jsonld_ActorHashBindings_default_bus = new (require('@comunica/core').Bus)({\n  'name': 'https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-hash-bindings/^2.0.0/components/ActorHashBindings.jsonld#ActorHashBindings_default_bus'\n});\nconst https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_optimize_query_operation__2_0_0_components_ActorOptimizeQueryOperation_jsonld_ActorOptimizeQueryOperation_default_bus = new (require('@comunica/core').Bus)({\n  'name': 'https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-optimize-query-operation/^2.0.0/components/ActorOptimizeQueryOperation.jsonld#ActorOptimizeQueryOperation_default_bus'\n});\nconst https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_operation__2_0_0_components_ActorQueryOperation_jsonld_ActorQueryOperation_default_bus = new (require('@comunica/bus-query-operation').BusQueryOperation)({\n  'name': 'https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-operation/^2.0.0/components/ActorQueryOperation.jsonld#ActorQueryOperation_default_bus'\n});\nconst https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_parse__2_0_0_components_ActorQueryParse_jsonld_ActorQueryParse_default_bus = new (require('@comunica/core').Bus)({\n  'name': 'https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-parse/^2.0.0/components/ActorQueryParse.jsonld#ActorQueryParse_default_bus'\n});\nconst https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_result_serialize__2_0_0_components_ActorQueryResultSerialize_jsonld_ActorQueryResultSerialize_default_bus = new (require('@comunica/core').Bus)({\n  'name': 'https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-result-serialize/^2.0.0/components/ActorQueryResultSerialize.jsonld#ActorQueryResultSerialize_default_bus'\n});\nconst https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_http_invalidate__2_0_0_components_ActorHttpInvalidate_jsonld_ActorHttpInvalidate_default_bus = new (require('@comunica/core').Bus)({\n  'name': 'https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http-invalidate/^2.0.0/components/ActorHttpInvalidate.jsonld#ActorHttpInvalidate_default_bus'\n});\nconst https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_rdf_serialize__2_0_0_components_ActorRdfSerialize_jsonld_ActorRdfSerialize_default_bus = new (require('@comunica/core').Bus)({\n  'name': 'https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-serialize/^2.0.0/components/ActorRdfSerialize.jsonld#ActorRdfSerialize_default_bus'\n});\nconst https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_http__2_0_0_components_ActorHttp_jsonld_ActorHttp_default_bus = new (require('@comunica/core').Bus)({\n  'name': 'https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http/^2.0.0/components/ActorHttp.jsonld#ActorHttp_default_bus'\n});\nconst https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_rdf_join_entries_sort__2_0_0_components_ActorRdfJoinEntriesSort_jsonld_ActorRdfJoinEntriesSort_default_bus = new (require('@comunica/core').Bus)({\n  'name': 'https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join-entries-sort/^2.0.0/components/ActorRdfJoinEntriesSort.jsonld#ActorRdfJoinEntriesSort_default_bus'\n});\nconst https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_rdf_join_selectivity__2_0_0_components_ActorRdfJoinSelectivity_jsonld_ActorRdfJoinSelectivity_default_bus = new (require('@comunica/core').Bus)({\n  'name': 'https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join-selectivity/^2.0.0/components/ActorRdfJoinSelectivity.jsonld#ActorRdfJoinSelectivity_default_bus'\n});\nconst https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_rdf_update_quads__2_0_0_components_ActorRdfUpdateQuads_jsonld_ActorRdfUpdateQuads_default_bus = new (require('@comunica/core').Bus)({\n  'name': 'https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-update-quads/^2.0.0/components/ActorRdfUpdateQuads.jsonld#ActorRdfUpdateQuads_default_bus'\n});\nconst https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_rdf_join__2_0_0_components_ActorRdfJoin_jsonld_ActorRdfJoin_default_bus = new (require('@comunica/core').Bus)({\n  'name': 'https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join/^2.0.0/components/ActorRdfJoin.jsonld#ActorRdfJoin_default_bus'\n});\nconst https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_rdf_resolve_quad_pattern__2_0_0_components_ActorRdfResolveQuadPattern_jsonld_ActorRdfResolveQuadPattern_default_bus = new (require('@comunica/core').Bus)({\n  'name': 'https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-quad-pattern/^2.0.0/components/ActorRdfResolveQuadPattern.jsonld#ActorRdfResolveQuadPattern_default_bus'\n});\nconst https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_http__2_0_0_components_ActorHttp_jsonld_ActorHttp_fallback_bus = new (require('@comunica/core').Bus)({\n  'name': 'https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http/^2.0.0/components/ActorHttp.jsonld#ActorHttp_fallback_bus'\n});\nconst urn_comunica_default_context_preprocess_actors_source_to_destination = new (require('@comunica/actor-context-preprocess-source-to-destination').ActorContextPreprocessSourceToDestination)({\n  'name': 'urn:comunica:default:context-preprocess/actors#source-to-destination',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_context_preprocess__2_0_0_components_ActorContextPreprocess_jsonld_ActorContextPreprocess_default_bus\n});\nconst urn_comunica_default_context_preprocess_mediators_main = new (require('@comunica/mediator-combine-pipeline').MediatorCombinePipeline)({\n  'name': 'urn:comunica:default:context-preprocess/mediators#main',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_context_preprocess__2_0_0_components_ActorContextPreprocess_jsonld_ActorContextPreprocess_default_bus\n});\nconst urn_comunica_default_hash_bindings_actors_sha1 = new (require('@comunica/actor-hash-bindings-sha1').ActorHashBindingsSha1)({\n  'name': 'urn:comunica:default:hash-bindings/actors#sha1',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_hash_bindings__2_0_0_components_ActorHashBindings_jsonld_ActorHashBindings_default_bus\n});\nconst urn_comunica_default_hash_bindings_mediators_main = new (require('@comunica/mediator-race').MediatorRace)({\n  'name': 'urn:comunica:default:hash-bindings/mediators#main',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_hash_bindings__2_0_0_components_ActorHashBindings_jsonld_ActorHashBindings_default_bus\n});\nconst urn_comunica_default_optimize_query_operation_mediators_main = new (require('@comunica/mediator-combine-pipeline').MediatorCombinePipeline)({\n  'name': 'urn:comunica:default:optimize-query-operation/mediators#main',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_optimize_query_operation__2_0_0_components_ActorOptimizeQueryOperation_jsonld_ActorOptimizeQueryOperation_default_bus\n});\nconst urn_comunica_default_optimize_query_operation_actors_join_bgp = new (require('@comunica/actor-optimize-query-operation-join-bgp').ActorOptimizeQueryOperationJoinBgp)({\n  'name': 'urn:comunica:default:optimize-query-operation/actors#join-bgp',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_optimize_query_operation__2_0_0_components_ActorOptimizeQueryOperation_jsonld_ActorOptimizeQueryOperation_default_bus\n});\nconst urn_comunica_default_optimize_query_operation_actors_bgp_to_join = new (require('@comunica/actor-optimize-query-operation-bgp-to-join').ActorOptimizeQueryOperationBgpToJoin)({\n  'name': 'urn:comunica:default:optimize-query-operation/actors#bgp-to-join',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_optimize_query_operation__2_0_0_components_ActorOptimizeQueryOperation_jsonld_ActorOptimizeQueryOperation_default_bus\n});\nconst urn_comunica_default_optimize_query_operation_actors_join_connected = new (require('@comunica/actor-optimize-query-operation-join-connected').ActorOptimizeQueryOperationJoinConnected)({\n  'name': 'urn:comunica:default:optimize-query-operation/actors#join-connected',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_optimize_query_operation__2_0_0_components_ActorOptimizeQueryOperation_jsonld_ActorOptimizeQueryOperation_default_bus\n});\nconst urn_comunica_default_query_operation_mediators_main = new (require('@comunica/mediator-number').MediatorNumber)({\n  'field': 'httpRequests',\n  'type': 'min',\n  'ignoreErrors': true,\n  'name': 'urn:comunica:default:query-operation/mediators#main',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_operation__2_0_0_components_ActorQueryOperation_jsonld_ActorQueryOperation_default_bus\n});\nconst urn_comunica_default_query_operation_actors_values = new (require('@comunica/actor-query-operation-values').ActorQueryOperationValues)({\n  'name': 'urn:comunica:default:query-operation/actors#values',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_operation__2_0_0_components_ActorQueryOperation_jsonld_ActorQueryOperation_default_bus\n});\nconst urn_comunica_default_query_parse_mediators_main = new (require('@comunica/mediator-race').MediatorRace)({\n  'name': 'urn:comunica:default:query-parse/mediators#main',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_parse__2_0_0_components_ActorQueryParse_jsonld_ActorQueryParse_default_bus\n});\nconst urn_comunica_default_query_parse_actors_sparql = new (require('@comunica/actor-query-parse-sparql').ActorQueryParseSparql)({\n  'prefixes': {\"dbpedia\":\"http://dbpedia.org/resource/\",\"dbpedia-owl\":\"http://dbpedia.org/ontology/\",\"dbpprop\":\"http://dbpedia.org/property/\",\"dc\":\"http://purl.org/dc/terms/\",\"dc11\":\"http://purl.org/dc/elements/1.1/\",\"dcterms\":\"http://purl.org/dc/terms/\",\"foaf\":\"http://xmlns.com/foaf/0.1/\",\"geo\":\"http://www.w3.org/2003/01/geo/wgs84_pos#\",\"owl\":\"http://www.w3.org/2002/07/owl#\",\"rdf\":\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\",\"rdfs\":\"http://www.w3.org/2000/01/rdf-schema#\",\"schema\":\"http://schema.org/\",\"skos\":\"http://www.w3.org/2008/05/skos#\",\"xsd\":\"http://www.w3.org/2001/XMLSchema#\"},\n  'name': 'urn:comunica:default:query-parse/actors#sparql',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_parse__2_0_0_components_ActorQueryParse_jsonld_ActorQueryParse_default_bus\n});\nconst urn_comunica_default_query_parse_actors_graphql = new (require('@comunica/actor-query-parse-graphql').ActorQueryParseGraphql)({\n  'name': 'urn:comunica:default:query-parse/actors#graphql',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_parse__2_0_0_components_ActorQueryParse_jsonld_ActorQueryParse_default_bus\n});\nconst urn_comunica_default_query_result_serialize_mediators_serialize = new (require('@comunica/mediator-race').MediatorRace)({\n  'name': 'urn:comunica:default:query-result-serialize/mediators#serialize',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_result_serialize__2_0_0_components_ActorQueryResultSerialize_jsonld_ActorQueryResultSerialize_default_bus\n});\nconst urn_comunica_default_query_result_serialize_mediators_mediaType = new (require('@comunica/mediator-combine-union').MediatorCombineUnion)({\n  'field': 'mediaTypes',\n  'name': 'urn:comunica:default:query-result-serialize/mediators#mediaType',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_result_serialize__2_0_0_components_ActorQueryResultSerialize_jsonld_ActorQueryResultSerialize_default_bus\n});\nconst urn_comunica_default_query_result_serialize_mediators_mediaTypeFormat = new (require('@comunica/mediator-combine-union').MediatorCombineUnion)({\n  'field': 'mediaTypeFormats',\n  'name': 'urn:comunica:default:query-result-serialize/mediators#mediaTypeFormat',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_result_serialize__2_0_0_components_ActorQueryResultSerialize_jsonld_ActorQueryResultSerialize_default_bus\n});\nconst urn_comunica_default_query_result_serialize_actors_json = new (require('@comunica/actor-query-result-serialize-json').ActorQueryResultSerializeJson)({\n  'mediaTypePriorities': {\"application/json\":1},\n  'mediaTypeFormats': {\"application/json\":\"https://comunica.linkeddatafragments.org/#results_JSON\"},\n  'name': 'urn:comunica:default:query-result-serialize/actors#json',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_result_serialize__2_0_0_components_ActorQueryResultSerialize_jsonld_ActorQueryResultSerialize_default_bus\n});\nconst urn_comunica_default_query_result_serialize_actors_simple = new (require('@comunica/actor-query-result-serialize-simple').ActorQueryResultSerializeSimple)({\n  'mediaTypePriorities': {\"simple\":0.9},\n  'mediaTypeFormats': {\"simple\":\"https://comunica.linkeddatafragments.org/#results_simple\"},\n  'name': 'urn:comunica:default:query-result-serialize/actors#simple',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_result_serialize__2_0_0_components_ActorQueryResultSerialize_jsonld_ActorQueryResultSerialize_default_bus\n});\nconst urn_comunica_default_query_result_serialize_actors_csv = new (require('@comunica/actor-query-result-serialize-sparql-csv').ActorQueryResultSerializeSparqlCsv)({\n  'mediaTypePriorities': {\"text/csv\":0.75},\n  'mediaTypeFormats': {\"text/csv\":\"http://www.w3.org/ns/formats/SPARQL_Results_CSV\"},\n  'name': 'urn:comunica:default:query-result-serialize/actors#csv',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_result_serialize__2_0_0_components_ActorQueryResultSerialize_jsonld_ActorQueryResultSerialize_default_bus\n});\nconst urn_comunica_default_query_result_serialize_actors_sparql_tsv = new (require('@comunica/actor-query-result-serialize-sparql-tsv').ActorQueryResultSerializeSparqlTsv)({\n  'mediaTypePriorities': {\"text/tab-separated-values\":0.75},\n  'mediaTypeFormats': {\"text/tab-separated-values\":\"http://www.w3.org/ns/formats/SPARQL_Results_TSV\"},\n  'name': 'urn:comunica:default:query-result-serialize/actors#sparql-tsv',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_result_serialize__2_0_0_components_ActorQueryResultSerialize_jsonld_ActorQueryResultSerialize_default_bus\n});\nconst urn_comunica_default_query_result_serialize_actors_sparql_xml = new (require('@comunica/actor-query-result-serialize-sparql-xml').ActorQueryResultSerializeSparqlXml)({\n  'mediaTypePriorities': {\"application/sparql-results+xml\":0.8},\n  'mediaTypeFormats': {\"application/sparql-results+xml\":\"http://www.w3.org/ns/formats/SPARQL_Results_XML\"},\n  'name': 'urn:comunica:default:query-result-serialize/actors#sparql-xml',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_result_serialize__2_0_0_components_ActorQueryResultSerialize_jsonld_ActorQueryResultSerialize_default_bus\n});\nconst urn_comunica_default_query_result_serialize_actors_table = new (require('@comunica/actor-query-result-serialize-table').ActorQueryResultSerializeTable)({\n  'columnWidth': 50,\n  'mediaTypePriorities': {\"table\":0.6},\n  'mediaTypeFormats': {\"table\":\"https://comunica.linkeddatafragments.org/#results_table\"},\n  'name': 'urn:comunica:default:query-result-serialize/actors#table',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_result_serialize__2_0_0_components_ActorQueryResultSerialize_jsonld_ActorQueryResultSerialize_default_bus\n});\nconst urn_comunica_default_query_result_serialize_actors_tree = new (require('@comunica/actor-query-result-serialize-tree').ActorQueryResultSerializeTree)({\n  'mediaTypePriorities': {\"tree\":0.5},\n  'mediaTypeFormats': {\"tree\":\"https://comunica.linkeddatafragments.org/#results_tree\"},\n  'name': 'urn:comunica:default:query-result-serialize/actors#tree',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_result_serialize__2_0_0_components_ActorQueryResultSerialize_jsonld_ActorQueryResultSerialize_default_bus\n});\nconst urn_comunica_default_http_invalidate_mediators_main = new (require('@comunica/mediator-all').MediatorAll)({\n  'name': 'urn:comunica:default:http-invalidate/mediators#main',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_http_invalidate__2_0_0_components_ActorHttpInvalidate_jsonld_ActorHttpInvalidate_default_bus\n});\nconst https___linkedsoftwaredependencies_org_bundles_npm__comunica_actor_query_result_serialize_sparql_json__2_0_0_components_ActionObserverHttp_jsonld_IActionObserverHttpArgs_default_invalidator = new (require('@comunica/bus-http-invalidate').ActorHttpInvalidateListenable)({\n  'name': 'https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-sparql-json/^2.0.0/components/ActionObserverHttp.jsonld#IActionObserverHttpArgs_default_invalidator',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_http_invalidate__2_0_0_components_ActorHttpInvalidate_jsonld_ActorHttpInvalidate_default_bus\n});\nconst https___linkedsoftwaredependencies_org_bundles_npm__comunica_actor_query_result_serialize_stats__2_0_0_components_ActionObserverHttp_jsonld_IActionObserverHttpArgs_default_invalidator = new (require('@comunica/bus-http-invalidate').ActorHttpInvalidateListenable)({\n  'name': 'https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-stats/^2.0.0/components/ActionObserverHttp.jsonld#IActionObserverHttpArgs_default_invalidator',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_http_invalidate__2_0_0_components_ActorHttpInvalidate_jsonld_ActorHttpInvalidate_default_bus\n});\nconst urn_comunica_default_rdf_serialize_mediators_serialize = new (require('@comunica/mediator-race').MediatorRace)({\n  'name': 'urn:comunica:default:rdf-serialize/mediators#serialize',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_rdf_serialize__2_0_0_components_ActorRdfSerialize_jsonld_ActorRdfSerialize_default_bus\n});\nconst urn_comunica_default_rdf_serialize_mediators_mediaType = new (require('@comunica/mediator-combine-union').MediatorCombineUnion)({\n  'field': 'mediaTypes',\n  'name': 'urn:comunica:default:rdf-serialize/mediators#mediaType',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_rdf_serialize__2_0_0_components_ActorRdfSerialize_jsonld_ActorRdfSerialize_default_bus\n});\nconst urn_comunica_default_rdf_serialize_mediators_mediaTypeFormat = new (require('@comunica/mediator-combine-union').MediatorCombineUnion)({\n  'field': 'mediaTypeFormats',\n  'name': 'urn:comunica:default:rdf-serialize/mediators#mediaTypeFormat',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_rdf_serialize__2_0_0_components_ActorRdfSerialize_jsonld_ActorRdfSerialize_default_bus\n});\nconst urn_comunica_default_rdf_serialize_actors_n3 = new (require('@comunica/actor-rdf-serialize-n3').ActorRdfSerializeN3)({\n  'mediaTypePriorities': {\"application/n-quads\":1,\"application/n-triples\":0.8,\"application/trig\":0.95,\"text/n3\":0.35,\"text/turtle\":0.6},\n  'mediaTypeFormats': {\"application/n-quads\":\"http://www.w3.org/ns/formats/N-Quads\",\"application/n-triples\":\"http://www.w3.org/ns/formats/N-Triples\",\"application/trig\":\"http://www.w3.org/ns/formats/TriG\",\"text/n3\":\"http://www.w3.org/ns/formats/N3\",\"text/turtle\":\"http://www.w3.org/ns/formats/Turtle\"},\n  'name': 'urn:comunica:default:rdf-serialize/actors#n3',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_rdf_serialize__2_0_0_components_ActorRdfSerialize_jsonld_ActorRdfSerialize_default_bus\n});\nconst urn_comunica_default_rdf_serialize_actors_jsonld = new (require('@comunica/actor-rdf-serialize-jsonld').ActorRdfSerializeJsonLd)({\n  'jsonStringifyIndentSpaces': 2,\n  'mediaTypePriorities': {\"application/ld+json\":1},\n  'mediaTypeFormats': {\"application/ld+json\":\"http://www.w3.org/ns/formats/JSON-LD\"},\n  'priorityScale': 0.9,\n  'name': 'urn:comunica:default:rdf-serialize/actors#jsonld',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_rdf_serialize__2_0_0_components_ActorRdfSerialize_jsonld_ActorRdfSerialize_default_bus\n});\nconst urn_comunica_default_rdf_join_entries_sort_actors_cardinality = new (require('@comunica/actor-rdf-join-entries-sort-cardinality').ActorRdfJoinEntriesSortCardinality)({\n  'name': 'urn:comunica:default:rdf-join-entries-sort/actors#cardinality',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_rdf_join_entries_sort__2_0_0_components_ActorRdfJoinEntriesSort_jsonld_ActorRdfJoinEntriesSort_default_bus\n});\nconst urn_comunica_default_rdf_join_entries_sort_mediators_main = new (require('@comunica/mediator-race').MediatorRace)({\n  'name': 'urn:comunica:default:rdf-join-entries-sort/mediators#main',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_rdf_join_entries_sort__2_0_0_components_ActorRdfJoinEntriesSort_jsonld_ActorRdfJoinEntriesSort_default_bus\n});\nconst urn_comunica_default_rdf_join_selectivity_actors_variable_counting = new (require('@comunica/actor-rdf-join-selectivity-variable-counting').ActorRdfJoinSelectivityVariableCounting)({\n  'name': 'urn:comunica:default:rdf-join-selectivity/actors#variable-counting',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_rdf_join_selectivity__2_0_0_components_ActorRdfJoinSelectivity_jsonld_ActorRdfJoinSelectivity_default_bus\n});\nconst urn_comunica_default_rdf_join_selectivity_mediators_main = new (require('@comunica/mediator-number').MediatorNumber)({\n  'field': 'accuracy',\n  'type': 'max',\n  'ignoreErrors': true,\n  'name': 'urn:comunica:default:rdf-join-selectivity/mediators#main',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_rdf_join_selectivity__2_0_0_components_ActorRdfJoinSelectivity_jsonld_ActorRdfJoinSelectivity_default_bus\n});\nconst urn_comunica_default_rdf_update_quads_actors_rdfjs_store = new (require('@comunica/actor-rdf-update-quads-rdfjs-store').ActorRdfUpdateQuadsRdfJsStore)({\n  'name': 'urn:comunica:default:rdf-update-quads/actors#rdfjs-store',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_rdf_update_quads__2_0_0_components_ActorRdfUpdateQuads_jsonld_ActorRdfUpdateQuads_default_bus\n});\nconst urn_comunica_default_rdf_update_quads_mediators_main = new (require('@comunica/mediator-race').MediatorRace)({\n  'name': 'urn:comunica:default:rdf-update-quads/mediators#main',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_rdf_update_quads__2_0_0_components_ActorRdfUpdateQuads_jsonld_ActorRdfUpdateQuads_default_bus\n});\nconst urn_comunica_default_rdf_join_mediators_main = new (require('@comunica/mediator-join-coefficients-fixed').MediatorJoinCoefficientsFixed)({\n  'cpuWeight': 1,\n  'memoryWeight': 1,\n  'timeWeight': 10,\n  'ioWeight': 100,\n  'name': 'urn:comunica:default:rdf-join/mediators#main',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_rdf_join__2_0_0_components_ActorRdfJoin_jsonld_ActorRdfJoin_default_bus\n});\nconst urn_comunica_default_rdf_resolve_quad_pattern_mediators_main = new (require('@comunica/mediator-race').MediatorRace)({\n  'name': 'urn:comunica:default:rdf-resolve-quad-pattern/mediators#main',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_rdf_resolve_quad_pattern__2_0_0_components_ActorRdfResolveQuadPattern_jsonld_ActorRdfResolveQuadPattern_default_bus\n});\nconst urn_comunica_default_rdf_resolve_quad_pattern_actors_rdfjs_source = new (require('@comunica/actor-rdf-resolve-quad-pattern-rdfjs-source').ActorRdfResolveQuadPatternRdfJsSource)({\n  'name': 'urn:comunica:default:rdf-resolve-quad-pattern/actors#rdfjs-source',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_rdf_resolve_quad_pattern__2_0_0_components_ActorRdfResolveQuadPattern_jsonld_ActorRdfResolveQuadPattern_default_bus\n});\nconst urn_comunica_default_http_mediators_main = new (require('@comunica/mediator-number').MediatorNumber)({\n  'field': 'time',\n  'type': 'min',\n  'ignoreErrors': true,\n  'name': 'urn:comunica:default:http/mediators#main',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_http__2_0_0_components_ActorHttp_jsonld_ActorHttp_fallback_bus\n});\nconst urn_comunica_default_query_operation_actors_ask = new (require('@comunica/actor-query-operation-ask').ActorQueryOperationAsk)({\n  'mediatorQueryOperation': urn_comunica_default_query_operation_mediators_main,\n  'name': 'urn:comunica:default:query-operation/actors#ask',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_operation__2_0_0_components_ActorQueryOperation_jsonld_ActorQueryOperation_default_bus\n});\nconst urn_comunica_default_query_operation_actors_bgp = new (require('@comunica/actor-query-operation-bgp-join').ActorQueryOperationBgpJoin)({\n  'mediatorQueryOperation': urn_comunica_default_query_operation_mediators_main,\n  'name': 'urn:comunica:default:query-operation/actors#bgp',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_operation__2_0_0_components_ActorQueryOperation_jsonld_ActorQueryOperation_default_bus\n});\nconst urn_comunica_default_query_operation_actors_construct = new (require('@comunica/actor-query-operation-construct').ActorQueryOperationConstruct)({\n  'mediatorQueryOperation': urn_comunica_default_query_operation_mediators_main,\n  'name': 'urn:comunica:default:query-operation/actors#construct',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_operation__2_0_0_components_ActorQueryOperation_jsonld_ActorQueryOperation_default_bus\n});\nconst urn_comunica_default_query_operation_actors_describe = new (require('@comunica/actor-query-operation-describe-subject').ActorQueryOperationDescribeSubject)({\n  'mediatorQueryOperation': urn_comunica_default_query_operation_mediators_main,\n  'name': 'urn:comunica:default:query-operation/actors#describe',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_operation__2_0_0_components_ActorQueryOperation_jsonld_ActorQueryOperation_default_bus\n});\nconst urn_comunica_default_query_operation_actors_distinct = new (require('@comunica/actor-query-operation-distinct-hash').ActorQueryOperationDistinctHash)({\n  'mediatorHashBindings': urn_comunica_default_hash_bindings_mediators_main,\n  'mediatorQueryOperation': urn_comunica_default_query_operation_mediators_main,\n  'name': 'urn:comunica:default:query-operation/actors#distinct',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_operation__2_0_0_components_ActorQueryOperation_jsonld_ActorQueryOperation_default_bus\n});\nconst urn_comunica_default_query_operation_actors_extend = new (require('@comunica/actor-query-operation-extend').ActorQueryOperationExtend)({\n  'mediatorQueryOperation': urn_comunica_default_query_operation_mediators_main,\n  'name': 'urn:comunica:default:query-operation/actors#extend',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_operation__2_0_0_components_ActorQueryOperation_jsonld_ActorQueryOperation_default_bus\n});\nconst urn_comunica_default_query_operation_actors_filter = new (require('@comunica/actor-query-operation-filter-sparqlee').ActorQueryOperationFilterSparqlee)({\n  'mediatorQueryOperation': urn_comunica_default_query_operation_mediators_main,\n  'name': 'urn:comunica:default:query-operation/actors#filter',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_operation__2_0_0_components_ActorQueryOperation_jsonld_ActorQueryOperation_default_bus\n});\nconst urn_comunica_default_query_operation_actors_from = new (require('@comunica/actor-query-operation-from-quad').ActorQueryOperationFromQuad)({\n  'mediatorQueryOperation': urn_comunica_default_query_operation_mediators_main,\n  'name': 'urn:comunica:default:query-operation/actors#from',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_operation__2_0_0_components_ActorQueryOperation_jsonld_ActorQueryOperation_default_bus\n});\nconst urn_comunica_default_query_operation_actors_group = new (require('@comunica/actor-query-operation-group').ActorQueryOperationGroup)({\n  'mediatorHashBindings': urn_comunica_default_hash_bindings_mediators_main,\n  'mediatorQueryOperation': urn_comunica_default_query_operation_mediators_main,\n  'name': 'urn:comunica:default:query-operation/actors#group',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_operation__2_0_0_components_ActorQueryOperation_jsonld_ActorQueryOperation_default_bus\n});\nconst urn_comunica_default_query_operation_actors_nop = new (require('@comunica/actor-query-operation-nop').ActorQueryOperationNop)({\n  'mediatorQueryOperation': urn_comunica_default_query_operation_mediators_main,\n  'name': 'urn:comunica:default:query-operation/actors#nop',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_operation__2_0_0_components_ActorQueryOperation_jsonld_ActorQueryOperation_default_bus\n});\nconst urn_comunica_default_query_operation_actors_orderby = new (require('@comunica/actor-query-operation-orderby-sparqlee').ActorQueryOperationOrderBySparqlee)({\n  'mediatorQueryOperation': urn_comunica_default_query_operation_mediators_main,\n  'name': 'urn:comunica:default:query-operation/actors#orderby',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_operation__2_0_0_components_ActorQueryOperation_jsonld_ActorQueryOperation_default_bus\n});\nconst urn_comunica_default_query_operation_actors_project = new (require('@comunica/actor-query-operation-project').ActorQueryOperationProject)({\n  'mediatorQueryOperation': urn_comunica_default_query_operation_mediators_main,\n  'name': 'urn:comunica:default:query-operation/actors#project',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_operation__2_0_0_components_ActorQueryOperation_jsonld_ActorQueryOperation_default_bus\n});\nconst urn_comunica_default_query_operation_actors_reduced = new (require('@comunica/actor-query-operation-reduced-hash').ActorQueryOperationReducedHash)({\n  'mediatorHashBindings': urn_comunica_default_hash_bindings_mediators_main,\n  'cacheSize': 100,\n  'mediatorQueryOperation': urn_comunica_default_query_operation_mediators_main,\n  'name': 'urn:comunica:default:query-operation/actors#reduced',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_operation__2_0_0_components_ActorQueryOperation_jsonld_ActorQueryOperation_default_bus\n});\nconst urn_comunica_default_query_operation_actors_service = new (require('@comunica/actor-query-operation-service').ActorQueryOperationService)({\n  'forceSparqlEndpoint': false,\n  'mediatorQueryOperation': urn_comunica_default_query_operation_mediators_main,\n  'name': 'urn:comunica:default:query-operation/actors#service',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_operation__2_0_0_components_ActorQueryOperation_jsonld_ActorQueryOperation_default_bus\n});\nconst urn_comunica_default_query_operation_actors_slice = new (require('@comunica/actor-query-operation-slice').ActorQueryOperationSlice)({\n  'mediatorQueryOperation': urn_comunica_default_query_operation_mediators_main,\n  'name': 'urn:comunica:default:query-operation/actors#slice',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_operation__2_0_0_components_ActorQueryOperation_jsonld_ActorQueryOperation_default_bus\n});\nconst urn_comunica_default_query_operation_actors_union = new (require('@comunica/actor-query-operation-union').ActorQueryOperationUnion)({\n  'mediatorQueryOperation': urn_comunica_default_query_operation_mediators_main,\n  'name': 'urn:comunica:default:query-operation/actors#union',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_operation__2_0_0_components_ActorQueryOperation_jsonld_ActorQueryOperation_default_bus\n});\nconst urn_comunica_default_query_operation_actors_path_alt = new (require('@comunica/actor-query-operation-path-alt').ActorQueryOperationPathAlt)({\n  'mediatorQueryOperation': urn_comunica_default_query_operation_mediators_main,\n  'name': 'urn:comunica:default:query-operation/actors#path-alt',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_operation__2_0_0_components_ActorQueryOperation_jsonld_ActorQueryOperation_default_bus\n});\nconst urn_comunica_default_query_operation_actors_path_inv = new (require('@comunica/actor-query-operation-path-inv').ActorQueryOperationPathInv)({\n  'mediatorQueryOperation': urn_comunica_default_query_operation_mediators_main,\n  'name': 'urn:comunica:default:query-operation/actors#path-inv',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_operation__2_0_0_components_ActorQueryOperation_jsonld_ActorQueryOperation_default_bus\n});\nconst urn_comunica_default_query_operation_actors_path_link = new (require('@comunica/actor-query-operation-path-link').ActorQueryOperationPathLink)({\n  'mediatorQueryOperation': urn_comunica_default_query_operation_mediators_main,\n  'name': 'urn:comunica:default:query-operation/actors#path-link',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_operation__2_0_0_components_ActorQueryOperation_jsonld_ActorQueryOperation_default_bus\n});\nconst urn_comunica_default_query_operation_actors_path_nps = new (require('@comunica/actor-query-operation-path-nps').ActorQueryOperationPathNps)({\n  'mediatorQueryOperation': urn_comunica_default_query_operation_mediators_main,\n  'name': 'urn:comunica:default:query-operation/actors#path-nps',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_operation__2_0_0_components_ActorQueryOperation_jsonld_ActorQueryOperation_default_bus\n});\nconst urn_comunica_default_query_operation_actors_path_one_or_more = new (require('@comunica/actor-query-operation-path-one-or-more').ActorQueryOperationPathOneOrMore)({\n  'mediatorQueryOperation': urn_comunica_default_query_operation_mediators_main,\n  'name': 'urn:comunica:default:query-operation/actors#path-one-or-more',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_operation__2_0_0_components_ActorQueryOperation_jsonld_ActorQueryOperation_default_bus\n});\nconst urn_comunica_default_query_operation_actors_path_zero_or_more = new (require('@comunica/actor-query-operation-path-zero-or-more').ActorQueryOperationPathZeroOrMore)({\n  'mediatorQueryOperation': urn_comunica_default_query_operation_mediators_main,\n  'name': 'urn:comunica:default:query-operation/actors#path-zero-or-more',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_operation__2_0_0_components_ActorQueryOperation_jsonld_ActorQueryOperation_default_bus\n});\nconst urn_comunica_default_query_operation_actors_path_zero_or_one = new (require('@comunica/actor-query-operation-path-zero-or-one').ActorQueryOperationPathZeroOrOne)({\n  'mediatorQueryOperation': urn_comunica_default_query_operation_mediators_main,\n  'name': 'urn:comunica:default:query-operation/actors#path-zero-or-one',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_operation__2_0_0_components_ActorQueryOperation_jsonld_ActorQueryOperation_default_bus\n});\nconst urn_comunica_default_query_operation_actors_update_add = new (require('@comunica/actor-query-operation-update-add-rewrite').ActorQueryOperationAddRewrite)({\n  'mediatorQueryOperation': urn_comunica_default_query_operation_mediators_main,\n  'name': 'urn:comunica:default:query-operation/actors#update-add',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_operation__2_0_0_components_ActorQueryOperation_jsonld_ActorQueryOperation_default_bus\n});\nconst urn_comunica_default_query_operation_actors_update_composite = new (require('@comunica/actor-query-operation-update-compositeupdate').ActorQueryOperationUpdateCompositeUpdate)({\n  'mediatorQueryOperation': urn_comunica_default_query_operation_mediators_main,\n  'name': 'urn:comunica:default:query-operation/actors#update-composite',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_operation__2_0_0_components_ActorQueryOperation_jsonld_ActorQueryOperation_default_bus\n});\nconst urn_comunica_default_query_operation_actors_update_copy = new (require('@comunica/actor-query-operation-update-copy-rewrite').ActorQueryOperationCopyRewrite)({\n  'mediatorQueryOperation': urn_comunica_default_query_operation_mediators_main,\n  'name': 'urn:comunica:default:query-operation/actors#update-copy',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_operation__2_0_0_components_ActorQueryOperation_jsonld_ActorQueryOperation_default_bus\n});\nconst urn_comunica_default_query_operation_actors_update_move = new (require('@comunica/actor-query-operation-update-move-rewrite').ActorQueryOperationMoveRewrite)({\n  'mediatorQueryOperation': urn_comunica_default_query_operation_mediators_main,\n  'name': 'urn:comunica:default:query-operation/actors#update-move',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_operation__2_0_0_components_ActorQueryOperation_jsonld_ActorQueryOperation_default_bus\n});\nconst urn_comunica_default_init_actors_query = new (require('@comunica/actor-init-query').ActorInitQuery)({\n  'mediatorOptimizeQueryOperation': urn_comunica_default_optimize_query_operation_mediators_main,\n  'mediatorQueryOperation': urn_comunica_default_query_operation_mediators_main,\n  'mediatorQueryParse': urn_comunica_default_query_parse_mediators_main,\n  'mediatorQueryResultSerialize': urn_comunica_default_query_result_serialize_mediators_serialize,\n  'mediatorQueryResultSerializeMediaTypeCombiner': urn_comunica_default_query_result_serialize_mediators_mediaType,\n  'mediatorQueryResultSerializeMediaTypeFormatCombiner': urn_comunica_default_query_result_serialize_mediators_mediaTypeFormat,\n  'mediatorContextPreprocess': urn_comunica_default_context_preprocess_mediators_main,\n  'mediatorHttpInvalidate': urn_comunica_default_http_invalidate_mediators_main,\n  'logger': df_367_1,\n  'defaultQueryInputFormat': 'sparql',\n  'contextKeyShortcuts': {\"baseIRI\":\"@comunica/actor-init-query:baseIRI\",\"datetime\":\"@comunica/actor-http-memento:datetime\",\"destination\":\"@comunica/bus-rdf-update-quads:destination\",\"explain\":\"@comunica/actor-init-query:explain\",\"extensionFunctionCreator\":\"@comunica/actor-init-query:extensionFunctionCreator\",\"extensionFunctions\":\"@comunica/actor-init-query:extensionFunctions\",\"fetch\":\"@comunica/bus-http:fetch\",\"httpAuth\":\"@comunica/bus-http:auth\",\"httpBodyTimeout\":\"@comunica/bus-http:http-body-timeout\",\"httpIncludeCredentials\":\"@comunica/bus-http:include-credentials\",\"httpProxyHandler\":\"@comunica/actor-http-proxy:httpProxyHandler\",\"httpRetryCount\":\"@comunica/bus-http:http-retry-count\",\"httpRetryDelay\":\"@comunica/bus-http:http-retry-delay\",\"httpRetryOnServerError\":\"@comunica/bus-http:http-retry-on-server-error\",\"httpTimeout\":\"@comunica/bus-http:http-timeout\",\"initialBindings\":\"@comunica/actor-init-query:initialBindings\",\"lenient\":\"@comunica/actor-init-query:lenient\",\"localizeBlankNodes\":\"@comunica/actor-query-operation:localizeBlankNodes\",\"log\":\"@comunica/core:log\",\"queryFormat\":\"@comunica/actor-init-query:queryFormat\",\"queryTimestamp\":\"@comunica/actor-init-query:queryTimestamp\",\"readOnly\":\"@comunica/bus-query-operation:readOnly\",\"recoverBrokenLinks\":\"@comunica/bus-http-wayback:recover-broken-links\",\"source\":\"@comunica/bus-rdf-resolve-quad-pattern:source\",\"sources\":\"@comunica/bus-rdf-resolve-quad-pattern:sources\",\"unionDefaultGraph\":\"@comunica/bus-query-operation:unionDefaultGraph\"},\n  'name': 'urn:comunica:default:init/actors#query',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_init__2_0_0_components_ActorInit_jsonld_ActorInit_default_bus\n});\nconst https___linkedsoftwaredependencies_org_bundles_npm__comunica_actor_query_result_serialize_sparql_json__2_0_0_components_ActorQueryResultSerializeSparqlJson_jsonld_ActorQueryResultSerializeSparqlJson_default_observer = new (require('@comunica/actor-query-result-serialize-sparql-json').ActionObserverHttp)({\n  'httpInvalidator': https___linkedsoftwaredependencies_org_bundles_npm__comunica_actor_query_result_serialize_sparql_json__2_0_0_components_ActionObserverHttp_jsonld_IActionObserverHttpArgs_default_invalidator,\n  'name': 'https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-sparql-json/^2.0.0/components/ActorQueryResultSerializeSparqlJson.jsonld#ActorQueryResultSerializeSparqlJson_default_observer',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_http__2_0_0_components_ActorHttp_jsonld_ActorHttp_default_bus\n});\nconst https___linkedsoftwaredependencies_org_bundles_npm__comunica_actor_query_result_serialize_stats__2_0_0_components_ActorQueryResultSerializeStats_jsonld_ActorQueryResultSerializeStats_default_observer = new (require('@comunica/actor-query-result-serialize-stats').ActionObserverHttp)({\n  'httpInvalidator': https___linkedsoftwaredependencies_org_bundles_npm__comunica_actor_query_result_serialize_stats__2_0_0_components_ActionObserverHttp_jsonld_IActionObserverHttpArgs_default_invalidator,\n  'name': 'https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-stats/^2.0.0/components/ActorQueryResultSerializeStats.jsonld#ActorQueryResultSerializeStats_default_observer',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_http__2_0_0_components_ActorHttp_jsonld_ActorHttp_default_bus\n});\nconst urn_comunica_default_query_result_serialize_actors_rdf = new (require('@comunica/actor-query-result-serialize-rdf').ActorQueryResultSerializeRdf)({\n  'mediatorRdfSerialize': urn_comunica_default_rdf_serialize_mediators_serialize,\n  'mediatorMediaTypeCombiner': urn_comunica_default_rdf_serialize_mediators_mediaType,\n  'mediatorMediaTypeFormatCombiner': urn_comunica_default_rdf_serialize_mediators_mediaTypeFormat,\n  'name': 'urn:comunica:default:query-result-serialize/actors#rdf',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_result_serialize__2_0_0_components_ActorQueryResultSerialize_jsonld_ActorQueryResultSerialize_default_bus\n});\nconst urn_comunica_default_rdf_join_actors_inner_none = new (require('@comunica/actor-rdf-join-inner-none').ActorRdfJoinNone)({\n  'mediatorJoinSelectivity': urn_comunica_default_rdf_join_selectivity_mediators_main,\n  'name': 'urn:comunica:default:rdf-join/actors#inner-none',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_rdf_join__2_0_0_components_ActorRdfJoin_jsonld_ActorRdfJoin_default_bus\n});\nconst urn_comunica_default_rdf_join_actors_inner_single = new (require('@comunica/actor-rdf-join-inner-single').ActorRdfJoinSingle)({\n  'mediatorJoinSelectivity': urn_comunica_default_rdf_join_selectivity_mediators_main,\n  'name': 'urn:comunica:default:rdf-join/actors#inner-single',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_rdf_join__2_0_0_components_ActorRdfJoin_jsonld_ActorRdfJoin_default_bus\n});\nconst urn_comunica_default_rdf_join_actors_inner_multi_empty = new (require('@comunica/actor-rdf-join-inner-multi-empty').ActorRdfJoinMultiEmpty)({\n  'mediatorJoinSelectivity': urn_comunica_default_rdf_join_selectivity_mediators_main,\n  'name': 'urn:comunica:default:rdf-join/actors#inner-multi-empty',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_rdf_join__2_0_0_components_ActorRdfJoin_jsonld_ActorRdfJoin_default_bus\n});\nconst urn_comunica_default_rdf_join_actors_inner_multi_bind = new (require('@comunica/actor-rdf-join-inner-multi-bind').ActorRdfJoinMultiBind)({\n  'bindOrder': 'depth-first',\n  'selectivityModifier': 0.0001,\n  'mediatorJoinEntriesSort': urn_comunica_default_rdf_join_entries_sort_mediators_main,\n  'mediatorQueryOperation': urn_comunica_default_query_operation_mediators_main,\n  'mediatorJoinSelectivity': urn_comunica_default_rdf_join_selectivity_mediators_main,\n  'name': 'urn:comunica:default:rdf-join/actors#inner-multi-bind',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_rdf_join__2_0_0_components_ActorRdfJoin_jsonld_ActorRdfJoin_default_bus\n});\nconst urn_comunica_default_rdf_join_actors_inner_hash = new (require('@comunica/actor-rdf-join-inner-hash').ActorRdfJoinHash)({\n  'mediatorJoinSelectivity': urn_comunica_default_rdf_join_selectivity_mediators_main,\n  'name': 'urn:comunica:default:rdf-join/actors#inner-hash',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_rdf_join__2_0_0_components_ActorRdfJoin_jsonld_ActorRdfJoin_default_bus\n});\nconst urn_comunica_default_rdf_join_actors_inner_symmetric_hash = new (require('@comunica/actor-rdf-join-inner-symmetrichash').ActorRdfJoinSymmetricHash)({\n  'mediatorJoinSelectivity': urn_comunica_default_rdf_join_selectivity_mediators_main,\n  'name': 'urn:comunica:default:rdf-join/actors#inner-symmetric-hash',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_rdf_join__2_0_0_components_ActorRdfJoin_jsonld_ActorRdfJoin_default_bus\n});\nconst urn_comunica_default_rdf_join_actors_inner_nested_loop = new (require('@comunica/actor-rdf-join-inner-nestedloop').ActorRdfJoinNestedLoop)({\n  'mediatorJoinSelectivity': urn_comunica_default_rdf_join_selectivity_mediators_main,\n  'name': 'urn:comunica:default:rdf-join/actors#inner-nested-loop',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_rdf_join__2_0_0_components_ActorRdfJoin_jsonld_ActorRdfJoin_default_bus\n});\nconst urn_comunica_default_rdf_join_actors_minus_hash = new (require('@comunica/actor-rdf-join-minus-hash').ActorRdfJoinMinusHash)({\n  'mediatorJoinSelectivity': urn_comunica_default_rdf_join_selectivity_mediators_main,\n  'name': 'urn:comunica:default:rdf-join/actors#minus-hash',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_rdf_join__2_0_0_components_ActorRdfJoin_jsonld_ActorRdfJoin_default_bus\n});\nconst urn_comunica_default_rdf_join_actors_minus_hash_undef = new (require('@comunica/actor-rdf-join-minus-hash-undef').ActorRdfJoinMinusHashUndef)({\n  'mediatorJoinSelectivity': urn_comunica_default_rdf_join_selectivity_mediators_main,\n  'name': 'urn:comunica:default:rdf-join/actors#minus-hash-undef',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_rdf_join__2_0_0_components_ActorRdfJoin_jsonld_ActorRdfJoin_default_bus\n});\nconst urn_comunica_default_rdf_join_actors_optional_bind = new (require('@comunica/actor-rdf-join-optional-bind').ActorRdfJoinOptionalBind)({\n  'bindOrder': 'depth-first',\n  'selectivityModifier': 0.0001,\n  'mediatorQueryOperation': urn_comunica_default_query_operation_mediators_main,\n  'mediatorJoinSelectivity': urn_comunica_default_rdf_join_selectivity_mediators_main,\n  'name': 'urn:comunica:default:rdf-join/actors#optional-bind',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_rdf_join__2_0_0_components_ActorRdfJoin_jsonld_ActorRdfJoin_default_bus\n});\nconst urn_comunica_default_rdf_join_actors_optional_nested_loop = new (require('@comunica/actor-rdf-join-optional-nestedloop').ActorRdfJoinOptionalNestedLoop)({\n  'mediatorJoinSelectivity': urn_comunica_default_rdf_join_selectivity_mediators_main,\n  'name': 'urn:comunica:default:rdf-join/actors#optional-nested-loop',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_rdf_join__2_0_0_components_ActorRdfJoin_jsonld_ActorRdfJoin_default_bus\n});\nconst urn_comunica_default_query_operation_actors_update_clear = new (require('@comunica/actor-query-operation-update-clear').ActorQueryOperationClear)({\n  'mediatorUpdateQuads': urn_comunica_default_rdf_update_quads_mediators_main,\n  'mediatorQueryOperation': urn_comunica_default_query_operation_mediators_main,\n  'name': 'urn:comunica:default:query-operation/actors#update-clear',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_operation__2_0_0_components_ActorQueryOperation_jsonld_ActorQueryOperation_default_bus\n});\nconst urn_comunica_default_query_operation_actors_update_create = new (require('@comunica/actor-query-operation-update-create').ActorQueryOperationCreate)({\n  'mediatorUpdateQuads': urn_comunica_default_rdf_update_quads_mediators_main,\n  'mediatorQueryOperation': urn_comunica_default_query_operation_mediators_main,\n  'name': 'urn:comunica:default:query-operation/actors#update-create',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_operation__2_0_0_components_ActorQueryOperation_jsonld_ActorQueryOperation_default_bus\n});\nconst urn_comunica_default_query_operation_actors_update_delete_insert = new (require('@comunica/actor-query-operation-update-deleteinsert').ActorQueryOperationUpdateDeleteInsert)({\n  'mediatorUpdateQuads': urn_comunica_default_rdf_update_quads_mediators_main,\n  'mediatorQueryOperation': urn_comunica_default_query_operation_mediators_main,\n  'name': 'urn:comunica:default:query-operation/actors#update-delete-insert',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_operation__2_0_0_components_ActorQueryOperation_jsonld_ActorQueryOperation_default_bus\n});\nconst urn_comunica_default_query_operation_actors_update_drop = new (require('@comunica/actor-query-operation-update-drop').ActorQueryOperationDrop)({\n  'mediatorUpdateQuads': urn_comunica_default_rdf_update_quads_mediators_main,\n  'mediatorQueryOperation': urn_comunica_default_query_operation_mediators_main,\n  'name': 'urn:comunica:default:query-operation/actors#update-drop',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_operation__2_0_0_components_ActorQueryOperation_jsonld_ActorQueryOperation_default_bus\n});\nconst urn_comunica_default_query_operation_actors_update_load = new (require('@comunica/actor-query-operation-update-load').ActorQueryOperationLoad)({\n  'mediatorUpdateQuads': urn_comunica_default_rdf_update_quads_mediators_main,\n  'mediatorQueryOperation': urn_comunica_default_query_operation_mediators_main,\n  'name': 'urn:comunica:default:query-operation/actors#update-load',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_operation__2_0_0_components_ActorQueryOperation_jsonld_ActorQueryOperation_default_bus\n});\nconst urn_comunica_default_query_operation_actors_join = new (require('@comunica/actor-query-operation-join').ActorQueryOperationJoin)({\n  'mediatorJoin': urn_comunica_default_rdf_join_mediators_main,\n  'mediatorQueryOperation': urn_comunica_default_query_operation_mediators_main,\n  'name': 'urn:comunica:default:query-operation/actors#join',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_operation__2_0_0_components_ActorQueryOperation_jsonld_ActorQueryOperation_default_bus\n});\nconst urn_comunica_default_query_operation_actors_leftjoin = new (require('@comunica/actor-query-operation-leftjoin').ActorQueryOperationLeftJoin)({\n  'mediatorJoin': urn_comunica_default_rdf_join_mediators_main,\n  'mediatorQueryOperation': urn_comunica_default_query_operation_mediators_main,\n  'name': 'urn:comunica:default:query-operation/actors#leftjoin',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_operation__2_0_0_components_ActorQueryOperation_jsonld_ActorQueryOperation_default_bus\n});\nconst urn_comunica_default_query_operation_actors_minus = new (require('@comunica/actor-query-operation-minus').ActorQueryOperationMinus)({\n  'mediatorJoin': urn_comunica_default_rdf_join_mediators_main,\n  'mediatorQueryOperation': urn_comunica_default_query_operation_mediators_main,\n  'name': 'urn:comunica:default:query-operation/actors#minus',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_operation__2_0_0_components_ActorQueryOperation_jsonld_ActorQueryOperation_default_bus\n});\nconst urn_comunica_default_query_operation_actors_path_seq = new (require('@comunica/actor-query-operation-path-seq').ActorQueryOperationPathSeq)({\n  'mediatorJoin': urn_comunica_default_rdf_join_mediators_main,\n  'mediatorQueryOperation': urn_comunica_default_query_operation_mediators_main,\n  'name': 'urn:comunica:default:query-operation/actors#path-seq',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_operation__2_0_0_components_ActorQueryOperation_jsonld_ActorQueryOperation_default_bus\n});\nconst urn_comunica_default_rdf_join_actors_inner_multi_smallest = new (require('@comunica/actor-rdf-join-inner-multi-smallest').ActorRdfJoinMultiSmallest)({\n  'mediatorJoinEntriesSort': urn_comunica_default_rdf_join_entries_sort_mediators_main,\n  'mediatorJoin': urn_comunica_default_rdf_join_mediators_main,\n  'mediatorJoinSelectivity': urn_comunica_default_rdf_join_selectivity_mediators_main,\n  'name': 'urn:comunica:default:rdf-join/actors#inner-multi-smallest',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_rdf_join__2_0_0_components_ActorRdfJoin_jsonld_ActorRdfJoin_default_bus\n});\nconst urn_comunica_default_query_operation_actors_quadpattern = new (require('@comunica/actor-query-operation-quadpattern').ActorQueryOperationQuadpattern)({\n  'mediatorResolveQuadPattern': urn_comunica_default_rdf_resolve_quad_pattern_mediators_main,\n  'unionDefaultGraph': false,\n  'name': 'urn:comunica:default:query-operation/actors#quadpattern',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_operation__2_0_0_components_ActorQueryOperation_jsonld_ActorQueryOperation_default_bus\n});\nconst urn_comunica_default_rdf_resolve_quad_pattern_actors_federated = new (require('@comunica/actor-rdf-resolve-quad-pattern-federated').ActorRdfResolveQuadPatternFederated)({\n  'mediatorResolveQuadPattern': urn_comunica_default_rdf_resolve_quad_pattern_mediators_main,\n  'skipEmptyPatterns': false,\n  'name': 'urn:comunica:default:rdf-resolve-quad-pattern/actors#federated',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_rdf_resolve_quad_pattern__2_0_0_components_ActorRdfResolveQuadPattern_jsonld_ActorRdfResolveQuadPattern_default_bus\n});\nconst urn_comunica_default_query_operation_actors_sparql_endpoint = new (require('@comunica/actor-query-operation-sparql-endpoint').ActorQueryOperationSparqlEndpoint)({\n  'mediatorHttp': urn_comunica_default_http_mediators_main,\n  'checkUrlSuffixSparql': true,\n  'checkUrlSuffixUpdate': true,\n  'forceHttpGet': false,\n  'name': 'urn:comunica:default:query-operation/actors#sparql-endpoint',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_operation__2_0_0_components_ActorQueryOperation_jsonld_ActorQueryOperation_default_bus\n});\nconst urn_comunica_default_query_result_serialize_actors_sparql_json = new (require('@comunica/actor-query-result-serialize-sparql-json').ActorQueryResultSerializeSparqlJson)({\n  'emitMetadata': true,\n  'httpObserver': https___linkedsoftwaredependencies_org_bundles_npm__comunica_actor_query_result_serialize_sparql_json__2_0_0_components_ActorQueryResultSerializeSparqlJson_jsonld_ActorQueryResultSerializeSparqlJson_default_observer,\n  'mediaTypePriorities': {\"application/sparql-results+json\":0.8},\n  'mediaTypeFormats': {\"application/sparql-results+json\":\"http://www.w3.org/ns/formats/SPARQL_Results_JSON\"},\n  'name': 'urn:comunica:default:query-result-serialize/actors#sparql-json',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_result_serialize__2_0_0_components_ActorQueryResultSerialize_jsonld_ActorQueryResultSerialize_default_bus\n});\nconst urn_comunica_default_query_result_serialize_actors_stats = new (require('@comunica/actor-query-result-serialize-stats').ActorQueryResultSerializeStats)({\n  'httpObserver': https___linkedsoftwaredependencies_org_bundles_npm__comunica_actor_query_result_serialize_stats__2_0_0_components_ActorQueryResultSerializeStats_jsonld_ActorQueryResultSerializeStats_default_observer,\n  'mediaTypePriorities': {\"stats\":0.5},\n  'mediaTypeFormats': {\"stats\":\"https://comunica.linkeddatafragments.org/#results_stats\"},\n  'name': 'urn:comunica:default:query-result-serialize/actors#stats',\n  'bus': https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_result_serialize__2_0_0_components_ActorQueryResultSerialize_jsonld_ActorQueryResultSerialize_default_bus\n});\nconst urn_comunica_default_Runner = (https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_init__2_0_0_components_ActorInit_jsonld_ActorInit_default_bus, [\n  urn_comunica_default_context_preprocess_actors_source_to_destination,\n  urn_comunica_default_hash_bindings_actors_sha1,\n  urn_comunica_default_init_actors_query,\n  urn_comunica_default_optimize_query_operation_actors_join_bgp,\n  urn_comunica_default_optimize_query_operation_actors_bgp_to_join,\n  urn_comunica_default_optimize_query_operation_actors_join_connected,\n  urn_comunica_default_query_parse_actors_sparql,\n  urn_comunica_default_query_parse_actors_graphql,\n  urn_comunica_default_query_result_serialize_actors_json,\n  urn_comunica_default_query_result_serialize_actors_rdf,\n  urn_comunica_default_query_result_serialize_actors_simple,\n  urn_comunica_default_query_result_serialize_actors_csv,\n  urn_comunica_default_query_result_serialize_actors_sparql_json,\n  urn_comunica_default_query_result_serialize_actors_sparql_tsv,\n  urn_comunica_default_query_result_serialize_actors_sparql_xml,\n  urn_comunica_default_query_result_serialize_actors_stats,\n  urn_comunica_default_query_result_serialize_actors_table,\n  urn_comunica_default_query_result_serialize_actors_tree,\n  urn_comunica_default_rdf_join_entries_sort_actors_cardinality,\n  urn_comunica_default_rdf_join_selectivity_actors_variable_counting,\n  urn_comunica_default_rdf_serialize_actors_n3,\n  urn_comunica_default_rdf_serialize_actors_jsonld,\n  urn_comunica_default_rdf_update_quads_actors_rdfjs_store,\n  urn_comunica_default_query_operation_actors_ask,\n  urn_comunica_default_query_operation_actors_bgp,\n  urn_comunica_default_query_operation_actors_construct,\n  urn_comunica_default_query_operation_actors_describe,\n  urn_comunica_default_query_operation_actors_distinct,\n  urn_comunica_default_query_operation_actors_extend,\n  urn_comunica_default_query_operation_actors_filter,\n  urn_comunica_default_query_operation_actors_from,\n  urn_comunica_default_query_operation_actors_group,\n  urn_comunica_default_query_operation_actors_join,\n  urn_comunica_default_query_operation_actors_leftjoin,\n  urn_comunica_default_query_operation_actors_minus,\n  urn_comunica_default_query_operation_actors_nop,\n  urn_comunica_default_query_operation_actors_orderby,\n  urn_comunica_default_query_operation_actors_project,\n  urn_comunica_default_query_operation_actors_quadpattern,\n  urn_comunica_default_query_operation_actors_reduced,\n  urn_comunica_default_query_operation_actors_service,\n  urn_comunica_default_query_operation_actors_slice,\n  urn_comunica_default_query_operation_actors_sparql_endpoint,\n  urn_comunica_default_query_operation_actors_union,\n  urn_comunica_default_query_operation_actors_values,\n  urn_comunica_default_query_operation_actors_path_alt,\n  urn_comunica_default_query_operation_actors_path_inv,\n  urn_comunica_default_query_operation_actors_path_link,\n  urn_comunica_default_query_operation_actors_path_nps,\n  urn_comunica_default_query_operation_actors_path_one_or_more,\n  urn_comunica_default_query_operation_actors_path_seq,\n  urn_comunica_default_query_operation_actors_path_zero_or_more,\n  urn_comunica_default_query_operation_actors_path_zero_or_one,\n  urn_comunica_default_query_operation_actors_update_add,\n  urn_comunica_default_query_operation_actors_update_clear,\n  urn_comunica_default_query_operation_actors_update_composite,\n  urn_comunica_default_query_operation_actors_update_copy,\n  urn_comunica_default_query_operation_actors_update_create,\n  urn_comunica_default_query_operation_actors_update_delete_insert,\n  urn_comunica_default_query_operation_actors_update_drop,\n  urn_comunica_default_query_operation_actors_update_load,\n  urn_comunica_default_query_operation_actors_update_move,\n  urn_comunica_default_rdf_join_actors_inner_none,\n  urn_comunica_default_rdf_join_actors_inner_single,\n  urn_comunica_default_rdf_join_actors_inner_multi_empty,\n  urn_comunica_default_rdf_join_actors_inner_multi_bind,\n  urn_comunica_default_rdf_join_actors_inner_hash,\n  urn_comunica_default_rdf_join_actors_inner_symmetric_hash,\n  urn_comunica_default_rdf_join_actors_inner_nested_loop,\n  urn_comunica_default_rdf_join_actors_inner_multi_smallest,\n  urn_comunica_default_rdf_join_actors_minus_hash,\n  urn_comunica_default_rdf_join_actors_minus_hash_undef,\n  urn_comunica_default_rdf_join_actors_optional_bind,\n  urn_comunica_default_rdf_join_actors_optional_nested_loop,\n  urn_comunica_default_rdf_resolve_quad_pattern_actors_federated,\n  urn_comunica_default_rdf_resolve_quad_pattern_actors_rdfjs_source\n]);\nmodule.exports = urn_comunica_default_init_actors_query;\n\n","import { QueryEngineBase } from '@comunica/actor-init-query';\nimport type { ActorInitQueryBase } from '@comunica/actor-init-query';\nconst engineDefault = require('../engine-default.js');\n\n/**\n * A Comunica SPARQL query engine.\n */\nexport class QueryEngine extends QueryEngineBase {\n  public constructor(engine: ActorInitQueryBase = engineDefault) {\n    super(engine);\n  }\n}\n","/* eslint-disable unicorn/filename-case */\n/* eslint-enable unicorn/filename-case */\nexport * from './QueryEngine';\n","import type { IAction, IActorArgs, IActorOutput, IActorTest, Mediate } from '@comunica/core';\nimport { Actor } from '@comunica/core';\nimport type { IActionContext } from '@comunica/types';\n\n/**\n * An abstract actor that handles media-typed actions.\n *\n * It splits up a action between a 'handle' and a 'mediaTypes' action.\n * A 'mediaTypes' action is used to retrieve the available media types from this actor.\n * A 'handle' action is abstract, and can be implemented to do anything,\n * such as parsing, serializing, etc.\n * @see IActionAbstractMediaTyped\n *\n * @see ActorAbstractMediaTypedFixed\n */\nexport abstract class ActorAbstractMediaTyped<HI, HT, HO>\n  extends Actor<IActionAbstractMediaTyped<HI>, IActorTestAbstractMediaTyped<HT>, IActorOutputAbstractMediaTyped<HO>> {\n  public constructor(args: IActorArgsMediaTyped<HI, HT, HO>) {\n    super(args);\n  }\n\n  public async run(action: IActionAbstractMediaTyped<HI>): Promise<IActorOutputAbstractMediaTyped<HO>> {\n    if ('handle' in action) {\n      const typedAction: IActionAbstractMediaTypedHandle<HI> = action;\n      return { handle: await this.runHandle(typedAction.handle, typedAction.handleMediaType, action.context) };\n    }\n    if ('mediaTypes' in action) {\n      return { mediaTypes: await this.getMediaTypes(action.context) };\n    }\n    if ('mediaTypeFormats' in action) {\n      return { mediaTypeFormats: await this.getMediaTypeFormats(action.context) };\n    }\n    throw new Error('Either a handle, mediaTypes or mediaTypeFormats action needs to be provided');\n  }\n\n  public async test(action: IActionAbstractMediaTyped<HI>): Promise<IActorTestAbstractMediaTyped<HT>> {\n    if ('handle' in action) {\n      const typedAction: IActionAbstractMediaTypedHandle<HI> = action;\n      return { handle: await this.testHandle(typedAction.handle, typedAction.handleMediaType, action.context) };\n    }\n    if ('mediaTypes' in action) {\n      return { mediaTypes: await this.testMediaType(action.context) };\n    }\n    if ('mediaTypeFormats' in action) {\n      return { mediaTypeFormats: await this.testMediaTypeFormats(action.context) };\n    }\n    throw new Error('Either a handle, mediaTypes or mediaTypeFormats action needs to be provided');\n  }\n\n  /**\n   * Check if this actor can run the given handle action,\n   * without actually running it.\n   *\n   * @param {HI} action The handle action to test.\n   * @param {string} mediaType The media type to test.\n   * @param {ActionContext} context An optional context.\n   * @return {Promise<T>} A promise that resolves to the handle test result.\n   */\n  public abstract testHandle(action: HI, mediaType: string | undefined, context: IActionContext): Promise<HT>;\n\n  /**\n   * Run the given handle action on this actor.\n   *\n   * @param {HI} action The handle action to run.\n   * @param {string} mediaType The media type to run with.\n   * @param {ActionContext} context An optional context.\n   * @return {Promise<T>} A promise that resolves to the handle run result.\n   */\n  public abstract runHandle(action: HI, mediaType: string | undefined, context: IActionContext): Promise<HO>;\n\n  /**\n   * Check if this actor can emit its media types.\n   *\n   * @param {ActionContext} context An optional context.\n   * @return {Promise<boolean>} A promise that resolves to the media type run result.\n   */\n  public abstract testMediaType(context: IActionContext): Promise<boolean>;\n\n  /**\n   * Get the media type of this given actor.\n   *\n   * @param {ActionContext} context An optional context.\n   * @return {Promise<{[id: string]: number}>} A promise that resolves to the media types.\n   */\n  public abstract getMediaTypes(context: IActionContext): Promise<Record<string, number>>;\n\n  /**\n   * Check if this actor can emit its media type formats.\n   *\n   * @param {ActionContext} context An optional context.\n   * @return {Promise<boolean>} A promise that resolves to the media type run result.\n   */\n  public abstract testMediaTypeFormats(context: IActionContext): Promise<boolean>;\n\n  /**\n   * Get the media type formats of this given actor.\n   *\n   * @param {ActionContext} context An optional context.\n   * @return {Promise<{[id: string]: string}>} A promise that resolves to the media types.\n   */\n  public abstract getMediaTypeFormats(context: IActionContext): Promise<Record<string, string>>;\n}\n\nexport interface IActorArgsMediaTyped<HI, HT, HO> extends IActorArgs<IActionAbstractMediaTyped<HI>,\nIActorTestAbstractMediaTyped<HT>, IActorOutputAbstractMediaTyped<HO>> {}\n\nexport type IActionAbstractMediaTyped<HI> = IActionAbstractMediaTypedHandle<HI> | IActionAbstractMediaTypedMediaTypes\n| IActionAbstractMediaTypedMediaTypeFormats;\nexport interface IActionAbstractMediaTypedHandle<HI> extends IAction {\n  /**\n   * The handle action input.\n   */\n  handle: HI;\n  /**\n   * The handle media type that should be used when 'handle' is truthy.\n   */\n  handleMediaType?: string;\n}\n\nexport interface IActionAbstractMediaTypedMediaTypes extends IAction {\n  /**\n   * True if media types should be retrieved.\n   */\n  mediaTypes: boolean;\n}\n\nexport interface IActionAbstractMediaTypedMediaTypeFormats extends IAction {\n  /**\n   * True if media type formats should be retrieved.\n   */\n  mediaTypeFormats: boolean;\n}\n\n/**\n * Either 'handle', or 'mediaTypes' or 'mediaTypeFormats' must be truthy.\n * Groups may not be truthy at the same time.\n */\nexport type IActorTestAbstractMediaTyped<HT> = IActorTestAbstractMediaTypedHandle<HT>\n| IActorTestAbstractMediaTypedMediaTypes | IActorTestAbstractMediaTypedMediaTypeFormats;\nexport interface IActorTestAbstractMediaTypedHandle<HT> extends IActorTest {\n  /**\n   * The handle test output.\n   */\n  handle: HT;\n}\nexport interface IActorTestAbstractMediaTypedMediaTypes extends IActorTest {\n  /**\n   * True if media types can be retrieved.\n   */\n  mediaTypes: boolean;\n}\nexport interface IActorTestAbstractMediaTypedMediaTypeFormats extends IActorTest {\n  /**\n   * True if media type formats can be retrieved.\n   */\n  mediaTypeFormats?: boolean;\n}\n\n/**\n * Either 'handle', or 'mediaTypes' or 'mediaTypeFormats' must be truthy.\n * Groups may not be truthy at the same time.\n */\nexport type IActorOutputAbstractMediaTyped<HO> = IActorOutputAbstractMediaTypedHandle<HO>\n| IActorOutputAbstractMediaTypedMediaTypes | IActorOutputAbstractMediaTypedMediaTypeFormats;\nexport interface IActorOutputAbstractMediaTypedHandle<HO> extends IActorOutput {\n  /**\n   * The handle action output.\n   */\n  handle: HO;\n}\nexport interface IActorOutputAbstractMediaTypedMediaTypes extends IActorOutput {\n  /**\n   * An object containing media types as keys,\n   * and preferences as values, with values ranging from 0 to 1.\n   */\n  mediaTypes: Record<string, number>;\n}\nexport interface IActorOutputAbstractMediaTypedMediaTypeFormats extends IActorOutput {\n  /**\n   * An object containing media types as keys,\n   * and format IRIs as values.\n   */\n  mediaTypeFormats: Record<string, string>;\n}\n\nexport type MediateMediaTypes = Mediate<\nIActionAbstractMediaTypedMediaTypes, IActorOutputAbstractMediaTypedMediaTypes, IActorTestAbstractMediaTypedMediaTypes>;\n\nexport type MediateMediaTyped<I extends IAction, T extends IActorTest, O extends IActorOutput> = Mediate<\nIActionAbstractMediaTypedHandle<I>,\nIActorOutputAbstractMediaTypedHandle<O>,\nIActorTestAbstractMediaTypedHandle<T>\n>;\n","import type { IActionContext } from '@comunica/types';\nimport type { IActorArgsMediaTyped } from './ActorAbstractMediaTyped';\nimport { ActorAbstractMediaTyped } from './ActorAbstractMediaTyped';\n\nexport abstract class ActorAbstractMediaTypedFixed<HI, HT, HO> extends ActorAbstractMediaTyped<HI, HT, HO> {\n  public readonly mediaTypePriorities: Record<string, number>;\n  public readonly mediaTypeFormats: Record<string, string>;\n  public readonly priorityScale: number;\n\n  public constructor(args: IActorArgsMediaTypedFixed<HI, HT, HO>) {\n    super(args);\n    const scale: number = this.priorityScale || this.priorityScale === 0 ? this.priorityScale : 1;\n    if (this.mediaTypePriorities) {\n      Object.entries(this.mediaTypePriorities).forEach(([ key, value ], index) => {\n        this.mediaTypePriorities[key] = scale * value;\n      });\n    }\n    this.mediaTypePriorities = Object.freeze(this.mediaTypePriorities);\n    this.mediaTypeFormats = Object.freeze(this.mediaTypeFormats);\n  }\n\n  public async testHandle(action: HI, mediaType: string, context: IActionContext): Promise<HT> {\n    if (!(mediaType in this.mediaTypePriorities)) {\n      throw new Error(`Unrecognized media type: ${mediaType}`);\n    }\n    return await this.testHandleChecked(action, context);\n  }\n\n  /**\n   * Check to see if this actor can handle the given action.\n   * The media type has already been checked before this is called.\n   *\n   * @param {ActionContext} context An optional context.\n   * @param {HI} action The action to test.\n   */\n  public abstract testHandleChecked(action: HI, context: IActionContext): Promise<HT>;\n\n  public async testMediaType(context: IActionContext): Promise<boolean> {\n    return true;\n  }\n\n  public async getMediaTypes(context: IActionContext): Promise<Record<string, number>> {\n    return this.mediaTypePriorities;\n  }\n\n  public async testMediaTypeFormats(context: IActionContext): Promise<boolean> {\n    return true;\n  }\n\n  public async getMediaTypeFormats(context: IActionContext): Promise<Record<string, string>> {\n    return this.mediaTypeFormats;\n  }\n}\n\nexport interface IActorArgsMediaTypedFixed<HI, HT, HO> extends IActorArgsMediaTyped<HI, HT, HO> {\n  /**\n   * A record of media types, with media type name as key, and its priority as value.\n   * Priorities are numbers between [0, 1].\n   * @range {json}\n   */\n  mediaTypePriorities: Record<string, number>;\n  /**\n   * A record of media types, with media type name as key, and its format IRI as value.\n   * @range {json}\n   */\n  mediaTypeFormats: Record<string, string>;\n  /**\n   * A multiplier for media type priorities.\n   * This can be used for keeping the original media types in place,\n   * but scaling all of their scores with a certain value.\n   * @range {double}\n   */\n  priorityScale?: number;\n}\n","export * from './ActorAbstractMediaTyped';\nexport * from './ActorAbstractMediaTypedFixed';\n","import { BindingsFactory } from '@comunica/bindings-factory';\nimport type { IActorQueryOperationTypedMediatedArgs } from '@comunica/bus-query-operation';\nimport {\n  ActorQueryOperation,\n  ActorQueryOperationTypedMediated,\n} from '@comunica/bus-query-operation';\nimport { KeysQueryOperation } from '@comunica/context-entries';\nimport type { IActorTest } from '@comunica/core';\nimport type { IQueryOperationResultBindings, Bindings, IActionContext, MetadataBindings } from '@comunica/types';\nimport type * as RDF from '@rdfjs/types';\nimport type { AsyncIterator } from 'asynciterator';\nimport {\n  BufferedIterator, MultiTransformIterator,\n  TransformIterator, EmptyIterator,\n} from 'asynciterator';\nimport { DataFactory } from 'rdf-data-factory';\nimport { termToString } from 'rdf-string';\nimport type { Algebra } from 'sparqlalgebrajs';\nimport { Factory } from 'sparqlalgebrajs';\nimport { PathVariableObjectIterator } from './PathVariableObjectIterator';\n\nconst DF = new DataFactory();\nconst BF = new BindingsFactory();\n\n/**\n * An abstract actor that handles Path operations.\n *\n * Provides multiple helper functions used by the Path operation actors.\n */\nexport abstract class ActorAbstractPath extends ActorQueryOperationTypedMediated<Algebra.Path> {\n  protected static readonly FACTORY: Factory = new Factory();\n\n  protected readonly predicateType: string;\n\n  protected constructor(args: IActorQueryOperationTypedMediatedArgs, predicateType: string) {\n    super(args, 'path');\n    this.predicateType = predicateType;\n  }\n\n  public async testOperation(operation: Algebra.Path, context: IActionContext): Promise<IActorTest> {\n    if (operation.predicate.type !== this.predicateType) {\n      throw new Error(`This Actor only supports ${this.predicateType} Path operations.`);\n    }\n\n    return true;\n  }\n\n  // Generates a variable that does not yet occur in the path\n  public generateVariable(path?: Algebra.Path, name?: string): RDF.Variable {\n    if (!name) {\n      return this.generateVariable(path, 'b');\n    }\n\n    // Path predicates can't contain variables\n    if (path && (path.subject.value === name || path.object.value === name)) {\n      return this.generateVariable(path, `${name}b`);\n    }\n\n    return DF.variable(name);\n  }\n\n  // Such connectivity matching does not introduce duplicates (it does not incorporate any count of the number\n  // of ways the connection can be made) even if the repeated path itself would otherwise result in duplicates.\n  // https://www.w3.org/TR/sparql11-query/#propertypaths\n  public async isPathArbitraryLengthDistinct(context: IActionContext, path: Algebra.Path):\n  Promise<{ context: IActionContext; operation: IQueryOperationResultBindings | undefined }> {\n    if (!context.get(KeysQueryOperation.isPathArbitraryLengthDistinctKey)) {\n      context = context.set(KeysQueryOperation.isPathArbitraryLengthDistinctKey, true);\n      return { context,\n        operation: ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({\n          operation: ActorAbstractPath.FACTORY.createDistinct(path),\n          context,\n        })) };\n    }\n\n    context = context.set(KeysQueryOperation.isPathArbitraryLengthDistinctKey, false);\n    return { context, operation: undefined };\n  }\n\n  private async predicateStarGraphVariable(\n    subject: RDF.Term,\n    object: RDF.Variable,\n    predicate: Algebra.PropertyPathSymbol,\n    graph: RDF.Variable,\n    context: IActionContext,\n  ): Promise<IPathResultStream> {\n    // TODO: refactor this with an iterator just like PathVariableObjectIterator so we handle backpressure correctly\n    // Construct path to obtain all graphs where subject exists\n    const predVar = this.generateVariable(ActorAbstractPath.FACTORY\n      .createPath(subject, predicate, object, graph));\n    const findGraphs = ActorAbstractPath.FACTORY.createUnion([\n      ActorAbstractPath.FACTORY.createPattern(subject, predVar, object, graph),\n      ActorAbstractPath.FACTORY.createPattern(object, predVar, subject, graph),\n    ]);\n    const results = ActorQueryOperation.getSafeBindings(\n      await this.mediatorQueryOperation.mediate({ context, operation: findGraphs }),\n    );\n\n    const passedGraphs: Set<string> = new Set();\n\n    const bindingsStream = new MultiTransformIterator<Bindings, Bindings>(\n      results.bindingsStream,\n      {\n        multiTransform: (bindings: Bindings) => {\n          // Extract the graph and start a predicate* search starting from subject in each graph\n          const graphValue: RDF.Term = bindings.get(graph)!;\n          if (passedGraphs.has(graphValue.value)) {\n            return new EmptyIterator();\n          }\n          passedGraphs.add(graphValue.value);\n          return new TransformIterator<Bindings>(\n            async() => {\n              const it = new BufferedIterator<RDF.Term>();\n              await this.getObjectsPredicateStar(subject, predicate, graphValue, context, {}, it, { count: 0 });\n              return it.transform<Bindings>({\n                transform(item, next, push) {\n                  push(BF.bindings([\n                    [ object, item ],\n                    [ graph, graphValue ],\n                  ]));\n                  next();\n                },\n              });\n            }, { maxBufferSize: 128 },\n          );\n        },\n        autoStart: false,\n      },\n    );\n\n    return {\n      bindingsStream,\n      metadata: results.metadata,\n    };\n  }\n\n  /**\n   * Returns an iterator with Bindings of the query subject predicate* ?o or subject predicate+ ?o\n   * If graph is a variable, it will also be in those bindings\n   * @param {Term} subject Term of where we start the predicate* search.\n   * @param {Algebra.PropertyPathSymbol} predicate Predicate of the *-path.\n   * @param {Variable} object Variable of the zeroOrMore-query.\n   * @param {Term} graph The graph in which we search for the pattern. (Possibly a variable)\n   * @param {ActionContext} context The context to pass to sub-opertations\n   * @param emitFirstSubject If the path operation is predicate*, otherwise it is predicate+.\n   * @return {Promise<AsyncIterator<Bindings>} Iterator to where all bindings of query should have been pushed.\n   */\n  public async getObjectsPredicateStarEval(\n    subject: RDF.Term,\n    predicate: Algebra.PropertyPathSymbol,\n    object: RDF.Variable,\n    graph: RDF.Term,\n    context: IActionContext,\n    emitFirstSubject: boolean,\n  ): Promise<IPathResultStream> {\n    if (graph.termType === 'Variable') {\n      return this.predicateStarGraphVariable(subject, object, predicate, graph, context);\n    }\n\n    const it = new PathVariableObjectIterator(\n      subject,\n      predicate,\n      graph,\n      context,\n      this.mediatorQueryOperation,\n      emitFirstSubject,\n    );\n\n    const bindingsStream = it.transform<Bindings>({\n      autoStart: false,\n      transform(item, next, push) {\n        push(BF.bindings([[ object, item ]]));\n        next();\n      },\n    });\n\n    return {\n      bindingsStream,\n      metadata: () => new Promise(resolve => it.getProperty('metadata', (metadata: any) => resolve(metadata()))),\n    };\n  }\n\n  /**\n     * Pushes all terms to iterator `it` that are a solution of object predicate* ?o.\n     * @param {Term} object Term of where we start the predicate* search.\n     * @param {Algebra.PropertyPathSymbol} predicate Predicate of the *-path.\n     * @param {Term} graph The graph in which we search for the pattern.\n     * @param {ActionContext} context\n     * @param {Record<string, Term>} termHashes Remembers the objects we've already searched for.\n     * @param {BufferedIterator<Term>} it Iterator to push terms to.\n     * @param {any} counter Counts how many searches are in progress to close it when needed (when counter == 0).\n     * @return {Promise<IPathResultStream['metadata']>} The results metadata.\n     */\n  public async getObjectsPredicateStar(\n    object: RDF.Term,\n    predicate: Algebra.PropertyPathSymbol,\n    graph: RDF.Term,\n    context: IActionContext,\n    termHashes: Record<string, RDF.Term>,\n    it: BufferedIterator<RDF.Term>,\n    counter: any,\n  ): Promise<IPathResultStream['metadata'] | undefined> {\n    const termString = termToString(object);\n    if (termHashes[termString]) {\n      return;\n    }\n\n    (<any> it)._push(object);\n    termHashes[termString] = object;\n    counter.count++;\n\n    const thisVariable = this.generateVariable();\n    const path = ActorAbstractPath.FACTORY.createPath(object, predicate, thisVariable, graph);\n    const results = ActorQueryOperation.getSafeBindings(\n      await this.mediatorQueryOperation.mediate({ operation: path, context }),\n    );\n    results.bindingsStream.on('data', async(bindings: Bindings) => {\n      const result = bindings.get(thisVariable);\n      await this.getObjectsPredicateStar(result!, predicate, graph, context, termHashes, it, counter);\n    });\n    results.bindingsStream.on('end', () => {\n      if (--counter.count === 0) {\n        it.close();\n      }\n    });\n\n    return results.metadata;\n  }\n\n  /**\n     * Pushes all terms to iterator `it` that are a solution of ?s predicate* ?o.\n     * @param {string} subjectVar String representation of subjectVariable\n     * @param {string} objectVar String representation of objectVariable\n     * @param {Term} subjectVal Term of where we start the predicate* search.\n     * @param {Term} objectVal Found solution for an object, start for the new step.\n     * @param {Algebra.PropertyPathSymbol} predicate Predicate of the *-path.\n     * @param {Term} graph The graph in which we search for the pattern.\n     * @param {ActionContext} context\n     * @param {{[id: string]: Promise<Term[]>}} termHashesGlobal\n     * Remembers solutions for when objectVal is already been calculated, can be reused when same objectVal occurs\n     * @param {{[id: string]: Term}} termHashesCurrentSubject\n     * Remembers the pairs we've already searched for, can stop searching if so.\n     * @param {BufferedIterator<Bindings>} it Iterator to push terms to.\n     * @param {any} counter Counts how many searches are in progress to close it when needed (when counter == 0).\n     * @return {Promise<void>} All solutions of query should have been pushed to it by then.\n     */\n  // Let the iterator `it` emit all bindings of size 2, with subjectStringVariable as value subjectVal\n  // and objectStringVariable as value all nodes reachable through predicate* beginning at objectVal\n  public async getSubjectAndObjectBindingsPredicateStar(\n    subjectVar: RDF.Variable,\n    objectVar: RDF.Variable,\n    subjectVal: RDF.Term,\n    objectVal: RDF.Term,\n    predicate: Algebra.PropertyPathSymbol,\n    graph: RDF.Term,\n    context: IActionContext,\n    termHashesGlobal: Record<string, Promise<RDF.Term[]>>,\n    termHashesCurrentSubject: Record<string, boolean>,\n    it: BufferedIterator<Bindings>,\n    counter: any,\n  ): Promise<void> {\n    const termString = termToString(objectVal) + termToString(graph);\n\n    // If this combination of subject and object already done, return nothing\n    if (termHashesCurrentSubject[termString]) {\n      return;\n    }\n\n    counter.count++;\n    termHashesCurrentSubject[termString] = true;\n    (<any> it)._push(BF.bindings([\n      [ subjectVar, subjectVal ],\n      [ objectVar, objectVal ],\n    ]));\n\n    // If every reachable node from object has already been calculated, use these for current subject too\n    if (termString in termHashesGlobal) {\n      const objects = await termHashesGlobal[termString];\n      for (const object of objects) {\n        await this.getSubjectAndObjectBindingsPredicateStar(\n          subjectVar,\n          objectVar,\n          subjectVal,\n          object,\n          predicate,\n          graph,\n          context,\n          termHashesGlobal,\n          termHashesCurrentSubject,\n          it,\n          counter,\n        );\n      }\n      if (--counter.count === 0) {\n        it.close();\n      }\n\n      return;\n    }\n\n    // Construct promise to calculate all reachable nodes from this object\n    const promise = new Promise<RDF.Term[]>(async(resolve, reject) => {\n      const objectsArray: RDF.Term[] = [];\n\n      // Construct path that leads us one step through predicate\n      const thisVariable = this.generateVariable();\n      const path = ActorAbstractPath.FACTORY.createPath(objectVal, predicate, thisVariable, graph);\n      const results = ActorQueryOperation.getSafeBindings(\n        await this.mediatorQueryOperation.mediate({ operation: path, context }),\n      );\n\n      // Recursive call on all neighbours\n      results.bindingsStream.on('data', async(bindings: RDF.Bindings) => {\n        const result: RDF.Term = bindings.get(thisVariable)!;\n        objectsArray.push(result);\n        await this.getSubjectAndObjectBindingsPredicateStar(\n          subjectVar,\n          objectVar,\n          subjectVal,\n          result,\n          predicate,\n          graph,\n          context,\n          termHashesGlobal,\n          termHashesCurrentSubject,\n          it,\n          counter,\n        );\n      });\n      results.bindingsStream.on('error', reject);\n      results.bindingsStream.on('end', () => {\n        if (--counter.count === 0) {\n          it.close();\n        }\n        resolve(objectsArray);\n      });\n    });\n\n    // Set it in the termHashesGlobal when this object occurs again they can wait for this promise\n    termHashesGlobal[termString] = promise;\n  }\n}\n\nexport interface IPathResultStream {\n  bindingsStream: AsyncIterator<Bindings>;\n  metadata: () => Promise<MetadataBindings>;\n}\n","import type { MediatorQueryOperation } from '@comunica/bus-query-operation';\nimport { ActorQueryOperation } from '@comunica/bus-query-operation';\nimport type { IActionContext } from '@comunica/types';\nimport type * as RDF from '@rdfjs/types';\nimport type { AsyncIterator } from 'asynciterator';\nimport { BufferedIterator } from 'asynciterator';\nimport { DataFactory } from 'rdf-data-factory';\nimport { termToString } from 'rdf-string';\nimport type { Algebra } from 'sparqlalgebrajs';\nimport { Factory } from 'sparqlalgebrajs';\n\nconst DF = new DataFactory();\nconst FACTORY = new Factory();\n\n/**\n * An iterator that implements the multi-length property path operation (* and +)\n * for a fixed subject and predicate, and a variable object.\n */\nexport class PathVariableObjectIterator extends BufferedIterator<RDF.Term> {\n  private readonly termHashes: Map<string, RDF.Term> = new Map();\n  private readonly runningOperations: AsyncIterator<RDF.Term>[] = [];\n  private readonly pendingOperations: { variable: RDF.Variable; operation: Algebra.Path }[] = [];\n\n  public constructor(\n    private readonly subject: RDF.Term,\n    private readonly predicate: Algebra.PropertyPathSymbol,\n    private readonly graph: RDF.Term,\n    private readonly context: IActionContext,\n    private readonly mediatorQueryOperation: MediatorQueryOperation,\n    emitFirstSubject: boolean,\n    private readonly maxRunningOperations = 16,\n  ) {\n    // The autoStart flag must be true to kickstart metadata collection\n    super({ autoStart: true });\n\n    // Push the subject as starting point\n    this._push(this.subject, emitFirstSubject);\n  }\n\n  protected _end(destroy?: boolean): void {\n    // Close all running iterators\n    for (const it of this.runningOperations) {\n      it.destroy();\n    }\n\n    super._end(destroy);\n  }\n\n  protected _push(item: RDF.Term, pushAsResult = true): void {\n    let termString;\n    if (pushAsResult) {\n      // Don't push if this subject was already found\n      termString = termToString(item);\n      if (this.termHashes.has(termString)) {\n        return;\n      }\n    }\n\n    // Add a pending path operation for this item\n    const variable = DF.variable('b');\n    this.pendingOperations.push({\n      variable,\n      operation: FACTORY.createPath(item, this.predicate, variable, this.graph),\n    });\n\n    // Otherwise, push the subject\n    if (termString) {\n      this.termHashes.set(termString, item);\n      super._push(item);\n    }\n  }\n\n  protected _read(count: number, done: () => void): void {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias,consistent-this\n    const self = this;\n    (async function() {\n      // Open as many operations as possible\n      while (self.runningOperations.length < self.maxRunningOperations) {\n        if (self.pendingOperations.length === 0) {\n          break;\n        }\n\n        const pendingOperation = self.pendingOperations.pop()!;\n        const results = ActorQueryOperation.getSafeBindings(\n          await self.mediatorQueryOperation.mediate({ operation: pendingOperation.operation, context: self.context }),\n        );\n        const runningOperation = results.bindingsStream.transform<RDF.Term>({\n          autoStart: false,\n          transform(bindings, next, push) {\n            const newTerm: RDF.Term = bindings.get(pendingOperation.variable)!;\n            push(newTerm);\n            next();\n          },\n        });\n        if (!runningOperation.done) {\n          self.runningOperations.push(runningOperation);\n          runningOperation.on('error', error => self.destroy(error));\n          runningOperation.on('readable', () => {\n            self.readable = true;\n            self._fillBufferAsync();\n          });\n          runningOperation.on('end', () => {\n            self.runningOperations.splice(self.runningOperations.indexOf(runningOperation), 1);\n            self.readable = true;\n            self._fillBufferAsync();\n          });\n        }\n\n        self.setProperty('metadata', results.metadata);\n      }\n\n      // Try to read `count` items (based on UnionIterator)\n      let lastCount = 0;\n      let item: RDF.Term | null;\n      // eslint-disable-next-line no-cond-assign\n      while (lastCount !== (lastCount = count)) {\n        // Prioritize the operations that have been added first\n        for (let i = 0; i < self.runningOperations.length && count > 0; i++) {\n          // eslint-disable-next-line no-cond-assign\n          if ((item = self.runningOperations[i].read()) !== null) {\n            count--;\n            self._push(item);\n          }\n        }\n      }\n\n      // Close if everything has been read\n      if (self.runningOperations.length === 0 && self.pendingOperations.length === 0) {\n        self.close();\n      }\n    })().then(() => {\n      done();\n    }, error => this.destroy(error));\n  }\n}\n","import type { IActorContextPreprocessOutput, IActorContextPreprocessArgs } from '@comunica/bus-context-preprocess';\nimport { ActorContextPreprocess } from '@comunica/bus-context-preprocess';\nimport { KeysRdfResolveQuadPattern, KeysRdfUpdateQuads } from '@comunica/context-entries';\nimport type { IActorTest, IAction } from '@comunica/core';\nimport type { DataSources } from '@comunica/types';\n\n/**\n * A comunica Source To Destination Context Preprocess Actor.\n */\nexport class ActorContextPreprocessSourceToDestination extends ActorContextPreprocess {\n  public constructor(args: IActorContextPreprocessArgs) {\n    super(args);\n  }\n\n  public async test(action: IAction): Promise<IActorTest> {\n    return true;\n  }\n\n  public async run(action: IAction): Promise<IActorContextPreprocessOutput> {\n    if (action.context.get(KeysRdfResolveQuadPattern.sources) && !action.context.get(KeysRdfUpdateQuads.destination)) {\n      const sources: DataSources = action.context.get(KeysRdfResolveQuadPattern.sources)!;\n      if (sources.length === 1) {\n        return { context: action.context.set(KeysRdfUpdateQuads.destination, sources[0]) };\n      }\n    }\n    return action;\n  }\n}\n","import type { IActionHashBindings, IActorHashBindingsOutput } from '@comunica/bus-hash-bindings';\nimport { ActorHashBindings } from '@comunica/bus-hash-bindings';\nimport type { IActorTest } from '@comunica/core';\nimport { sha1 } from 'hash.js';\nimport { termToString } from 'rdf-string';\nconst canonicalize = require('canonicalize');\n\n/**\n * A comunica Memento Http Actor.\n */\nexport class ActorHashBindingsSha1 extends ActorHashBindings {\n  public async test(action: IActionHashBindings): Promise<IActorTest> {\n    if (!action.allowHashCollisions) {\n      throw new Error(`Actor ${this.name} can not provide hash functions without hash collisions`);\n    }\n    return true;\n  }\n\n  public async run(action: IActionHashBindings): Promise<IActorHashBindingsOutput> {\n    return {\n      hashFunction: bindings => sha1()\n        .update(canonicalize(Object.fromEntries([ ...bindings ]\n          .map(([ key, value ]) => [ termToString(key), termToString(value) ]))))\n        .digest('hex'),\n      hashCollisions: true,\n    };\n  }\n}\n","/* eslint-disable unicorn/filename-case */\n/* eslint-enable unicorn/filename-case */\nimport { ActorInitQueryBase } from './ActorInitQueryBase';\n\n/* istanbul ignore next */\nif (typeof process === 'undefined') {\n  // Polyfills process.nextTick for readable-stream\n  global.process = require('process'); // eslint-disable-line import/no-nodejs-modules\n}\n\nexport class ActorInitQuery extends ActorInitQueryBase {}\n","import type { MediatorContextPreprocess } from '@comunica/bus-context-preprocess';\nimport type { MediatorHttpInvalidate } from '@comunica/bus-http-invalidate';\nimport type { IActionInit, IActorInitArgs, IActorOutputInit } from '@comunica/bus-init';\nimport { ActorInit } from '@comunica/bus-init';\nimport type { MediatorOptimizeQueryOperation } from '@comunica/bus-optimize-query-operation';\nimport type { MediatorQueryOperation } from '@comunica/bus-query-operation';\nimport type { MediatorQueryParse } from '@comunica/bus-query-parse';\nimport type { MediatorQueryResultSerializeHandle,\n  MediatorQueryResultSerializeMediaTypes,\n  MediatorQueryResultSerializeMediaTypeFormats } from '@comunica/bus-query-result-serialize';\nimport type { IActorTest } from '@comunica/core';\nimport type { Logger } from '@comunica/types';\n\n/**\n * A browser-safe comunica Query Init Actor.\n */\nexport class ActorInitQueryBase extends ActorInit implements IActorInitQueryBaseArgs {\n  public readonly mediatorOptimizeQueryOperation: MediatorOptimizeQueryOperation;\n  public readonly mediatorQueryOperation: MediatorQueryOperation;\n  public readonly mediatorQueryParse: MediatorQueryParse;\n  public readonly mediatorQueryResultSerialize: MediatorQueryResultSerializeHandle;\n  public readonly mediatorQueryResultSerializeMediaTypeCombiner: MediatorQueryResultSerializeMediaTypes;\n  public readonly mediatorQueryResultSerializeMediaTypeFormatCombiner: MediatorQueryResultSerializeMediaTypeFormats;\n  public readonly mediatorContextPreprocess: MediatorContextPreprocess;\n  public readonly mediatorHttpInvalidate: MediatorHttpInvalidate;\n\n  public readonly logger: Logger;\n  public readonly queryString?: string;\n  public readonly defaultQueryInputFormat?: string;\n  public readonly context?: string;\n  public readonly contextKeyShortcuts: Record<string, string>;\n\n  public constructor(args: IActorInitQueryBaseArgs) {\n    super(args);\n  }\n\n  public async test(action: IActionInit): Promise<IActorTest> {\n    return true;\n  }\n\n  public async run(action: IActionInit): Promise<IActorOutputInit> {\n    throw new Error('ActorInitSparql#run is not supported in the browser.');\n  }\n}\n\nexport interface IActorInitQueryBaseArgs extends IActorInitArgs {\n  /**\n   * The query operation optimize mediator\n   */\n  mediatorOptimizeQueryOperation: MediatorOptimizeQueryOperation;\n  /**\n   * The query operation mediator\n   */\n  mediatorQueryOperation: MediatorQueryOperation;\n  /**\n   * The query parse mediator\n   */\n  mediatorQueryParse: MediatorQueryParse;\n  /**\n   * The query serialize mediator\n   */\n  mediatorQueryResultSerialize: MediatorQueryResultSerializeHandle;\n  /**\n   * The query serialize media type combinator\n   */\n  mediatorQueryResultSerializeMediaTypeCombiner: MediatorQueryResultSerializeMediaTypes;\n  /**\n   * The query serialize media type format combinator\n   */\n  mediatorQueryResultSerializeMediaTypeFormatCombiner: MediatorQueryResultSerializeMediaTypeFormats;\n  /**\n   * The context processing combinator\n   */\n  mediatorContextPreprocess: MediatorContextPreprocess;\n  /**\n   * The HTTP cache invalidation mediator\n   */\n  mediatorHttpInvalidate: MediatorHttpInvalidate;\n  /**\n   * The logger of this actor\n   * @default {a <npmd:@comunica/logger-void/^2.0.0/components/LoggerVoid.jsonld#LoggerVoid>}\n   */\n  logger: Logger;\n  /**\n   * A SPARQL query string\n   */\n  queryString?: string;\n  /**\n   * The default query input format\n   * @default {sparql}\n   */\n  defaultQueryInputFormat?: string;\n  /**\n   * A JSON string of a query operation context\n   */\n  context?: string;\n  /**\n   * A record of context shortcuts to full context keys (as defined in @comunica/context-entries).\n   * @range {json}\n   * @default {{\n   *   \"source\": \"@comunica/bus-rdf-resolve-quad-pattern:source\",\n   *   \"sources\": \"@comunica/bus-rdf-resolve-quad-pattern:sources\",\n   *   \"destination\": \"@comunica/bus-rdf-update-quads:destination\",\n   *   \"initialBindings\": \"@comunica/actor-init-query:initialBindings\",\n   *   \"queryFormat\": \"@comunica/actor-init-query:queryFormat\",\n   *   \"baseIRI\": \"@comunica/actor-init-query:baseIRI\",\n   *   \"log\": \"@comunica/core:log\",\n   *   \"datetime\": \"@comunica/actor-http-memento:datetime\",\n   *   \"queryTimestamp\": \"@comunica/actor-init-query:queryTimestamp\",\n   *   \"httpProxyHandler\": \"@comunica/actor-http-proxy:httpProxyHandler\",\n   *   \"lenient\": \"@comunica/actor-init-query:lenient\",\n   *   \"httpIncludeCredentials\": \"@comunica/bus-http:include-credentials\",\n   *   \"httpAuth\": \"@comunica/bus-http:auth\",\n   *   \"httpTimeout\": \"@comunica/bus-http:http-timeout\",\n   *   \"httpBodyTimeout\": \"@comunica/bus-http:http-body-timeout\",\n   *   \"httpRetryCount\": \"@comunica/bus-http:http-retry-count\",\n   *   \"httpRetryDelay\": \"@comunica/bus-http:http-retry-delay\",\n   *   \"httpRetryOnServerError\": \"@comunica/bus-http:http-retry-on-server-error\",\n   *   \"fetch\": \"@comunica/bus-http:fetch\",\n   *   \"recoverBrokenLinks\": \"@comunica/bus-http-wayback:recover-broken-links\",\n   *   \"readOnly\": \"@comunica/bus-query-operation:readOnly\",\n   *   \"extensionFunctions\": \"@comunica/actor-init-query:extensionFunctions\",\n   *   \"extensionFunctionCreator\": \"@comunica/actor-init-query:extensionFunctionCreator\",\n   *   \"explain\": \"@comunica/actor-init-query:explain\",\n   *   \"unionDefaultGraph\": \"@comunica/bus-query-operation:unionDefaultGraph\",\n   *   \"localizeBlankNodes\": \"@comunica/actor-query-operation:localizeBlankNodes\"\n   * }}\n   */\n  contextKeyShortcuts: Record<string, string>;\n}\n","import type { IPhysicalQueryPlanLogger } from '@comunica/types';\nimport type * as RDF from '@rdfjs/types';\nimport { termToString } from 'rdf-string';\nimport type { Algebra } from 'sparqlalgebrajs';\n\n/**\n * A physical query plan logger that stores everything in memory.\n */\nexport class MemoryPhysicalQueryPlanLogger implements IPhysicalQueryPlanLogger {\n  private readonly children: Map<any, IPlanNode[]>;\n  private rootNode: IPlanNode | undefined;\n\n  public constructor() {\n    this.children = new Map();\n  }\n\n  public logOperation(\n    logicalOperator: string,\n    physicalOperator: string | undefined,\n    node: any,\n    parentNode: any,\n    actor: string,\n    metadata: any,\n  ): void {\n    const planNode: IPlanNode = {\n      actor,\n      logicalOperator,\n      physicalOperator,\n      rawNode: node,\n      children: [],\n      metadata,\n    };\n    this.children.set(node, planNode.children);\n\n    if (!this.rootNode) {\n      if (parentNode) {\n        throw new Error(`No root node has been set yet, while a parent is being referenced`);\n      }\n      this.rootNode = planNode;\n    } else {\n      if (!parentNode) {\n        throw new Error(`Detected more than one parent-less node`);\n      }\n      const children = this.children.get(parentNode);\n      if (!children) {\n        throw new Error(`Could not find parent node`);\n      }\n      children.push(planNode);\n    }\n  }\n\n  public toJson(): any {\n    return this.rootNode ? this.planNodeToJson(this.rootNode) : {};\n  }\n\n  private planNodeToJson(node: IPlanNode): any {\n    return {\n      logical: node.logicalOperator,\n      physical: node.physicalOperator,\n      ...this.getLogicalMetadata(node.rawNode),\n      ...node.metadata,\n      ...node.children.length > 0 ? { children: node.children.map(child => this.planNodeToJson(child)) } : {},\n    };\n  }\n\n  private getLogicalMetadata(rawNode: any): any {\n    if ('type' in rawNode) {\n      const operation: Algebra.Operation = rawNode;\n      // eslint-disable-next-line @typescript-eslint/switch-exhaustiveness-check\n      switch (operation.type) {\n        case 'pattern':\n          return {\n            pattern: this.quadToString(operation),\n          };\n        case 'project':\n          return {\n            variables: operation.variables.map(variable => variable.value),\n          };\n      }\n    }\n    return {};\n  }\n\n  private quadToString(quad: RDF.BaseQuad): string {\n    return `${termToString(quad.subject)} ${termToString(quad.predicate)} ${termToString(quad.object)}${quad.graph.termType === 'DefaultGraph' ? '' : ` ${termToString(quad.graph)}`}`;\n  }\n}\n\ninterface IPlanNode {\n  actor: string;\n  logicalOperator: string;\n  physicalOperator?: string;\n  rawNode: any;\n  children: IPlanNode[];\n  metadata: any;\n}\n","import { materializeOperation } from '@comunica/bus-query-operation';\nimport type { IActionSparqlSerialize, IActorQueryResultSerializeOutput } from '@comunica/bus-query-result-serialize';\nimport { KeysCore, KeysInitQuery, KeysRdfResolveQuadPattern } from '@comunica/context-entries';\nimport { ActionContext } from '@comunica/core';\nimport type { IActionContext, IPhysicalQueryPlanLogger,\n  IQueryOperationResult,\n  IQueryEngine, IQueryExplained,\n  QueryFormatType,\n  QueryType, QueryExplainMode, BindingsStream,\n  QueryAlgebraContext, QueryStringContext, IQueryBindingsEnhanced,\n  IQueryQuadsEnhanced, QueryEnhanced } from '@comunica/types';\nimport type * as RDF from '@rdfjs/types';\nimport type { AsyncIterator } from 'asynciterator';\nimport type { Algebra } from 'sparqlalgebrajs';\nimport type { ActorInitQueryBase } from './ActorInitQueryBase';\nimport { MemoryPhysicalQueryPlanLogger } from './MemoryPhysicalQueryPlanLogger';\n\n/**\n * Base implementation of a Comunica query engine.\n */\nexport class QueryEngineBase implements IQueryEngine {\n  private readonly actorInitQuery: ActorInitQueryBase;\n\n  public constructor(actorInitQuery: ActorInitQueryBase) {\n    this.actorInitQuery = actorInitQuery;\n  }\n\n  public async queryBindings<QueryFormatTypeInner extends QueryFormatType>(\n    query: QueryFormatTypeInner,\n    context?: QueryFormatTypeInner extends string ? QueryStringContext : QueryAlgebraContext,\n  ): Promise<BindingsStream> {\n    return this.queryOfType<QueryFormatTypeInner, IQueryBindingsEnhanced>(query, context, 'bindings');\n  }\n\n  public async queryQuads<QueryFormatTypeInner extends QueryFormatType>(\n    query: QueryFormatTypeInner,\n    context?: QueryFormatTypeInner extends string ? QueryStringContext : QueryAlgebraContext,\n  ): Promise<AsyncIterator<RDF.Quad> & RDF.ResultStream<RDF.Quad>> {\n    return this.queryOfType<QueryFormatTypeInner, IQueryQuadsEnhanced>(query, context, 'quads');\n  }\n\n  public async queryBoolean<QueryFormatTypeInner extends QueryFormatType>(\n    query: QueryFormatTypeInner,\n    context?: QueryFormatTypeInner extends string ? QueryStringContext : QueryAlgebraContext,\n  ): Promise<boolean> {\n    return this.queryOfType<QueryFormatTypeInner, RDF.QueryBoolean>(query, context, 'boolean');\n  }\n\n  public async queryVoid<QueryFormatTypeInner extends QueryFormatType>(\n    query: QueryFormatTypeInner,\n    context?: QueryFormatTypeInner extends string ? QueryStringContext : QueryAlgebraContext,\n  ): Promise<void> {\n    return this.queryOfType<QueryFormatTypeInner, RDF.QueryVoid>(query, context, 'void');\n  }\n\n  protected async queryOfType<QueryFormatTypeInner extends QueryFormatType, QueryTypeOut extends QueryEnhanced>(\n    query: QueryFormatTypeInner,\n    context: (QueryFormatTypeInner extends string ? QueryStringContext : QueryAlgebraContext) | undefined,\n    expectedType: QueryTypeOut['resultType'],\n  ): Promise<ReturnType<QueryTypeOut['execute']>> {\n    const result = await this.query<QueryFormatTypeInner>(query, context);\n    if (result.resultType === expectedType) {\n      return result.execute();\n    }\n    throw new Error(`Query result type '${expectedType}' was expected, while '${result.resultType}' was found.`);\n  }\n\n  /**\n   * Evaluate the given query\n   * @param query A query string or algebra.\n   * @param context An optional query context.\n   * @return {Promise<QueryType>} A promise that resolves to the query output.\n   */\n  public async query<QueryFormatTypeInner extends QueryFormatType>(\n    query: QueryFormatTypeInner,\n    context?: QueryFormatTypeInner extends string ? QueryStringContext : QueryAlgebraContext,\n  ): Promise<QueryType> {\n    const output = await this.queryOrExplain(query, context);\n    if ('explain' in output) {\n      throw new Error(`Tried to explain a query when in query-only mode`);\n    }\n    return output;\n  }\n\n  /**\n   * Explain the given query\n   * @param {string | Algebra.Operation} query A query string or algebra.\n   * @param context An optional query context.\n   * @param explainMode The explain mode.\n   * @return {Promise<QueryType | IQueryExplained>} A promise that resolves to\n   *                                                               the query output or explanation.\n   */\n  public async explain<QueryFormatTypeInner extends QueryFormatType>(\n    query: QueryFormatTypeInner,\n    context: QueryFormatTypeInner extends string ? QueryStringContext : QueryAlgebraContext,\n    explainMode: QueryExplainMode,\n  ): Promise<IQueryExplained> {\n    context.explain = explainMode;\n    const output = await this.queryOrExplain(query, context);\n    return <IQueryExplained> output;\n  }\n\n  /**\n   * Evaluate or explain the given query\n   * @param {string | Algebra.Operation} query A query string or algebra.\n   * @param context An optional query context.\n   * @return {Promise<QueryType | IQueryExplained>} A promise that resolves to\n   *                                                               the query output or explanation.\n   */\n  public async queryOrExplain<QueryFormatTypeInner extends QueryFormatType>(\n    query: QueryFormatTypeInner,\n    context?: QueryFormatTypeInner extends string ? QueryStringContext : QueryAlgebraContext,\n  ): Promise<QueryType | IQueryExplained> {\n    context = context || <any>{};\n\n    // Expand shortcuts\n    for (const key in context) {\n      if (this.actorInitQuery.contextKeyShortcuts[key]) {\n        context[this.actorInitQuery.contextKeyShortcuts[key]] = context[key];\n        delete context[key];\n      }\n    }\n\n    // Prepare context\n    let actionContext: IActionContext = new ActionContext(context);\n    let queryFormat: RDF.QueryFormat = { language: 'sparql', version: '1.1' };\n    if (actionContext.has(KeysInitQuery.queryFormat)) {\n      queryFormat = actionContext.get(KeysInitQuery.queryFormat)!;\n      actionContext = actionContext.delete(KeysInitQuery.queryFormat);\n      if (queryFormat.language === 'graphql') {\n        actionContext = actionContext.setDefault(KeysInitQuery.graphqlSingularizeVariables, {});\n      }\n    }\n    const baseIRI: string | undefined = actionContext.get(KeysInitQuery.baseIRI);\n\n    actionContext = actionContext\n      .setDefault(KeysInitQuery.queryTimestamp, new Date())\n      .setDefault(KeysRdfResolveQuadPattern.sourceIds, new Map())\n      // Set the default logger if none is provided\n      .setDefault(KeysCore.log, this.actorInitQuery.logger);\n\n    // Pre-processing the context\n    actionContext = (await this.actorInitQuery.mediatorContextPreprocess.mediate({ context: actionContext })).context;\n\n    // Determine explain mode\n    const explainMode: QueryExplainMode = actionContext.get(KeysInitQuery.explain)!;\n\n    // Parse query\n    let operation: Algebra.Operation;\n    if (typeof query === 'string') {\n      // Save the original query string in the context\n      actionContext = actionContext.set(KeysInitQuery.queryString, query);\n\n      const queryParseOutput = await this.actorInitQuery.mediatorQueryParse\n        .mediate({ context: actionContext, query, queryFormat, baseIRI });\n      operation = queryParseOutput.operation;\n      // Update the baseIRI in the context if the query modified it.\n      if (queryParseOutput.baseIRI) {\n        actionContext = actionContext.set(KeysInitQuery.baseIRI, queryParseOutput.baseIRI);\n      }\n    } else {\n      operation = query;\n    }\n\n    // Print parsed query\n    if (explainMode === 'parsed') {\n      return {\n        explain: true,\n        type: explainMode,\n        data: operation,\n      };\n    }\n\n    // Apply initial bindings in context\n    if (actionContext.has(KeysInitQuery.initialBindings)) {\n      operation = materializeOperation(operation, actionContext.get(KeysInitQuery.initialBindings)!);\n\n      // Delete the query string from the context, since our initial query might have changed\n      actionContext = actionContext.delete(KeysInitQuery.queryString);\n    }\n\n    // Optimize the query operation\n    const mediatorResult = await this.actorInitQuery.mediatorOptimizeQueryOperation\n      .mediate({ context: actionContext, operation });\n    operation = mediatorResult.operation;\n    actionContext = mediatorResult.context || actionContext;\n\n    // Print logical query plan\n    if (explainMode === 'logical') {\n      return {\n        explain: true,\n        type: explainMode,\n        data: operation,\n      };\n    }\n\n    // Save original query in context\n    actionContext = actionContext.set(KeysInitQuery.query, operation);\n\n    // If we need a physical query plan, store a physical query plan logger in the context, and collect it after exec\n    let physicalQueryPlanLogger: IPhysicalQueryPlanLogger | undefined;\n    if (explainMode === 'physical') {\n      physicalQueryPlanLogger = new MemoryPhysicalQueryPlanLogger();\n      actionContext = actionContext.set(KeysInitQuery.physicalQueryPlanLogger, physicalQueryPlanLogger);\n    }\n\n    // Execute query\n    const output = await this.actorInitQuery.mediatorQueryOperation.mediate({\n      context: actionContext,\n      operation,\n    });\n    output.context = actionContext;\n\n    const finalOutput = QueryEngineBase.internalToFinalResult(output);\n\n    // Output physical query plan after query exec if needed\n    if (physicalQueryPlanLogger) {\n      // Make sure the whole result is produced\n      switch (finalOutput.resultType) {\n        case 'bindings':\n          await (await finalOutput.execute()).toArray();\n          break;\n        case 'quads':\n          await (await finalOutput.execute()).toArray();\n          break;\n        case 'boolean':\n          await finalOutput.execute();\n          break;\n        case 'void':\n          await finalOutput.execute();\n          break;\n      }\n\n      return {\n        explain: true,\n        type: explainMode,\n        data: physicalQueryPlanLogger.toJson(),\n      };\n    }\n\n    return finalOutput;\n  }\n\n  /**\n   * @param context An optional context.\n   * @return {Promise<{[p: string]: number}>} All available SPARQL (weighted) result media types.\n   */\n  public async getResultMediaTypes(context?: any): Promise<Record<string, number>> {\n    context = ActionContext.ensureActionContext(context);\n    return (await this.actorInitQuery.mediatorQueryResultSerializeMediaTypeCombiner\n      .mediate({ context, mediaTypes: true })).mediaTypes;\n  }\n\n  /**\n   * @param context An optional context.\n   * @return {Promise<{[p: string]: number}>} All available SPARQL result media type formats.\n   */\n  public async getResultMediaTypeFormats(context?: any): Promise<Record<string, string>> {\n    context = ActionContext.ensureActionContext(context);\n    return (await this.actorInitQuery.mediatorQueryResultSerializeMediaTypeFormatCombiner\n      .mediate({ context, mediaTypeFormats: true })).mediaTypeFormats;\n  }\n\n  /**\n   * Convert a query result to a string stream based on a certain media type.\n   * @param {IQueryOperationResult} queryResult A query result.\n   * @param {string} mediaType A media type.\n   * @param {ActionContext} context An optional context.\n   * @return {Promise<IActorQueryResultSerializeOutput>} A text stream.\n   */\n  public async resultToString(queryResult: RDF.Query<any>, mediaType?: string, context?: any):\n  Promise<IActorQueryResultSerializeOutput> {\n    context = ActionContext.ensureActionContext(context);\n    if (!mediaType) {\n      switch (queryResult.resultType) {\n        case 'bindings':\n          mediaType = 'application/json';\n          break;\n        case 'quads':\n          mediaType = 'application/trig';\n          break;\n        default:\n          mediaType = 'simple';\n          break;\n      }\n    }\n    const handle: IActionSparqlSerialize = { ...await QueryEngineBase.finalToInternalResult(queryResult), context };\n    return (await this.actorInitQuery.mediatorQueryResultSerialize\n      .mediate({ context, handle, handleMediaType: mediaType })).handle;\n  }\n\n  /**\n   * Invalidate all internal caches related to the given page URL.\n   * If no page URL is given, then all pages will be invalidated.\n   * @param {string} url The page URL to invalidate.\n   * @param context An optional ActionContext to pass to the actors.\n   * @return {Promise<any>} A promise resolving when the caches have been invalidated.\n   */\n  public invalidateHttpCache(url?: string, context?: any): Promise<any> {\n    context = ActionContext.ensureActionContext(context);\n    return this.actorInitQuery.mediatorHttpInvalidate.mediate({ url, context });\n  }\n\n  /**\n   * Convert an internal query result to a final one.\n   * @param internalResult An intermediary query result.\n   */\n  public static internalToFinalResult(internalResult: IQueryOperationResult): QueryType {\n    switch (internalResult.type) {\n      case 'bindings':\n        return {\n          resultType: 'bindings',\n          execute: async() => internalResult.bindingsStream,\n          metadata: async() => <any> await internalResult.metadata(),\n          context: internalResult.context,\n        };\n      case 'quads':\n        return {\n          resultType: 'quads',\n          execute: async() => internalResult.quadStream,\n          metadata: async() => <any> await internalResult.metadata(),\n          context: internalResult.context,\n        };\n      case 'boolean':\n        return {\n          resultType: 'boolean',\n          execute: async() => internalResult.execute(),\n          context: internalResult.context,\n        };\n      case 'void':\n        return {\n          resultType: 'void',\n          execute: async() => internalResult.execute(),\n          context: internalResult.context,\n        };\n    }\n  }\n\n  /**\n   * Convert a final query result to an internal one.\n   * @param finalResult A final query result.\n   */\n  public static async finalToInternalResult(finalResult: RDF.Query<any>): Promise<IQueryOperationResult> {\n    switch (finalResult.resultType) {\n      case 'bindings':\n        return {\n          type: 'bindings',\n          bindingsStream: <BindingsStream> await finalResult.execute(),\n          metadata: async() => <any> await finalResult.metadata(),\n        };\n      case 'quads':\n        return {\n          type: 'quads',\n          quadStream: <AsyncIterator<RDF.Quad>> await finalResult.execute(),\n          metadata: async() => <any> await finalResult.metadata(),\n        };\n      case 'boolean':\n        return {\n          type: 'boolean',\n          execute: () => finalResult.execute(),\n        };\n      case 'void':\n        return {\n          type: 'void',\n          execute: () => finalResult.execute(),\n        };\n    }\n  }\n}\n","import type {\n  IActionOptimizeQueryOperation,\n  IActorOptimizeQueryOperationOutput,\n} from '@comunica/bus-optimize-query-operation';\nimport { ActorOptimizeQueryOperation } from '@comunica/bus-optimize-query-operation';\nimport type { IActorTest } from '@comunica/core';\nimport type { Algebra, Factory } from 'sparqlalgebrajs';\nimport { Util } from 'sparqlalgebrajs';\n\n/**\n * A comunica BGP to Join Optimize Query Operation Actor.\n */\nexport class ActorOptimizeQueryOperationBgpToJoin extends ActorOptimizeQueryOperation {\n  public async test(action: IActionOptimizeQueryOperation): Promise<IActorTest> {\n    return true;\n  }\n\n  public async run(action: IActionOptimizeQueryOperation): Promise<IActorOptimizeQueryOperationOutput> {\n    const operation = Util.mapOperation(action.operation, {\n      bgp(op: Algebra.Bgp, factory: Factory) {\n        return {\n          recurse: false,\n          result: factory.createJoin(op.patterns),\n        };\n      },\n    });\n    return { operation, context: action.context };\n  }\n}\n","import type { IActionOptimizeQueryOperation,\n  IActorOptimizeQueryOperationOutput } from '@comunica/bus-optimize-query-operation';\nimport { ActorOptimizeQueryOperation } from '@comunica/bus-optimize-query-operation';\nimport type { IActorTest } from '@comunica/core';\nimport type { Algebra, Factory } from 'sparqlalgebrajs';\nimport { Util } from 'sparqlalgebrajs';\n\n/**\n * A comunica Join BGP Optimize Query Operation Actor.\n */\nexport class ActorOptimizeQueryOperationJoinBgp extends ActorOptimizeQueryOperation {\n  public async test(action: IActionOptimizeQueryOperation): Promise<IActorTest> {\n    return true;\n  }\n\n  public async run(action: IActionOptimizeQueryOperation): Promise<IActorOptimizeQueryOperationOutput> {\n    const operation = Util.mapOperation(action.operation, {\n      join(op: Algebra.Join, factory: Factory) {\n        if (op.input.every(subInput => subInput.type === 'bgp')) {\n          return {\n            recurse: false,\n            result: factory.createBgp(op.input.flatMap(subInput => subInput.patterns)),\n          };\n        }\n        return {\n          recurse: false,\n          result: op,\n        };\n      },\n    });\n    return { operation, context: action.context };\n  }\n}\n","import type {\n  IActionOptimizeQueryOperation,\n  IActorOptimizeQueryOperationOutput,\n} from '@comunica/bus-optimize-query-operation';\nimport { ActorOptimizeQueryOperation } from '@comunica/bus-optimize-query-operation';\nimport type { IActorTest } from '@comunica/core';\nimport type { Algebra, Factory } from 'sparqlalgebrajs';\nimport { Util } from 'sparqlalgebrajs';\n\n/**\n * A comunica Join Connected Optimize Query Operation Actor.\n */\nexport class ActorOptimizeQueryOperationJoinConnected extends ActorOptimizeQueryOperation {\n  public async test(action: IActionOptimizeQueryOperation): Promise<IActorTest> {\n    return true;\n  }\n\n  public async run(action: IActionOptimizeQueryOperation): Promise<IActorOptimizeQueryOperationOutput> {\n    const operation = Util.mapOperation(action.operation, {\n      join(op: Algebra.Join, factory: Factory) {\n        return {\n          recurse: false,\n          result: ActorOptimizeQueryOperationJoinConnected.cluster(op, factory),\n        };\n      },\n    });\n    return { operation, context: action.context };\n  }\n\n  /**\n   * Iteratively cluster join entries based on their overlapping variables.\n   * @param op A join operation.\n   * @param factory An algebra factory.\n   */\n  public static cluster(op: Algebra.Join, factory: Factory): Algebra.Join {\n    // Initialize each entry to be in a separate cluster\n    const initialClusters: IJoinCluster[] = op.input.map(subOp => ({\n      inScopeVariables: Object.fromEntries(Util.inScopeVariables(subOp).map(variable => [ variable.value, true ])),\n      entries: [ subOp ],\n    }));\n\n    // Iteratively merge clusters until they don't change anymore\n    let oldClusters: IJoinCluster[];\n    let newClusters: IJoinCluster[] = initialClusters;\n    do {\n      oldClusters = newClusters;\n      newClusters = ActorOptimizeQueryOperationJoinConnected.clusterIteration(oldClusters);\n    } while (oldClusters.length !== newClusters.length);\n\n    // Create new join operation of latest clusters\n    const subJoins = newClusters.map(cluster => factory.createJoin(cluster.entries));\n    return subJoins.length === 1 ? subJoins[0] : factory.createJoin(subJoins, false);\n  }\n\n  /**\n   * Perform a single clustering iteration.\n   * Clusters will be joined if they have overlapping variables.\n   * @param oldCluster\n   */\n  public static clusterIteration(oldCluster: IJoinCluster[]): IJoinCluster[] {\n    const newClusters: IJoinCluster[] = [];\n\n    for (const entry of oldCluster) {\n      // Try to add entry to a join cluster\n      let joined = false;\n      for (const newEntry of newClusters) {\n        if (ActorOptimizeQueryOperationJoinConnected\n          .haveOverlappingVariables(entry.inScopeVariables, newEntry.inScopeVariables)) {\n          newEntry.entries = [ ...newEntry.entries, ...entry.entries ];\n          newEntry.inScopeVariables = { ...newEntry.inScopeVariables, ...entry.inScopeVariables };\n          joined = true;\n          break;\n        }\n      }\n\n      // If none was found, create new cluster\n      if (!joined) {\n        newClusters.push({\n          inScopeVariables: entry.inScopeVariables,\n          entries: entry.entries,\n        });\n      }\n    }\n\n    return newClusters;\n  }\n\n  /**\n   * Check if the two given variable objects are overlapping.\n   * @param variablesA A variables objects.\n   * @param variablesB A variables objects.\n   */\n  public static haveOverlappingVariables(\n    variablesA: Record<string, boolean>,\n    variablesB: Record<string, boolean>,\n  ): boolean {\n    for (const variableA of Object.keys(variablesA)) {\n      if (variablesB[variableA]) {\n        return true;\n      }\n    }\n    return false;\n  }\n}\n\n/**\n * A cluster of join entries.\n */\nexport interface IJoinCluster {\n  /**\n   * Union of all variables in scope within the join entries.\n   */\n  inScopeVariables: Record<string, boolean>;\n  /**\n   * Join entries\n   */\n  entries: Algebra.Operation[];\n}\n","import type { IActorQueryOperationTypedMediatedArgs } from '@comunica/bus-query-operation';\nimport { ActorQueryOperation, ActorQueryOperationTypedMediated } from '@comunica/bus-query-operation';\nimport type { IActorTest } from '@comunica/core';\nimport type {\n  IActionContext,\n  IQueryOperationResult,\n  IQueryOperationResultBindings,\n} from '@comunica/types';\nimport type { Algebra } from 'sparqlalgebrajs';\n\n/**\n * A comunica Ask Query Operation Actor.\n */\nexport class ActorQueryOperationAsk extends ActorQueryOperationTypedMediated<Algebra.Ask> {\n  public constructor(args: IActorQueryOperationTypedMediatedArgs) {\n    super(args, 'ask');\n  }\n\n  public async testOperation(operation: Algebra.Ask, context: IActionContext): Promise<IActorTest> {\n    return true;\n  }\n\n  public async runOperation(operation: Algebra.Ask, context: IActionContext): Promise<IQueryOperationResult> {\n    // Call other query operations like this:\n    const output: IQueryOperationResult = await this.mediatorQueryOperation.mediate(\n      { operation: operation.input, context },\n    );\n    const { bindingsStream }: IQueryOperationResultBindings = ActorQueryOperation.getSafeBindings(output);\n    return { type: 'boolean', execute: async() => (await bindingsStream.take(1).toArray()).length === 1 };\n  }\n}\n","import type { IActorQueryOperationTypedMediatedArgs } from '@comunica/bus-query-operation';\nimport { ActorQueryOperationTypedMediated } from '@comunica/bus-query-operation';\nimport type { IActorTest } from '@comunica/core';\nimport type { IActionContext, IQueryOperationResult } from '@comunica/types';\nimport { Factory } from 'sparqlalgebrajs';\nimport type { Algebra } from 'sparqlalgebrajs';\n\n/**\n * A [Query Operation](https://github.com/comunica/comunica/tree/master/packages/bus-query-operation) actor\n * that handles SPARQL BGP operations by rewriting it as a join operator.\n */\nexport class ActorQueryOperationBgpJoin extends ActorQueryOperationTypedMediated<Algebra.Bgp> {\n  public static readonly FACTORY = new Factory();\n\n  public constructor(args: IActorQueryOperationTypedMediatedArgs) {\n    super(args, 'bgp');\n  }\n\n  public async testOperation(operation: Algebra.Bgp, context: IActionContext): Promise<IActorTest> {\n    return true;\n  }\n\n  public async runOperation(operation: Algebra.Bgp, context: IActionContext):\n  Promise<IQueryOperationResult> {\n    return this.mediatorQueryOperation.mediate({\n      operation: ActorQueryOperationBgpJoin.FACTORY.createJoin(operation.patterns),\n      context,\n    });\n  }\n}\n","import type { IActorQueryOperationTypedMediatedArgs } from '@comunica/bus-query-operation';\nimport {\n  ActorQueryOperation,\n  ActorQueryOperationTypedMediated,\n} from '@comunica/bus-query-operation';\nimport { KeysQueryOperation } from '@comunica/context-entries';\nimport type { IActorTest } from '@comunica/core';\nimport type { IQueryOperationResultBindings, IActionContext, IQueryOperationResult,\n  MetadataQuads } from '@comunica/types';\nimport type * as RDF from '@rdfjs/types';\nimport type { AsyncIterator } from 'asynciterator';\nimport { getTerms, getVariables, uniqTerms } from 'rdf-terms';\nimport { Algebra } from 'sparqlalgebrajs';\nimport { BindingsToQuadsIterator } from './BindingsToQuadsIterator';\n\n/**\n * A comunica Construct Query Operation Actor.\n */\nexport class ActorQueryOperationConstruct extends ActorQueryOperationTypedMediated<Algebra.Construct> {\n  public constructor(args: IActorQueryOperationTypedMediatedArgs) {\n    super(args, 'construct');\n  }\n\n  /**\n   * Find all variables in a list of triple patterns.\n   * @param {Algebra.Pattern[]} patterns An array of triple patterns.\n   * @return {RDF.Variable[]} The variables in the triple patterns.\n   */\n  public static getVariables(patterns: RDF.BaseQuad[]): RDF.Variable[] {\n    return uniqTerms((<RDF.Variable[]> []).concat\n      .apply([], patterns.map(pattern => getVariables(getTerms(pattern)))));\n  }\n\n  public async testOperation(operation: Algebra.Construct, context: IActionContext): Promise<IActorTest> {\n    return true;\n  }\n\n  public async runOperation(operationOriginal: Algebra.Construct, context: IActionContext):\n  Promise<IQueryOperationResult> {\n    // Apply a projection on our CONSTRUCT variables first, as the query may contain other variables as well.\n    const variables: RDF.Variable[] = ActorQueryOperationConstruct.getVariables(operationOriginal.template);\n    const operation: Algebra.Operation = { type: Algebra.types.PROJECT, input: operationOriginal.input, variables };\n\n    // Evaluate the input query\n    const output: IQueryOperationResultBindings = ActorQueryOperation.getSafeBindings(\n      await this.mediatorQueryOperation.mediate({ operation, context }),\n    );\n\n    // Check if we apply blank node localization.\n    // The context dictate it's application.\n    // If it is not provided will apply the localization by default.\n    const localizeBlankNodesFromContext = context.get(KeysQueryOperation.localizeBlankNodes);\n    const localizeBlankNodes = localizeBlankNodesFromContext !== undefined ?\n    <boolean> localizeBlankNodesFromContext :\n      true;\n\n    // Construct triples using the result based on the pattern.\n    // If it's a DESCRIBE query don't apply the blank node localisation.\n    const quadStream: AsyncIterator<RDF.Quad> = new BindingsToQuadsIterator(\n      operationOriginal.template,\n      output.bindingsStream,\n      localizeBlankNodes,\n    );\n\n    // Let the final metadata contain the estimated number of triples\n    const metadata: (() => Promise<MetadataQuads>) = () => output.metadata().then(meta => ({\n      ...meta,\n      order: undefined,\n      cardinality: {\n        type: meta.cardinality.type,\n        value: meta.cardinality.value * operationOriginal.template.length,\n      },\n      canContainUndefs: false,\n      availableOrders: undefined,\n    }));\n\n    return {\n      metadata,\n      quadStream,\n      type: 'quads',\n    };\n  }\n}\n","import type { Bindings, BindingsStream } from '@comunica/types';\nimport type * as RDF from '@rdfjs/types';\nimport type { AsyncIterator } from 'asynciterator';\nimport { ArrayIterator, MultiTransformIterator } from 'asynciterator';\nimport { DataFactory } from 'rdf-data-factory';\nimport { mapTerms } from 'rdf-terms';\nconst DF = new DataFactory();\n\n/**\n * Transforms a bindings stream into a quad stream given a quad template.\n *\n * This conforms to the SPARQL 1.1 spec on constructing triples:\n * https://www.w3.org/TR/sparql11-query/#rConstructTriples\n */\nexport class BindingsToQuadsIterator extends MultiTransformIterator<Bindings, RDF.Quad> {\n  protected readonly template: RDF.BaseQuad[];\n  protected readonly localizeBlankNodes: boolean;\n  protected blankNodeCounter: number;\n\n  public constructor(template: RDF.BaseQuad[], bindingsStream: BindingsStream, localizeBlankNodes = true) {\n    super(bindingsStream, { autoStart: false });\n    this.template = template;\n    this.localizeBlankNodes = localizeBlankNodes;\n    this.blankNodeCounter = 0;\n  }\n\n  /**\n   * Bind the given term.\n   * If the term is a variable and the variable is bound in the bindings object,\n   * return the bindings value.\n   * If the term is a variable and the variable is not bound in the bindings object,\n   * a falsy value is returned..\n   * Otherwise, the term itself is returned.\n   * @param {Bindings}  bindings A bindings object.\n   * @param {RDF.Term}  term     An RDF term.\n   * @return {RDF.Term}          If the given term is not a variable, the term itself is returned.\n   *                             If the given term is a variable, then the bound term is returned,\n   *                             or a falsy value if it did not exist in the bindings.\n   */\n  public static bindTerm(bindings: Bindings, term: RDF.Term): RDF.Term | undefined {\n    if (term.termType === 'Variable') {\n      return bindings.get(term);\n    }\n    return term;\n  }\n\n  /**\n   * Bind the given quad pattern.\n   * If one of the terms was a variable AND is not bound in the bindings,\n   * a falsy value will be returned.\n   * @param {Bindings} bindings A bindings object.\n   * @param {RDF.Quad} pattern  An RDF quad.\n   * @return {RDF.Quad}         A bound RDF quad or undefined.\n   */\n  public static bindQuad(bindings: Bindings, pattern: RDF.BaseQuad): RDF.Quad | undefined {\n    try {\n      return mapTerms(<RDF.Quad> pattern, term => {\n        const boundTerm = BindingsToQuadsIterator.bindTerm(bindings, term);\n        if (!boundTerm) {\n          throw new Error('Unbound term');\n        }\n        return boundTerm;\n      });\n    } catch {\n      // Do nothing\n    }\n  }\n\n  /**\n   * Convert a blank node to a unique blank node in the given context.\n   * If the given term is not a blank node, the term itself will be returned.\n   * @param             blankNodeCounter A counter value for the blank node.\n   * @param {RDF.Term}  term             The term that should be localized.\n   * @return {RDF.Term}                  A term.\n   */\n  public static localizeBlankNode(blankNodeCounter: number,\n    term: RDF.Term): RDF.Term {\n    if (term.termType === 'BlankNode') {\n      return DF.blankNode(`${term.value}${blankNodeCounter}`);\n    }\n    return term;\n  }\n\n  /**\n   * Convert the given quad to a quad that only contains unique blank nodes.\n   * @param            blankNodeCounter A counter value for the blank node.\n   * @param {RDF.BaseQuad} pattern          The pattern that should be localized.\n   * @return {RDF.BaseQuad}                 A quad.\n   */\n  public static localizeQuad(blankNodeCounter: number,\n    pattern: RDF.BaseQuad): RDF.BaseQuad {\n    return mapTerms(pattern, term => BindingsToQuadsIterator.localizeBlankNode(blankNodeCounter, term));\n  }\n\n  /**\n   * Convert the given template to a list of quads based on the given bindings.\n   * @param {Bindings}    bindings           A bindings object.\n   * @param {RDF.Quad[]}  template           A list of quad patterns.\n   * @param               blankNodeCounter   A counter value for the blank node.\n   * @return {RDF.Quad[]}                    A list of quads.\n   */\n  public bindTemplate(bindings: Bindings, template: RDF.BaseQuad[], blankNodeCounter: number): RDF.Quad[] {\n    let quads: RDF.BaseQuad[] = <RDF.BaseQuad[]> template\n      // Bind variables to bound terms\n      .map(x => BindingsToQuadsIterator.bindQuad.bind(null, bindings)(x))\n      // Remove quads that contained unbound terms, i.e., variables.\n      .filter(Boolean);\n    if (this.localizeBlankNodes) {\n      // Make sure the multiple instantiations of the template contain different blank nodes, as required by SPARQL 1.1.\n      quads = quads.map(BindingsToQuadsIterator.localizeQuad.bind(null, blankNodeCounter));\n    }\n    return <RDF.Quad[]> quads;\n  }\n\n  public _createTransformer(bindings: Bindings): AsyncIterator<RDF.Quad> {\n    return new ArrayIterator(this.bindTemplate(\n      bindings, this.template, this.blankNodeCounter++,\n    ));\n  }\n}\n","import { ActorQueryOperationUnion } from '@comunica/actor-query-operation-union';\nimport type { IActorQueryOperationTypedMediatedArgs } from '@comunica/bus-query-operation';\nimport {\n  ActorQueryOperation, ActorQueryOperationTypedMediated,\n} from '@comunica/bus-query-operation';\nimport { KeysQueryOperation } from '@comunica/context-entries';\nimport type { IActorTest } from '@comunica/core';\nimport type { IQueryOperationResultQuads, IActionContext, IQueryOperationResult, MetadataQuads } from '@comunica/types';\nimport type * as RDF from '@rdfjs/types';\nimport { UnionIterator } from 'asynciterator';\nimport { DataFactory } from 'rdf-data-factory';\nimport { Algebra } from 'sparqlalgebrajs';\nconst DF = new DataFactory<RDF.BaseQuad>();\n\n/**\n * A comunica Describe Subject Query Operation Actor.\n */\nexport class ActorQueryOperationDescribeSubject extends ActorQueryOperationTypedMediated<Algebra.Describe> {\n  public constructor(args: IActorQueryOperationTypedMediatedArgs) {\n    super(args, 'describe');\n  }\n\n  public async testOperation(operation: Algebra.Describe, context: IActionContext): Promise<IActorTest> {\n    return true;\n  }\n\n  public async runOperation(operationOriginal: Algebra.Describe, context: IActionContext):\n  Promise<IQueryOperationResult> {\n    // Create separate construct queries for all non-variable terms\n    const operations: Algebra.Construct[] = operationOriginal.terms\n      .filter(term => term.termType !== 'Variable')\n      .map((term: RDF.Term) => {\n        // Transform each term to a separate construct operation with S ?p ?o patterns (BGP) for all terms\n        const patterns: RDF.BaseQuad[] = [\n          DF.quad(term, DF.variable('__predicate'), DF.variable('__object')),\n        ];\n        // eslint-disable-next-line no-return-assign\n        patterns.forEach((templatePattern: any) => templatePattern.type = 'pattern');\n        const templateOperation: Algebra.Operation = {\n          type: Algebra.types.BGP,\n          patterns: <Algebra.Pattern[]> patterns,\n        };\n\n        // Create a construct query\n        return <Algebra.Construct> {\n          input: templateOperation,\n          template: <Algebra.Pattern[]> patterns,\n          type: 'construct',\n        };\n      });\n\n    // If we have variables in the term list,\n    // create one separate construct operation to determine these variables using the input pattern.\n    if (operations.length !== operationOriginal.terms.length) {\n      let variablePatterns: Algebra.Pattern[] = [];\n      operationOriginal.terms\n        .filter(term => term.termType === 'Variable')\n        .forEach((term: RDF.Term, i: number) => {\n          // Transform each term to an S ?p ?o pattern in a non-conflicting way\n          const patterns: RDF.BaseQuad[] = [\n            DF.quad(term, DF.variable(`__predicate${i}`), DF.variable(`__object${i}`)),\n          ];\n          // eslint-disable-next-line no-return-assign\n          patterns.forEach((templatePattern: any) => templatePattern.type = 'pattern');\n          variablePatterns = [ ...variablePatterns, ...<Algebra.Pattern[]> patterns ];\n        });\n\n      // Add a single construct for the variables\n      // This requires a join between the input pattern and our variable patterns that form a simple BGP\n      operations.push({\n        input: {\n          type: Algebra.types.JOIN,\n          input: [\n            operationOriginal.input,\n            { type: Algebra.types.BGP, patterns: variablePatterns },\n          ],\n        },\n        template: variablePatterns,\n        type: Algebra.types.CONSTRUCT,\n      });\n    }\n\n    // Set the blank node localization\n    // If it was not provided by the context it will set to false and added into the context\n    const localizeBlankNode = context.get(KeysQueryOperation.localizeBlankNodes);\n    context = context.set(KeysQueryOperation.localizeBlankNodes, localizeBlankNode !== undefined ?\n      <boolean> localizeBlankNode :\n      false);\n    // Evaluate the construct queries\n    const outputs: IQueryOperationResultQuads[] = (await Promise.all(operations.map(\n      operation => this.mediatorQueryOperation.mediate({ operation, context }),\n    )))\n      .map(ActorQueryOperation.getSafeQuads);\n\n    // Take the union of all quad streams\n    const quadStream = new UnionIterator(outputs.map(output => output.quadStream), { autoStart: false });\n\n    // Take union of metadata\n    const metadata: () => Promise<MetadataQuads> = () => Promise.all(outputs\n      .map(x => x.metadata()))\n      .then(metadatas => ActorQueryOperationUnion.unionMetadata(metadatas, false));\n\n    return { type: 'quads', quadStream, metadata };\n  }\n}\n","import type { MediatorHashBindings } from '@comunica/bus-hash-bindings';\nimport type { IActorQueryOperationTypedMediatedArgs } from '@comunica/bus-query-operation';\nimport {\n  ActorQueryOperation,\n  ActorQueryOperationTypedMediated,\n} from '@comunica/bus-query-operation';\nimport type { IActorTest } from '@comunica/core';\nimport type { Bindings, BindingsStream, IActionContext,\n  IQueryOperationResult, IQueryOperationResultBindings } from '@comunica/types';\nimport type { Algebra } from 'sparqlalgebrajs';\n\n/**\n * A comunica Distinct Hash Query Operation Actor.\n */\nexport class ActorQueryOperationDistinctHash extends ActorQueryOperationTypedMediated<Algebra.Distinct> {\n  public readonly mediatorHashBindings: MediatorHashBindings;\n\n  public constructor(args: IActorQueryOperationDistinctHashArgs) {\n    super(args, 'distinct');\n  }\n\n  public async testOperation(operation: Algebra.Distinct, context: IActionContext): Promise<IActorTest> {\n    return true;\n  }\n\n  public async runOperation(operation: Algebra.Distinct, context: IActionContext): Promise<IQueryOperationResult> {\n    const output: IQueryOperationResultBindings = ActorQueryOperation.getSafeBindings(\n      await this.mediatorQueryOperation.mediate({ operation: operation.input, context }),\n    );\n    const bindingsStream: BindingsStream = output.bindingsStream.filter(await this.newHashFilter(context));\n    return {\n      type: 'bindings',\n      bindingsStream,\n      metadata: output.metadata,\n    };\n  }\n\n  /**\n   * Create a new distinct filter function.\n   * This will maintain an internal hash datastructure so that every bindings object only returns true once.\n   * @param context The action context.\n   * @return {(bindings: Bindings) => boolean} A distinct filter for bindings.\n   */\n  public async newHashFilter(context: IActionContext): Promise<(bindings: Bindings) => boolean> {\n    const { hashFunction } = await this.mediatorHashBindings.mediate({ allowHashCollisions: true, context });\n    const hashes: Record<string, boolean> = {};\n    return (bindings: Bindings) => {\n      const hash: string = hashFunction(bindings);\n      // eslint-disable-next-line no-return-assign\n      return !(hash in hashes) && (hashes[hash] = true);\n    };\n  }\n}\n\nexport interface IActorQueryOperationDistinctHashArgs extends IActorQueryOperationTypedMediatedArgs {\n  mediatorHashBindings: MediatorHashBindings;\n}\n","import { bindingsToString } from '@comunica/bindings-factory';\nimport type { IActorQueryOperationTypedMediatedArgs } from '@comunica/bus-query-operation';\nimport {\n  ActorQueryOperation, ActorQueryOperationTypedMediated,\n} from '@comunica/bus-query-operation';\nimport type { IActorTest } from '@comunica/core';\nimport type { Bindings, IActionContext, IQueryOperationResult, IQueryOperationResultBindings } from '@comunica/types';\nimport type { Algebra } from 'sparqlalgebrajs';\nimport { AsyncEvaluator, isExpressionError } from 'sparqlee';\n\n/**\n * A comunica Extend Query Operation Actor.\n *\n * See https://www.w3.org/TR/sparql11-query/#sparqlAlgebra;\n */\nexport class ActorQueryOperationExtend extends ActorQueryOperationTypedMediated<Algebra.Extend> {\n  public constructor(args: IActorQueryOperationTypedMediatedArgs) {\n    super(args, 'extend');\n  }\n\n  public async testOperation(operation: Algebra.Extend, context: IActionContext): Promise<IActorTest> {\n    // Will throw error for unsupported opperations\n    const _ = Boolean(new AsyncEvaluator(operation.expression,\n      ActorQueryOperation.getAsyncExpressionContext(context, this.mediatorQueryOperation)));\n    return true;\n  }\n\n  public async runOperation(operation: Algebra.Extend, context: IActionContext):\n  Promise<IQueryOperationResult> {\n    const { expression, input, variable } = operation;\n\n    const output: IQueryOperationResultBindings = ActorQueryOperation.getSafeBindings(\n      await this.mediatorQueryOperation.mediate({ operation: input, context }),\n    );\n\n    const config = { ...ActorQueryOperation.getAsyncExpressionContext(context, this.mediatorQueryOperation) };\n    const evaluator = new AsyncEvaluator(expression, config);\n\n    // Transform the stream by extending each Bindings with the expression result\n    const transform = async(bindings: Bindings, next: any, push: (pusbBindings: Bindings) => void): Promise<void> => {\n      try {\n        const result = await evaluator.evaluate(bindings);\n        // Extend operation is undefined when the key already exists\n        // We just override it here.\n        const extended = bindings.set(variable, result);\n        push(extended);\n      } catch (error: unknown) {\n        if (isExpressionError(<Error> error)) {\n          // Errors silently don't actually extend according to the spec\n          push(bindings);\n          // But let's warn anyway\n          this.logWarn(context, `Expression error for extend operation with bindings '${bindingsToString(bindings)}'`);\n        } else {\n          bindingsStream.emit('error', error);\n        }\n      }\n      next();\n    };\n\n    const bindingsStream = output.bindingsStream.transform<Bindings>({ autoStart: false, transform });\n    return {\n      type: 'bindings',\n      bindingsStream,\n      async metadata() {\n        const outputMetadata = await output.metadata();\n        return { ...outputMetadata, variables: [ ...outputMetadata.variables, variable ]};\n      },\n    };\n  }\n}\n","import { bindingsToString } from '@comunica/bindings-factory';\nimport type { IActorQueryOperationTypedMediatedArgs } from '@comunica/bus-query-operation';\nimport {\n  ActorQueryOperation,\n  ActorQueryOperationTypedMediated,\n} from '@comunica/bus-query-operation';\nimport type { IActorTest } from '@comunica/core';\nimport type { Bindings, IActionContext, IQueryOperationResult } from '@comunica/types';\nimport type { Algebra } from 'sparqlalgebrajs';\nimport { AsyncEvaluator, isExpressionError } from 'sparqlee';\n\n/**\n * A comunica Filter Sparqlee Query Operation Actor.\n */\nexport class ActorQueryOperationFilterSparqlee extends ActorQueryOperationTypedMediated<Algebra.Filter> {\n  public constructor(args: IActorQueryOperationTypedMediatedArgs) {\n    super(args, 'filter');\n  }\n\n  public async testOperation(operation: Algebra.Filter, context: IActionContext): Promise<IActorTest> {\n    // Will throw error for unsupported operators\n    const config = { ...ActorQueryOperation.getAsyncExpressionContext(context, this.mediatorQueryOperation) };\n    const _ = new AsyncEvaluator(operation.expression, config);\n    return true;\n  }\n\n  public async runOperation(operation: Algebra.Filter, context: IActionContext):\n  Promise<IQueryOperationResult> {\n    const outputRaw = await this.mediatorQueryOperation.mediate({ operation: operation.input, context });\n    const output = ActorQueryOperation.getSafeBindings(outputRaw);\n    ActorQueryOperation.validateQueryOutput(output, 'bindings');\n\n    const config = { ...ActorQueryOperation.getAsyncExpressionContext(context, this.mediatorQueryOperation) };\n    const evaluator = new AsyncEvaluator(operation.expression, config);\n\n    const transform = async(item: Bindings, next: any, push: (bindings: Bindings) => void): Promise<void> => {\n      try {\n        const result = await evaluator.evaluateAsEBV(item);\n        if (result) {\n          push(item);\n        }\n      } catch (error: unknown) {\n        // We ignore all Expression errors.\n        // Other errors (likely programming mistakes) are still propagated.\n        //\n        // > Specifically, FILTERs eliminate any solutions that,\n        // > when substituted into the expression, either result in\n        // > an effective boolean value of false or produce an error.\n        // > ...\n        // > These errors have no effect outside of FILTER evaluation.\n        // https://www.w3.org/TR/sparql11-query/#expressions\n        if (isExpressionError(<Error> error)) {\n          // In many cases, this is a user error, where the user should manually cast the variable to a string.\n          // In order to help users debug this, we should report these errors via the logger as warnings.\n          this.logWarn(context, 'Error occurred while filtering.', () => ({ error, bindings: bindingsToString(item) }));\n        } else {\n          bindingsStream.emit('error', error);\n        }\n      }\n      next();\n    };\n\n    const bindingsStream = output.bindingsStream.transform<Bindings>({ transform });\n    return { type: 'bindings', bindingsStream, metadata: output.metadata };\n  }\n}\n","import type { IActorQueryOperationTypedMediatedArgs } from '@comunica/bus-query-operation';\nimport { ActorQueryOperationTypedMediated } from '@comunica/bus-query-operation';\nimport type { IActorTest } from '@comunica/core';\nimport type { IActionContext, IQueryOperationResult } from '@comunica/types';\nimport type * as RDF from '@rdfjs/types';\nimport { Algebra, Factory } from 'sparqlalgebrajs';\n\n/**\n * A comunica From Query Operation Actor.\n */\nexport class ActorQueryOperationFromQuad extends ActorQueryOperationTypedMediated<Algebra.From> {\n  private static readonly FACTORY: Factory = new Factory();\n  private static readonly ALGEBRA_TYPES: string[] = Object.keys(Algebra.types).map(key => (<any> Algebra.types)[key]);\n\n  public constructor(args: IActorQueryOperationTypedMediatedArgs) {\n    super(args, 'from');\n  }\n\n  /**\n   * Create a deep copy of the given operation.\n   * @param {Operation} operation An operation.\n   * @param {(subOperation: Operation) => Operation} recursiveCb A callback for recursive operation calls.\n   * @return {Operation} The copied operation.\n   */\n  public static copyOperation(operation: Algebra.Operation,\n    recursiveCb: (subOperation: Algebra.Operation) => Algebra.Operation): Algebra.Operation {\n    const copiedOperation: Algebra.Operation = <any> {};\n    for (const key of Object.keys(operation)) {\n      if (Array.isArray(operation[key]) && key !== 'template') {\n        // We exclude the 'template' entry, as we don't want to modify the template value of construct operations\n        if (key === 'variables') {\n          copiedOperation[key] = operation[key];\n        } else {\n          copiedOperation[key] = operation[key].map(recursiveCb);\n        }\n      } else if (ActorQueryOperationFromQuad.ALGEBRA_TYPES.includes(operation[key].type)) {\n        copiedOperation[key] = recursiveCb(operation[key]);\n      } else {\n        copiedOperation[key] = operation[key];\n      }\n    }\n    return copiedOperation;\n  }\n\n  /**\n   * Recursively transform the given operation to use the given graphs as default graph\n   * This will (possibly) create a new operation and not modify the given operation.\n   * @param {Operation} operation An operation.\n   * @param {RDF.Term[]} defaultGraphs Graph terms.\n   * @return {Operation} A new operation.\n   */\n  public static applyOperationDefaultGraph(operation: Algebra.Operation, defaultGraphs: RDF.Term[]): Algebra.Operation {\n    // If the operation is a BGP or Path, change the graph.\n    if ((operation.type === 'bgp' && operation.patterns.length > 0) ||\n      operation.type === 'path' ||\n      operation.type === 'pattern') {\n      if (operation.type === 'bgp') {\n        return ActorQueryOperationFromQuad.joinOperations(operation.patterns.map((pattern: Algebra.Pattern) => {\n          if (pattern.graph.termType !== 'DefaultGraph') {\n            return ActorQueryOperationFromQuad.FACTORY.createBgp([ pattern ]);\n          }\n          const bgps = defaultGraphs.map((graph: RDF.Term) =>\n            ActorQueryOperationFromQuad.FACTORY.createBgp([ ActorQueryOperationFromQuad.FACTORY\n              .createPattern(pattern.subject, pattern.predicate, pattern.object, graph) ]));\n          return ActorQueryOperationFromQuad.unionOperations(bgps);\n        }));\n      }\n      if (operation.graph.termType !== 'DefaultGraph') {\n        return operation;\n      }\n      const paths = defaultGraphs.map(\n        (graph: RDF.Term) => {\n          if (operation.type === 'path') {\n            return ActorQueryOperationFromQuad.FACTORY\n              .createPath(operation.subject, operation.predicate, operation.object, graph);\n          }\n          return ActorQueryOperationFromQuad.FACTORY\n            .createPattern(operation.subject, operation.predicate, operation.object, graph);\n        },\n      );\n      return ActorQueryOperationFromQuad.unionOperations(paths);\n    }\n\n    return ActorQueryOperationFromQuad.copyOperation(operation,\n      (subOperation: Algebra.Operation) => this.applyOperationDefaultGraph(subOperation, defaultGraphs));\n  }\n\n  /**\n   * Recursively transform the given operation to use the given graphs as named graph\n   * This will (possibly) create a new operation and not modify the given operation.\n   * @param {Operation} operation An operation.\n   * @param {RDF.Term[]} namedGraphs Graph terms.\n   * @param {RDF.Term[]} defaultGraphs Default graph terms.\n   * @return {Operation} A new operation.\n   */\n  public static applyOperationNamedGraph(operation: Algebra.Operation, namedGraphs: RDF.NamedNode[],\n    defaultGraphs: RDF.Term[]): Algebra.Operation {\n    // If the operation is a BGP or Path, change the graph.\n    if ((operation.type === 'bgp' && operation.patterns.length > 0) ||\n      operation.type === 'path' ||\n      operation.type === 'pattern') {\n      const patternGraph: RDF.Term = operation.type === 'bgp' ? operation.patterns[0].graph : operation.graph;\n      if (patternGraph.termType === 'DefaultGraph') {\n        // SPARQL spec (8.2) describes that when FROM NAMED's are used without a FROM, the default graph must be empty.\n        // The FROMs are transformed before this step to a named node, so this will not apply to this case anymore.\n        return { type: Algebra.types.BGP, patterns: []};\n      }\n      if (patternGraph.termType === 'Variable') {\n        if (namedGraphs.length === 1) {\n          const graph: RDF.NamedNode = namedGraphs[0];\n          // If the pattern graph is a variable, replace the graph and bind the variable using VALUES\n          const bindings: Record<string, RDF.Literal | RDF.NamedNode> = {};\n          bindings[`?${patternGraph.value}`] = graph;\n          const values: Algebra.Values = ActorQueryOperationFromQuad.FACTORY\n            .createValues([ patternGraph ], [ bindings ]);\n\n          let pattern: Algebra.Operation;\n          if (operation.type === 'bgp') {\n            pattern = ActorQueryOperationFromQuad.FACTORY\n              .createBgp(operation.patterns.map((pat: Algebra.Pattern) => ActorQueryOperationFromQuad.FACTORY\n                .createPattern(pat.subject, pat.predicate, pat.object, graph)));\n          } else if (operation.type === 'path') {\n            pattern = ActorQueryOperationFromQuad.FACTORY\n              .createPath(operation.subject, operation.predicate, operation.object, graph);\n          } else {\n            pattern = ActorQueryOperationFromQuad.FACTORY\n              .createPattern(operation.subject, operation.predicate, operation.object, graph);\n          }\n\n          return ActorQueryOperationFromQuad.FACTORY.createJoin([ values, pattern ]);\n        }\n        // If the pattern graph is a variable, take the union of the pattern applied to each available named graph\n        return ActorQueryOperationFromQuad.unionOperations(namedGraphs.map(\n          (graph: RDF.NamedNode) => ActorQueryOperationFromQuad.applyOperationNamedGraph(\n            operation, [ graph ], defaultGraphs,\n          ),\n        ));\n      }\n      // The pattern's graph is defined (including the default graphs)\n      const isNamedGraphAvailable: boolean = [ ...namedGraphs, ...defaultGraphs ].some(\n        (namedGraph: RDF.Term) => namedGraph.equals(patternGraph),\n      );\n      if (isNamedGraphAvailable) {\n        // Return the pattern as-is if the pattern's graph was selected in a FROM NAMED\n        return operation;\n      }\n      // No-op if the pattern's graph was not selected in a FROM NAMED.\n      return { type: Algebra.types.BGP, patterns: []};\n    }\n\n    return ActorQueryOperationFromQuad.copyOperation(operation,\n      (subOperation: Algebra.Operation) => this.applyOperationNamedGraph(subOperation, namedGraphs, defaultGraphs));\n  }\n\n  /**\n   * Transform the given array of operations into a join operation.\n   * @param {Operation[]} operations An array of operations, must contain at least one operation.\n   * @return {Join} A join operation.\n   */\n  public static joinOperations(operations: Algebra.Operation[]): Algebra.Operation {\n    if (operations.length === 1) {\n      return operations[0];\n    }\n    if (operations.length > 1) {\n      return ActorQueryOperationFromQuad.FACTORY.createJoin(operations);\n    }\n    throw new Error('A join can only be applied on at least one operation');\n  }\n\n  /**\n   * Transform the given array of operations into a union operation.\n   * @param {Operation[]} operations An array of operations, must contain at least one operation.\n   * @return {Union} A union operation.\n   */\n  public static unionOperations(operations: Algebra.Operation[]): Algebra.Operation {\n    if (operations.length === 1) {\n      return operations[0];\n    }\n    if (operations.length > 1) {\n      return ActorQueryOperationFromQuad.FACTORY.createUnion(operations);\n    }\n    throw new Error('A union can only be applied on at least one operation');\n  }\n\n  /**\n   * Transform an operation based on the default and named graphs in the pattern.\n   *\n   * FROM sets the default graph.\n   * If multiple are available, take the union of the operation for all of them at quad-pattern level.\n   *\n   * FROM NAMED indicates which named graphs are available.\n   * This will rewrite the query so that only triples from the given named graphs can be selected.\n   *\n   * @param {From} pattern A from operation.\n   * @return {Operation} The transformed operation.\n   */\n  public static createOperation(pattern: Algebra.From): Algebra.Operation {\n    let operation: Algebra.Operation = pattern.input;\n    if (pattern.default.length > 0) {\n      operation = ActorQueryOperationFromQuad.applyOperationDefaultGraph(operation, pattern.default);\n    }\n    if (pattern.named.length > 0 || pattern.default.length > 0) {\n      operation = ActorQueryOperationFromQuad.applyOperationNamedGraph(operation, pattern.named, pattern.default);\n    }\n    return operation;\n  }\n\n  public async testOperation(operation: Algebra.From, context: IActionContext): Promise<IActorTest> {\n    return true;\n  }\n\n  public async runOperation(\n    operationOriginal: Algebra.From,\n    context: IActionContext,\n  ): Promise<IQueryOperationResult> {\n    const operation: Algebra.Operation = ActorQueryOperationFromQuad.createOperation(operationOriginal);\n    return this.mediatorQueryOperation.mediate({ operation, context });\n  }\n}\n","import type { MediatorHashBindings } from '@comunica/bus-hash-bindings';\nimport type { IActorQueryOperationTypedMediatedArgs } from '@comunica/bus-query-operation';\nimport { ActorQueryOperation, ActorQueryOperationTypedMediated } from '@comunica/bus-query-operation';\nimport type { IActorTest } from '@comunica/core';\nimport type { IActionContext, IQueryOperationResult } from '@comunica/types';\nimport { ArrayIterator } from 'asynciterator';\nimport type { Algebra } from 'sparqlalgebrajs';\nimport { AsyncEvaluator } from 'sparqlee';\nimport { GroupsState } from './GroupsState';\n\n/**\n * A comunica Group Query Operation Actor.\n */\nexport class ActorQueryOperationGroup extends ActorQueryOperationTypedMediated<Algebra.Group> {\n  public readonly mediatorHashBindings: MediatorHashBindings;\n\n  public constructor(args: IActorQueryOperationGroupArgs) {\n    super(args, 'group');\n  }\n\n  public async testOperation(operation: Algebra.Group, context: IActionContext): Promise<IActorTest> {\n    for (const aggregate of operation.aggregates) {\n      // Will throw for unsupported expressions\n      const _ = new AsyncEvaluator(aggregate.expression, ActorQueryOperation.getAsyncExpressionContext(context));\n    }\n    return true;\n  }\n\n  public async runOperation(operation: Algebra.Group, context: IActionContext):\n  Promise<IQueryOperationResult> {\n    // Create a hash function\n    const { hashFunction } = await this.mediatorHashBindings.mediate({ allowHashCollisions: true, context });\n\n    // Get result stream for the input query\n    const { input, aggregates } = operation;\n    const outputRaw = await this.mediatorQueryOperation.mediate({ operation: input, context });\n    const output = ActorQueryOperation.getSafeBindings(outputRaw);\n\n    // The variables in scope are the variables on which we group, i.e. pattern.variables.\n    // For 'GROUP BY ?x, ?z', this is [?x, ?z], for 'GROUP by expr(?x) as ?e' this is [?e].\n    // But also in scope are the variables defined by the aggregations, since GROUP has to handle this.\n    const variables = [\n      ...operation.variables,\n      ...aggregates.map(agg => agg.variable),\n    ];\n\n    const sparqleeConfig = ActorQueryOperation.getAsyncExpressionContext(context);\n\n    // Return a new promise that completes when the stream has ended or when\n    // an error occurs\n    return new Promise((resolve, reject) => {\n      const groups = new GroupsState(hashFunction, operation, sparqleeConfig);\n\n      // Phase 2: Collect aggregator results\n      // We can only return when the binding stream ends, when that happens\n      // we return the identified groups. Which are nothing more than Bindings\n      // of the grouping variables merged with the aggregate variables\n      output.bindingsStream.on('end', async() => {\n        try {\n          const bindingsStream = new ArrayIterator(await groups.collectResults(), { autoStart: false });\n          resolve({\n            type: 'bindings',\n            bindingsStream,\n            metadata: async() => ({ ...await output.metadata(), variables }),\n          });\n        } catch (error: unknown) {\n          reject(error);\n        }\n      });\n\n      // Make sure to propagate any errors in the binding stream\n      output.bindingsStream.on('error', reject);\n\n      // Phase 1: Consume the stream, identify the groups and populate the aggregators.\n      // We need to bind this after the 'error' and 'end' listeners to avoid the\n      // stream having ended before those listeners are bound.\n      output.bindingsStream.on('data', bindings => {\n        groups.consumeBindings(bindings).catch(reject);\n      });\n    });\n  }\n}\n\nexport interface IActorQueryOperationGroupArgs extends IActorQueryOperationTypedMediatedArgs {\n  mediatorHashBindings: MediatorHashBindings;\n}\n","import { BindingsFactory } from '@comunica/bindings-factory';\nimport type { HashFunction } from '@comunica/bus-hash-bindings';\nimport type { Bindings } from '@comunica/types';\nimport type * as RDF from '@rdfjs/types';\nimport { DataFactory } from 'rdf-data-factory';\nimport type { Algebra } from 'sparqlalgebrajs';\nimport { AsyncAggregateEvaluator } from 'sparqlee';\nimport type { AsyncEvaluatorConfig } from 'sparqlee';\n\nconst DF = new DataFactory();\nconst BF = new BindingsFactory();\n\n/**\n * A simple type alias for strings that should be hashes of Bindings\n */\nexport type BindingsHash = string;\n\n/**\n * A state container for a single group\n *\n * @property {Bindings} bindings - The binding entries on which we group\n */\nexport interface IGroup {\n  bindings: Bindings;\n  aggregators: Record<string, AsyncAggregateEvaluator>;\n}\n\n/**\n * A state manager for the groups constructed by consuming the bindings-stream.\n */\nexport class GroupsState {\n  private readonly groups: Map<BindingsHash, IGroup>;\n  // We need to the promises of a group so we can await the initialisation/ creation of them.\n  //  Without this we could have duplicate work/ override precious work.\n  private readonly groupsInitializer: Map<BindingsHash, Promise<IGroup>>;\n  private readonly groupVariables: Set<string>;\n  private readonly distinctHashes: null | Map<BindingsHash, Set<BindingsHash>>;\n  private waitCounter: number;\n  // Function that resolves the promise given by collectResults\n  private waitResolver: (bindings: Bindings[]) => void;\n  private resultHasBeenCalled: boolean;\n\n  public constructor(\n    private readonly hashFunction: HashFunction,\n    private readonly pattern: Algebra.Group,\n    private readonly sparqleeConfig: AsyncEvaluatorConfig,\n  ) {\n    this.groups = new Map();\n    this.groupsInitializer = new Map();\n    this.groupVariables = new Set(this.pattern.variables.map(x => x.value));\n    this.distinctHashes = pattern.aggregates.some(({ distinct }) => distinct) ?\n      new Map() :\n      null;\n    this.waitCounter = 1;\n    this.resultHasBeenCalled = false;\n  }\n\n  /**\n   * - Consumes a stream binding\n   * - Find the corresponding group and create one if need be\n   * - Feeds the binding to the group's aggregators\n   *\n   * @param {Bindings} bindings - The Bindings to consume\n   */\n  public consumeBindings(bindings: Bindings): Promise<void> {\n    const check = this.resultCheck<void>();\n    if (check) {\n      return check;\n    }\n    // We increment the counter and decrement him when put action is performed.\n    this.waitCounter++;\n\n    // Select the bindings on which we group\n    const grouper = bindings\n      .filter((_, variable) => this.groupVariables.has(variable.value));\n    const groupHash = this.hashBindings(grouper);\n\n    // First member of group -> create new group\n    let groupInitializer: Promise<IGroup> | undefined = this.groupsInitializer.get(groupHash);\n\n    let res: Promise<any>;\n    if (!groupInitializer) {\n      // Initialize state for all aggregators for new group\n      groupInitializer = (async() => {\n        const aggregators: Record<string, AsyncAggregateEvaluator> = {};\n        await Promise.all(this.pattern.aggregates.map(async aggregate => {\n          const key = aggregate.variable.value;\n          aggregators[key] = new AsyncAggregateEvaluator(aggregate, this.sparqleeConfig);\n          await aggregators[key].put(bindings);\n        }));\n\n        if (this.distinctHashes) {\n          const bindingsHash = this.hashBindings(bindings);\n          this.distinctHashes.set(groupHash, new Set([ bindingsHash ]));\n        }\n        const group = { aggregators, bindings: grouper };\n        this.groups.set(groupHash, group);\n        this.subtractWaitCounterAndCollect();\n        return group;\n      })();\n      this.groupsInitializer.set(groupHash, groupInitializer);\n      res = groupInitializer;\n    } else {\n      const groupInitializerDefined = groupInitializer;\n      res = (async() => {\n        const group = await groupInitializerDefined;\n        await Promise.all(this.pattern.aggregates.map(async aggregate => {\n          // If distinct, check first whether we have inserted these values already\n          if (aggregate.distinct) {\n            const hash = this.hashBindings(bindings);\n            if (this.distinctHashes!.get(groupHash)!.has(hash)) {\n              return;\n            }\n            this.distinctHashes!.get(groupHash)!.add(hash);\n          }\n\n          const variable = aggregate.variable.value;\n          await group.aggregators[variable].put(bindings);\n        }));\n      })().then(() => {\n        this.subtractWaitCounterAndCollect();\n      });\n    }\n    return res;\n  }\n\n  private subtractWaitCounterAndCollect(): void {\n    if (--this.waitCounter === 0) {\n      this.handleResultCollection();\n    }\n  }\n\n  private handleResultCollection(): void {\n    // Collect groups\n    let rows: Bindings[] = [ ...this.groups ].map(([ _, group ]) => {\n      const { bindings: groupBindings, aggregators } = group;\n\n      // Collect aggregator bindings\n      // If the aggregate errorred, the result will be undefined\n      let returnBindings = groupBindings;\n      for (const variable in aggregators) {\n        const value = aggregators[variable].result();\n        if (value) {\n          // Filter undefined\n          returnBindings = returnBindings.set(DF.variable(variable), value);\n        }\n      }\n\n      // Merge grouping bindings and aggregator bindings\n      return returnBindings;\n    });\n\n    // Case: No Input\n    // Some aggregators still define an output on the empty input\n    // Result is a single Bindings\n    if (rows.length === 0 && this.groupVariables.size === 0) {\n      const single: [RDF.Variable, RDF.Term][] = [];\n      for (const aggregate of this.pattern.aggregates) {\n        const key = aggregate.variable;\n        const value = AsyncAggregateEvaluator.emptyValue(aggregate);\n        if (value !== undefined) {\n          single.push([ key, value ]);\n        }\n      }\n      rows = [ BF.bindings(single) ];\n    }\n    this.waitResolver(rows);\n  }\n\n  private resultCheck<T>(): Promise<T> | undefined {\n    if (this.resultHasBeenCalled) {\n      return Promise.reject(new Error('Calling any function after calling collectResult is invalid.'));\n    }\n  }\n\n  /**\n   * Collect the result of the final state. This returns a Bindings per group,\n   * and a (possibly empty) Bindings in case no Bindings have been consumed yet.\n   * You can only call this method once, after calling this method,\n   * calling any function on this will result in an error being thrown.\n   */\n  public collectResults(): Promise<Bindings[]> {\n    const check = this.resultCheck<Bindings[]>();\n    if (check) {\n      return check;\n    }\n    this.resultHasBeenCalled = true;\n    const res = new Promise<Bindings[]>(resolve => {\n      this.waitResolver = resolve;\n    });\n    this.subtractWaitCounterAndCollect();\n    return res;\n  }\n\n  /**\n   * @param {Bindings} bindings - Bindings to hash\n   */\n  private hashBindings(bindings: Bindings): BindingsHash {\n    return this.hashFunction(bindings);\n  }\n}\n","import type { IActorQueryOperationTypedMediatedArgs } from '@comunica/bus-query-operation';\nimport {\n  ActorQueryOperation,\n  ActorQueryOperationTypedMediated,\n} from '@comunica/bus-query-operation';\nimport type { MediatorRdfJoin } from '@comunica/bus-rdf-join';\nimport type { IActorTest } from '@comunica/core';\nimport type { IQueryOperationResult, IActionContext, IJoinEntry } from '@comunica/types';\nimport type { Algebra } from 'sparqlalgebrajs';\n\n/**\n * A comunica Join Query Operation Actor.\n */\nexport class ActorQueryOperationJoin extends ActorQueryOperationTypedMediated<Algebra.Join> {\n  public readonly mediatorJoin: MediatorRdfJoin;\n\n  public constructor(args: IActorQueryOperationJoinArgs) {\n    super(args, 'join');\n  }\n\n  public async testOperation(operation: Algebra.Join, context: IActionContext): Promise<IActorTest> {\n    return true;\n  }\n\n  public async runOperation(\n    operationOriginal: Algebra.Join,\n    context: IActionContext,\n  ): Promise<IQueryOperationResult> {\n    const entries: IJoinEntry[] = (await Promise.all(operationOriginal.input\n      .map(async subOperation => ({\n        output: await this.mediatorQueryOperation.mediate({ operation: subOperation, context }),\n        operation: subOperation,\n      }))))\n      .map(({ output, operation }) => ({\n        output: ActorQueryOperation.getSafeBindings(output),\n        operation,\n      }));\n\n    return this.mediatorJoin.mediate({ type: 'inner', entries, context });\n  }\n}\n\nexport interface IActorQueryOperationJoinArgs extends IActorQueryOperationTypedMediatedArgs {\n  /**\n   * A mediator for joining Bindings streams\n   */\n  mediatorJoin: MediatorRdfJoin;\n}\n","import type { IActorQueryOperationTypedMediatedArgs } from '@comunica/bus-query-operation';\nimport { ActorQueryOperation, ActorQueryOperationTypedMediated } from '@comunica/bus-query-operation';\nimport type { MediatorRdfJoin } from '@comunica/bus-rdf-join';\nimport type { IActorTest } from '@comunica/core';\nimport type { IQueryOperationResult, Bindings, IActionContext, IJoinEntry } from '@comunica/types';\nimport type { Algebra } from 'sparqlalgebrajs';\nimport { AsyncEvaluator, isExpressionError } from 'sparqlee';\n\n/**\n * A comunica LeftJoin Query Operation Actor.\n */\nexport class ActorQueryOperationLeftJoin extends ActorQueryOperationTypedMediated<Algebra.LeftJoin> {\n  public readonly mediatorJoin: MediatorRdfJoin;\n\n  public constructor(args: IActorQueryOperationLeftJoinArgs) {\n    super(args, 'leftjoin');\n  }\n\n  public async testOperation(operation: Algebra.LeftJoin, context: IActionContext): Promise<IActorTest> {\n    return true;\n  }\n\n  public async runOperation(operationOriginal: Algebra.LeftJoin, context: IActionContext):\n  Promise<IQueryOperationResult> {\n    // Delegate to join bus\n    const entries: IJoinEntry[] = (await Promise.all(operationOriginal.input\n      .map(async subOperation => ({\n        output: await this.mediatorQueryOperation.mediate({ operation: subOperation, context }),\n        operation: subOperation,\n      }))))\n      .map(({ output, operation }) => ({\n        output: ActorQueryOperation.getSafeBindings(output),\n        operation,\n      }));\n    const joined = await this.mediatorJoin.mediate({ type: 'optional', entries, context });\n\n    // If the pattern contains an expression, filter the resulting stream\n    if (operationOriginal.expression) {\n      const config = { ...ActorQueryOperation.getAsyncExpressionContext(context) };\n      const evaluator = new AsyncEvaluator(operationOriginal.expression, config);\n      const bindingsStream = joined.bindingsStream\n        .transform({\n          autoStart: false,\n          transform: async(bindings: Bindings, done: () => void, push: (item: Bindings) => void) => {\n            try {\n              const result = await evaluator.evaluateAsEBV(bindings);\n              if (result) {\n                push(bindings);\n              }\n            } catch (error: unknown) {\n              // We ignore all Expression errors.\n              // Other errors (likely programming mistakes) are still propagated.\n              // Left Join is defined in terms of Filter (https://www.w3.org/TR/sparql11-query/#defn_algJoin),\n              // and Filter requires this (https://www.w3.org/TR/sparql11-query/#expressions).\n              if (isExpressionError(<Error>error)) {\n                // In many cases, this is a user error, where the user should manually cast the variable to a string.\n                // In order to help users debug this, we should report these errors via the logger as warnings.\n                this.logWarn(context, 'Error occurred while filtering.', () => ({ error, bindings }));\n              } else {\n                bindingsStream.emit('error', error);\n              }\n            }\n            done();\n          },\n        });\n      joined.bindingsStream = bindingsStream;\n    }\n\n    return joined;\n  }\n}\n\nexport interface IActorQueryOperationLeftJoinArgs extends IActorQueryOperationTypedMediatedArgs {\n  /**\n   * A mediator for joining Bindings streams\n   */\n  mediatorJoin: MediatorRdfJoin;\n}\n","import type { IActorQueryOperationTypedMediatedArgs } from '@comunica/bus-query-operation';\nimport {\n  ActorQueryOperation,\n  ActorQueryOperationTypedMediated,\n} from '@comunica/bus-query-operation';\nimport type { MediatorRdfJoin } from '@comunica/bus-rdf-join';\nimport type { IActorTest } from '@comunica/core';\nimport type { IActionContext, IQueryOperationResult, IJoinEntry } from '@comunica/types';\nimport type { Algebra } from 'sparqlalgebrajs';\n\n/**\n * A comunica Minus Query Operation Actor.\n */\nexport class ActorQueryOperationMinus extends ActorQueryOperationTypedMediated<Algebra.Minus> {\n  public readonly mediatorJoin: MediatorRdfJoin;\n\n  public constructor(args: IActorQueryOperationMinusArgs) {\n    super(args, 'minus');\n  }\n\n  public async testOperation(operation: Algebra.Minus, context: IActionContext): Promise<IActorTest> {\n    return true;\n  }\n\n  public async runOperation(\n    operationOriginal: Algebra.Minus,\n    context: IActionContext,\n  ): Promise<IQueryOperationResult> {\n    const entries: IJoinEntry[] = (await Promise.all(operationOriginal.input\n      .map(async subOperation => ({\n        output: await this.mediatorQueryOperation.mediate({ operation: subOperation, context }),\n        operation: subOperation,\n      }))))\n      .map(({ output, operation }) => ({\n        output: ActorQueryOperation.getSafeBindings(output),\n        operation,\n      }));\n\n    return this.mediatorJoin.mediate({ type: 'minus', entries, context });\n  }\n}\n\nexport interface IActorQueryOperationMinusArgs extends IActorQueryOperationTypedMediatedArgs {\n  /**\n   * A mediator for joining Bindings streams\n   */\n  mediatorJoin: MediatorRdfJoin;\n}\n","import { BindingsFactory } from '@comunica/bindings-factory';\nimport type { IActorQueryOperationTypedMediatedArgs } from '@comunica/bus-query-operation';\nimport { ActorQueryOperationTypedMediated } from '@comunica/bus-query-operation';\nimport type { IActorTest } from '@comunica/core';\nimport type { IActionContext, IQueryOperationResult } from '@comunica/types';\nimport { SingletonIterator } from 'asynciterator';\nimport type { Algebra } from 'sparqlalgebrajs';\n\nconst BF = new BindingsFactory();\n/**\n * A [Query Operation](https://github.com/comunica/comunica/tree/master/packages/bus-query-operation)\n * actor that handles SPARQL nop operations.\n */\nexport class ActorQueryOperationNop extends ActorQueryOperationTypedMediated<Algebra.Nop> {\n  public constructor(args: IActorQueryOperationTypedMediatedArgs) {\n    super(args, 'nop');\n  }\n\n  public async testOperation(operation: Algebra.Nop, context: IActionContext): Promise<IActorTest> {\n    return true;\n  }\n\n  public async runOperation(operation: Algebra.Nop, context: IActionContext): Promise<IQueryOperationResult> {\n    return {\n      bindingsStream: new SingletonIterator(BF.bindings()),\n      metadata: () => Promise.resolve({\n        cardinality: { type: 'exact', value: 1 },\n        canContainUndefs: false,\n        variables: [],\n      }),\n      type: 'bindings',\n    };\n  }\n}\n","import type { IActorQueryOperationTypedMediatedArgs } from '@comunica/bus-query-operation';\nimport {\n  ActorQueryOperation, ActorQueryOperationTypedMediated,\n} from '@comunica/bus-query-operation';\nimport type { IActorTest } from '@comunica/core';\nimport type { Bindings, IActionContext, IQueryOperationResult } from '@comunica/types';\nimport type { Term } from '@rdfjs/types';\nimport { Algebra } from 'sparqlalgebrajs';\nimport { AsyncEvaluator, isExpressionError, orderTypes } from 'sparqlee';\nimport { SortIterator } from './SortIterator';\n\n/**\n * A comunica OrderBy Sparqlee Query Operation Actor.\n */\nexport class ActorQueryOperationOrderBySparqlee extends ActorQueryOperationTypedMediated<Algebra.OrderBy> {\n  private readonly window: number;\n\n  public constructor(args: IActorQueryOperationOrderBySparqleeArgs) {\n    super(args, 'orderby');\n    this.window = args.window ?? Number.POSITIVE_INFINITY;\n  }\n\n  public async testOperation(operation: Algebra.OrderBy, context: IActionContext): Promise<IActorTest> {\n    // Will throw error for unsupported operators\n    for (let expr of operation.expressions) {\n      expr = this.extractSortExpression(expr);\n      const _ = new AsyncEvaluator(expr, ActorQueryOperation.getAsyncExpressionContext(context));\n    }\n    return true;\n  }\n\n  public async runOperation(operation: Algebra.OrderBy, context: IActionContext):\n  Promise<IQueryOperationResult> {\n    const outputRaw = await this.mediatorQueryOperation.mediate({ operation: operation.input, context });\n    const output = ActorQueryOperation.getSafeBindings(outputRaw);\n\n    const options = { window: this.window };\n    const sparqleeConfig = { ...ActorQueryOperation.getAsyncExpressionContext(context) };\n    let { bindingsStream } = output;\n\n    // Sorting backwards since the first one is the most important therefore should be ordered last.\n    for (let i = operation.expressions.length - 1; i >= 0; i--) {\n      let expr = operation.expressions[i];\n      const isAscending = this.isAscending(expr);\n      expr = this.extractSortExpression(expr);\n      // Transform the stream by annotating it with the expr result\n      const evaluator = new AsyncEvaluator(expr, sparqleeConfig);\n      interface IAnnotatedBinding {\n        bindings: Bindings; result: Term | undefined;\n      }\n      // eslint-disable-next-line @typescript-eslint/no-loop-func\n      const transform = async(bindings: Bindings, next: any, push: (result: IAnnotatedBinding) => void):\n      Promise<void> => {\n        try {\n          const result = await evaluator.evaluate(bindings);\n          push({ bindings, result });\n        } catch (error: unknown) {\n          // We ignore all Expression errors.\n          // Other errors (likely programming mistakes) are still propagated.\n          // I can't recall where this is defined in the spec.\n          if (!isExpressionError(<Error> error)) {\n            bindingsStream.emit('error', error);\n          }\n          push({ bindings, result: undefined });\n        }\n        next();\n      };\n      const transformedStream = bindingsStream.transform<IAnnotatedBinding>({ transform });\n\n      // Sort the annoted stream\n      const sortedStream = new SortIterator(transformedStream,\n        (left, right) => orderTypes(left.result, right.result, isAscending),\n        options);\n\n      // Remove the annotation\n      bindingsStream = sortedStream.map(({ bindings, result }) => bindings);\n    }\n\n    return {\n      type: 'bindings',\n      bindingsStream,\n      metadata: output.metadata,\n    };\n  }\n\n  // Remove descending operator if necessary\n  private extractSortExpression(expr: Algebra.Expression): Algebra.Expression {\n    const { expressionType, operator } = expr;\n    if (expressionType !== Algebra.expressionTypes.OPERATOR) {\n      return expr;\n    }\n    return operator === 'desc' ?\n      expr.args[0] :\n      expr;\n  }\n\n  private isAscending(expr: Algebra.Expression): boolean {\n    const { expressionType, operator } = expr;\n    if (expressionType !== Algebra.expressionTypes.OPERATOR) {\n      return true;\n    }\n    return operator !== 'desc';\n  }\n}\n\n/**\n * The window parameter determines how many of the elements to consider when sorting.\n */\nexport interface IActorQueryOperationOrderBySparqleeArgs extends IActorQueryOperationTypedMediatedArgs {\n  /**\n   * The size of the window for the sort iterator.\n   * @range {integer}\n   */\n  window?: number;\n}\n","import type { AsyncIterator } from 'asynciterator';\nimport { TransformIterator } from 'asynciterator';\n\n// Based on https://github.com/LinkedDataFragments/Client.js/blob/master/lib/sparql/SortIterator.js\nexport class SortIterator<T> extends TransformIterator<T, T> {\n  private readonly windowLength: number;\n  private readonly sort: (left: T, right: T) => number;\n  private readonly sorted: T[];\n\n  public constructor(source: AsyncIterator<T>, sort: (left: T, right: T) => number, options?: any) {\n    super(source, options);\n\n    // The `window` parameter indicates the length of the sliding window to apply sorting\n    const window: number = options && options.window;\n    this.windowLength = Number.isFinite(window) && window > 0 ? window : Number.POSITIVE_INFINITY;\n    this.sort = sort;\n    this.sorted = [];\n  }\n\n  // Reads the smallest item in the current sorting window\n  public _read(count: number, done: () => void): void {\n    let item;\n    let { length } = this.sorted;\n    // Try to read items until we reach the desired window length\n    while (length !== this.windowLength) {\n      item = this.source!.read();\n      if (item === null) {\n        break;\n      }\n      // Insert the item in the sorted window (smallest last)\n      let left = 0;\n      let right = length - 1;\n      let mid;\n      let order;\n      while (left <= right) {\n        mid = Math.trunc((left + right) / 2);\n        order = this.sort(item, this.sorted[mid]);\n        if (order < 0) {\n          left = mid + 1;\n        } else if (order > 0) {\n          right = mid - 1;\n        } else {\n          left = mid;\n          right = -1;\n        }\n      }\n      this.sorted.splice(left, 0, item);\n      length++;\n    }\n    // Push the smallest item in the window\n    if (length === this.windowLength) {\n      this._push(this.sorted.pop()!);\n    }\n    done();\n  }\n\n  // Flushes remaining data after the source has ended\n  public _flush(done: () => void): void {\n    let { length } = this.sorted;\n    while (length--) {\n      this._push(this.sorted.pop()!);\n    }\n    done();\n  }\n}\n","import { ActorAbstractPath } from '@comunica/actor-abstract-path';\nimport { ActorQueryOperationUnion } from '@comunica/actor-query-operation-union';\nimport type { IActorQueryOperationTypedMediatedArgs } from '@comunica/bus-query-operation';\nimport { ActorQueryOperation } from '@comunica/bus-query-operation';\nimport type { IQueryOperationResultBindings, IQueryOperationResult,\n  IActionContext, MetadataBindings } from '@comunica/types';\nimport { UnionIterator } from 'asynciterator';\nimport { Algebra } from 'sparqlalgebrajs';\n\n/**\n * A comunica Path Alt Query Operation Actor.\n */\nexport class ActorQueryOperationPathAlt extends ActorAbstractPath {\n  public constructor(args: IActorQueryOperationTypedMediatedArgs) {\n    super(args, Algebra.types.ALT);\n  }\n\n  public async runOperation(operation: Algebra.Path, context: IActionContext): Promise<IQueryOperationResult> {\n    const predicate = <Algebra.Alt> operation.predicate;\n\n    const subOperations: IQueryOperationResultBindings[] = (await Promise.all(predicate.input\n      .map(subPredicate => this.mediatorQueryOperation.mediate({\n        context,\n        operation: ActorAbstractPath.FACTORY\n          .createPath(operation.subject, subPredicate, operation.object, operation.graph),\n      }))))\n      .map(ActorQueryOperation.getSafeBindings);\n\n    const bindingsStream = new UnionIterator(subOperations.map(op => op.bindingsStream), { autoStart: false });\n    const metadata: (() => Promise<MetadataBindings>) = () =>\n      Promise.all(subOperations.map(output => output.metadata()))\n        .then(subMeta => ActorQueryOperationUnion.unionMetadata(subMeta, true));\n\n    return {\n      type: 'bindings',\n      bindingsStream,\n      metadata,\n    };\n  }\n}\n","import { ActorAbstractPath } from '@comunica/actor-abstract-path';\nimport type { IActorQueryOperationTypedMediatedArgs } from '@comunica/bus-query-operation';\nimport type { IActionContext, IQueryOperationResult } from '@comunica/types';\nimport { Algebra } from 'sparqlalgebrajs';\n\n/**\n * A comunica Path Inv Query Operation Actor.\n */\nexport class ActorQueryOperationPathInv extends ActorAbstractPath {\n  public constructor(args: IActorQueryOperationTypedMediatedArgs) {\n    super(args, Algebra.types.INV);\n  }\n\n  public async runOperation(operation: Algebra.Path, context: IActionContext): Promise<IQueryOperationResult> {\n    const predicate = <Algebra.Inv> operation.predicate;\n    const invPath = ActorAbstractPath.FACTORY\n      .createPath(operation.object, predicate.path, operation.subject, operation.graph);\n    return this.mediatorQueryOperation.mediate({ operation: invPath, context });\n  }\n}\n","import { ActorAbstractPath } from '@comunica/actor-abstract-path';\nimport type { IActorQueryOperationTypedMediatedArgs } from '@comunica/bus-query-operation';\nimport type { IActionContext, IQueryOperationResult } from '@comunica/types';\nimport { Algebra } from 'sparqlalgebrajs';\n\n/**\n * A comunica Path Link Query Operation Actor.\n */\nexport class ActorQueryOperationPathLink extends ActorAbstractPath {\n  public constructor(args: IActorQueryOperationTypedMediatedArgs) {\n    super(args, Algebra.types.LINK);\n  }\n\n  public async runOperation(\n    operationOriginal: Algebra.Path,\n    context: IActionContext,\n  ): Promise<IQueryOperationResult> {\n    const predicate = <Algebra.Link> operationOriginal.predicate;\n    const operation = ActorAbstractPath.FACTORY.createPattern(\n      operationOriginal.subject, predicate.iri, operationOriginal.object, operationOriginal.graph,\n    );\n    return this.mediatorQueryOperation.mediate({ operation, context });\n  }\n}\n","import { ActorAbstractPath } from '@comunica/actor-abstract-path';\nimport type { IActorQueryOperationTypedMediatedArgs } from '@comunica/bus-query-operation';\nimport {\n  ActorQueryOperation,\n} from '@comunica/bus-query-operation';\nimport type { Bindings, IActionContext, IQueryOperationResult } from '@comunica/types';\nimport { Algebra } from 'sparqlalgebrajs';\n\n/**\n * A comunica Path Nps Query Operation Actor.\n */\nexport class ActorQueryOperationPathNps extends ActorAbstractPath {\n  public constructor(args: IActorQueryOperationTypedMediatedArgs) {\n    super(args, Algebra.types.NPS);\n  }\n\n  public async runOperation(operation: Algebra.Path, context: IActionContext): Promise<IQueryOperationResult> {\n    const predicate = <Algebra.Nps> operation.predicate;\n    const blank = this.generateVariable(operation);\n\n    const pattern = ActorAbstractPath.FACTORY\n      .createPattern(operation.subject, blank, operation.object, operation.graph);\n    const output = ActorQueryOperation.getSafeBindings(\n      await this.mediatorQueryOperation.mediate({ operation: pattern, context }),\n    );\n\n    // Remove the generated blank nodes from the bindings\n    const bindingsStream = output.bindingsStream.transform<Bindings>({\n      filter(bindings) {\n        return !predicate.iris.some(iri => iri.equals(bindings.get(blank)));\n      },\n      transform(item, next, push) {\n        push(item.delete(blank));\n        next();\n      },\n    });\n\n    return {\n      type: 'bindings',\n      bindingsStream,\n      metadata: output.metadata,\n    };\n  }\n}\n","import { ActorAbstractPath } from '@comunica/actor-abstract-path';\nimport { BindingsFactory } from '@comunica/bindings-factory';\nimport type { IActorQueryOperationTypedMediatedArgs } from '@comunica/bus-query-operation';\nimport { ActorQueryOperation } from '@comunica/bus-query-operation';\nimport type { IQueryOperationResultBindings, Bindings, IQueryOperationResult, IActionContext } from '@comunica/types';\nimport { BufferedIterator, MultiTransformIterator, TransformIterator } from 'asynciterator';\nimport { Algebra } from 'sparqlalgebrajs';\n\nconst BF = new BindingsFactory();\n\n/**\n * A comunica Path OneOrMore Query Operation Actor.\n */\nexport class ActorQueryOperationPathOneOrMore extends ActorAbstractPath {\n  public constructor(args: IActorQueryOperationTypedMediatedArgs) {\n    super(args, Algebra.types.ONE_OR_MORE_PATH);\n  }\n\n  public async runOperation(operation: Algebra.Path, context: IActionContext): Promise<IQueryOperationResult> {\n    const distinct = await this.isPathArbitraryLengthDistinct(context, operation);\n    if (distinct.operation) {\n      return distinct.operation;\n    }\n\n    context = distinct.context;\n\n    const predicate = <Algebra.OneOrMorePath> operation.predicate;\n\n    if (operation.subject.termType !== 'Variable' && operation.object.termType === 'Variable') {\n      const objectVar = operation.object;\n      const starEval = await this.getObjectsPredicateStarEval(\n        operation.subject,\n        predicate.path,\n        objectVar,\n        operation.graph,\n        context,\n        false,\n      );\n      const variables = operation.graph.termType === 'Variable' ? [ objectVar, operation.graph ] : [ objectVar ];\n      return {\n        type: 'bindings',\n        bindingsStream: starEval.bindingsStream,\n        metadata: async() => ({ ...await starEval.metadata(), variables }),\n      };\n    }\n    if (operation.subject.termType === 'Variable' && operation.object.termType === 'Variable') {\n      // Get all the results of subjects with same predicate, but once, then fill in first variable for those\n      const single = ActorAbstractPath.FACTORY.createDistinct(\n        ActorAbstractPath.FACTORY\n          .createPath(operation.subject, operation.predicate.path, operation.object, operation.graph),\n      );\n      const results = ActorQueryOperation.getSafeBindings(\n        await this.mediatorQueryOperation.mediate({ context, operation: single }),\n      );\n      const subjectVar = operation.subject;\n      const objectVar = operation.object;\n\n      const termHashes = {};\n\n      const bindingsStream: MultiTransformIterator<Bindings, Bindings> = new MultiTransformIterator(\n        results.bindingsStream,\n        {\n          multiTransform: (bindings: Bindings) => {\n            const subject = bindings.get(subjectVar);\n            const object = bindings.get(objectVar);\n            const graph = operation.graph.termType === 'Variable' ? bindings.get(operation.graph) : operation.graph;\n            return new TransformIterator<Bindings>(\n              async() => {\n                const it = new BufferedIterator<Bindings>();\n                await this.getSubjectAndObjectBindingsPredicateStar(\n                  subjectVar,\n                  objectVar,\n                  subject!,\n                  object!,\n                  predicate.path,\n                  graph!,\n                  context,\n                  termHashes,\n                  {},\n                  it,\n                  { count: 0 },\n                );\n                return it.transform<Bindings>({\n                  transform(item, next, push) {\n                    if (operation.graph.termType === 'Variable') {\n                      item = item.set(operation.graph, graph!);\n                    }\n                    push(item);\n                    next();\n                  },\n                });\n              }, { maxBufferSize: 128 },\n            );\n          },\n          autoStart: false,\n        },\n      );\n      const variables = operation.graph.termType === 'Variable' ?\n        [ subjectVar, objectVar, operation.graph ] :\n        [ subjectVar, objectVar ];\n      return {\n        type: 'bindings',\n        bindingsStream,\n        metadata: async() => ({ ...await results.metadata(), variables }),\n      };\n    }\n    if (operation.subject.termType === 'Variable' && operation.object.termType !== 'Variable') {\n      return <Promise<IQueryOperationResultBindings>> this.mediatorQueryOperation.mediate({\n        context,\n        operation: ActorAbstractPath.FACTORY.createPath(\n          operation.object,\n          ActorAbstractPath.FACTORY.createOneOrMorePath(\n            ActorAbstractPath.FACTORY.createInv(predicate.path),\n          ),\n          operation.subject,\n          operation.graph,\n        ),\n      });\n    }\n    // If (!sVar && !oVar)\n    const variable = this.generateVariable();\n    const results = ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({\n      context,\n      operation: ActorAbstractPath.FACTORY.createPath(operation.subject, predicate, variable, operation.graph),\n    }));\n    const bindingsStream = results.bindingsStream.transform<Bindings>({\n      filter: item => operation.object.equals(item.get(variable)),\n      transform(item, next, push) {\n        const binding = operation.graph.termType === 'Variable' ?\n          BF.bindings([[ operation.graph, item.get(operation.graph)! ]]) :\n          BF.bindings();\n        push(binding);\n        next();\n      },\n    });\n    return {\n      type: 'bindings',\n      bindingsStream,\n      metadata: async() => ({\n        ...await results.metadata(),\n        variables: operation.graph.termType === 'Variable' ? [ operation.graph ] : [],\n      }),\n    };\n  }\n}\n\n","import { ActorAbstractPath } from '@comunica/actor-abstract-path';\nimport type { IActorQueryOperationTypedMediatedArgs } from '@comunica/bus-query-operation';\nimport {\n  ActorQueryOperation,\n} from '@comunica/bus-query-operation';\nimport type { MediatorRdfJoin } from '@comunica/bus-rdf-join';\nimport type { Bindings, IActionContext, IQueryOperationResult, IJoinEntry } from '@comunica/types';\nimport type * as RDF from '@rdfjs/types';\nimport { Algebra } from 'sparqlalgebrajs';\n\n/**\n * A comunica Path Seq Query Operation Actor.\n */\nexport class ActorQueryOperationPathSeq extends ActorAbstractPath {\n  public readonly mediatorJoin: MediatorRdfJoin;\n\n  public constructor(args: IActorQueryOperationPathSeq) {\n    super(args, Algebra.types.SEQ);\n  }\n\n  public async runOperation(\n    operationOriginal: Algebra.Path,\n    context: IActionContext,\n  ): Promise<IQueryOperationResult> {\n    const predicate = <Algebra.Seq> operationOriginal.predicate;\n\n    let joiner: RDF.Term = operationOriginal.subject;\n    const generatedVariableNames: RDF.Variable[] = [];\n    const entries: IJoinEntry[] = await Promise.all(predicate.input\n      .map((subPredicate, i) => {\n        const nextJoiner = i === predicate.input.length - 1 ? <RDF.Variable> operationOriginal.object : this.generateVariable(operationOriginal, `b${i}`);\n        const operation = ActorAbstractPath.FACTORY\n          .createPath(joiner, subPredicate, nextJoiner, operationOriginal.graph);\n        const output = this.mediatorQueryOperation.mediate({\n          context,\n          operation,\n        });\n\n        joiner = nextJoiner;\n        if (i < predicate.input.length - 1) {\n          generatedVariableNames.push(nextJoiner);\n        }\n\n        return { output, operation };\n      })\n      .map(async({ output, operation }) => ({\n        output: ActorQueryOperation.getSafeBindings(await output),\n        operation,\n      })));\n\n    const join = ActorQueryOperation.getSafeBindings(await this.mediatorJoin\n      .mediate({ type: 'inner', entries, context }));\n    // Remove the generated variable from the bindings\n    const bindingsStream = join.bindingsStream.transform<Bindings>({\n      transform(item, next, push) {\n        for (const generatedVariableName of generatedVariableNames) {\n          item = item.delete(generatedVariableName);\n        }\n        push(item);\n        next();\n      },\n    });\n\n    // Remove the generated variable from the list of variables\n    return {\n      type: 'bindings',\n      bindingsStream,\n      async metadata() {\n        const joinMetadata = await join.metadata();\n        const variables = joinMetadata.variables.filter(variable => !generatedVariableNames\n          .some(generatedVariableName => generatedVariableName.value === variable.value));\n        return { ...joinMetadata, variables };\n      },\n    };\n  }\n}\n\nexport interface IActorQueryOperationPathSeq extends IActorQueryOperationTypedMediatedArgs {\n  /**\n   * A mediator for joining Bindings streams\n   */\n  mediatorJoin: MediatorRdfJoin;\n}\n","import { ActorAbstractPath } from '@comunica/actor-abstract-path';\nimport { BindingsFactory } from '@comunica/bindings-factory';\nimport type { IActorQueryOperationTypedMediatedArgs } from '@comunica/bus-query-operation';\nimport { ActorQueryOperation } from '@comunica/bus-query-operation';\nimport type { Bindings, IQueryOperationResult, IActionContext } from '@comunica/types';\nimport type * as RDF from '@rdfjs/types';\nimport { MultiTransformIterator, TransformIterator, EmptyIterator, BufferedIterator } from 'asynciterator';\nimport { termToString } from 'rdf-string';\nimport { Algebra } from 'sparqlalgebrajs';\n\nconst BF = new BindingsFactory();\n\n/**\n * A comunica Path ZeroOrMore Query Operation Actor.\n */\nexport class ActorQueryOperationPathZeroOrMore extends ActorAbstractPath {\n  public constructor(args: IActorQueryOperationTypedMediatedArgs) {\n    super(args, Algebra.types.ZERO_OR_MORE_PATH);\n  }\n\n  public async runOperation(operation: Algebra.Path, context: IActionContext): Promise<IQueryOperationResult> {\n    const distinct = await this.isPathArbitraryLengthDistinct(context, operation);\n    if (distinct.operation) {\n      return distinct.operation;\n    }\n\n    context = distinct.context;\n\n    const predicate = <Algebra.ZeroOrMorePath> operation.predicate;\n\n    const sVar = operation.subject.termType === 'Variable';\n    const oVar = operation.object.termType === 'Variable';\n\n    if (operation.subject.termType === 'Variable' && operation.object.termType === 'Variable') {\n      // Query ?s ?p ?o, to get all possible namedNodes in de the db\n      const predVar = this.generateVariable(operation);\n      const single = ActorAbstractPath.FACTORY\n        .createPattern(operation.subject, predVar, operation.object, operation.graph);\n      const results = ActorQueryOperation.getSafeBindings(\n        await this.mediatorQueryOperation.mediate({ context, operation: single }),\n      );\n      const subjectVar = operation.subject;\n      const objectVar = operation.object;\n\n      // Set with all namedNodes we have already started a predicate* search from\n      const entities: Set<string> = new Set();\n\n      const termHashes = {};\n\n      const bindingsStream: MultiTransformIterator<Bindings, Bindings> = new MultiTransformIterator(\n        results.bindingsStream,\n        {\n          multiTransform: (bindings: Bindings) => {\n            // Get the subject and object of the triples (?s ?p ?o) and extract graph if it was a variable\n            const subject: RDF.Term = bindings.get(subjectVar)!;\n            const object: RDF.Term = bindings.get(objectVar)!;\n            const graph: RDF.Term = operation.graph.termType === 'Variable' ?\n              bindings.get(operation.graph)! :\n              operation.graph;\n            // Make a hash of namedNode + graph to remember from where we already started a search\n            const subjectGraphHash = termToString(subject) + termToString(graph);\n            const objectGraphHash = termToString(object) + termToString(graph);\n            return new TransformIterator<Bindings>(\n              async() => {\n                // If no new namedNodes in this triple, return nothing\n                if (entities.has(subjectGraphHash) && entities.has(objectGraphHash)) {\n                  return new EmptyIterator();\n                }\n                // Set up an iterator to which getSubjectAndObjectBindingsPredicateStar will push solutions\n                const it = new BufferedIterator<Bindings>();\n                const counter = { count: 0 };\n                // If not started from this namedNode (subject in triple) in this graph, start a search\n                if (!entities.has(subjectGraphHash)) {\n                  entities.add(subjectGraphHash);\n                  await this.getSubjectAndObjectBindingsPredicateStar(\n                    subjectVar,\n                    objectVar,\n                    subject,\n                    subject,\n                    predicate.path,\n                    graph,\n                    context,\n                    termHashes,\n                    {},\n                    it,\n                    counter,\n                  );\n                }\n                // If not started from this namedNode (object in triple) in this graph, start a search\n                if (!entities.has(objectGraphHash)) {\n                  entities.add(objectGraphHash);\n                  await this.getSubjectAndObjectBindingsPredicateStar(\n                    subjectVar,\n                    objectVar,\n                    object,\n                    object,\n                    predicate.path,\n                    graph,\n                    context,\n                    termHashes,\n                    {},\n                    it,\n                    counter,\n                  );\n                }\n                return it.transform<Bindings>({\n                  transform(item, next, push) {\n                    // If the graph was a variable, fill in it's binding (we got it from the ?s ?p ?o binding)\n                    if (operation.graph.termType === 'Variable') {\n                      item = item.set(operation.graph, graph);\n                    }\n                    push(item);\n                    next();\n                  },\n                });\n              },\n            );\n          },\n        },\n      );\n      const variables: RDF.Variable[] = operation.graph.termType === 'Variable' ?\n        [ subjectVar, operation.object, operation.graph ] :\n        [ subjectVar, operation.object ];\n      return {\n        type: 'bindings',\n        bindingsStream,\n        metadata: async() => ({ ...await results.metadata(), variables }),\n      };\n    }\n    if (!sVar && !oVar) {\n      const variable = this.generateVariable();\n      const starEval = await this.getObjectsPredicateStarEval(\n        operation.subject,\n        predicate.path,\n        variable,\n        operation.graph,\n        context,\n        true,\n      );\n      const bindingsStream = starEval.bindingsStream.transform<Bindings>({\n        filter: item => operation.object.equals(item.get(variable)),\n        transform(item, next, push) {\n          // Return graph binding if graph was a variable, otherwise empty binding\n          const binding = operation.graph.termType === 'Variable' ?\n            BF.bindings([[ operation.graph, item.get(operation.graph)! ]]) :\n            BF.bindings();\n          push(binding);\n          next();\n        },\n      });\n      return {\n        type: 'bindings',\n        bindingsStream,\n        metadata: async() => ({\n          ...await starEval.metadata(),\n          variables: operation.graph.termType === 'Variable' ? [ operation.graph ] : [],\n        }),\n      };\n    }\n    // If (sVar || oVar)\n    const subject = sVar ? operation.object : operation.subject;\n    const value: RDF.Variable = <RDF.Variable> (sVar ? operation.subject : operation.object);\n    const pred = sVar ? ActorAbstractPath.FACTORY.createInv(predicate.path) : predicate.path;\n    const starEval = await this.getObjectsPredicateStarEval(\n      subject,\n      pred,\n      value,\n      operation.graph,\n      context,\n      true,\n    );\n    const variables: RDF.Variable[] = operation.graph.termType === 'Variable' ? [ value, operation.graph ] : [ value ];\n    return {\n      type: 'bindings',\n      bindingsStream: starEval.bindingsStream,\n      metadata: async() => ({ ...await starEval.metadata(), variables }),\n    };\n  }\n}\n","import { ActorAbstractPath } from '@comunica/actor-abstract-path';\nimport { BindingsFactory } from '@comunica/bindings-factory';\nimport type { IActorQueryOperationTypedMediatedArgs } from '@comunica/bus-query-operation';\nimport { ActorQueryOperation } from '@comunica/bus-query-operation';\nimport type { Bindings, IQueryOperationResult, IActionContext } from '@comunica/types';\nimport { SingletonIterator } from 'asynciterator';\nimport { Algebra } from 'sparqlalgebrajs';\n\nconst BF = new BindingsFactory();\n\n/**\n * A comunica Path ZeroOrOne Query Operation Actor.\n */\nexport class ActorQueryOperationPathZeroOrOne extends ActorAbstractPath {\n  public constructor(args: IActorQueryOperationTypedMediatedArgs) {\n    super(args, Algebra.types.ZERO_OR_ONE_PATH);\n  }\n\n  public async runOperation(\n    operation: Algebra.Path,\n    context: IActionContext,\n  ): Promise<IQueryOperationResult> {\n    const predicate = <Algebra.ZeroOrOnePath> operation.predicate;\n\n    const sVar = operation.subject.termType === 'Variable';\n    const oVar = operation.object.termType === 'Variable';\n\n    const extra: Bindings[] = [];\n\n    // Both subject and object non-variables\n    if (!sVar && !oVar && operation.subject.equals(operation.object)) {\n      return {\n        type: 'bindings',\n        bindingsStream: new SingletonIterator(BF.bindings()),\n        metadata: () => Promise.resolve({\n          cardinality: { type: 'exact', value: 1 },\n          canContainUndefs: false,\n          variables: [],\n        }),\n      };\n    }\n\n    if (sVar && oVar) {\n      throw new Error('ZeroOrOne path expressions with 2 variables not supported yet');\n    }\n\n    const distinct = await this.isPathArbitraryLengthDistinct(context, operation);\n    if (distinct.operation) {\n      return distinct.operation;\n    }\n\n    context = distinct.context;\n\n    if (operation.subject.termType === 'Variable') {\n      extra.push(BF.bindings([[ operation.subject, operation.object ]]));\n    }\n\n    if (operation.object.termType === 'Variable') {\n      extra.push(BF.bindings([[ operation.object, operation.subject ]]));\n    }\n\n    const single = ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({\n      context,\n      operation: ActorAbstractPath.FACTORY\n        .createPath(operation.subject, predicate.path, operation.object, operation.graph),\n    }));\n\n    const bindingsStream = single.bindingsStream.prepend(extra);\n\n    return {\n      type: 'bindings',\n      bindingsStream,\n      metadata: single.metadata,\n    };\n  }\n}\n","import type { IActorQueryOperationTypedMediatedArgs } from '@comunica/bus-query-operation';\nimport { ActorQueryOperation, ActorQueryOperationTypedMediated } from '@comunica/bus-query-operation';\nimport type { IActorTest } from '@comunica/core';\nimport { BlankNodeBindingsScoped } from '@comunica/data-factory';\nimport type {\n  Bindings,\n  BindingsStream,\n  IActionContext,\n  IQueryOperationResult,\n  IQueryOperationResultBindings,\n} from '@comunica/types';\nimport type * as RDF from '@rdfjs/types';\nimport { DataFactory } from 'rdf-data-factory';\nimport type { Algebra } from 'sparqlalgebrajs';\nconst DF = new DataFactory();\n\n/**\n * A comunica Project Query Operation Actor.\n */\nexport class ActorQueryOperationProject extends ActorQueryOperationTypedMediated<Algebra.Project> {\n  public constructor(args: IActorQueryOperationTypedMediatedArgs) {\n    super(args, 'project');\n  }\n\n  public async testOperation(operation: Algebra.Project, context: IActionContext): Promise<IActorTest> {\n    return true;\n  }\n\n  public async runOperation(operation: Algebra.Project, context: IActionContext):\n  Promise<IQueryOperationResult> {\n    // Resolve the input\n    const output: IQueryOperationResultBindings = ActorQueryOperation.getSafeBindings(\n      await this.mediatorQueryOperation.mediate({ operation: operation.input, context }),\n    );\n\n    // Find all variables that should be deleted from the input stream.\n    const outputMetadata = await output.metadata();\n    const variables = operation.variables;\n    const deleteVariables = outputMetadata.variables\n      .filter(variable => !variables.some(subVariable => variable.value === subVariable.value));\n\n    // Error if there are variables that are not bound in the input stream.\n    const missingVariables = variables\n      .filter(variable => !outputMetadata.variables.some(subVariable => variable.value === subVariable.value));\n    if (missingVariables.length > 0) {\n      throw new Error(`Variables '${missingVariables.map(variable => `?${variable.value}`)}' are used in the projection result, but are not assigned.`);\n    }\n\n    // Make sure the project variables are the only variables that are present in the bindings.\n    let bindingsStream: BindingsStream = deleteVariables.length === 0 ?\n      output.bindingsStream :\n      output.bindingsStream.transform({\n        map(bindings: Bindings) {\n          for (const deleteVariable of deleteVariables) {\n            bindings = bindings.delete(deleteVariable);\n          }\n          return bindings;\n        },\n        autoStart: false,\n      });\n\n    // Make sure that blank nodes with same labels are not reused over different bindings, as required by SPARQL 1.1.\n    // Required for the BNODE() function: https://www.w3.org/TR/sparql11-query/#func-bnode\n    // When we have a scoped blank node, make sure the skolemized value is maintained.\n    let blankNodeCounter = 0;\n    bindingsStream = bindingsStream.transform({\n      map(bindings: Bindings) {\n        blankNodeCounter++;\n        const scopedBlankNodesCache = new Map<string, RDF.BlankNode>();\n        return bindings.map(term => {\n          if (term instanceof BlankNodeBindingsScoped) {\n            let scopedBlankNode = scopedBlankNodesCache.get(term.value);\n            if (!scopedBlankNode) {\n              scopedBlankNode = DF.blankNode(`${term.value}${blankNodeCounter}`);\n              scopedBlankNodesCache.set(term.value, scopedBlankNode);\n            }\n            return scopedBlankNode;\n          }\n          return term;\n        });\n      },\n      autoStart: false,\n    });\n\n    return {\n      type: 'bindings',\n      bindingsStream,\n      metadata: async() => ({ ...outputMetadata, variables }),\n    };\n  }\n}\n","import { BindingsFactory } from '@comunica/bindings-factory';\nimport type { IActionQueryOperation } from '@comunica/bus-query-operation';\nimport { ActorQueryOperationTyped, ClosableTransformIterator } from '@comunica/bus-query-operation';\nimport type { MediatorRdfResolveQuadPattern } from '@comunica/bus-rdf-resolve-quad-pattern';\nimport { KeysQueryOperation } from '@comunica/context-entries';\nimport type { IActorArgs, IActorTest } from '@comunica/core';\nimport type { BindingsStream,\n  IQueryOperationResult,\n  IActionContext, MetadataBindings,\n  MetadataQuads, TermsOrder } from '@comunica/types';\nimport type * as RDF from '@rdfjs/types';\nimport type { AsyncIterator } from 'asynciterator';\nimport { DataFactory } from 'rdf-data-factory';\nimport type { QuadTermName } from 'rdf-terms';\nimport { getTerms, QUAD_TERM_NAMES, reduceTerms, TRIPLE_TERM_NAMES, uniqTerms } from 'rdf-terms';\nimport type { Algebra } from 'sparqlalgebrajs';\nimport { Factory } from 'sparqlalgebrajs';\n\nconst BF = new BindingsFactory();\nconst DF = new DataFactory();\nconst AF = new Factory();\n\n/**\n * A comunica actor for handling 'quadpattern' query operations.\n */\nexport class ActorQueryOperationQuadpattern extends ActorQueryOperationTyped<Algebra.Pattern>\n  implements IActorQueryOperationQuadpatternArgs {\n  public readonly mediatorResolveQuadPattern: MediatorRdfResolveQuadPattern;\n  public readonly unionDefaultGraph: boolean;\n\n  public constructor(args: IActorQueryOperationQuadpatternArgs) {\n    super(args, 'pattern');\n  }\n\n  /**\n   * Check if a term is a variable.\n   * @param {RDF.Term} term An RDF term.\n   * @return {any} If the term is a variable or blank node.\n   */\n  public static isTermVariable(term: RDF.Term): any {\n    return term.termType === 'Variable';\n  }\n\n  /**\n   * Get all variables in the given pattern.\n   * No duplicates are returned.\n   * @param {RDF.BaseQuad} pattern A quad pattern.\n   */\n  public static getVariables(pattern: RDF.BaseQuad): RDF.Variable[] {\n    return <RDF.Variable[]> uniqTerms(getTerms(pattern)\n      .filter(ActorQueryOperationQuadpattern.isTermVariable));\n  }\n\n  /**\n   * A helper function to find a hash with quad elements that have duplicate variables.\n   *\n   * @param {RDF.Quad} pattern A quad pattern.\n   *\n   * @return {{[p: string]: string[]}} If no equal variable names are present in the four terms, this returns undefined.\n   *                                   Otherwise, this maps quad elements ('subject', 'predicate', 'object', 'graph')\n   *                                   to the list of quad elements it shares a variable name with.\n   *                                   If no links for a certain element exist, this element will\n   *                                   not be included in the hash.\n   *                                   Note 1: Quad elements will never have a link to themselves.\n   *                                           So this can never occur: { subject: [ 'subject'] },\n   *                                           instead 'null' would be returned.\n   *                                   Note 2: Links only exist in one direction,\n   *                                           this means that { subject: [ 'predicate'], predicate: [ 'subject' ] }\n   *                                           will not occur, instead only { subject: [ 'predicate'] }\n   *                                           will be returned.\n   */\n  public static getDuplicateElementLinks(pattern: RDF.BaseQuad): Record<string, string[]> | undefined {\n    // Collect a variable to quad elements mapping.\n    const variableElements: Record<string, string[]> = {};\n    let duplicateVariables = false;\n    for (const key of QUAD_TERM_NAMES) {\n      if (pattern[key].termType === 'Variable') {\n        const val = pattern[key].value;\n        const length = (variableElements[val] || (variableElements[val] = [])).push(key);\n        duplicateVariables = duplicateVariables || length > 1;\n      }\n    }\n\n    if (!duplicateVariables) {\n      return;\n    }\n\n    // Collect quad element to elements with equal variables mapping.\n    const duplicateElementLinks: Record<string, string[]> = {};\n    for (const variable in variableElements) {\n      const elements = variableElements[variable];\n      const remainingElements = elements.slice(1);\n      // Only store the elements that have at least one equal element.\n      if (remainingElements.length > 0) {\n        duplicateElementLinks[elements[0]] = remainingElements;\n      }\n    }\n\n    return duplicateElementLinks;\n  }\n\n  /**\n   * Ensure that the given raw metadata object contains all required metadata entries.\n   * @param metadataRaw A raw metadata object.\n   */\n  public static validateMetadata(metadataRaw: Record<string, any>): MetadataQuads {\n    for (const key of [ 'cardinality', 'canContainUndefs' ]) {\n      if (!(key in metadataRaw)) {\n        throw new Error(`Invalid metadata: missing ${key} in ${JSON.stringify(metadataRaw)}`);\n      }\n    }\n    return <MetadataQuads> metadataRaw;\n  }\n\n  /**\n   * Get the metadata of the given action on a quad stream.\n   *\n   * @param {AsyncIterator<Quad>} data The data stream that is guaranteed to emit the metadata property.\n   * @param elementVariables Mapping of quad term name to variable name.\n   * @param variables Variables to include in the metadata\n   * @return {() => Promise<{[p: string]: any}>} A lazy promise behind a callback resolving to a metadata object.\n   */\n  protected static getMetadata(\n    data: AsyncIterator<RDF.Quad>,\n    elementVariables: Record<string, string>,\n    variables: RDF.Variable[],\n  ): () => Promise<MetadataBindings> {\n    return () => new Promise<Record<string, any>>((resolve, reject) => {\n      data.getProperty('metadata', (metadata: Record<string, any>) => resolve(metadata));\n      data.on('error', reject);\n    }).then(metadataRaw => {\n      if (!('canContainUndefs' in metadataRaw)) {\n        metadataRaw.canContainUndefs = false;\n      }\n      return ActorQueryOperationQuadpattern.quadsMetadataToBindingsMetadata(\n        ActorQueryOperationQuadpattern.validateMetadata(metadataRaw),\n        elementVariables,\n        variables,\n      );\n    });\n  }\n\n  protected static quadsMetadataToBindingsMetadata(\n    metadataQuads: MetadataQuads,\n    elementVariables: Record<string, string>,\n    variables: RDF.Variable[],\n  ): MetadataBindings {\n    return {\n      ...metadataQuads,\n      order: metadataQuads.order ?\n        ActorQueryOperationQuadpattern.quadsOrderToBindingsOrder(metadataQuads.order, elementVariables) :\n        undefined,\n      availableOrders: metadataQuads.availableOrders ?\n        metadataQuads.availableOrders.map(orderDef => ({\n          cost: orderDef.cost,\n          terms: ActorQueryOperationQuadpattern.quadsOrderToBindingsOrder(orderDef.terms, elementVariables),\n        })) :\n        undefined,\n      variables,\n    };\n  }\n\n  protected static quadsOrderToBindingsOrder(\n    quadsOrder: TermsOrder<RDF.QuadTermName>,\n    elementVariables: Record<string, string>,\n  ): TermsOrder<RDF.Variable> {\n    const mappedVariables: Record<string, boolean> = {};\n    return <TermsOrder<RDF.Variable>> quadsOrder.map(entry => {\n      // Omit entries that do not map to a variable\n      const variableName = elementVariables[entry.term];\n      if (!variableName) {\n        return;\n      }\n\n      // Omit entries that have been mapped already\n      if (mappedVariables[variableName]) {\n        return;\n      }\n\n      mappedVariables[variableName] = true;\n      return {\n        term: DF.variable(variableName),\n        direction: entry.direction,\n      };\n    }).filter(entry => Boolean(entry));\n  }\n\n  public async testOperation(operation: Algebra.Pattern, context: IActionContext): Promise<IActorTest> {\n    return true;\n  }\n\n  public async runOperation(pattern: Algebra.Pattern, context: IActionContext):\n  Promise<IQueryOperationResult> {\n    // Apply the (optional) pattern-specific context\n    if (pattern.context) {\n      context = context.merge(pattern.context);\n    }\n\n    // Modify pattern with default graph when using union default graph semantics\n    let patternInner = pattern;\n    const unionDefaultGraph = this.unionDefaultGraph || context.get(KeysQueryOperation.unionDefaultGraph);\n    if (pattern.graph.termType === 'DefaultGraph' && unionDefaultGraph) {\n      patternInner = AF.createPattern(\n        pattern.subject,\n        pattern.predicate,\n        pattern.object,\n        DF.variable('__comunica:defaultGraph'),\n      );\n    }\n\n    // Resolve the quad pattern\n    const result = await this.mediatorResolveQuadPattern.mediate({ pattern: patternInner, context });\n\n    // Collect all variables from the pattern\n    const variables = ActorQueryOperationQuadpattern.getVariables(pattern);\n\n    // Convenience datastructure for mapping quad elements to variables\n    const elementVariables: Record<string, string> = reduceTerms(pattern,\n      (acc: Record<string, string>, term: RDF.Term, key: QuadTermName) => {\n        if (term.termType === 'Variable') {\n          acc[key] = term.value;\n        }\n        return acc;\n      },\n      {});\n    const quadBindingsReducer = (acc: [RDF.Variable, RDF.Term][], term: RDF.Term, key: QuadTermName):\n    [RDF.Variable, RDF.Term][] => {\n      const variable: string = elementVariables[key];\n      if (variable) {\n        acc.push([ DF.variable(variable), term ]);\n      }\n      return acc;\n    };\n\n    // Create the metadata callback\n    const metadata = ActorQueryOperationQuadpattern.getMetadata(result.data, elementVariables, variables);\n\n    // Optionally filter, and construct bindings\n    const bindingsStream: BindingsStream = new ClosableTransformIterator(async() => {\n      let filteredOutput = result.data;\n\n      // Detect duplicate variables in the pattern\n      const duplicateElementLinks: Record<string, string[]> | undefined = ActorQueryOperationQuadpattern\n        .getDuplicateElementLinks(pattern);\n\n      // SPARQL query semantics allow graph variables to only match with named graphs, excluding the default graph\n      // But this is not the case when using union default graph semantics\n      if (pattern.graph.termType === 'Variable' && !unionDefaultGraph) {\n        filteredOutput = filteredOutput.filter(quad => quad.graph.termType !== 'DefaultGraph');\n      }\n\n      // If there are duplicate variables in the search pattern,\n      // make sure that we filter out the triples that don't have equal values for those triple elements,\n      // as QPF ignores variable names.\n      if (duplicateElementLinks) {\n        filteredOutput = filteredOutput.filter(quad => {\n          // No need to check the graph, because an equal element already would have to be found in s, p, or o.\n          for (const element1 of TRIPLE_TERM_NAMES) {\n            for (const element2 of duplicateElementLinks[element1] || []) {\n              if (!(<any> quad)[element1].equals((<any> quad)[element2])) {\n                return false;\n              }\n            }\n          }\n          return true;\n        });\n      }\n\n      return filteredOutput.map(quad => BF.bindings(reduceTerms(quad, quadBindingsReducer, [])));\n    }, {\n      autoStart: false,\n      onClose: () => result.data.destroy(),\n    });\n\n    return { type: 'bindings', bindingsStream, metadata };\n  }\n}\n\nexport interface IActorQueryOperationQuadpatternArgs extends\n  IActorArgs<IActionQueryOperation, IActorTest, IQueryOperationResult> {\n  /**\n   * The quad pattern resolve mediator\n   */\n  mediatorResolveQuadPattern: MediatorRdfResolveQuadPattern;\n  /**\n   * If the default graph should also contain the union of all named graphs.\n   * This can be overridden by {@link KeysQueryOperation#unionDefaultGraph}.\n   * @default {false}\n   */\n  unionDefaultGraph: boolean;\n}\n","import type { MediatorHashBindings } from '@comunica/bus-hash-bindings';\nimport type { IActorQueryOperationTypedMediatedArgs } from '@comunica/bus-query-operation';\nimport { ActorQueryOperation, ActorQueryOperationTypedMediated } from '@comunica/bus-query-operation';\nimport type { IActorTest } from '@comunica/core';\nimport type {\n  Bindings, BindingsStream, IActionContext, IQueryOperationResult, IQueryOperationResultBindings,\n} from '@comunica/types';\nimport LRU = require('lru-cache');\nimport type { Algebra } from 'sparqlalgebrajs';\n/**\n * A comunica Reduced Hash Query Operation Actor.\n */\nexport class ActorQueryOperationReducedHash extends ActorQueryOperationTypedMediated<Algebra.Reduced> {\n  public readonly mediatorHashBindings: MediatorHashBindings;\n  public readonly cacheSize: number;\n\n  public constructor(args: IActorQueryOperationReducedHashArgs) {\n    super(args, 'reduced');\n  }\n\n  public async testOperation(operation: Algebra.Reduced, context: IActionContext): Promise<IActorTest> {\n    return true;\n  }\n\n  public async runOperation(operation: Algebra.Reduced, context: IActionContext): Promise<IQueryOperationResult> {\n    const output: IQueryOperationResultBindings = ActorQueryOperation.getSafeBindings(\n      await this.mediatorQueryOperation.mediate({ operation: operation.input, context }),\n    );\n    const bindingsStream: BindingsStream = output.bindingsStream.filter(await this.newHashFilter(context));\n    return {\n      type: 'bindings',\n      bindingsStream,\n      metadata: output.metadata,\n    };\n  }\n\n  /**\n   * Create a new distinct filter function.\n   * This will maintain an internal hash datastructure so that every bindings object only returns true once.\n   * @param context The action context.\n   * @return {(bindings: Bindings) => boolean} A distinct filter for bindings.\n   */\n  public async newHashFilter(context: IActionContext): Promise<(bindings: Bindings) => boolean> {\n    const { hashFunction } = await this.mediatorHashBindings.mediate({ allowHashCollisions: true, context });\n    const hashes = new LRU<string, boolean>({ max: this.cacheSize });\n    return (bindings: Bindings) => {\n      const hash: string = hashFunction(bindings);\n      return !hashes.has(hash) && hashes.set(hash, true);\n    };\n  }\n}\n\nexport interface IActorQueryOperationReducedHashArgs extends IActorQueryOperationTypedMediatedArgs {\n  mediatorHashBindings: MediatorHashBindings;\n  /**\n   * @range {integer}\n   * @default {100}\n   */\n  cacheSize: number;\n}\n","import { BindingsFactory } from '@comunica/bindings-factory';\nimport type { IActorQueryOperationTypedMediatedArgs } from '@comunica/bus-query-operation';\nimport { ActorQueryOperation, ActorQueryOperationTypedMediated } from '@comunica/bus-query-operation';\nimport { KeysInitQuery, KeysRdfResolveQuadPattern } from '@comunica/context-entries';\nimport type { IActorTest } from '@comunica/core';\nimport type { IActionContext, IQueryOperationResult, IQueryOperationResultBindings } from '@comunica/types';\nimport { SingletonIterator } from 'asynciterator';\nimport type { Algebra } from 'sparqlalgebrajs';\n\nconst BF = new BindingsFactory();\n\n/**\n * A comunica Service Query Operation Actor.\n * It unwraps the SERVICE operation and executes it on the given source.\n */\nexport class ActorQueryOperationService extends ActorQueryOperationTypedMediated<Algebra.Service> {\n  public readonly forceSparqlEndpoint: boolean;\n\n  public constructor(args: IActorQueryOperationServiceArgs) {\n    super(args, 'service');\n  }\n\n  public async testOperation(operation: Algebra.Service, context: IActionContext): Promise<IActorTest> {\n    if (operation.name.termType !== 'NamedNode') {\n      throw new Error(`${this.name} can only query services by IRI, while a ${operation.name.termType} was given.`);\n    }\n    return true;\n  }\n\n  public async runOperation(operation: Algebra.Service, context: IActionContext):\n  Promise<IQueryOperationResult> {\n    const endpoint: string = operation.name.value;\n\n    // Adjust our context to only have the endpoint as source\n    let subContext: IActionContext = context\n      .delete(KeysRdfResolveQuadPattern.source)\n      .delete(KeysRdfResolveQuadPattern.sources)\n      .delete(KeysInitQuery.queryString);\n    const sourceType = this.forceSparqlEndpoint ? 'sparql' : undefined;\n    subContext = subContext.set(KeysRdfResolveQuadPattern.sources, [{ type: sourceType, value: endpoint }]);\n    // Query the source\n    let output: IQueryOperationResultBindings;\n    try {\n      output = ActorQueryOperation.getSafeBindings(\n        await this.mediatorQueryOperation.mediate({ operation: operation.input, context: subContext }),\n      );\n    } catch (error: unknown) {\n      if (operation.silent) {\n        // Emit a single empty binding\n        output = {\n          bindingsStream: new SingletonIterator(BF.bindings()),\n          type: 'bindings',\n          metadata: async() => ({ cardinality: { type: 'exact', value: 1 }, canContainUndefs: false, variables: []}),\n        };\n      } else {\n        throw error;\n      }\n    }\n\n    return output;\n  }\n}\n\nexport interface IActorQueryOperationServiceArgs extends IActorQueryOperationTypedMediatedArgs {\n  /**\n   * If the SERVICE target should be assumed to be a SPARQL endpoint.\n   * @default {false}\n   */\n  forceSparqlEndpoint: boolean;\n}\n","import type { IActorQueryOperationTypedMediatedArgs } from '@comunica/bus-query-operation';\nimport {\n  ActorQueryOperationTypedMediated,\n} from '@comunica/bus-query-operation';\nimport { KeysQueryOperation } from '@comunica/context-entries';\nimport type { IActorTest } from '@comunica/core';\nimport type {\n  IQueryOperationResult,\n  IQueryOperationResultBindings,\n  IQueryOperationResultQuads,\n  IQueryOperationResultStream, IMetadata, IActionContext,\n} from '@comunica/types';\nimport type { AsyncIterator } from 'asynciterator';\nimport type { Algebra } from 'sparqlalgebrajs';\n\n/**\n * A comunica Slice Query Operation Actor.\n */\nexport class ActorQueryOperationSlice extends ActorQueryOperationTypedMediated<Algebra.Slice> {\n  public constructor(args: IActorQueryOperationTypedMediatedArgs) {\n    super(args, 'slice');\n  }\n\n  public async testOperation(operation: Algebra.Slice, context: IActionContext): Promise<IActorTest> {\n    return true;\n  }\n\n  public async runOperation(operation: Algebra.Slice, context: IActionContext):\n  Promise<IQueryOperationResult> {\n    // Add limit indicator to the context, which can be used for query planning\n    // eslint-disable-next-line unicorn/explicit-length-check\n    if (operation.length) {\n      context = context.set(KeysQueryOperation.limitIndicator, operation.length);\n    }\n\n    // Resolve the input\n    const output: IQueryOperationResult = await this.mediatorQueryOperation\n      .mediate({ operation: operation.input, context });\n\n    if (output.type === 'bindings') {\n      const bindingsStream = this.sliceStream(output.bindingsStream, operation);\n      return <IQueryOperationResultBindings> {\n        type: 'bindings',\n        bindingsStream,\n        metadata: this.sliceMetadata(output, operation),\n      };\n    }\n\n    if (output.type === 'quads') {\n      const quadStream = this.sliceStream(output.quadStream, operation);\n      return <IQueryOperationResultQuads> {\n        type: 'quads',\n        quadStream,\n        metadata: this.sliceMetadata(output, operation),\n      };\n    }\n\n    throw new Error(`Invalid query output type: Expected 'bindings' or 'quads' but got '${output.type}'`);\n  }\n\n  // Slice the stream based on the pattern values\n  private sliceStream(stream: AsyncIterator<any>, pattern: Algebra.Slice): AsyncIterator<any> {\n    // eslint-disable-next-line unicorn/explicit-length-check\n    const hasLength: boolean = Boolean(pattern.length) || pattern.length === 0;\n    const { start } = pattern;\n    const end = hasLength ? pattern.start + pattern.length! - 1 : Number.POSITIVE_INFINITY;\n    return stream.transform({ offset: start, limit: Math.max(end - start + 1, 0), autoStart: false });\n  }\n\n  // If we find metadata, apply slicing on the total number of items\n  private sliceMetadata(\n    output: IQueryOperationResultStream<any, any>,\n    pattern: Algebra.Slice,\n  ): () => Promise<IMetadata<any>> {\n    // eslint-disable-next-line unicorn/explicit-length-check\n    const hasLength: boolean = Boolean(pattern.length) || pattern.length === 0;\n    return () => (<() => Promise<IMetadata<any>>>output.metadata)()\n      .then(subMetadata => {\n        const cardinality = { ...subMetadata.cardinality };\n        if (Number.isFinite(cardinality.value)) {\n          cardinality.value = Math.max(0, cardinality.value - pattern.start);\n          if (hasLength) {\n            cardinality.value = Math.min(cardinality.value, pattern.length!);\n          }\n        }\n        return { ...subMetadata, cardinality };\n      });\n  }\n}\n","import { BindingsFactory } from '@comunica/bindings-factory';\nimport type { MediatorHttp } from '@comunica/bus-http';\nimport type { IActionQueryOperation } from '@comunica/bus-query-operation';\nimport { ActorQueryOperation } from '@comunica/bus-query-operation';\nimport { getContextSourceFirst, getDataSourceType, getDataSourceValue } from '@comunica/bus-rdf-resolve-quad-pattern';\nimport {\n  getContextDestinationFirst,\n  getDataDestinationType,\n  getDataDestinationValue,\n} from '@comunica/bus-rdf-update-quads';\nimport { KeysInitQuery } from '@comunica/context-entries';\nimport type { IActorArgs, IActorTest } from '@comunica/core';\nimport type { IMediatorTypeHttpRequests } from '@comunica/mediatortype-httprequests';\nimport type { IQueryOperationResult,\n  IQueryOperationResultBindings,\n  IQueryOperationResultBoolean,\n  IQueryOperationResultQuads,\n  IMetadata,\n  IActionContext } from '@comunica/types';\nimport type * as RDF from '@rdfjs/types';\nimport type { AsyncIterator } from 'asynciterator';\nimport { wrap } from 'asynciterator';\nimport { SparqlEndpointFetcher } from 'fetch-sparql-endpoint';\nimport type { IUpdateTypes } from 'fetch-sparql-endpoint';\nimport { DataFactory } from 'rdf-data-factory';\nimport { Factory, toSparql, Util } from 'sparqlalgebrajs';\nimport { LazyCardinalityIterator } from './LazyCardinalityIterator';\n\nconst BF = new BindingsFactory();\nconst DF = new DataFactory();\n\n/**\n * A comunica SPARQL Endpoint Query Operation Actor.\n */\nexport class ActorQueryOperationSparqlEndpoint extends ActorQueryOperation {\n  protected static readonly FACTORY: Factory = new Factory();\n\n  public readonly mediatorHttp: MediatorHttp;\n\n  public readonly checkUrlSuffixSparql: boolean;\n  public readonly checkUrlSuffixUpdate: boolean;\n\n  public readonly endpointFetcher: SparqlEndpointFetcher;\n\n  protected lastContext: IActionContext;\n\n  public constructor(args: IActorQueryOperationSparqlEndpointArgs) {\n    super(args);\n    this.endpointFetcher = new SparqlEndpointFetcher({\n      method: args.forceHttpGet ? 'GET' : 'POST',\n      fetch: (input: Request | string, init?: RequestInit) => this.mediatorHttp.mediate(\n        { input, init, context: this.lastContext },\n      ),\n      prefixVariableQuestionMark: true,\n    });\n  }\n\n  public async test(action: IActionQueryOperation): Promise<IMediatorTypeHttpRequests> {\n    if (!action.operation) {\n      throw new Error('Missing field \\'operation\\' in a query operation action.');\n    }\n    const source = getContextSourceFirst(action.context);\n    const destination = getContextDestinationFirst(action.context);\n    const sourceType = source ? getDataSourceType(source) : undefined;\n    const destinationType = destination ? getDataDestinationType(destination) : undefined;\n    const sourceValue = source ? getDataSourceValue(source) : undefined;\n    const destinationValue = destination ? getDataDestinationValue(destination) : undefined;\n    if ((source && sourceType === 'sparql' &&\n      (!destination || (destinationType === 'sparql' && destinationValue === sourceValue))) ||\n      (source && !sourceType && (!destination || (!destinationType && destinationValue === sourceValue)) &&\n        typeof sourceValue === 'string' && (\n        (this.checkUrlSuffixSparql && sourceValue.endsWith('/sparql')) ||\n        (this.checkUrlSuffixUpdate && sourceValue.endsWith('/update'))\n      ))) {\n      return { httpRequests: 1 };\n    }\n    throw new Error(`${this.name} requires a single source with a 'sparql' endpoint to be present in the context or URL ending on /sparql or /update.`);\n  }\n\n  public async run(action: IActionQueryOperation): Promise<IQueryOperationResult> {\n    const source = getContextSourceFirst(action.context);\n    if (!source) {\n      throw new Error('Illegal state: undefined sparql endpoint source.');\n    }\n    const endpoint: string = <string> getDataSourceValue(source);\n    this.lastContext = action.context;\n\n    // Determine the full SPARQL query that needs to be sent to the endpoint\n    // Also check the type of the query (SELECT, CONSTRUCT (includes DESCRIBE) or ASK)\n    let query: string;\n    let type: 'SELECT' | 'CONSTRUCT' | 'ASK' | 'UNKNOWN' | IUpdateTypes | undefined;\n    let variables: RDF.Variable[] | undefined;\n    try {\n      // Use the original query string if available\n      query = action.context.get(KeysInitQuery.queryString) ?? toSparql(action.operation);\n      // This will throw an error in case the result is an invalid SPARQL query\n      type = this.endpointFetcher.getQueryType(query);\n\n      // Also check if this is an update query\n      if (type === 'UNKNOWN') {\n        type = this.endpointFetcher.getUpdateTypes(query);\n      }\n    } catch {\n      // Ignore errors\n    }\n    // If the input is an sub-query, wrap this in a SELECT\n    if (!type || type === 'UNKNOWN') {\n      variables = Util.inScopeVariables(action.operation);\n      query = toSparql(ActorQueryOperationSparqlEndpoint.FACTORY.createProject(action.operation, variables));\n      type = 'SELECT';\n    }\n\n    // Execute the query against the endpoint depending on the type\n    switch (type) {\n      case 'SELECT':\n        if (!variables) {\n          variables = Util.inScopeVariables(action.operation);\n        }\n        return this.executeQuery(endpoint, query!, false, variables);\n      case 'CONSTRUCT':\n        return this.executeQuery(endpoint, query!, true);\n      case 'ASK':\n        return <IQueryOperationResultBoolean>{\n          type: 'boolean',\n          execute: () => this.endpointFetcher.fetchAsk(endpoint, query!),\n        };\n      default:\n        return {\n          type: 'void',\n          execute: () => this.endpointFetcher.fetchUpdate(endpoint, query!),\n        };\n    }\n  }\n\n  /**\n   * Execute the given SELECT or CONSTRUCT query against the given endpoint.\n   * @param endpoint A SPARQL endpoint URL.\n   * @param query A SELECT or CONSTRUCT query.\n   * @param quads If the query returns quads, i.e., if it is a CONSTRUCT query.\n   * @param variables Variables for SELECT queries.\n   */\n  public executeQuery(endpoint: string, query: string, quads: boolean, variables?: RDF.Variable[]):\n  IQueryOperationResult {\n    const inputStream: Promise<NodeJS.EventEmitter> = quads ?\n      this.endpointFetcher.fetchTriples(endpoint, query) :\n      this.endpointFetcher.fetchBindings(endpoint, query);\n\n    const stream = wrap<any>(inputStream, { autoStart: false }).map(rawData => quads ?\n      rawData :\n      BF.bindings(Object.entries(rawData)\n        .map(([ key, value ]: [string, RDF.Term]) => [ DF.variable(key.slice(1)), value ])));\n\n    const resultStream = new LazyCardinalityIterator(stream);\n\n    const metadata: () => Promise<IMetadata<any>> = ActorQueryOperationSparqlEndpoint.cachifyMetadata(\n      async() => ({\n        cardinality: { type: 'exact', value: await resultStream.getCardinality() },\n        canContainUndefs: true,\n        variables,\n      }),\n    );\n\n    if (quads) {\n      return <IQueryOperationResultQuads> {\n        type: 'quads',\n        quadStream: resultStream,\n        metadata,\n      };\n    }\n    return <IQueryOperationResultBindings> {\n      type: 'bindings',\n      bindingsStream: <AsyncIterator<any>> resultStream,\n      metadata,\n    };\n  }\n}\n\nexport interface IActorQueryOperationSparqlEndpointArgs\n  extends IActorArgs<IActionQueryOperation, IActorTest, IQueryOperationResult> {\n  /**\n   * The HTTP mediator\n   */\n  mediatorHttp: MediatorHttp;\n  /**\n   * If URLs ending with '/sparql' should also be considered SPARQL endpoints.\n   * @default {true}\n   */\n  checkUrlSuffixSparql: boolean;\n  /**\n   * If URLs ending with '/update' should also be considered SPARQL endpoints.\n   * @default {true}\n   */\n  checkUrlSuffixUpdate: boolean;\n  /**\n   * If queries should be sent via HTTP GET instead of POST.\n   * @default {false}\n   */\n  forceHttpGet: boolean;\n}\n","import { AsyncIterator, LinkedList, DESTINATION } from 'asynciterator';\n\n/**\n  An iterator that maintains an internal buffer of items.\n  This class serves as a base class for other iterators\n  with a typically complex item generation process.\n  @extends module:asynciterator.AsyncIterator\n*/\nexport class LazyCardinalityIterator<T> extends AsyncIterator<T> {\n  private _buffer?: LinkedList<T>;\n  private _cardinality?: Promise<number>;\n  private readonly _error: any;\n  private _count = 0;\n  private _buffering = true;\n\n  public constructor(private readonly _source: AsyncIterator<T>) {\n    super();\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    (<InternalSource<T>> _source)[DESTINATION] = this;\n    _source.on('readable', destinationSetReadable);\n    _source.on('end', destinationSetReadable);\n    _source.on('error', destinationEmitError);\n    this.readable = _source.readable;\n  }\n\n  public read(): T | null {\n    if (this._buffer) {\n      if (!this._buffer.empty) {\n        return this._buffer.shift()!;\n      }\n      if (!this._buffering) {\n        this.close();\n      }\n\n      this.readable = false;\n      return null;\n    }\n\n    let item: T | null = null;\n    // eslint-disable-next-line no-cond-assign\n    if (this._source.readable && (item = this._source.read()) !== null) {\n      this._count += 1;\n    } else {\n      this.readable = false;\n      if (this._source.done) {\n        this.close();\n      }\n    }\n\n    return item;\n  }\n\n  public getCardinality(): Promise<number> {\n    if (this._cardinality) {\n      return this._cardinality;\n    }\n\n    if (this._error) {\n      return Promise.reject(this._error);\n    }\n\n    if (this._source.done) {\n      this.close();\n    }\n\n    if (this.done) {\n      this._cardinality = Promise.resolve(this._count);\n    } else {\n      this._buffer = new LinkedList();\n      this._cardinality = new Promise((resolve, reject) => {\n        this._source.removeListener('readable', destinationSetReadable);\n        this._source.removeListener('end', destinationSetReadable);\n\n        const clean = (): void => {\n          this._source.removeListener('data', onData);\n          this._source.removeListener('end', onEnd);\n          this._source.removeListener('error', onError);\n        };\n\n        const onData = (data: T): void => {\n          this._buffer!.push(data);\n          this._count += 1;\n          this.readable = true;\n        };\n        const onEnd = (): void => {\n          this._buffering = false;\n          clean();\n          resolve(this._count);\n        };\n        const onError = (err: any): void => {\n          this._buffering = false;\n          clean();\n          reject(err);\n        };\n\n        this._source.on('data', onData);\n        this._source.on('end', onEnd);\n        this._source.on('error', onError);\n      });\n    }\n\n    return this._cardinality;\n  }\n\n  public close(): void {\n    this._source.removeListener('readable', destinationSetReadable);\n    this._source.removeListener('end', destinationSetReadable);\n    this._source.removeListener('error', destinationEmitError);\n    delete (<any> this._source)[DESTINATION];\n    this._source.destroy();\n    super.close();\n  }\n}\n\ntype InternalSource<S> = AsyncIterator<S> & { [DESTINATION]: AsyncIterator<any> };\n\nfunction destinationSetReadable<S>(this: InternalSource<S>): void {\n  this[DESTINATION]!.readable = true;\n}\nfunction destinationEmitError<S>(this: InternalSource<S>, error: Error): void {\n  (<any> this[DESTINATION]!)._error = error;\n  this[DESTINATION]!.emit('error', error);\n}\n","import type { IActorQueryOperationTypedMediatedArgs } from '@comunica/bus-query-operation';\nimport {\n  ActorQueryOperation,\n  ActorQueryOperationTypedMediated,\n} from '@comunica/bus-query-operation';\nimport type { IActorTest } from '@comunica/core';\nimport type { BindingsStream,\n  IQueryOperationResultBindings,\n  IActionContext,\n  IQueryOperationResult,\n  MetadataBindings, MetadataQuads } from '@comunica/types';\nimport type * as RDF from '@rdfjs/types';\nimport { UnionIterator } from 'asynciterator';\nimport { uniqTerms } from 'rdf-terms';\nimport type { Algebra } from 'sparqlalgebrajs';\n\n/**\n * A comunica Union Query Operation Actor.\n */\nexport class ActorQueryOperationUnion extends ActorQueryOperationTypedMediated<Algebra.Union> {\n  public constructor(args: IActorQueryOperationTypedMediatedArgs) {\n    super(args, 'union');\n  }\n\n  /**\n   * Takes the union of the given double array variables.\n   * Uniqueness is guaranteed.\n   * @param {string[][]} variables Double array of variables to take the union of.\n   * @return {string[]} The union of the given variables.\n   */\n  public static unionVariables(variables: RDF.Variable[][]): RDF.Variable[] {\n    return uniqTerms(variables.flat());\n  }\n\n  /**\n   * Takes the union of the given metadata array.\n   * It will ensure that the cardinality metadata value is properly calculated.\n   * @param {{[p: string]: any}[]} metadatas Array of metadata.\n   * @param bindings If the union of the variables field should also be taken.\n   * @return {{[p: string]: any}} Union of the metadata.\n   */\n  public static unionMetadata<\n    Bindings extends boolean,\n    M extends (Bindings extends true ? MetadataBindings : MetadataQuads)\n  >(metadatas: M[], bindings: Bindings): M {\n    // Union cardinality\n    const cardinality: RDF.QueryResultCardinality = { type: 'exact', value: 0 };\n    for (const metadata of metadatas) {\n      if ((metadata.cardinality.value && Number.isFinite(metadata.cardinality.value)) ||\n        metadata.cardinality.value === 0) {\n        if (metadata.cardinality.type === 'estimate') {\n          cardinality.type = 'estimate';\n        }\n        cardinality.value += metadata.cardinality.value;\n      } else {\n        cardinality.type = 'estimate';\n        cardinality.value = Number.POSITIVE_INFINITY;\n        break;\n      }\n    }\n\n    const metadataBase: MetadataQuads = {\n      cardinality,\n      canContainUndefs: metadatas.some(metadata => metadata.canContainUndefs),\n    };\n\n    // Union variables\n    if (bindings) {\n      metadataBase.variables = ActorQueryOperationUnion.unionVariables(metadatas.map(metadata => metadata.variables));\n      return <M> metadataBase;\n    }\n    return <M> metadataBase;\n  }\n\n  public async testOperation(operation: Algebra.Union, context: IActionContext): Promise<IActorTest> {\n    return true;\n  }\n\n  public async runOperation(operation: Algebra.Union, context: IActionContext):\n  Promise<IQueryOperationResult> {\n    const outputs: IQueryOperationResultBindings[] = (await Promise.all(operation.input\n      .map(subOperation => this.mediatorQueryOperation.mediate({ operation: subOperation, context }))))\n      .map(ActorQueryOperation.getSafeBindings);\n\n    const bindingsStream: BindingsStream = new UnionIterator(outputs.map(\n      (output: IQueryOperationResultBindings) => output.bindingsStream,\n    ), { autoStart: false });\n\n    const metadata: () => Promise<MetadataBindings> = () => Promise.all(outputs.map(output => output.metadata()))\n      .then(subMeta => ActorQueryOperationUnion.unionMetadata(subMeta, true));\n    return { type: 'bindings', bindingsStream, metadata };\n  }\n}\n","import type { IActorQueryOperationTypedMediatedArgs } from '@comunica/bus-query-operation';\nimport { ActorQueryOperation, ActorQueryOperationTypedMediated } from '@comunica/bus-query-operation';\nimport type { IActorTest } from '@comunica/core';\nimport type { IActionContext, IQueryOperationResult } from '@comunica/types';\nimport { DataFactory } from 'rdf-data-factory';\nimport type { Algebra } from 'sparqlalgebrajs';\nimport { Factory } from 'sparqlalgebrajs';\n\nconst DF = new DataFactory();\n\n/**\n * A [Query Operation](https://github.com/comunica/comunica/tree/master/packages/bus-query-operation) actor\n * that handles SPARQL add operations.\n */\nexport class ActorQueryOperationAddRewrite extends ActorQueryOperationTypedMediated<Algebra.Add> {\n  private readonly factory: Factory;\n\n  public constructor(args: IActorQueryOperationTypedMediatedArgs) {\n    super(args, 'add');\n    this.factory = new Factory();\n  }\n\n  public async testOperation(operation: Algebra.Add, context: IActionContext): Promise<IActorTest> {\n    ActorQueryOperation.throwOnReadOnly(context);\n    return true;\n  }\n\n  public runOperation(operationOriginal: Algebra.Add, context: IActionContext): Promise<IQueryOperationResult> {\n    // CONSTRUCT all quads from the source, and INSERT them into the destination\n    const destination = operationOriginal.destination === 'DEFAULT' ? DF.defaultGraph() : operationOriginal.destination;\n    const source = operationOriginal.source === 'DEFAULT' ? DF.defaultGraph() : operationOriginal.source;\n\n    const operation = this.factory.createDeleteInsert(undefined, [\n      this.factory.createPattern(DF.variable('s'), DF.variable('p'), DF.variable('o'), destination),\n    ], this.factory.createPattern(DF.variable('s'), DF.variable('p'), DF.variable('o'), source));\n\n    return this.mediatorQueryOperation.mediate({ operation, context });\n  }\n}\n","import type { IActorQueryOperationTypedMediatedArgs } from '@comunica/bus-query-operation';\nimport { ActorQueryOperation, ActorQueryOperationTypedMediated } from '@comunica/bus-query-operation';\nimport type {\n  MediatorRdfUpdateQuads,\n} from '@comunica/bus-rdf-update-quads';\nimport type { IActorTest } from '@comunica/core';\nimport type { IActionContext, IQueryOperationResult } from '@comunica/types';\nimport type * as RDF from '@rdfjs/types';\nimport { DataFactory } from 'rdf-data-factory';\nimport type { Algebra } from 'sparqlalgebrajs';\n\nconst DF = new DataFactory();\n\n/**\n * A [Query Operation](https://github.com/comunica/comunica/tree/master/packages/bus-query-operation) actor\n * that handles SPARQL clear operations.\n */\nexport class ActorQueryOperationClear extends ActorQueryOperationTypedMediated<Algebra.Clear> {\n  public readonly mediatorUpdateQuads: MediatorRdfUpdateQuads;\n\n  public constructor(args: IActorQueryOperationClearArgs) {\n    super(args, 'clear');\n  }\n\n  public async testOperation(operation: Algebra.Clear, context: IActionContext): Promise<IActorTest> {\n    ActorQueryOperation.throwOnReadOnly(context);\n    return true;\n  }\n\n  public async runOperation(operation: Algebra.Clear, context: IActionContext):\n  Promise<IQueryOperationResult> {\n    // Delegate to update-quads bus\n    let graphs: RDF.DefaultGraph | 'NAMED' | 'ALL' | RDF.NamedNode[];\n    if (operation.source === 'DEFAULT') {\n      graphs = DF.defaultGraph();\n    } else if (typeof operation.source === 'string') {\n      graphs = operation.source;\n    } else {\n      graphs = [ operation.source ];\n    }\n    const { execute } = await this.mediatorUpdateQuads.mediate({\n      deleteGraphs: {\n        graphs,\n        requireExistence: !operation.silent,\n        dropGraphs: false,\n      },\n      context,\n    });\n\n    return {\n      type: 'void',\n      execute,\n    };\n  }\n}\n\nexport interface IActorQueryOperationClearArgs extends IActorQueryOperationTypedMediatedArgs {\n  /**\n   * The RDF Update Quads mediator\n   */\n  mediatorUpdateQuads: MediatorRdfUpdateQuads;\n}\n","import type { IActorQueryOperationTypedMediatedArgs } from '@comunica/bus-query-operation';\nimport {\n  ActorQueryOperation,\n  ActorQueryOperationTypedMediated,\n} from '@comunica/bus-query-operation';\nimport type { IActorTest } from '@comunica/core';\nimport type { IActionContext, IQueryOperationResult } from '@comunica/types';\nimport type { Algebra } from 'sparqlalgebrajs';\n\n/**\n * A comunica Update CompositeUpdate Query Operation Actor.\n */\nexport class ActorQueryOperationUpdateCompositeUpdate\n  extends ActorQueryOperationTypedMediated<Algebra.CompositeUpdate> {\n  public constructor(args: IActorQueryOperationTypedMediatedArgs) {\n    super(args, 'compositeupdate');\n  }\n\n  public async testOperation(\n    operation: Algebra.CompositeUpdate,\n    context: IActionContext,\n  ): Promise<IActorTest> {\n    ActorQueryOperation.throwOnReadOnly(context);\n    return true;\n  }\n\n  public async runOperation(operationOriginal: Algebra.CompositeUpdate, context: IActionContext):\n  Promise<IQueryOperationResult> {\n    const execute = (): Promise<void> => (async(): Promise<void> => {\n      // Execute update operations in sequence\n      for (const operation of operationOriginal.updates) {\n        const subResult = ActorQueryOperation\n          .getSafeVoid(await this.mediatorQueryOperation.mediate({ operation, context }));\n        await subResult.execute();\n      }\n    })();\n\n    return {\n      type: 'void',\n      execute,\n    };\n  }\n}\n","import type { IActorQueryOperationTypedMediatedArgs } from '@comunica/bus-query-operation';\nimport { ActorQueryOperation, ActorQueryOperationTypedMediated } from '@comunica/bus-query-operation';\nimport type { IActorTest } from '@comunica/core';\nimport type { IActionContext, IQueryOperationResult } from '@comunica/types';\nimport type { Algebra } from 'sparqlalgebrajs';\nimport { Factory } from 'sparqlalgebrajs';\n\n/**\n * A [Query Operation](https://github.com/comunica/comunica/tree/master/packages/bus-query-operation) actor that\n * handles SPARQL copy operations.\n */\nexport class ActorQueryOperationCopyRewrite extends ActorQueryOperationTypedMediated<Algebra.Copy> {\n  private readonly factory: Factory;\n\n  public constructor(args: IActorQueryOperationTypedMediatedArgs) {\n    super(args, 'copy');\n    this.factory = new Factory();\n  }\n\n  public async testOperation(operation: Algebra.Copy, context: IActionContext): Promise<IActorTest> {\n    ActorQueryOperation.throwOnReadOnly(context);\n    return true;\n  }\n\n  public runOperation(operationOriginal: Algebra.Copy, context: IActionContext): Promise<IQueryOperationResult> {\n    // No-op if source === destination\n    if ((typeof operationOriginal.destination === 'string' && typeof operationOriginal.source === 'string' &&\n        operationOriginal.destination === operationOriginal.source) ||\n      (typeof operationOriginal.destination !== 'string' && typeof operationOriginal.source !== 'string' &&\n        operationOriginal.destination.equals(operationOriginal.source))) {\n      return Promise.resolve({\n        type: 'void',\n        execute: () => Promise.resolve(),\n      });\n    }\n\n    // COPY is equivalent to drop destination, and add\n    const operation = this.factory.createCompositeUpdate([\n      this.factory.createDrop(operationOriginal.destination, true),\n      this.factory.createAdd(operationOriginal.source, operationOriginal.destination, operationOriginal.silent),\n    ]);\n    return this.mediatorQueryOperation.mediate({ operation, context });\n  }\n}\n","import type { IActorQueryOperationTypedMediatedArgs } from '@comunica/bus-query-operation';\nimport { ActorQueryOperation, ActorQueryOperationTypedMediated } from '@comunica/bus-query-operation';\nimport type { MediatorRdfUpdateQuads } from '@comunica/bus-rdf-update-quads';\nimport type { IActorTest } from '@comunica/core';\nimport type { IActionContext, IQueryOperationResult } from '@comunica/types';\nimport type { Algebra } from 'sparqlalgebrajs';\n\n/**\n * A [Query Operation](https://github.com/comunica/comunica/tree/master/packages/bus-query-operation) actor that\n * handles SPARQL create operations.\n */\nexport class ActorQueryOperationCreate extends ActorQueryOperationTypedMediated<Algebra.Create> {\n  public readonly mediatorUpdateQuads: MediatorRdfUpdateQuads;\n\n  public constructor(args: IActorQueryOperationCreateArgs) {\n    super(args, 'create');\n  }\n\n  public async testOperation(operation: Algebra.Create, context: IActionContext): Promise<IActorTest> {\n    ActorQueryOperation.throwOnReadOnly(context);\n    return true;\n  }\n\n  public async runOperation(operation: Algebra.Create, context: IActionContext):\n  Promise<IQueryOperationResult> {\n    // Delegate to update-quads bus\n    const { execute } = await this.mediatorUpdateQuads.mediate({\n      createGraphs: {\n        graphs: [ operation.source ],\n        requireNonExistence: !operation.silent,\n      },\n      context,\n    });\n\n    return {\n      type: 'void',\n      execute,\n    };\n  }\n}\n\nexport interface IActorQueryOperationCreateArgs extends IActorQueryOperationTypedMediatedArgs {\n  /**\n   * The RDF Update Quads mediator\n   */\n  mediatorUpdateQuads: MediatorRdfUpdateQuads;\n}\n","import { BindingsToQuadsIterator } from '@comunica/actor-query-operation-construct';\nimport { BindingsFactory } from '@comunica/bindings-factory';\nimport type { IActorQueryOperationTypedMediatedArgs } from '@comunica/bus-query-operation';\nimport {\n  ActorQueryOperation, ActorQueryOperationTypedMediated,\n} from '@comunica/bus-query-operation';\nimport type { MediatorRdfUpdateQuads } from '@comunica/bus-rdf-update-quads';\nimport type { IActorTest } from '@comunica/core';\nimport type { IQueryOperationResult, BindingsStream, IActionContext } from '@comunica/types';\nimport type * as RDF from '@rdfjs/types';\nimport type { AsyncIterator } from 'asynciterator';\nimport { ArrayIterator } from 'asynciterator';\nimport type { Algebra } from 'sparqlalgebrajs';\n\nconst BF = new BindingsFactory();\n/**\n * A comunica Update DeleteInsert Query Operation Actor.\n */\nexport class ActorQueryOperationUpdateDeleteInsert extends ActorQueryOperationTypedMediated<Algebra.DeleteInsert> {\n  public readonly mediatorUpdateQuads: MediatorRdfUpdateQuads;\n\n  protected blankNodeCounter = 0;\n\n  public constructor(args: IActorQueryOperationUpdateDeleteInsertArgs) {\n    super(args, 'deleteinsert');\n  }\n\n  public async testOperation(\n    operation: Algebra.DeleteInsert,\n    context: IActionContext,\n  ): Promise<IActorTest> {\n    ActorQueryOperation.throwOnReadOnly(context);\n    return true;\n  }\n\n  public async runOperation(operation: Algebra.DeleteInsert, context: IActionContext):\n  Promise<IQueryOperationResult> {\n    // Evaluate the where clause\n    const whereBindings: BindingsStream = operation.where ?\n      ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation\n        .mediate({ operation: operation.where, context })).bindingsStream :\n      new ArrayIterator([ BF.bindings() ], { autoStart: false });\n\n    // Construct triples using the result based on the pattern.\n    let quadStreamInsert: AsyncIterator<RDF.Quad> | undefined;\n    let quadStreamDelete: AsyncIterator<RDF.Quad> | undefined;\n    if (operation.insert) {\n      // Localize blank nodes in pattern, to avoid clashes across different INSERT/DELETE calls\n      quadStreamInsert = new BindingsToQuadsIterator(\n        operation.insert.map(BindingsToQuadsIterator.localizeQuad.bind(null, this.blankNodeCounter)),\n        whereBindings.clone(),\n        false,\n      );\n      this.blankNodeCounter++;\n    }\n    if (operation.delete) {\n      // Localize blank nodes in pattern, to avoid clashes across different INSERT/DELETE calls\n      quadStreamDelete = new BindingsToQuadsIterator(\n        operation.delete.map(BindingsToQuadsIterator.localizeQuad.bind(null, this.blankNodeCounter)),\n        whereBindings.clone(),\n        false,\n      );\n      this.blankNodeCounter++;\n    }\n\n    // Evaluate the required modifications\n    const { execute } = await this.mediatorUpdateQuads.mediate({\n      quadStreamInsert,\n      quadStreamDelete,\n      context,\n    });\n\n    return {\n      type: 'void',\n      execute,\n    };\n  }\n}\n\nexport interface IActorQueryOperationUpdateDeleteInsertArgs extends IActorQueryOperationTypedMediatedArgs {\n  /**\n   * The RDF Update Quads mediator\n   */\n  mediatorUpdateQuads: MediatorRdfUpdateQuads;\n}\n","import type { IActorQueryOperationTypedMediatedArgs } from '@comunica/bus-query-operation';\nimport { ActorQueryOperation, ActorQueryOperationTypedMediated } from '@comunica/bus-query-operation';\nimport type { MediatorRdfUpdateQuads } from '@comunica/bus-rdf-update-quads';\nimport type { IActorTest } from '@comunica/core';\nimport type { IActionContext, IQueryOperationResult } from '@comunica/types';\nimport type * as RDF from '@rdfjs/types';\nimport { DataFactory } from 'rdf-data-factory';\nimport type { Algebra } from 'sparqlalgebrajs';\n\nconst DF = new DataFactory();\n\n/**\n * A [Query Operation](https://github.com/comunica/comunica/tree/master/packages/bus-query-operation) actor\n * that handles SPARQL drop operations.\n */\nexport class ActorQueryOperationDrop extends ActorQueryOperationTypedMediated<Algebra.Drop> {\n  public readonly mediatorUpdateQuads: MediatorRdfUpdateQuads;\n\n  public constructor(args: IActorQueryOperationDropArgs) {\n    super(args, 'drop');\n  }\n\n  public async testOperation(operation: Algebra.Drop, context: IActionContext): Promise<IActorTest> {\n    ActorQueryOperation.throwOnReadOnly(context);\n    return true;\n  }\n\n  public async runOperation(operation: Algebra.Drop, context: IActionContext):\n  Promise<IQueryOperationResult> {\n    // Delegate to update-quads bus\n    let graphs: RDF.DefaultGraph | 'NAMED' | 'ALL' | RDF.NamedNode[];\n    if (operation.source === 'DEFAULT') {\n      graphs = DF.defaultGraph();\n    } else if (typeof operation.source === 'string') {\n      graphs = operation.source;\n    } else {\n      graphs = [ operation.source ];\n    }\n    const { execute } = await this.mediatorUpdateQuads.mediate({\n      deleteGraphs: {\n        graphs,\n        requireExistence: !operation.silent,\n        dropGraphs: true,\n      },\n      context,\n    });\n\n    return {\n      type: 'void',\n      execute,\n    };\n  }\n}\n\nexport interface IActorQueryOperationDropArgs extends IActorQueryOperationTypedMediatedArgs {\n  /**\n   * The RDF Update Quads mediator\n   */\n  mediatorUpdateQuads: MediatorRdfUpdateQuads;\n}\n","import type { IActorQueryOperationTypedMediatedArgs } from '@comunica/bus-query-operation';\nimport { ActorQueryOperation, ActorQueryOperationTypedMediated } from '@comunica/bus-query-operation';\nimport type { MediatorRdfUpdateQuads } from '@comunica/bus-rdf-update-quads';\nimport { KeysInitQuery, KeysRdfResolveQuadPattern } from '@comunica/context-entries';\nimport type { IActorTest } from '@comunica/core';\nimport type { IActionContext, IQueryOperationResult } from '@comunica/types';\nimport { DataFactory } from 'rdf-data-factory';\nimport type { Algebra } from 'sparqlalgebrajs';\nimport { Factory } from 'sparqlalgebrajs';\n\nconst DF = new DataFactory();\n\n/**\n * A [Query Operation](https://github.com/comunica/comunica/tree/master/packages/bus-query-operation) actor\n * that handles SPARQL load operations.\n */\nexport class ActorQueryOperationLoad extends ActorQueryOperationTypedMediated<Algebra.Load> {\n  public readonly mediatorUpdateQuads: MediatorRdfUpdateQuads;\n\n  private readonly factory: Factory;\n  private readonly constructOperation: Algebra.Construct;\n\n  public constructor(args: IActorQueryOperationLoadArgs) {\n    super(args, 'load');\n    this.factory = new Factory();\n    this.constructOperation = this.factory.createConstruct(\n      this.factory.createPattern(DF.variable('s'), DF.variable('p'), DF.variable('o')),\n      [ this.factory.createPattern(DF.variable('s'), DF.variable('p'), DF.variable('o')) ],\n    );\n  }\n\n  public async testOperation(operation: Algebra.Load, context: IActionContext): Promise<IActorTest> {\n    ActorQueryOperation.throwOnReadOnly(context);\n    return true;\n  }\n\n  public async runOperation(operation: Algebra.Load, context: IActionContext):\n  Promise<IQueryOperationResult> {\n    // Create CONSTRUCT query on the given source\n    let subContext = context.set(KeysRdfResolveQuadPattern.sources, [ operation.source.value ]);\n    if (operation.silent) {\n      subContext = subContext.set(KeysInitQuery.lenient, true);\n    }\n    const output = ActorQueryOperationLoad.getSafeQuads(await this.mediatorQueryOperation.mediate({\n      operation: this.constructOperation,\n      context: subContext,\n    }));\n\n    // Determine quad stream to insert\n    let quadStream = output.quadStream;\n    if (operation.destination) {\n      quadStream = quadStream.map(quad => DF.quad(quad.subject, quad.predicate, quad.object, operation.destination));\n    }\n\n    // Insert quad stream\n    const { execute } = await this.mediatorUpdateQuads.mediate({\n      quadStreamInsert: quadStream,\n      context,\n    });\n\n    return {\n      type: 'void',\n      execute,\n    };\n  }\n}\n\nexport interface IActorQueryOperationLoadArgs extends IActorQueryOperationTypedMediatedArgs {\n  /**\n   * The RDF Update Quads mediator\n   */\n  mediatorUpdateQuads: MediatorRdfUpdateQuads;\n}\n","import type { IActorQueryOperationTypedMediatedArgs } from '@comunica/bus-query-operation';\nimport { ActorQueryOperation, ActorQueryOperationTypedMediated } from '@comunica/bus-query-operation';\nimport type { IActorTest } from '@comunica/core';\nimport type { IActionContext, IQueryOperationResult } from '@comunica/types';\nimport type { Algebra } from 'sparqlalgebrajs';\nimport { Factory } from 'sparqlalgebrajs';\n\n/**\n * A [Query Operation](https://github.com/comunica/comunica/tree/master/packages/bus-query-operation) actor that\n * handles SPARQL move operations.\n */\nexport class ActorQueryOperationMoveRewrite extends ActorQueryOperationTypedMediated<Algebra.Move> {\n  private readonly factory: Factory;\n\n  public constructor(args: IActorQueryOperationTypedMediatedArgs) {\n    super(args, 'move');\n    this.factory = new Factory();\n  }\n\n  public async testOperation(operation: Algebra.Move, context: IActionContext): Promise<IActorTest> {\n    ActorQueryOperation.throwOnReadOnly(context);\n    return true;\n  }\n\n  public runOperation(operationOriginal: Algebra.Move, context: IActionContext): Promise<IQueryOperationResult> {\n    // No-op if source === destination\n    if ((typeof operationOriginal.destination === 'string' && typeof operationOriginal.source === 'string' &&\n        operationOriginal.destination === operationOriginal.source) ||\n      (typeof operationOriginal.destination !== 'string' && typeof operationOriginal.source !== 'string' &&\n        operationOriginal.destination.equals(operationOriginal.source))) {\n      return Promise.resolve({\n        type: 'void',\n        execute: () => Promise.resolve(),\n      });\n    }\n\n    // MOVE is equivalent to drop destination, add, and drop source\n    const updates = [\n      this.factory.createDrop(operationOriginal.destination, true),\n      this.factory.createAdd(operationOriginal.source, operationOriginal.destination, operationOriginal.silent),\n      this.factory.createDrop(operationOriginal.source),\n    ];\n    const operation = this.factory.createCompositeUpdate(updates);\n    return this.mediatorQueryOperation.mediate({ operation, context });\n  }\n}\n","import { BindingsFactory } from '@comunica/bindings-factory';\nimport type { IActionQueryOperation } from '@comunica/bus-query-operation';\nimport { ActorQueryOperationTyped } from '@comunica/bus-query-operation';\nimport type { IActorArgs, IActorTest } from '@comunica/core';\nimport type { IQueryOperationResult,\n  BindingsStream,\n  Bindings,\n  IActionContext,\n  MetadataBindings } from '@comunica/types';\nimport { ArrayIterator } from 'asynciterator';\nimport { DataFactory } from 'rdf-data-factory';\nimport type { Algebra } from 'sparqlalgebrajs';\nconst BF = new BindingsFactory();\nconst DF = new DataFactory();\n\n/**\n * A comunica Values Query Operation Actor.\n */\nexport class ActorQueryOperationValues extends ActorQueryOperationTyped<Algebra.Values> {\n  public constructor(args: IActorArgs<IActionQueryOperation, IActorTest, IQueryOperationResult>) {\n    super(args, 'values');\n  }\n\n  public async testOperation(operation: Algebra.Values, context: IActionContext): Promise<IActorTest> {\n    return true;\n  }\n\n  public async runOperation(operation: Algebra.Values, context: IActionContext):\n  Promise<IQueryOperationResult> {\n    const bindingsStream: BindingsStream = new ArrayIterator<Bindings>(operation.bindings\n      .map(x => BF.bindings(Object.entries(x)\n        .map(([ key, value ]) => [ DF.variable(key.slice(1)), value ]))));\n    const variables = operation.variables;\n    const metadata = (): Promise<MetadataBindings> => Promise.resolve({\n      cardinality: { type: 'exact', value: operation.bindings.length },\n      canContainUndefs: operation.bindings.some(bindings => variables.some(variable => !(`?${variable.value}` in bindings))),\n      variables,\n    });\n    return { type: 'bindings', bindingsStream, metadata };\n  }\n}\n","import type { IActionQueryParse, IActorQueryParseArgs, IActorQueryParseOutput } from '@comunica/bus-query-parse';\nimport { ActorQueryParse } from '@comunica/bus-query-parse';\nimport { KeysInitQuery } from '@comunica/context-entries';\nimport type { IActorTest } from '@comunica/core';\nimport { Converter } from 'graphql-to-sparql';\n\n/**\n * A comunica GraphQL SPARQL Parse Actor.\n */\nexport class ActorQueryParseGraphql extends ActorQueryParse {\n  private readonly graphqlToSparql: Converter;\n\n  public constructor(args: IActorQueryParseArgs) {\n    super(args);\n    this.graphqlToSparql = new Converter({ requireContext: true });\n  }\n\n  public async test(action: IActionQueryParse): Promise<IActorTest> {\n    if (action.queryFormat?.language !== 'graphql') {\n      throw new Error('This actor can only parse GraphQL queries');\n    }\n    return true;\n  }\n\n  public async run(action: IActionQueryParse): Promise<IActorQueryParseOutput> {\n    const context: any = action.context.get(KeysInitQuery.jsonLdContext) || {};\n    const options = {\n      // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion\n      singularizeVariables: <any> action.context.get(KeysInitQuery.graphqlSingularizeVariables),\n    };\n    return { operation: await this.graphqlToSparql.graphqlToSparqlAlgebra(action.query, context, options) };\n  }\n}\n","import type { IActionQueryParse, IActorQueryParseArgs, IActorQueryParseOutput } from '@comunica/bus-query-parse';\nimport { ActorQueryParse } from '@comunica/bus-query-parse';\nimport type { IActorTest } from '@comunica/core';\nimport { translate } from 'sparqlalgebrajs';\nimport { Parser as SparqlParser } from 'sparqljs';\n\n/**\n * A comunica Algebra SPARQL Parse Actor.\n */\nexport class ActorQueryParseSparql extends ActorQueryParse {\n  public readonly prefixes: Record<string, string>;\n\n  public constructor(args: IActorQueryParseSparqlArgs) {\n    super(args);\n    this.prefixes = Object.freeze(this.prefixes);\n  }\n\n  public async test(action: IActionQueryParse): Promise<IActorTest> {\n    if (action.queryFormat && action.queryFormat.language !== 'sparql') {\n      throw new Error('This actor can only parse SPARQL queries');\n    }\n    return true;\n  }\n\n  public async run(action: IActionQueryParse): Promise<IActorQueryParseOutput> {\n    const parser = new SparqlParser({ prefixes: this.prefixes, baseIRI: action.baseIRI });\n    const parsedSyntax = parser.parse(action.query);\n    const baseIRI = parsedSyntax.type === 'query' ? parsedSyntax.base : undefined;\n    return {\n      baseIRI,\n      operation: translate(parsedSyntax,\n        { quads: true, prefixes: this.prefixes, blankToVariable: true, baseIRI: action.baseIRI }),\n    };\n  }\n}\n\nexport interface IActorQueryParseSparqlArgs extends IActorQueryParseArgs {\n  /**\n   * Default prefixes to use\n   * @range {json}\n   * @default {{\n   *   \"rdf\": \"http://www.w3.org/1999/02/22-rdf-syntax-ns#\",\n   *   \"rdfs\": \"http://www.w3.org/2000/01/rdf-schema#\",\n   *   \"owl\": \"http://www.w3.org/2002/07/owl#\",\n   *   \"xsd\": \"http://www.w3.org/2001/XMLSchema#\",\n   *   \"dc\": \"http://purl.org/dc/terms/\",\n   *   \"dcterms\": \"http://purl.org/dc/terms/\",\n   *   \"dc11\": \"http://purl.org/dc/elements/1.1/\",\n   *   \"foaf\": \"http://xmlns.com/foaf/0.1/\",\n   *   \"geo\": \"http://www.w3.org/2003/01/geo/wgs84_pos#\",\n   *   \"dbpedia\": \"http://dbpedia.org/resource/\",\n   *   \"dbpedia-owl\": \"http://dbpedia.org/ontology/\",\n   *   \"dbpprop\": \"http://dbpedia.org/property/\",\n   *   \"schema\": \"http://schema.org/\",\n   *   \"skos\": \"http://www.w3.org/2008/05/skos#\"\n   * }}\n   */\n  prefixes?: Record<string, string>;\n}\n","import type { IActionSparqlSerialize,\n  IActorQueryResultSerializeFixedMediaTypesArgs,\n  IActorQueryResultSerializeOutput } from '@comunica/bus-query-result-serialize';\nimport { ActorQueryResultSerializeFixedMediaTypes } from '@comunica/bus-query-result-serialize';\nimport type {\n  IActionContext, IQueryOperationResultBindings, IQueryOperationResultBoolean,\n  IQueryOperationResultQuads,\n} from '@comunica/types';\nimport type * as RDF from '@rdfjs/types';\nimport * as RdfString from 'rdf-string';\nimport { Readable } from 'readable-stream';\n\n/**\n * A comunica JSON Query Result Serialize Actor.\n */\nexport class ActorQueryResultSerializeJson extends ActorQueryResultSerializeFixedMediaTypes {\n  /**\n   * @param args -\n   *   \\ @defaultNested {{\n   *       \"application/json\": 1.0\n   *     }} mediaTypePriorities\n   *   \\ @defaultNested {{\n   *       \"application/json\": \"https://comunica.linkeddatafragments.org/#results_JSON\"\n   *     }} mediaTypeFormats\n   */\n  public constructor(args: IActorQueryResultSerializeFixedMediaTypesArgs) {\n    super(args);\n  }\n\n  public async testHandleChecked(action: IActionSparqlSerialize, context: IActionContext): Promise<boolean> {\n    if (![ 'bindings', 'quads', 'boolean' ].includes(action.type)) {\n      throw new Error('This actor can only handle bindings or quad streams.');\n    }\n    return true;\n  }\n\n  public async runHandle(action: IActionSparqlSerialize, mediaType: string, context: IActionContext):\n  Promise<IActorQueryResultSerializeOutput> {\n    const data = new Readable();\n    data._read = () => {\n      // Do nothing\n    };\n\n    let empty = true;\n    if (action.type === 'bindings') {\n      const resultStream = (<IQueryOperationResultBindings> action).bindingsStream;\n      data.push('[');\n      resultStream.on('error', error => data.emit('error', error));\n      resultStream.on('data', (element: RDF.Bindings) => {\n        data.push(empty ? '\\n' : ',\\n');\n        data.push(JSON.stringify(Object.fromEntries([ ...element ]\n          .map(([ key, value ]) => [ key.value, RdfString.termToString(value) ]))));\n        empty = false;\n      });\n      resultStream.on('end', () => {\n        data.push(empty ? ']\\n' : '\\n]\\n');\n        data.push(null);\n      });\n    } else if (action.type === 'quads') {\n      const resultStream = (<IQueryOperationResultQuads> action).quadStream;\n      data.push('[');\n      resultStream.on('error', error => data.emit('error', error));\n      resultStream.on('data', element => {\n        data.push(empty ? '\\n' : ',\\n');\n        data.push(JSON.stringify(RdfString.quadToStringQuad(element)));\n        empty = false;\n      });\n      resultStream.on('end', () => {\n        data.push(empty ? ']\\n' : '\\n]\\n');\n        data.push(null);\n      });\n    } else {\n      try {\n        data.push(`${JSON.stringify(await (<IQueryOperationResultBoolean> action).execute())}\\n`);\n        data.push(null);\n      } catch (error: unknown) {\n        setTimeout(() => data.emit('error', error));\n      }\n    }\n\n    return { data };\n  }\n}\n","import type { IActorQueryResultSerializeArgs, IActorQueryResultSerializeOutput,\n  IActionSparqlSerialize } from '@comunica/bus-query-result-serialize';\nimport { ActorQueryResultSerialize } from '@comunica/bus-query-result-serialize';\nimport type { MediatorRdfSerializeHandle, MediatorRdfSerializeMediaTypeFormats,\n  MediatorRdfSerializeMediaTypes } from '@comunica/bus-rdf-serialize';\nimport type { IActorTest } from '@comunica/core';\nimport type { IActionContext, IQueryOperationResultQuads } from '@comunica/types';\n\n/**\n * A comunica RDF Query Result Serialize Actor.\n *\n * It serializes quad streams (for example resulting from a CONSTRUCT query)\n * to an RDF syntax.\n */\nexport class ActorQueryResultSerializeRdf extends ActorQueryResultSerialize\n  implements IActorQueryResultSerializeRdfArgs {\n  public readonly mediatorRdfSerialize: MediatorRdfSerializeHandle;\n  public readonly mediatorMediaTypeCombiner: MediatorRdfSerializeMediaTypes;\n  public readonly mediatorMediaTypeFormatCombiner: MediatorRdfSerializeMediaTypeFormats;\n\n  public constructor(args: IActorQueryResultSerializeRdfArgs) {\n    super(args);\n  }\n\n  public async testHandle(action: IActionSparqlSerialize, mediaType: string, context: IActionContext):\n  Promise<IActorTest> {\n    // Check if we are provided with a quad stream\n    if (action.type !== 'quads') {\n      throw new Error(`Actor ${this.name} can only handle quad streams`);\n    }\n\n    // Check if the given media type can be handled\n    const { mediaTypes } = await this.mediatorMediaTypeCombiner.mediate(\n      { context, mediaTypes: true },\n    );\n    if (!(mediaType in mediaTypes)) {\n      throw new Error(`Actor ${this.name} can not handle media type ${mediaType}. All available types: ${\n        Object.keys(mediaTypes)}`);\n    }\n    return true;\n  }\n\n  public async runHandle(action: IActionSparqlSerialize, mediaType: string, context: IActionContext):\n  Promise<IActorQueryResultSerializeOutput> {\n    // Delegate handling to the mediator\n    return (await this.mediatorRdfSerialize.mediate({\n      context,\n      handle: {\n        context,\n        quadStream: (<IQueryOperationResultQuads> action).quadStream,\n      },\n      handleMediaType: mediaType,\n    })).handle;\n  }\n\n  public async testMediaType(context: IActionContext): Promise<boolean> {\n    return true;\n  }\n\n  public async getMediaTypes(context: IActionContext): Promise<Record<string, number>> {\n    return (await this.mediatorMediaTypeCombiner.mediate({ context, mediaTypes: true })).mediaTypes;\n  }\n\n  public async testMediaTypeFormats(context: IActionContext): Promise<boolean> {\n    return true;\n  }\n\n  public async getMediaTypeFormats(context: IActionContext): Promise<Record<string, string>> {\n    return (await this.mediatorMediaTypeFormatCombiner.mediate({ context, mediaTypeFormats: true })).mediaTypeFormats;\n  }\n}\n\nexport interface IActorQueryResultSerializeRdfArgs extends IActorQueryResultSerializeArgs {\n  mediatorRdfSerialize: MediatorRdfSerializeHandle;\n  mediatorMediaTypeCombiner: MediatorRdfSerializeMediaTypes;\n  mediatorMediaTypeFormatCombiner: MediatorRdfSerializeMediaTypeFormats;\n}\n","import type { IActionSparqlSerialize,\n  IActorQueryResultSerializeFixedMediaTypesArgs,\n  IActorQueryResultSerializeOutput } from '@comunica/bus-query-result-serialize';\nimport { ActorQueryResultSerializeFixedMediaTypes } from '@comunica/bus-query-result-serialize';\nimport type { IActionContext, IQueryOperationResultBindings, IQueryOperationResultBoolean,\n  IQueryOperationResultQuads, IQueryOperationResultVoid } from '@comunica/types';\nimport type * as RDF from '@rdfjs/types';\nimport { Readable } from 'readable-stream';\n\n/**\n * A comunica Simple Sparql Serialize Actor.\n */\nexport class ActorQueryResultSerializeSimple extends ActorQueryResultSerializeFixedMediaTypes {\n  /**\n   * @param args -\n   *   \\ @defaultNested {{ \"simple\": 0.9 }} mediaTypePriorities\n   *   \\ @defaultNested {{ \"simple\": \"https://comunica.linkeddatafragments.org/#results_simple\" }} mediaTypeFormats\n   */\n  public constructor(args: IActorQueryResultSerializeFixedMediaTypesArgs) {\n    super(args);\n  }\n\n  public async testHandleChecked(action: IActionSparqlSerialize, context: IActionContext): Promise<boolean> {\n    if (![ 'bindings', 'quads', 'boolean', 'void' ].includes(action.type)) {\n      throw new Error('This actor can only handle bindings streams, quad streams, booleans, or updates.');\n    }\n    return true;\n  }\n\n  public async runHandle(action: IActionSparqlSerialize, mediaType: string, context: IActionContext):\n  Promise<IActorQueryResultSerializeOutput> {\n    const data = new Readable();\n    data._read = () => {\n      // Do nothing\n    };\n\n    let resultStream: NodeJS.EventEmitter;\n    if (action.type === 'bindings') {\n      resultStream = (<IQueryOperationResultBindings> action).bindingsStream;\n      resultStream.on('error', error => data.emit('error', error));\n      resultStream.on('data', (bindings: RDF.Bindings) => data.push(`${[ ...bindings ].map(\n        ([ key, value ]) => `?${key.value}: ${value.value}`,\n      ).join('\\n')}\\n\\n`));\n      resultStream.on('end', () => data.push(null));\n    } else if (action.type === 'quads') {\n      resultStream = (<IQueryOperationResultQuads> action).quadStream;\n      resultStream.on('error', error => data.emit('error', error));\n      resultStream.on('data', quad => data.push(\n        `subject: ${quad.subject.value}\\n` +\n        `predicate: ${quad.predicate.value}\\n` +\n        `object: ${quad.object.value}\\n` +\n        `graph: ${quad.graph.value}\\n\\n`,\n      ));\n      resultStream.on('end', () => data.push(null));\n    } else if (action.type === 'boolean') {\n      try {\n        data.push(`${JSON.stringify(await (<IQueryOperationResultBoolean> action).execute())}\\n`);\n        data.push(null);\n      } catch (error: unknown) {\n        setTimeout(() => data.emit('error', error));\n      }\n    } else {\n      (<IQueryOperationResultVoid> action).execute()\n        .then(() => {\n          data.push('ok\\n');\n          data.push(null);\n        })\n        .catch(error => setTimeout(() => data.emit('error', error)));\n    }\n\n    return { data };\n  }\n}\n","import type { IActionSparqlSerialize, IActorQueryResultSerializeFixedMediaTypesArgs,\n  IActorQueryResultSerializeOutput } from '@comunica/bus-query-result-serialize';\nimport {\n  ActorQueryResultSerializeFixedMediaTypes,\n} from '@comunica/bus-query-result-serialize';\nimport type { Bindings, IActionContext, IQueryOperationResultBindings } from '@comunica/types';\nimport type * as RDF from '@rdfjs/types';\nimport { Readable } from 'readable-stream';\n\n/**\n * A comunica SPARQL CSV Query Result Serialize Actor.\n */\nexport class ActorQueryResultSerializeSparqlCsv extends ActorQueryResultSerializeFixedMediaTypes {\n  /**\n   * @param args -\n   *   \\ @defaultNested {{\n   *       \"text/csv\": 0.75\n   *     }} mediaTypePriorities\n   *   \\ @defaultNested {{\n   *       \"text/csv\": \"http://www.w3.org/ns/formats/SPARQL_Results_CSV\"\n   *     }} mediaTypeFormats\n   */\n  public constructor(args: IActorQueryResultSerializeFixedMediaTypesArgs) {\n    super(args);\n  }\n\n  /**\n   * Converts an RDF term to its CSV representation.\n   * @param {RDF.Term} value An RDF term.\n   * @return {string} A string representation of the given value.\n   */\n  public static bindingToCsvBindings(value?: RDF.Term): string {\n    if (!value) {\n      return '';\n    }\n\n    let stringValue = value.value;\n\n    if (value.termType === 'Literal') {\n      // This is a lossy representation, since language and datatype are not encoded in here.\n      stringValue = `${stringValue}`;\n    } else if (value.termType === 'BlankNode') {\n      stringValue = `_:${stringValue}`;\n    } else {\n      stringValue = `<${stringValue}>`;\n    }\n\n    // If a value contains certain characters, put it between double quotes\n    if (/[\",\\n\\r]/u.test(stringValue)) {\n      // Within quote strings, \" is written using a pair of quotation marks \"\".\n      stringValue = `\"${stringValue.replace(/\"/ug, '\"\"')}\"`;\n    }\n\n    return stringValue;\n  }\n\n  public async testHandleChecked(action: IActionSparqlSerialize, context: IActionContext): Promise<boolean> {\n    if (action.type !== 'bindings') {\n      throw new Error('This actor can only handle bindings streams.');\n    }\n    return true;\n  }\n\n  public async runHandle(action: IActionSparqlSerialize, mediaType: string | undefined, context: IActionContext):\n  Promise<IActorQueryResultSerializeOutput> {\n    const bindingsAction = <IQueryOperationResultBindings> action;\n\n    const data = new Readable();\n    data._read = () => {\n      // Do nothing\n    };\n\n    // Write head\n    const metadata = await bindingsAction.metadata();\n    data.push(`${metadata.variables.map(variable => variable.value).join(',')}\\r\\n`);\n\n    // Write bindings\n    bindingsAction.bindingsStream.on('error', (error: Error) => {\n      data.emit('error', error);\n    });\n    bindingsAction.bindingsStream.on('data', (bindings: Bindings) => {\n      data.push(`${metadata.variables\n        .map(key => ActorQueryResultSerializeSparqlCsv.bindingToCsvBindings(bindings.get(key)))\n        .join(',')}\\r\\n`);\n    });\n    bindingsAction.bindingsStream.on('end', () => {\n      data.push(null);\n    });\n\n    return { data };\n  }\n}\n","import type { IActionHttp, IActorHttpOutput } from '@comunica/bus-http';\nimport type { ActorHttpInvalidateListenable } from '@comunica/bus-http-invalidate';\nimport type { Actor, IActionObserverArgs, IActorTest } from '@comunica/core';\nimport { ActionObserver } from '@comunica/core';\n\n/**\n * Observes HTTP actions, and maintains a counter of the number of requests.\n */\nexport class ActionObserverHttp extends ActionObserver<IActionHttp, IActorHttpOutput> {\n  public readonly httpInvalidator: ActorHttpInvalidateListenable;\n  public requests = 0;\n\n  /* eslint-disable max-len */\n  /**\n   * @param args - @defaultNested {<npmd:@comunica/bus-http/^2.0.0/components/ActorHttp.jsonld#ActorHttp_default_bus>} bus\n   */\n  public constructor(args: IActionObserverHttpArgs) {\n    super(args);\n    this.bus.subscribeObserver(this);\n    this.httpInvalidator.addInvalidateListener(() => {\n      this.requests = 0;\n    });\n  }\n  /* eslint-enable max-len */\n\n  public onRun(actor: Actor<IActionHttp, IActorTest, IActorHttpOutput>,\n    action: IActionHttp, output: Promise<IActorHttpOutput>): void {\n    this.requests++;\n  }\n}\n\nexport interface IActionObserverHttpArgs extends IActionObserverArgs<IActionHttp, IActorHttpOutput> {\n  /* eslint-disable max-len */\n  /**\n   * An actor that listens to HTTP invalidation events\n   * @default {<default_invalidator> a <npmd:@comunica/bus-http-invalidate/^2.0.0/components/ActorHttpInvalidateListenable.jsonld#ActorHttpInvalidateListenable>}\n   */\n  httpInvalidator: ActorHttpInvalidateListenable;\n  /* eslint-enable max-len */\n}\n","import type { IActionSparqlSerialize,\n  IActorQueryResultSerializeFixedMediaTypesArgs,\n  IActorQueryResultSerializeOutput } from '@comunica/bus-query-result-serialize';\nimport { ActorQueryResultSerializeFixedMediaTypes } from '@comunica/bus-query-result-serialize';\nimport type {\n  Bindings, IActionContext, IQueryOperationResultBindings,\n  IQueryOperationResultBoolean,\n} from '@comunica/types';\nimport type * as RDF from '@rdfjs/types';\nimport { Readable } from 'readable-stream';\nimport type { ActionObserverHttp } from './ActionObserverHttp';\n\n/**\n * A comunica sparql-results+xml Serialize Actor.\n */\nexport class ActorQueryResultSerializeSparqlJson extends ActorQueryResultSerializeFixedMediaTypes {\n  private readonly emitMetadata: boolean;\n  public readonly httpObserver: ActionObserverHttp;\n\n  /* eslint-disable max-len */\n  /**\n   * @param args -\n   *   \\ @defaultNested {{\n   *       \"application/sparql-results+json\": 0.8\n   *     }} mediaTypePriorities\n   *   \\ @defaultNested {{\n   *       \"application/sparql-results+json\": \"http://www.w3.org/ns/formats/SPARQL_Results_JSON\"\n   *     }} mediaTypeFormats\n   *   \\ @defaultNested {true} emitMetadata\n   *   \\ @defaultNested {<default_observer> a <caqrssj:components/ActionObserverHttp.jsonld#ActionObserverHttp>} httpObserver\n   */\n  public constructor(args: IActorQueryResultSerializeSparqlJsonArgs) {\n    super(args);\n  }\n  /* eslint-enable max-len */\n\n  /**\n   * Converts an RDF term to its JSON representation.\n   * @param {RDF.Term} value An RDF term.\n   * @return {any} A JSON object.\n   */\n  public static bindingToJsonBindings(value: RDF.Term): any {\n    if (value.termType === 'Literal') {\n      const literal: RDF.Literal = value;\n      const jsonValue: any = { value: literal.value, type: 'literal' };\n      const { language } = literal;\n      const { datatype } = literal;\n      if (language) {\n        jsonValue['xml:lang'] = language;\n      } else if (datatype && datatype.value !== 'http://www.w3.org/2001/XMLSchema#string') {\n        jsonValue.datatype = datatype.value;\n      }\n      return jsonValue;\n    }\n    if (value.termType === 'BlankNode') {\n      return { value: value.value, type: 'bnode' };\n    }\n    return { value: value.value, type: 'uri' };\n  }\n\n  public async testHandleChecked(action: IActionSparqlSerialize, context: IActionContext): Promise<boolean> {\n    if (![ 'bindings', 'boolean' ].includes(action.type)) {\n      throw new Error('This actor can only handle bindings streams or booleans.');\n    }\n    return true;\n  }\n\n  public async runHandle(action: IActionSparqlSerialize, mediaType: string | undefined, context: IActionContext):\n  Promise<IActorQueryResultSerializeOutput> {\n    const data = new Readable();\n    data._read = () => {\n      // Do nothing\n    };\n\n    // Write head\n    const head: any = {};\n    if (action.type === 'bindings') {\n      const metadata = await (<IQueryOperationResultBindings> action).metadata();\n      if (metadata.variables.length > 0) {\n        head.vars = metadata.variables.map(variable => variable.value);\n      }\n    }\n    data.push(`{\"head\": ${JSON.stringify(head)},\\n`);\n    let empty = true;\n\n    if (action.type === 'bindings') {\n      const resultStream: NodeJS.EventEmitter = (<IQueryOperationResultBindings> action).bindingsStream;\n\n      // Write bindings\n      resultStream.on('error', (error: Error) => {\n        data.emit('error', error);\n      });\n      resultStream.on('data', (bindings: Bindings) => {\n        if (empty) {\n          data.push('\"results\": { \"bindings\": [\\n');\n        } else {\n          data.push(',\\n');\n        }\n\n        // JSON SPARQL results spec does not allow unbound variables and blank node bindings\n        const bindingsJson = Object.fromEntries([ ...bindings ]\n          .map(([ key, value ]) => [ key.value, ActorQueryResultSerializeSparqlJson.bindingToJsonBindings(value) ]));\n        data.push(JSON.stringify(bindingsJson));\n        empty = false;\n      });\n\n      // Close streams\n      resultStream.on('end', () => {\n        // Push bindings header if empty\n        if (empty) {\n          data.push('\"results\": { \"bindings\": [\\n');\n        }\n\n        // End bindings array\n        data.push('\\n]}');\n\n        // Push metadata footer\n        if (this.emitMetadata) {\n          data.push(`,\\n\"metadata\": { \"httpRequests\": ${this.httpObserver.requests} }`);\n        }\n\n        // End stream\n        data.push('}\\n');\n        data.push(null);\n      });\n    } else {\n      try {\n        data.push(`\"boolean\":${await (<IQueryOperationResultBoolean> action).execute()}\\n}\\n`);\n        data.push(null);\n      } catch (error: unknown) {\n        data.once('newListener', () => data.emit('error', error));\n      }\n    }\n\n    return { data };\n  }\n}\n\nexport interface IActorQueryResultSerializeSparqlJsonArgs extends IActorQueryResultSerializeFixedMediaTypesArgs {\n  emitMetadata: boolean;\n  httpObserver: ActionObserverHttp;\n}\n","import type { IActionSparqlSerialize, IActorQueryResultSerializeFixedMediaTypesArgs,\n  IActorQueryResultSerializeOutput } from '@comunica/bus-query-result-serialize';\nimport {\n  ActorQueryResultSerializeFixedMediaTypes,\n} from '@comunica/bus-query-result-serialize';\nimport type { Bindings, IActionContext, IQueryOperationResultBindings } from '@comunica/types';\nimport type * as RDF from '@rdfjs/types';\nimport { termToString } from 'rdf-string-ttl';\nimport { Readable } from 'readable-stream';\n\n/**\n * A comunica SPARQL TSV Query Result Serialize Actor.\n */\nexport class ActorQueryResultSerializeSparqlTsv extends ActorQueryResultSerializeFixedMediaTypes {\n  /**\n   * @param args -\n   *   \\ @defaultNested {{\n   *       \"text/tab-separated-values\": 0.75\n   *     }} mediaTypePriorities\n   *   \\ @defaultNested {{\n   *       \"text/tab-separated-values\": \"http://www.w3.org/ns/formats/SPARQL_Results_TSV\"\n   *     }} mediaTypeFormats\n   */\n  public constructor(args: IActorQueryResultSerializeFixedMediaTypesArgs) {\n    super(args);\n  }\n\n  /**\n   * Converts an RDF term to its TSV representation.\n   * @param {RDF.Term} value An RDF term.\n   * @return {string} A string representation of the given value.\n   */\n  public static bindingToTsvBindings(value?: RDF.Term): string {\n    if (!value) {\n      return '';\n    }\n\n    // Escape tab, newline and carriage return characters\n    return termToString(value)\n      .replace(/\\t/gu, '\\\\t')\n      .replace(/\\n/gu, '\\\\n')\n      .replace(/\\r/gu, '\\\\r');\n  }\n\n  public async testHandleChecked(action: IActionSparqlSerialize, context: IActionContext): Promise<boolean> {\n    if (action.type !== 'bindings') {\n      throw new Error('This actor can only handle bindings streams.');\n    }\n    return true;\n  }\n\n  public async runHandle(action: IActionSparqlSerialize, mediaType: string | undefined, context: IActionContext):\n  Promise<IActorQueryResultSerializeOutput> {\n    const bindingsAction = <IQueryOperationResultBindings> action;\n\n    const data = new Readable();\n    data._read = () => {\n      // Do nothing\n    };\n\n    // Write head\n    const metadata = await bindingsAction.metadata();\n    data.push(`${metadata.variables.map((variable: RDF.Variable) => variable.value).join('\\t')}\\n`);\n\n    // Write bindings\n    bindingsAction.bindingsStream.on('error', (error: Error) => {\n      data.emit('error', error);\n    });\n    bindingsAction.bindingsStream.on('data', (bindings: Bindings) => {\n      data.push(`${metadata.variables\n        .map((key: RDF.Variable) => ActorQueryResultSerializeSparqlTsv\n          .bindingToTsvBindings(bindings.get(key)))\n        .join('\\t')}\\n`);\n    });\n    bindingsAction.bindingsStream.on('end', () => {\n      data.push(null);\n    });\n\n    return { data };\n  }\n}\n","import type { IActionSparqlSerialize,\n  IActorQueryResultSerializeFixedMediaTypesArgs,\n  IActorQueryResultSerializeOutput } from '@comunica/bus-query-result-serialize';\nimport { ActorQueryResultSerializeFixedMediaTypes } from '@comunica/bus-query-result-serialize';\nimport type {\n  Bindings, IActionContext, IQueryOperationResultBindings,\n  IQueryOperationResultBoolean,\n} from '@comunica/types';\nimport type * as RDF from '@rdfjs/types';\nimport { Readable } from 'readable-stream';\nimport { XmlSerializer, type IXmlNode } from './XmlSerializer';\n\n/**\n * A comunica sparql-results+xml Serialize Actor.\n */\nexport class ActorQueryResultSerializeSparqlXml extends ActorQueryResultSerializeFixedMediaTypes {\n  /**\n   * @param args -\n   *   \\ @defaultNested {{\n   *       \"application/sparql-results+xml\": 0.8\n   *     }} mediaTypePriorities\n   *   \\ @defaultNested {{\n   *       \"application/sparql-results+xml\": \"http://www.w3.org/ns/formats/SPARQL_Results_XML\"\n   *     }} mediaTypeFormats\n   */\n  public constructor(args: IActorQueryResultSerializeFixedMediaTypesArgs) {\n    super(args);\n  }\n\n  /**\n   * Converts an RDF term to its object-based XML representation.\n   * @param {RDF.Term} value An RDF term.\n   * @param {string} key A variable name, '?' must be included as a prefix.\n   * @return {IXmlNode} An object-based XML tag.\n   */\n  public static bindingToXmlBindings(value: RDF.Term, key: RDF.Variable): IXmlNode {\n    return { name: 'binding', attributes: { name: key.value }, children: [ this.valueToXmlValue(value) ]};\n  }\n\n  public static valueToXmlValue(value: RDF.Term): IXmlNode {\n    let attributes;\n    switch (value.termType) {\n      case 'Literal':\n        if (value.language) {\n          attributes = { 'xml:lang': value.language };\n        } else if (value.datatype && value.datatype.value !== 'http://www.w3.org/2001/XMLSchema#string') {\n          attributes = { datatype: value.datatype.value };\n        } else {\n          attributes = {};\n        }\n        return { name: 'literal', attributes, children: value.value };\n      case 'BlankNode':\n        return { name: 'bnode', children: value.value };\n      default:\n        return { name: 'uri', children: value.value };\n    }\n  }\n\n  public async testHandleChecked(action: IActionSparqlSerialize, context: IActionContext): Promise<boolean> {\n    if (![ 'bindings', 'boolean' ].includes(action.type)) {\n      throw new Error('This actor can only handle bindings streams or booleans.');\n    }\n    return true;\n  }\n\n  public async runHandle(action: IActionSparqlSerialize, mediaType: string, context: IActionContext):\n  Promise<IActorQueryResultSerializeOutput> {\n    const data = new Readable();\n    data._read = () => {\n      // Do nothing\n    };\n\n    // Write head\n    const serializer = new XmlSerializer(chunk => data.push(chunk));\n    serializer.open('sparql', { xmlns: 'http://www.w3.org/2005/sparql-results#' });\n    const metadata = await (<IQueryOperationResultBindings> action).metadata();\n    serializer.add({\n      name: 'head',\n      children: metadata.variables.map(variable => ({ name: 'variable', attributes: { name: variable.value }})),\n    });\n    if (action.type === 'bindings') {\n      serializer.open('results');\n      const resultStream: NodeJS.EventEmitter = (<IQueryOperationResultBindings> action).bindingsStream;\n\n      // Write bindings\n      resultStream.on('error', (error: Error) => {\n        data.emit('error', error);\n      });\n      resultStream.on('data', (bindings: Bindings) => {\n        // XML SPARQL results spec does not allow unbound variables and blank node bindings\n        serializer.add({ name: 'result',\n          children: [ ...bindings ]\n            .map(([ key, value ]) => ActorQueryResultSerializeSparqlXml.bindingToXmlBindings(value, key)) });\n      });\n\n      // Close streams\n      resultStream.on('end', () => {\n        serializer.close();\n        serializer.close();\n        setTimeout(() => data.push(null));\n      });\n    } else {\n      try {\n        const result = await (<IQueryOperationResultBoolean> action).execute();\n        serializer.add({ name: 'boolean', children: result.toString() });\n        serializer.close();\n        setTimeout(() => data.push(null));\n      } catch (error: unknown) {\n        setTimeout(() => data.emit('error', error));\n      }\n    }\n\n    return { data };\n  }\n}\n","/**\n * A very simple XML serializer\n */\nexport class XmlSerializer {\n  private readonly push: (data: string) => void;\n\n  private readonly stack: string[] = [];\n\n  public constructor(push: (data: string) => void) {\n    this.push = push;\n    this.push(`<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n`);\n  }\n\n  /**\n     *\n     * @param name should be a valid XML tag name\n     * @param attributes keys should be valid attribute names\n     */\n  public open(name: string, attributes?: Record<string, string>): void {\n    this.push(`${this.identation() + this.formatTag(name, attributes, 'open')}\\n`);\n    this.stack.push(name);\n  }\n\n  public close(): void {\n    const name = this.stack.pop();\n    if (name === undefined) {\n      throw new Error('There is no tag left to close');\n    }\n    this.push(`${this.identation() + this.formatTag(name, {}, 'close')}\\n`);\n  }\n\n  public add(node: IXmlNode): void {\n    this.push(this.serializeNode(node));\n  }\n\n  private serializeNode(node: IXmlNode): string {\n    if (node.children === undefined) {\n      return `${this.identation() + this.formatTag(node.name, node.attributes, 'self-closing')}\\n`;\n    }\n    if (typeof node.children === 'string') {\n      return `${this.identation() + this.formatTag(node.name, node.attributes, 'open') + this.escape(node.children) + this.formatTag(node.name, {}, 'close')}\\n`;\n    }\n    const parts = [];\n    parts.push(`${this.identation() + this.formatTag(node.name, node.attributes, 'open')}\\n`);\n    this.stack.push(node.name);\n    for (const child of node.children) {\n      parts.push(this.serializeNode(child));\n    }\n    this.stack.pop();\n    parts.push(`${this.identation() + this.formatTag(node.name, {}, 'close')}\\n`);\n    return parts.join('');\n  }\n\n  private identation(): string {\n    return this.stack.map(_ => '  ').join('');\n  }\n\n  private formatTag(\n    name: string, attributes: Record<string, string> | undefined, state: 'open' | 'close' | 'self-closing',\n  ): string {\n    return `<${state === 'close' ? '/' : ''}${name}${Object.entries(attributes || {}).map(attr => ` ${attr[0]}=\"${this.escape(attr[1])}\"`)}${state === 'self-closing' ? '/' : ''}>`;\n  }\n\n  private escape(text: string): string {\n    return text.replace(/[\"&'<>]/gu, (char: '\"' | '&' | '\\'' | '<' | '>') => {\n      switch (char) {\n        case '<': return '&lt;';\n        case '>': return '&gt;';\n        case '&': return '&amp;';\n        case '\\'': return '&apos;';\n        case '\"': return '&quot;';\n      }\n    });\n  }\n}\n\nexport interface IXmlNode {\n  name: string;\n  attributes?: Record<string, string>;\n  children?: (IXmlNode[]) | string;\n}\n","import type { IActionSparqlSerialize,\n  IActorQueryResultSerializeFixedMediaTypesArgs,\n  IActorQueryResultSerializeOutput } from '@comunica/bus-query-result-serialize';\nimport { ActorQueryResultSerializeFixedMediaTypes } from '@comunica/bus-query-result-serialize';\nimport type {\n  IActionContext, IQueryOperationResultBindings,\n  IQueryOperationResultQuads,\n} from '@comunica/types';\nimport { Readable } from 'readable-stream';\nimport type { ActionObserverHttp } from './ActionObserverHttp';\n\n/**\n * Serializes SPARQL results for testing and debugging.\n */\nexport class ActorQueryResultSerializeStats extends ActorQueryResultSerializeFixedMediaTypes {\n  public readonly httpObserver: ActionObserverHttp;\n\n  /* eslint-disable max-len */\n  /**\n   * @param args -\n   *   \\ @defaultNested {{ \"stats\": 0.5 }} mediaTypePriorities\n   *   \\ @defaultNested {{ \"stats\": \"https://comunica.linkeddatafragments.org/#results_stats\" }} mediaTypeFormats\n   *   \\ @defaultNested {<default_observer> a <caqrsst:components/ActionObserverHttp.jsonld#ActionObserverHttp>} httpObserver\n   */\n  public constructor(args: IActorQueryResultSerializeStatsArgs) {\n    super(args);\n  }\n  /* eslint-enable max-len */\n\n  public async testHandleChecked(action: IActionSparqlSerialize, context: IActionContext): Promise<boolean> {\n    if (![ 'bindings', 'quads' ].includes(action.type)) {\n      throw new Error('This actor can only handle bindings streams or quad streams.');\n    }\n    return true;\n  }\n\n  public pushHeader(data: Readable): void {\n    const header: string = [ 'Result', 'Delay (ms)', 'HTTP requests',\n    ].join(',');\n    data.push(`${header}\\n`);\n  }\n\n  public pushStat(data: Readable, startTime: number, result: number): void {\n    const row: string = [ result, this.delay(startTime), this.httpObserver.requests,\n    ].join(',');\n    data.push(`${row}\\n`);\n  }\n\n  public pushFooter(data: Readable, startTime: number): void {\n    const footer: string = [ 'TOTAL', this.delay(startTime), this.httpObserver.requests,\n    ].join(',');\n    data.push(`${footer}\\n`);\n    data.push(null);\n  }\n\n  public async runHandle(action: IActionSparqlSerialize, mediaType: string, context: IActionContext):\n  Promise<IActorQueryResultSerializeOutput> {\n    const data = new Readable();\n    data._read = () => {\n      // Do nothing\n    };\n\n    const resultStream: NodeJS.EventEmitter = action.type === 'bindings' ?\n      (<IQueryOperationResultBindings> action).bindingsStream :\n      (<IQueryOperationResultQuads> action).quadStream;\n\n    const startTime = this.now();\n    let result = 1;\n\n    this.pushHeader(data);\n    resultStream.on('error', error => data.emit('error', error));\n    resultStream.on('data', () => this.pushStat(data, startTime, result++));\n    resultStream.on('end', () => this.pushFooter(data, startTime));\n\n    return { data };\n  }\n\n  /* istanbul ignore next */\n  public now(): number {\n    // TODO: remove when we will drop support of Node 14\n    if (typeof performance === 'undefined') {\n      const time: [number, number] = process.hrtime();\n      return time[0] * 1_000 + (time[1] / 1_000_000);\n    }\n    return performance.now();\n  }\n\n  public delay(startTime: number): number {\n    return this.now() - startTime;\n  }\n}\n\nexport interface IActorQueryResultSerializeStatsArgs extends IActorQueryResultSerializeFixedMediaTypesArgs {\n  httpObserver: ActionObserverHttp;\n}\n","import type { IActionSparqlSerialize,\n  IActorQueryResultSerializeFixedMediaTypesArgs,\n  IActorQueryResultSerializeOutput } from '@comunica/bus-query-result-serialize';\nimport { ActorQueryResultSerializeFixedMediaTypes } from '@comunica/bus-query-result-serialize';\nimport type {\n  Bindings, IActionContext,\n  IQueryOperationResultBindings,\n  IQueryOperationResultQuads,\n} from '@comunica/types';\nimport type * as RDF from '@rdfjs/types';\nimport { DataFactory } from 'rdf-data-factory';\nimport { getTerms, QUAD_TERM_NAMES } from 'rdf-terms';\nimport { Readable } from 'readable-stream';\n\nconst DF = new DataFactory();\nconst QUAD_TERM_NAMES_VARS = QUAD_TERM_NAMES.map(name => DF.variable(name));\n\n/**\n * A comunica Table Sparql Serialize Actor.\n */\nexport class ActorQueryResultSerializeTable extends ActorQueryResultSerializeFixedMediaTypes\n  implements IActorQueryResultSerializeTableArgs {\n  public readonly columnWidth: number;\n  public readonly padding: string;\n\n  /**\n   * @param args -\n   *   \\ @defaultNested {{ \"table\": 0.6 }} mediaTypePriorities\n   *   \\ @defaultNested {{ \"table\": \"https://comunica.linkeddatafragments.org/#results_table\" }} mediaTypeFormats\n   */\n  public constructor(args: IActorQueryResultSerializeTableArgs) {\n    super(args);\n    this.padding = ActorQueryResultSerializeTable.repeat(' ', this.columnWidth);\n  }\n\n  public static repeat(str: string, count: number): string {\n    return new Array(count + 1).join(str);\n  }\n\n  public async testHandleChecked(action: IActionSparqlSerialize, context: IActionContext): Promise<boolean> {\n    if (![ 'bindings', 'quads' ].includes(action.type)) {\n      throw new Error('This actor can only handle bindings or quad streams.');\n    }\n    return true;\n  }\n\n  public pad(str: string): string {\n    if (str.length <= this.columnWidth) {\n      return str + this.padding.slice(str.length);\n    }\n    return `${str.slice(0, this.columnWidth - 1)}`;\n  }\n\n  public pushHeader(data: Readable, labels: RDF.Variable[]): void {\n    const header: string = labels.map(label => this.pad(label.value)).join(' ');\n    data.push(`${header}\\n${ActorQueryResultSerializeTable.repeat('-', header.length)}\\n`);\n  }\n\n  public pushRow(data: Readable, labels: RDF.Variable[], bindings: Bindings): void {\n    data.push(`${labels\n      .map(label => bindings.get(label)?.value || '')\n      .map(label => this.pad(label))\n      .join(' ')}\\n`);\n  }\n\n  public async runHandle(action: IActionSparqlSerialize, mediaType: string, context: IActionContext):\n  Promise<IActorQueryResultSerializeOutput> {\n    const data = new Readable();\n    data._read = () => {\n      // Do nothing\n    };\n\n    let resultStream: NodeJS.EventEmitter;\n    if (action.type === 'bindings') {\n      resultStream = (<IQueryOperationResultBindings> action).bindingsStream;\n      const labels = (await (<IQueryOperationResultBindings> action).metadata()).variables;\n      this.pushHeader(data, labels);\n      resultStream.on('error', error => data.emit('error', error));\n      resultStream.on('data', bindings => this.pushRow(data, labels, bindings));\n    } else {\n      resultStream = (<IQueryOperationResultQuads> action).quadStream;\n      this.pushHeader(data, QUAD_TERM_NAMES_VARS);\n      resultStream.on('error', error => data.emit('error', error));\n      resultStream.on('data', quad => data.push(\n        `${getTerms(quad).map(term => this.pad(term.value)).join(' ')}\\n`,\n      ));\n    }\n    resultStream.on('end', () => data.push(null));\n\n    return { data };\n  }\n}\n\nexport interface IActorQueryResultSerializeTableArgs extends IActorQueryResultSerializeFixedMediaTypesArgs {\n  /**\n   * The table column width in number of characters\n   * @range {integer}\n   * @default {50}\n   */\n  columnWidth: number;\n}\n","import type { IActionSparqlSerialize,\n  IActorQueryResultSerializeFixedMediaTypesArgs,\n  IActorQueryResultSerializeOutput } from '@comunica/bus-query-result-serialize';\nimport { ActorQueryResultSerializeFixedMediaTypes } from '@comunica/bus-query-result-serialize';\nimport { KeysInitQuery } from '@comunica/context-entries';\nimport { ActionContext } from '@comunica/core';\nimport type { IQueryOperationResultBindings, BindingsStream, IActionContext } from '@comunica/types';\nimport type * as RDF from '@rdfjs/types';\nimport { Readable } from 'readable-stream';\nimport type { IConverterSettings, ISchema } from 'sparqljson-to-tree';\nimport { Converter } from 'sparqljson-to-tree';\n\n/**\n * A comunica Tree Query Result Serialize Actor.\n */\nexport class ActorQueryResultSerializeTree extends ActorQueryResultSerializeFixedMediaTypes\n  implements IActorQueryResultSerializeFixedMediaTypesArgs {\n  /**\n   * @param args -\n   *   \\ @defaultNested {{ \"tree\": 0.5 }} mediaTypePriorities\n   *   \\ @defaultNested {{ \"tree\": \"https://comunica.linkeddatafragments.org/#results_tree\" }} mediaTypeFormats\n   */\n  public constructor(args: IActorQueryResultSerializeFixedMediaTypesArgs) {\n    super(args);\n  }\n\n  /**\n   *\n   * @param {BindingsStream} bindingsStream\n   * @param context\n   * @param {IConverterSettings} converterSettings\n   * @return {Promise<string>}\n   */\n  public static bindingsStreamToGraphQl(bindingsStream: BindingsStream,\n    context: IActionContext | Record<string, any> | undefined,\n    converterSettings?: IConverterSettings): Promise<string> {\n    const actionContext: IActionContext = ActionContext.ensureActionContext(context);\n    return new Promise((resolve, reject) => {\n      const bindingsArray: Record<string, RDF.Term>[] = [];\n      const converter: Converter = new Converter(converterSettings);\n\n      const schema: ISchema = {\n        singularizeVariables: actionContext.get(KeysInitQuery.graphqlSingularizeVariables) || {},\n      };\n\n      bindingsStream.on('error', reject);\n      bindingsStream.on('data', (bindings: RDF.Bindings) => {\n        bindingsArray.push(Object.fromEntries([ ...bindings ]\n          .map(([ key, value ]) => [ key.value, value ])));\n      });\n      bindingsStream.on('end', () => {\n        resolve(converter.bindingsToTree(bindingsArray, schema));\n      });\n    });\n  }\n\n  public async testHandleChecked(action: IActionSparqlSerialize): Promise<boolean> {\n    if (action.type !== 'bindings') {\n      throw new Error('This actor can only handle bindings streams.');\n    }\n    return true;\n  }\n\n  public async runHandle(action: IActionSparqlSerialize, mediaType: string): Promise<IActorQueryResultSerializeOutput> {\n    const data = new Readable();\n    data._read = () => {\n      // Do nothing\n    };\n\n    const resultStream: BindingsStream = (<IQueryOperationResultBindings> action).bindingsStream;\n    resultStream.on('error', error => data.emit('error', error));\n    ActorQueryResultSerializeTree.bindingsStreamToGraphQl(resultStream, action.context, { materializeRdfJsTerms: true })\n      .then((result: any) => {\n        data.push(JSON.stringify(result, null, '  '));\n        data.push(null);\n      })\n      .catch(error => data.emit('error', error));\n\n    return { data };\n  }\n}\n","import type { IActionRdfJoinEntriesSort,\n  IActorRdfJoinEntriesSortOutput } from '@comunica/bus-rdf-join-entries-sort';\nimport { ActorRdfJoinEntriesSort } from '@comunica/bus-rdf-join-entries-sort';\nimport type { IActorArgs, IActorTest } from '@comunica/core';\n\n/**\n * An actor that sorts join entries by increasing cardinality.\n */\nexport class ActorRdfJoinEntriesSortCardinality extends ActorRdfJoinEntriesSort {\n  public constructor(\n    args: IActorArgs<IActionRdfJoinEntriesSort, IActorTest, IActorRdfJoinEntriesSortOutput>,\n  ) {\n    super(args);\n  }\n\n  public async test(action: IActionRdfJoinEntriesSort): Promise<IActorTest> {\n    return true;\n  }\n\n  public async run(action: IActionRdfJoinEntriesSort): Promise<IActorRdfJoinEntriesSortOutput> {\n    const entries = [ ...action.entries ]\n      .sort((entryLeft, entryRight) => entryLeft.metadata.cardinality.value - entryRight.metadata.cardinality.value);\n    return { entries };\n  }\n}\n","import type { IActionRdfJoin, IActorRdfJoinOutputInner, IActorRdfJoinArgs } from '@comunica/bus-rdf-join';\nimport { ActorRdfJoin } from '@comunica/bus-rdf-join';\nimport type { IMediatorTypeJoinCoefficients } from '@comunica/mediatortype-join-coefficients';\nimport type { Bindings,\n  MetadataBindings } from '@comunica/types';\nimport { HashJoin } from 'asyncjoin';\n\n/**\n * A comunica Hash RDF Join Actor.\n */\nexport class ActorRdfJoinHash extends ActorRdfJoin {\n  public constructor(args: IActorRdfJoinArgs) {\n    super(args, {\n      logicalType: 'inner',\n      physicalName: 'hash',\n      limitEntries: 2,\n    });\n  }\n\n  public async getOutput(action: IActionRdfJoin): Promise<IActorRdfJoinOutputInner> {\n    const metadatas = await ActorRdfJoin.getMetadatas(action.entries);\n    const variables = ActorRdfJoin.overlappingVariables(metadatas);\n    const join = new HashJoin<Bindings, string, Bindings>(\n      action.entries[0].output.bindingsStream,\n      action.entries[1].output.bindingsStream,\n      entry => ActorRdfJoin.hash(entry, variables),\n      <any> ActorRdfJoin.joinBindings,\n    );\n    return {\n      result: {\n        type: 'bindings',\n        bindingsStream: join,\n        metadata: async() => await this.constructResultMetadata(action.entries, metadatas, action.context),\n      },\n    };\n  }\n\n  protected async getJoinCoefficients(\n    action: IActionRdfJoin,\n    metadatas: MetadataBindings[],\n  ): Promise<IMediatorTypeJoinCoefficients> {\n    const requestInitialTimes = ActorRdfJoin.getRequestInitialTimes(metadatas);\n    const requestItemTimes = ActorRdfJoin.getRequestItemTimes(metadatas);\n    return {\n      iterations: metadatas[0].cardinality.value + metadatas[1].cardinality.value,\n      persistedItems: metadatas[0].cardinality.value,\n      blockingItems: metadatas[0].cardinality.value,\n      requestTime: requestInitialTimes[0] + metadatas[0].cardinality.value * requestItemTimes[0] +\n        requestInitialTimes[1] + metadatas[1].cardinality.value * requestItemTimes[1],\n    };\n  }\n}\n","import type { MediatorQueryOperation } from '@comunica/bus-query-operation';\nimport { ActorQueryOperation, materializeOperation } from '@comunica/bus-query-operation';\nimport type {\n  IActionRdfJoin,\n  IActorRdfJoinOutputInner,\n  IActorRdfJoinArgs,\n} from '@comunica/bus-rdf-join';\nimport { ActorRdfJoin } from '@comunica/bus-rdf-join';\nimport type { MediatorRdfJoinEntriesSort } from '@comunica/bus-rdf-join-entries-sort';\nimport { KeysQueryOperation } from '@comunica/context-entries';\nimport type { IMediatorTypeJoinCoefficients } from '@comunica/mediatortype-join-coefficients';\nimport type { Bindings, BindingsStream, IQueryOperationResultBindings,\n  MetadataBindings, IActionContext, IJoinEntryWithMetadata } from '@comunica/types';\nimport { MultiTransformIterator, TransformIterator, UnionIterator } from 'asynciterator';\nimport { Factory, Algebra } from 'sparqlalgebrajs';\n\n/**\n * A comunica Multi-way Bind RDF Join Actor.\n */\nexport class ActorRdfJoinMultiBind extends ActorRdfJoin {\n  public readonly bindOrder: BindOrder;\n  public readonly selectivityModifier: number;\n  public readonly mediatorJoinEntriesSort: MediatorRdfJoinEntriesSort;\n  public readonly mediatorQueryOperation: MediatorQueryOperation;\n\n  public static readonly FACTORY = new Factory();\n\n  public constructor(args: IActorRdfJoinMultiBindArgs) {\n    super(args, {\n      logicalType: 'inner',\n      physicalName: 'bind',\n      canHandleUndefs: true,\n    });\n  }\n\n  /**\n   * Create a new bindings stream that takes every binding of the base stream\n   * and binds it to the remaining patterns, evaluates those patterns, and emits all their bindings.\n   *\n   * @param bindOrder The order in which elements should be bound.\n   * @param baseStream The base stream.\n   * @param operations The operations to bind with each binding of the base stream.\n   * @param operationBinder A callback to retrieve the bindings stream of bound operations.\n   * @param optional If the original bindings should be emitted when the resulting bindings stream is empty.\n   * @return {BindingsStream}\n   */\n  public static createBindStream(\n    bindOrder: BindOrder,\n    baseStream: BindingsStream,\n    operations: Algebra.Operation[],\n    operationBinder: (boundOperations: Algebra.Operation[], operationBindings: Bindings)\n    => Promise<BindingsStream>,\n    optional: boolean,\n  ): BindingsStream {\n    // Create bindings function\n    const binder = (bindings: Bindings): BindingsStream => {\n      // We don't bind the filter because filters are always handled last,\n      // and we need to avoid binding filters of sub-queries, which are to be handled first. (see spec test bind10)\n      const subOperations = operations\n        .map(operation => materializeOperation(operation, bindings, { bindFilter: false }));\n      const bindingsMerger = (subBindings: Bindings): Bindings | undefined => subBindings.merge(bindings);\n      return new TransformIterator(async() => (await operationBinder(subOperations, bindings))\n        .transform({ map: bindingsMerger }), { maxBufferSize: 128, autoStart: false });\n    };\n\n    // Create an iterator that binds elements from the base stream in different orders\n    switch (bindOrder) {\n      case 'depth-first':\n        return new MultiTransformIterator(baseStream, { autoStart: false, multiTransform: binder, optional });\n      case 'breadth-first':\n        return new UnionIterator(baseStream.transform({\n          map: binder,\n          optional,\n        }), { autoStart: false });\n      default:\n        throw new Error(`Received request for unknown bind order: ${bindOrder}`);\n    }\n  }\n\n  /**\n   * Order the given join entries using the join-entries-sort bus.\n   * @param {IJoinEntryWithMetadata[]} entries An array of join entries.\n   * @param context The action context.\n   * @return {IJoinEntryWithMetadata[]} The sorted join entries.\n   */\n  public async sortJoinEntries(\n    entries: IJoinEntryWithMetadata[],\n    context: IActionContext,\n  ): Promise<IJoinEntryWithMetadata[]> {\n    // If there is a stream that can contain undefs, we don't modify the join order.\n    const canContainUndefs = entries.some(entry => entry.metadata.canContainUndefs);\n    if (canContainUndefs) {\n      return entries;\n    }\n\n    // Calculate number of occurrences of each variable\n    const variableOccurrences: Record<string, number> = {};\n    for (const entry of entries) {\n      for (const variable of entry.metadata.variables) {\n        let counter = variableOccurrences[variable.value];\n        if (!counter) {\n          counter = 0;\n        }\n        variableOccurrences[variable.value] = ++counter;\n      }\n    }\n\n    // Determine variables that occur in at least two join entries\n    const multiOccurrenceVariables: string[] = [];\n    for (const [ variable, count ] of Object.entries(variableOccurrences)) {\n      if (count >= 2) {\n        multiOccurrenceVariables.push(variable);\n      }\n    }\n\n    // Reject if no entries have common variables\n    if (multiOccurrenceVariables.length === 0) {\n      throw new Error(`Bind join can only join entries with at least one common variable`);\n    }\n\n    // Determine entries without common variables\n    // These will be placed in the back of the sorted array\n    const entriesWithoutCommonVariables: IJoinEntryWithMetadata[] = [];\n    for (const entry of entries) {\n      let hasCommon = false;\n      for (const variable of entry.metadata.variables) {\n        if (multiOccurrenceVariables.includes(variable.value)) {\n          hasCommon = true;\n          break;\n        }\n      }\n      if (!hasCommon) {\n        entriesWithoutCommonVariables.push(entry);\n      }\n    }\n\n    return (await this.mediatorJoinEntriesSort.mediate({ entries, context })).entries\n      .sort((entryLeft, entryRight) => {\n        // Sort to make sure that entries without common variables come last in the array.\n        // For all other entries, the original order is kept.\n        const leftWithoutCommonVariables = entriesWithoutCommonVariables.includes(entryLeft);\n        const rightWithoutCommonVariables = entriesWithoutCommonVariables.includes(entryRight);\n        if (leftWithoutCommonVariables === rightWithoutCommonVariables) {\n          return 0;\n        }\n        return leftWithoutCommonVariables ?\n          1 :\n          -1;\n      });\n  }\n\n  public async getOutput(action: IActionRdfJoin): Promise<IActorRdfJoinOutputInner> {\n    // Order the entries so we can pick the first one (usually the one with the lowest cardinality)\n    const entriesUnsorted = await ActorRdfJoin.getEntriesWithMetadatas(action.entries);\n    const entries = await this.sortJoinEntries(entriesUnsorted, action.context);\n\n    this.logDebug(action.context,\n      'First entry for Bind Join: ',\n      () => ({ entry: entries[0].operation, metadata: entries[0].metadata }));\n\n    // Close the non-smallest streams\n    for (const [ i, element ] of entries.entries()) {\n      if (i !== 0) {\n        element.output.bindingsStream.close();\n      }\n    }\n\n    // Take the stream with the lowest cardinality\n    const smallestStream: IQueryOperationResultBindings = entries[0].output;\n    const remainingEntries = [ ...entries ];\n    remainingEntries.splice(0, 1);\n\n    // Bind the remaining patterns for each binding in the stream\n    const subContext = action.context\n      .set(KeysQueryOperation.joinLeftMetadata, entries[0].metadata)\n      .set(KeysQueryOperation.joinRightMetadatas, remainingEntries.map(entry => entry.metadata));\n    const bindingsStream: BindingsStream = ActorRdfJoinMultiBind.createBindStream(\n      this.bindOrder,\n      smallestStream.bindingsStream,\n      remainingEntries.map(entry => entry.operation),\n      async(operations: Algebra.Operation[], operationBindings: Bindings) => {\n        // Send the materialized patterns to the mediator for recursive join evaluation.\n        const operation = operations.length === 1 ?\n          operations[0] :\n          ActorRdfJoinMultiBind.FACTORY.createJoin(operations);\n        const output = ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate(\n          { operation, context: subContext?.set(KeysQueryOperation.joinBindings, operationBindings) },\n        ));\n        return output.bindingsStream;\n      },\n      false,\n    );\n\n    return {\n      result: {\n        type: 'bindings',\n        bindingsStream,\n        metadata: () => this.constructResultMetadata(entries, entries.map(entry => entry.metadata), action.context),\n      },\n      physicalPlanMetadata: {\n        bindIndex: entriesUnsorted.indexOf(entries[0]),\n        bindOrder: this.bindOrder,\n      },\n    };\n  }\n\n  public async getJoinCoefficients(\n    action: IActionRdfJoin,\n    metadatas: MetadataBindings[],\n  ): Promise<IMediatorTypeJoinCoefficients> {\n    // Order the entries so we can pick the first one (usually the one with the lowest cardinality)\n    const entries = await this.sortJoinEntries(action.entries\n      .map((entry, i) => ({ ...entry, metadata: metadatas[i] })), action.context);\n    metadatas = entries.map(entry => entry.metadata);\n\n    const requestInitialTimes = ActorRdfJoin.getRequestInitialTimes(metadatas);\n    const requestItemTimes = ActorRdfJoin.getRequestItemTimes(metadatas);\n\n    // Determine first stream and remaining ones\n    const remainingEntries = [ ...entries ];\n    const remainingRequestInitialTimes = [ ...requestInitialTimes ];\n    const remainingRequestItemTimes = [ ...requestItemTimes ];\n    remainingEntries.splice(0, 1);\n    remainingRequestInitialTimes.splice(0, 1);\n    remainingRequestItemTimes.splice(0, 1);\n\n    // Reject binding on some operation types\n    if (remainingEntries\n      .some(entry => entry.operation.type === Algebra.types.EXTEND || entry.operation.type === Algebra.types.GROUP)) {\n      throw new Error(`Actor ${this.name} can not bind on Extend and Group operations`);\n    }\n\n    // Determine selectivities of smallest entry with all other entries\n    const selectivities = await Promise.all(remainingEntries\n      .map(async entry => (await this.mediatorJoinSelectivity.mediate({\n        entries: [ entries[0], entry ],\n        context: action.context,\n      })).selectivity * this.selectivityModifier));\n\n    // Determine coefficients for remaining entries\n    const cardinalityRemaining = remainingEntries\n      .map((entry, i) => entry.metadata.cardinality.value * selectivities[i])\n      .reduce((sum, element) => sum + element, 0);\n    const receiveInitialCostRemaining = remainingRequestInitialTimes\n      .reduce((sum, element, i) => sum + (element * selectivities[i]), 0);\n    const receiveItemCostRemaining = remainingRequestItemTimes\n      .reduce((sum, element, i) => sum + (element * selectivities[i]), 0);\n\n    return {\n      iterations: metadatas[0].cardinality.value * cardinalityRemaining,\n      persistedItems: 0,\n      blockingItems: 0,\n      requestTime: requestInitialTimes[0] +\n        metadatas[0].cardinality.value * (\n          requestItemTimes[0] +\n          receiveInitialCostRemaining +\n          cardinalityRemaining * receiveItemCostRemaining\n        ),\n    };\n  }\n}\n\nexport interface IActorRdfJoinMultiBindArgs extends IActorRdfJoinArgs {\n  /**\n   * The order in which elements should be bound\n   * @default {depth-first}\n   */\n  bindOrder: BindOrder;\n  /**\n   * Multiplier for selectivity values\n   * @range {double}\n   * @default {0.0001}\n   */\n  selectivityModifier: number;\n  /**\n   * The join entries sort mediator\n   */\n  mediatorJoinEntriesSort: MediatorRdfJoinEntriesSort;\n  /**\n   * The query operation mediator\n   */\n  mediatorQueryOperation: MediatorQueryOperation;\n}\n\nexport type BindOrder = 'depth-first' | 'breadth-first';\n","import type { IActionRdfJoin, IActorRdfJoinOutputInner, IActorRdfJoinArgs } from '@comunica/bus-rdf-join';\nimport { ActorRdfJoin } from '@comunica/bus-rdf-join';\nimport type { IMediatorTypeJoinCoefficients } from '@comunica/mediatortype-join-coefficients';\nimport type { MetadataBindings } from '@comunica/types';\nimport { ArrayIterator } from 'asynciterator';\n\n/**\n * A comunica Multi Empty RDF Join Actor.\n */\nexport class ActorRdfJoinMultiEmpty extends ActorRdfJoin {\n  public constructor(args: IActorRdfJoinArgs) {\n    super(args, {\n      logicalType: 'inner',\n      physicalName: 'multi-empty',\n    });\n  }\n\n  public async test(action: IActionRdfJoin): Promise<IMediatorTypeJoinCoefficients> {\n    if ((await ActorRdfJoin.getMetadatas(action.entries))\n      .every(metadata => ActorRdfJoin.getCardinality(metadata).value > 0)) {\n      throw new Error(`Actor ${this.name} can only join entries where at least one is empty`);\n    }\n    return super.test(action);\n  }\n\n  protected async getOutput(action: IActionRdfJoin): Promise<IActorRdfJoinOutputInner> {\n    // Close all entries\n    for (const entry of action.entries) {\n      entry.output.bindingsStream.close();\n    }\n\n    return {\n      result: {\n        bindingsStream: new ArrayIterator([], { autoStart: false }),\n        metadata: async() => ({\n          cardinality: { type: 'exact', value: 0 },\n          canContainUndefs: false,\n          variables: ActorRdfJoin.joinVariables(await ActorRdfJoin.getMetadatas(action.entries)),\n        }),\n        type: 'bindings',\n      },\n    };\n  }\n\n  protected async getJoinCoefficients(\n    action: IActionRdfJoin,\n    metadatas: MetadataBindings[],\n  ): Promise<IMediatorTypeJoinCoefficients> {\n    return {\n      iterations: 0,\n      persistedItems: 0,\n      blockingItems: 0,\n      requestTime: 0,\n    };\n  }\n}\n","import {\n  ActorQueryOperation,\n} from '@comunica/bus-query-operation';\nimport type {\n  IActionRdfJoin,\n  IActorRdfJoinOutputInner,\n  IActorRdfJoinArgs,\n  MediatorRdfJoin,\n} from '@comunica/bus-rdf-join';\nimport { ActorRdfJoin } from '@comunica/bus-rdf-join';\nimport type { MediatorRdfJoinEntriesSort } from '@comunica/bus-rdf-join-entries-sort';\nimport type { IMediatorTypeJoinCoefficients } from '@comunica/mediatortype-join-coefficients';\nimport type { MetadataBindings, IJoinEntry, IActionContext, IJoinEntryWithMetadata } from '@comunica/types';\nimport { Factory } from 'sparqlalgebrajs';\n\n/**\n * A Multi Smallest RDF Join Actor.\n * It accepts 3 or more streams, joins the smallest two, and joins the result with the remaining streams.\n */\nexport class ActorRdfJoinMultiSmallest extends ActorRdfJoin {\n  public readonly mediatorJoinEntriesSort: MediatorRdfJoinEntriesSort;\n  public readonly mediatorJoin: MediatorRdfJoin;\n\n  public static readonly FACTORY = new Factory();\n\n  public constructor(args: IActorRdfJoinMultiSmallestArgs) {\n    super(args, {\n      logicalType: 'inner',\n      physicalName: 'multi-smallest',\n      limitEntries: 3,\n      limitEntriesMin: true,\n    });\n  }\n\n  /**\n   * Order the given join entries using the join-entries-sort bus.\n   * @param {IJoinEntryWithMetadata[]} entries An array of join entries.\n   * @param context The action context.\n   * @return {IJoinEntryWithMetadata[]} The sorted join entries.\n   */\n  public async sortJoinEntries(\n    entries: IJoinEntryWithMetadata[],\n    context: IActionContext,\n  ): Promise<IJoinEntryWithMetadata[]> {\n    return (await this.mediatorJoinEntriesSort.mediate({ entries, context })).entries;\n  }\n\n  protected async getOutput(action: IActionRdfJoin): Promise<IActorRdfJoinOutputInner> {\n    // Determine the two smallest streams by sorting (e.g. via cardinality)\n    const entries: IJoinEntry[] = await this.sortJoinEntries(\n      await ActorRdfJoin.getEntriesWithMetadatas([ ...action.entries ]),\n      action.context,\n    );\n    const smallestEntry1 = entries[0];\n    const smallestEntry2 = entries[1];\n    entries.splice(0, 2);\n\n    // Join the two selected streams, and then join the result with the remaining streams\n    const firstEntry: IJoinEntry = {\n      output: ActorQueryOperation.getSafeBindings(await this.mediatorJoin\n        .mediate({ type: action.type, entries: [ smallestEntry1, smallestEntry2 ], context: action.context })),\n      operation: ActorRdfJoinMultiSmallest.FACTORY\n        .createJoin([ smallestEntry1.operation, smallestEntry2.operation ], false),\n    };\n    entries.push(firstEntry);\n    return {\n      result: await this.mediatorJoin.mediate({\n        type: action.type,\n        entries,\n        context: action.context,\n      }),\n    };\n  }\n\n  protected async getJoinCoefficients(\n    action: IActionRdfJoin,\n    metadatas: MetadataBindings[],\n  ): Promise<IMediatorTypeJoinCoefficients> {\n    metadatas = [ ...metadatas ];\n    // Determine the two smallest streams by sorting (e.g. via cardinality)\n    const entriesWithMetadata = await this.sortJoinEntries(action.entries\n      .map((entry, i) => ({ ...entry, metadata: metadatas[i] })), action.context);\n    metadatas = entriesWithMetadata.map(entry => entry.metadata);\n    const requestInitialTimes = ActorRdfJoin.getRequestInitialTimes(metadatas);\n    const requestItemTimes = ActorRdfJoin.getRequestItemTimes(metadatas);\n\n    return {\n      iterations: metadatas[0].cardinality.value * metadatas[1].cardinality.value *\n        metadatas.slice(2).reduce((acc, metadata) => acc * metadata.cardinality.value, 1),\n      persistedItems: 0,\n      blockingItems: 0,\n      requestTime: requestInitialTimes[0] + metadatas[0].cardinality.value * requestItemTimes[0] +\n        requestInitialTimes[1] + metadatas[1].cardinality.value * requestItemTimes[1] +\n        metadatas.slice(2).reduce((sum, metadata, i) => sum + requestInitialTimes.slice(2)[i] +\n          metadata.cardinality.value * requestItemTimes.slice(2)[i], 0),\n    };\n  }\n}\n\nexport interface IActorRdfJoinMultiSmallestArgs extends IActorRdfJoinArgs {\n  /**\n   * The join entries sort mediator\n   */\n  mediatorJoinEntriesSort: MediatorRdfJoinEntriesSort;\n  /**\n   * A mediator for joining Bindings streams\n   */\n  mediatorJoin: MediatorRdfJoin;\n}\n","import type { IActionRdfJoin, IActorRdfJoinOutputInner, IActorRdfJoinArgs } from '@comunica/bus-rdf-join';\nimport { ActorRdfJoin } from '@comunica/bus-rdf-join';\nimport type { IMediatorTypeJoinCoefficients } from '@comunica/mediatortype-join-coefficients';\nimport type { Bindings, MetadataBindings } from '@comunica/types';\nimport { NestedLoopJoin } from 'asyncjoin';\n\n/**\n * A comunica NestedLoop RDF Join Actor.\n */\nexport class ActorRdfJoinNestedLoop extends ActorRdfJoin {\n  public constructor(args: IActorRdfJoinArgs) {\n    super(args, {\n      logicalType: 'inner',\n      physicalName: 'nested-loop',\n      limitEntries: 2,\n      canHandleUndefs: true,\n    });\n  }\n\n  protected async getOutput(action: IActionRdfJoin): Promise<IActorRdfJoinOutputInner> {\n    const join = new NestedLoopJoin<Bindings, Bindings, Bindings>(\n      action.entries[0].output.bindingsStream,\n      action.entries[1].output.bindingsStream,\n      <any> ActorRdfJoin.joinBindings,\n      { autoStart: false },\n    );\n    return {\n      result: {\n        type: 'bindings',\n        bindingsStream: join,\n        metadata: async() => await this.constructResultMetadata(\n          action.entries,\n          await ActorRdfJoin.getMetadatas(action.entries),\n          action.context,\n        ),\n      },\n    };\n  }\n\n  protected async getJoinCoefficients(\n    action: IActionRdfJoin,\n    metadatas: MetadataBindings[],\n  ): Promise<IMediatorTypeJoinCoefficients> {\n    const requestInitialTimes = ActorRdfJoin.getRequestInitialTimes(metadatas);\n    const requestItemTimes = ActorRdfJoin.getRequestItemTimes(metadatas);\n    return {\n      iterations: metadatas[0].cardinality.value * metadatas[1].cardinality.value,\n      persistedItems: 0,\n      blockingItems: 0,\n      requestTime: requestInitialTimes[0] + metadatas[0].cardinality.value * requestItemTimes[0] +\n        requestInitialTimes[1] + metadatas[1].cardinality.value * requestItemTimes[1],\n    };\n  }\n}\n","import { BindingsFactory } from '@comunica/bindings-factory';\nimport type { IActionRdfJoin, IActorRdfJoinOutputInner, IActorRdfJoinArgs } from '@comunica/bus-rdf-join';\nimport { ActorRdfJoin } from '@comunica/bus-rdf-join';\nimport type { IMediatorTypeJoinCoefficients } from '@comunica/mediatortype-join-coefficients';\nimport { ArrayIterator } from 'asynciterator';\n\nconst BF = new BindingsFactory();\n\n/**\n * A comunica None RDF Join Actor.\n */\nexport class ActorRdfJoinNone extends ActorRdfJoin {\n  public constructor(args: IActorRdfJoinArgs) {\n    super(args, {\n      logicalType: 'inner',\n      physicalName: 'none',\n      limitEntries: 0,\n    });\n  }\n\n  public async test(action: IActionRdfJoin): Promise<IMediatorTypeJoinCoefficients> {\n    // Allow joining of one or zero streams\n    if (action.entries.length > 0) {\n      throw new Error(`Actor ${this.name} can only join zero entries`);\n    }\n    return await this.getJoinCoefficients();\n  }\n\n  protected async getOutput(action: IActionRdfJoin): Promise<IActorRdfJoinOutputInner> {\n    return {\n      result: {\n        bindingsStream: new ArrayIterator([ BF.bindings() ], { autoStart: false }),\n        metadata: () => Promise.resolve({\n          cardinality: { type: 'exact', value: 1 },\n          canContainUndefs: false,\n          variables: [],\n        }),\n        type: 'bindings',\n      },\n    };\n  }\n\n  protected async getJoinCoefficients(): Promise<IMediatorTypeJoinCoefficients> {\n    return {\n      iterations: 0,\n      persistedItems: 0,\n      blockingItems: 0,\n      requestTime: 0,\n    };\n  }\n}\n","import type { IActionRdfJoin, IActorRdfJoinOutputInner, IActorRdfJoinArgs } from '@comunica/bus-rdf-join';\nimport { ActorRdfJoin } from '@comunica/bus-rdf-join';\nimport type { IMediatorTypeJoinCoefficients } from '@comunica/mediatortype-join-coefficients';\n\n/**\n * A comunica Single RDF Join Actor.\n */\nexport class ActorRdfJoinSingle extends ActorRdfJoin {\n  public constructor(args: IActorRdfJoinArgs) {\n    super(args, {\n      logicalType: 'inner',\n      physicalName: 'single',\n      limitEntries: 1,\n    });\n    this.includeInLogs = false;\n  }\n\n  public async test(action: IActionRdfJoin): Promise<IMediatorTypeJoinCoefficients> {\n    // Allow joining of one or zero streams\n    if (action.entries.length !== 1) {\n      throw new Error(`Actor ${this.name} can only join a single entry`);\n    }\n    return await this.getJoinCoefficients();\n  }\n\n  protected async getOutput(action: IActionRdfJoin): Promise<IActorRdfJoinOutputInner> {\n    return {\n      result: action.entries[0].output,\n    };\n  }\n\n  protected async getJoinCoefficients(): Promise<IMediatorTypeJoinCoefficients> {\n    return {\n      iterations: 0,\n      persistedItems: 0,\n      blockingItems: 0,\n      requestTime: 0,\n    };\n  }\n}\n","import type { IActionRdfJoin, IActorRdfJoinOutputInner, IActorRdfJoinArgs } from '@comunica/bus-rdf-join';\nimport { ActorRdfJoin } from '@comunica/bus-rdf-join';\nimport type { IMediatorTypeJoinCoefficients } from '@comunica/mediatortype-join-coefficients';\nimport type { Bindings, MetadataBindings } from '@comunica/types';\nimport { SymmetricHashJoin } from 'asyncjoin';\n\n/**\n * A comunica Hash RDF Join Actor.\n */\nexport class ActorRdfJoinSymmetricHash extends ActorRdfJoin {\n  public constructor(args: IActorRdfJoinArgs) {\n    super(args, {\n      logicalType: 'inner',\n      physicalName: 'symmetric-hash',\n      limitEntries: 2,\n    });\n  }\n\n  public async getOutput(action: IActionRdfJoin): Promise<IActorRdfJoinOutputInner> {\n    const metadatas = await ActorRdfJoin.getMetadatas(action.entries);\n    const variables = ActorRdfJoin.overlappingVariables(metadatas);\n    const join = new SymmetricHashJoin<Bindings, string, Bindings>(\n      action.entries[0].output.bindingsStream,\n      action.entries[1].output.bindingsStream,\n      entry => ActorRdfJoinSymmetricHash.hash(entry, variables),\n      <any> ActorRdfJoin.joinBindings,\n    );\n    return {\n      result: {\n        type: 'bindings',\n        bindingsStream: join,\n        metadata: async() => await this.constructResultMetadata(action.entries, metadatas, action.context),\n      },\n    };\n  }\n\n  protected async getJoinCoefficients(\n    action: IActionRdfJoin,\n    metadatas: MetadataBindings[],\n  ): Promise<IMediatorTypeJoinCoefficients> {\n    const requestInitialTimes = ActorRdfJoin.getRequestInitialTimes(metadatas);\n    const requestItemTimes = ActorRdfJoin.getRequestItemTimes(metadatas);\n    return {\n      iterations: metadatas[0].cardinality.value + metadatas[1].cardinality.value,\n      persistedItems: metadatas[0].cardinality.value + metadatas[1].cardinality.value,\n      blockingItems: 0,\n      requestTime: requestInitialTimes[0] + metadatas[0].cardinality.value * requestItemTimes[0] +\n        requestInitialTimes[1] + metadatas[1].cardinality.value * requestItemTimes[1],\n    };\n  }\n}\n","import { ClosableTransformIterator } from '@comunica/bus-query-operation';\nimport type { IActionRdfJoin,\n  IActorRdfJoinOutputInner,\n  IActorRdfJoinArgs } from '@comunica/bus-rdf-join';\nimport {\n  ActorRdfJoin,\n} from '@comunica/bus-rdf-join';\nimport type { IMediatorTypeJoinCoefficients } from '@comunica/mediatortype-join-coefficients';\nimport type { MetadataBindings } from '@comunica/types';\nimport type * as RDF from '@rdfjs/types';\nimport { BindingsIndex } from './BindingsIndex';\n\n/**\n * A comunica Minus Hash RDF Join Actor.\n */\nexport class ActorRdfJoinMinusHashUndef extends ActorRdfJoin {\n  public constructor(args: IActorRdfJoinArgs) {\n    super(args, {\n      logicalType: 'minus',\n      physicalName: 'hash-undef',\n      limitEntries: 2,\n      canHandleUndefs: true,\n    });\n  }\n\n  public async getOutput(action: IActionRdfJoin): Promise<IActorRdfJoinOutputInner> {\n    const buffer = action.entries[1].output;\n    const output = action.entries[0].output;\n\n    const metadatas = await ActorRdfJoin.getMetadatas(action.entries);\n    const commonVariables: RDF.Variable[] = ActorRdfJoin.overlappingVariables(metadatas);\n    if (commonVariables.length > 0) {\n      /**\n       * To assure we've filtered all B (`buffer`) values from A (`output`) we wait until we've fetched all values of B.\n       * Then we save these triples in `index` and use it to filter our A-stream.\n       */\n      const index: BindingsIndex = new BindingsIndex(commonVariables);\n      const bindingsStream = new ClosableTransformIterator(async() => {\n        await new Promise(resolve => {\n          buffer.bindingsStream.on('data', data => index.add(data));\n          buffer.bindingsStream.on('end', resolve);\n        });\n        return output.bindingsStream.filter(data => !index.contains(data));\n      }, {\n        autoStart: false,\n        onClose() {\n          buffer.bindingsStream.destroy();\n          output.bindingsStream.destroy();\n        },\n      });\n      return {\n        result: {\n          type: 'bindings',\n          bindingsStream,\n          async metadata() {\n            const bufferMetadata = await output.metadata();\n            const outputMetadata = await output.metadata();\n            return {\n              ...outputMetadata,\n              canContainUndefs: bufferMetadata.canContainUndefs || outputMetadata.canContainUndefs,\n            };\n          },\n        },\n      };\n    }\n    return {\n      result: output,\n    };\n  }\n\n  protected async getJoinCoefficients(\n    action: IActionRdfJoin,\n    metadatas: MetadataBindings[],\n  ): Promise<IMediatorTypeJoinCoefficients> {\n    const requestInitialTimes = ActorRdfJoin.getRequestInitialTimes(metadatas);\n    const requestItemTimes = ActorRdfJoin.getRequestItemTimes(metadatas);\n    return {\n      // Slightly increase iteration cost, as operations in our BindingsIndex do not happen in constant time\n      // This enables the mediator to favor other minus actors,\n      // while this one will only be selected when streams contain undefs.\n      iterations: (metadatas[0].cardinality.value + metadatas[1].cardinality.value) * 1.01,\n      persistedItems: metadatas[0].cardinality.value,\n      blockingItems: metadatas[0].cardinality.value,\n      requestTime: requestInitialTimes[0] + metadatas[0].cardinality.value * requestItemTimes[0] +\n        requestInitialTimes[1] + metadatas[1].cardinality.value * requestItemTimes[1],\n    };\n  }\n}\n","import type { Bindings } from '@comunica/types';\nimport type * as RDF from '@rdfjs/types';\nimport { termToString } from 'rdf-string';\n\n/**\n * A simple efficient tree-based index for maintaining bindings,\n * and checking whether or not a bindings is contained in this index.\n *\n * This will consider bindings with a variable term or a missing term\n * as a 'match-all' with other terms.\n */\nexport class BindingsIndex {\n  private readonly keys: RDF.Variable[];\n  private readonly data: IDataIndex = {};\n\n  public constructor(keys: RDF.Variable[]) {\n    this.keys = keys;\n  }\n\n  protected static hashTerm(term: RDF.Term | undefined): string {\n    return term && term.termType !== 'Variable' ? termToString(term) : '';\n  }\n\n  /**\n   * Add the given bindings to the index.\n   * @param {Bindings} bindings A bindings.\n   */\n  public add(bindings: Bindings): void {\n    if (this.isBindingsValid(bindings)) {\n      let dataIt = this.data;\n      for (const key of this.keys) {\n        const dataKey = BindingsIndex.hashTerm(bindings.get(key));\n        let subDataIt = dataIt[dataKey];\n        if (!subDataIt) {\n          subDataIt = dataIt[dataKey] = {};\n        }\n        dataIt = subDataIt;\n      }\n    }\n  }\n\n  /**\n   * Check if the given bindings is contained in this index.\n   * @param {Bindings} bindings A bindings.\n   * @return {boolean} If it exists in the index.\n   */\n  public contains(bindings: Bindings): boolean {\n    // Always return false if the bindings contain none of the expected keys\n    if (!this.isBindingsValid(bindings)) {\n      return false;\n    }\n\n    return this.containsRecursive(bindings, this.keys, [ this.data ]);\n  }\n\n  protected isBindingsValid(bindings: Bindings): boolean {\n    let validKeys = false;\n    for (const key of this.keys) {\n      if (bindings.get(key)) {\n        validKeys = true;\n        break;\n      }\n    }\n    return validKeys;\n  }\n\n  protected containsRecursive(bindings: Bindings, keys: RDF.Variable[], dataIndexes: IDataIndex[]): boolean {\n    if (keys.length === 0) {\n      return true;\n    }\n\n    let key: RDF.Variable;\n    // eslint-disable-next-line prefer-const\n    [ key, ...keys ] = keys;\n    for (const data of dataIndexes) {\n      // If the index contained a variable, all terms will match.\n      const dataKey = BindingsIndex.hashTerm(bindings.get(key));\n      if (!dataKey) {\n        // Iterate over all entries\n        let subDatas = Object.keys(data).map(subKey => data[subKey]);\n        if (subDatas.length === 0) {\n          subDatas = [{}];\n        }\n        if (this.containsRecursive(bindings, keys, subDatas)) {\n          return true;\n        }\n      } else {\n        // Check the entry for the term, and the variable term.\n        const subDatas = [ data[dataKey], data[''] ].filter(Boolean);\n        if (subDatas.length === 0) {\n          continue;\n        }\n        if (this.containsRecursive(bindings, keys, subDatas)) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n}\n\nexport interface IDataIndex {\n  [key: string]: IDataIndex;\n}\n","import { ClosableTransformIterator } from '@comunica/bus-query-operation';\nimport type { IActionRdfJoin,\n  IActorRdfJoinOutputInner,\n  IActorRdfJoinArgs } from '@comunica/bus-rdf-join';\nimport {\n  ActorRdfJoin,\n} from '@comunica/bus-rdf-join';\nimport type { IMediatorTypeJoinCoefficients } from '@comunica/mediatortype-join-coefficients';\nimport type { MetadataBindings } from '@comunica/types';\nimport type * as RDF from '@rdfjs/types';\n\n/**\n * A comunica Minus Hash RDF Join Actor.\n */\nexport class ActorRdfJoinMinusHash extends ActorRdfJoin {\n  public constructor(args: IActorRdfJoinArgs) {\n    super(args, {\n      logicalType: 'minus',\n      physicalName: 'hash',\n      limitEntries: 2,\n    });\n  }\n\n  public async getOutput(action: IActionRdfJoin): Promise<IActorRdfJoinOutputInner> {\n    const buffer = action.entries[1].output;\n    const output = action.entries[0].output;\n\n    const metadatas = await ActorRdfJoin.getMetadatas(action.entries);\n    const commonVariables: RDF.Variable[] = ActorRdfJoin.overlappingVariables(metadatas);\n    if (commonVariables.length > 0) {\n      /**\n       * To assure we've filtered all B (`buffer`) values from A (`output`) we wait until we've fetched all values of B.\n       * Then we save these triples in `index` and use it to filter our A-stream.\n       */\n      const index: Record<string, boolean> = {};\n      const bindingsStream = new ClosableTransformIterator(async() => {\n        await new Promise(resolve => {\n          buffer.bindingsStream.on('data', data => {\n            index[ActorRdfJoin.hash(data, commonVariables)] = true;\n          });\n          buffer.bindingsStream.on('end', resolve);\n        });\n        return output.bindingsStream.filter(data => !index[ActorRdfJoin.hash(data, commonVariables)]);\n      }, {\n        autoStart: false,\n        onClose() {\n          buffer.bindingsStream.destroy();\n          output.bindingsStream.destroy();\n        },\n      });\n      return {\n        result: {\n          type: 'bindings',\n          bindingsStream,\n          metadata: output.metadata,\n        },\n      };\n    }\n    return {\n      result: output,\n    };\n  }\n\n  protected async getJoinCoefficients(\n    action: IActionRdfJoin,\n    metadatas: MetadataBindings[],\n  ): Promise<IMediatorTypeJoinCoefficients> {\n    const requestInitialTimes = ActorRdfJoin.getRequestInitialTimes(metadatas);\n    const requestItemTimes = ActorRdfJoin.getRequestItemTimes(metadatas);\n    return {\n      iterations: metadatas[0].cardinality.value + metadatas[1].cardinality.value,\n      persistedItems: metadatas[0].cardinality.value,\n      blockingItems: metadatas[0].cardinality.value,\n      requestTime: requestInitialTimes[0] + metadatas[0].cardinality.value * requestItemTimes[0] +\n        requestInitialTimes[1] + metadatas[1].cardinality.value * requestItemTimes[1],\n    };\n  }\n}\n","import type { BindOrder } from '@comunica/actor-rdf-join-inner-multi-bind';\nimport { ActorRdfJoinMultiBind } from '@comunica/actor-rdf-join-inner-multi-bind';\nimport type { MediatorQueryOperation } from '@comunica/bus-query-operation';\nimport { ActorQueryOperation } from '@comunica/bus-query-operation';\nimport type { IActionRdfJoin, IActorRdfJoinOutputInner, IActorRdfJoinArgs } from '@comunica/bus-rdf-join';\nimport { ActorRdfJoin } from '@comunica/bus-rdf-join';\nimport { KeysQueryOperation } from '@comunica/context-entries';\nimport type { IMediatorTypeJoinCoefficients } from '@comunica/mediatortype-join-coefficients';\nimport type { Bindings, BindingsStream, MetadataBindings } from '@comunica/types';\nimport { Algebra } from 'sparqlalgebrajs';\n\n/**\n * A comunica Optional Bind RDF Join Actor.\n */\nexport class ActorRdfJoinOptionalBind extends ActorRdfJoin {\n  public readonly bindOrder: BindOrder;\n  public readonly selectivityModifier: number;\n  public readonly mediatorQueryOperation: MediatorQueryOperation;\n\n  public constructor(args: IActorRdfJoinOptionalBindArgs) {\n    super(args, {\n      logicalType: 'optional',\n      physicalName: 'bind',\n      limitEntries: 2,\n      canHandleUndefs: true,\n    });\n  }\n\n  protected async getOutput(action: IActionRdfJoin): Promise<IActorRdfJoinOutputInner> {\n    // Close the right stream, since we don't need that one\n    action.entries[1].output.bindingsStream.close();\n\n    // Bind the right pattern for each binding in the stream\n    const subContext = action.context\n      .set(KeysQueryOperation.joinLeftMetadata, await action.entries[0].output.metadata())\n      .set(KeysQueryOperation.joinRightMetadatas, [ await action.entries[1].output.metadata() ]);\n    const bindingsStream: BindingsStream = ActorRdfJoinMultiBind.createBindStream(\n      this.bindOrder,\n      action.entries[0].output.bindingsStream,\n      [ action.entries[1].operation ],\n      async(operations: Algebra.Operation[], operationBindings: Bindings) => {\n        // Send the materialized patterns to the mediator for recursive join evaluation.\n        // Length of operations will always be 1\n        const operation = operations[0];\n        const output = ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate(\n          { operation, context: subContext?.set(KeysQueryOperation.joinBindings, operationBindings) },\n        ));\n        return output.bindingsStream;\n      },\n      true,\n    );\n\n    return {\n      result: {\n        type: 'bindings',\n        bindingsStream,\n        metadata: async() => await this.constructResultMetadata(\n          action.entries,\n          await ActorRdfJoin.getMetadatas(action.entries),\n          action.context,\n          { canContainUndefs: true },\n        ),\n      },\n    };\n  }\n\n  public async getJoinCoefficients(\n    action: IActionRdfJoin,\n    metadatas: MetadataBindings[],\n  ): Promise<IMediatorTypeJoinCoefficients> {\n    const requestInitialTimes = ActorRdfJoin.getRequestInitialTimes(metadatas);\n    const requestItemTimes = ActorRdfJoin.getRequestItemTimes(metadatas);\n\n    // Reject binding on some operation types\n    if (action.entries[1].operation.type === Algebra.types.EXTEND ||\n      action.entries[1].operation.type === Algebra.types.GROUP) {\n      throw new Error(`Actor ${this.name} can not bind on Extend and Group operations`);\n    }\n\n    // Determine selectivity of join\n    const selectivity = (await this.mediatorJoinSelectivity.mediate({\n      entries: action.entries,\n      context: action.context,\n    })).selectivity * this.selectivityModifier;\n\n    return {\n      iterations: metadatas[0].cardinality.value * metadatas[1].cardinality.value * selectivity,\n      persistedItems: 0,\n      blockingItems: 0,\n      requestTime: requestInitialTimes[0] +\n        metadatas[0].cardinality.value * selectivity * (\n          requestItemTimes[0] +\n          requestInitialTimes[1] +\n          metadatas[1].cardinality.value * requestItemTimes[1]\n        ),\n    };\n  }\n}\n\nexport interface IActorRdfJoinOptionalBindArgs extends IActorRdfJoinArgs {\n  /**\n   * The order in which elements should be bound\n   * @default {depth-first}\n   */\n  bindOrder: BindOrder;\n  /**\n   * Multiplier for selectivity values\n   * @range {double}\n   * @default {0.0001}\n   */\n  selectivityModifier: number;\n  /**\n   * The query operation mediator\n   */\n  mediatorQueryOperation: MediatorQueryOperation;\n}\n","import type { IActionRdfJoin,\n  IActorRdfJoinOutputInner,\n  IActorRdfJoinArgs } from '@comunica/bus-rdf-join';\nimport {\n  ActorRdfJoin,\n} from '@comunica/bus-rdf-join';\nimport type { IMediatorTypeJoinCoefficients } from '@comunica/mediatortype-join-coefficients';\nimport type { Bindings, MetadataBindings } from '@comunica/types';\nimport { NestedLoopJoin } from 'asyncjoin';\n\n/**\n * A comunica Optional Nested Loop RDF Join Actor.\n */\nexport class ActorRdfJoinOptionalNestedLoop extends ActorRdfJoin {\n  public constructor(args: IActorRdfJoinArgs) {\n    super(args, {\n      logicalType: 'optional',\n      physicalName: 'nested-loop',\n      limitEntries: 2,\n      canHandleUndefs: true,\n    });\n  }\n\n  public async getOutput(action: IActionRdfJoin): Promise<IActorRdfJoinOutputInner> {\n    const join = new NestedLoopJoin<Bindings, Bindings, Bindings>(\n      action.entries[0].output.bindingsStream,\n      action.entries[1].output.bindingsStream,\n      <any> ActorRdfJoin.joinBindings,\n      { optional: true, autoStart: false },\n    );\n    return {\n      result: {\n        type: 'bindings',\n        bindingsStream: join,\n        metadata: async() => await this.constructResultMetadata(\n          action.entries,\n          await ActorRdfJoin.getMetadatas(action.entries),\n          action.context,\n          { canContainUndefs: true },\n        ),\n      },\n    };\n  }\n\n  protected async getJoinCoefficients(\n    action: IActionRdfJoin,\n    metadatas: MetadataBindings[],\n  ): Promise<IMediatorTypeJoinCoefficients> {\n    const requestInitialTimes = ActorRdfJoin.getRequestInitialTimes(metadatas);\n    const requestItemTimes = ActorRdfJoin.getRequestItemTimes(metadatas);\n    return {\n      iterations: metadatas[0].cardinality.value * metadatas[1].cardinality.value,\n      persistedItems: 0,\n      blockingItems: 0,\n      requestTime: requestInitialTimes[0] + metadatas[0].cardinality.value * requestItemTimes[0] +\n        requestInitialTimes[1] + metadatas[1].cardinality.value * requestItemTimes[1],\n    };\n  }\n}\n","import type { IActionRdfJoinSelectivity, IActorRdfJoinSelectivityOutput } from '@comunica/bus-rdf-join-selectivity';\nimport { ActorRdfJoinSelectivity } from '@comunica/bus-rdf-join-selectivity';\nimport type { IActorArgs } from '@comunica/core';\nimport type { IMediatorTypeAccuracy } from '@comunica/mediatortype-accuracy';\nimport { Algebra, Util } from 'sparqlalgebrajs';\n\n/**\n * A comunica Variable Counting RDF Join Selectivity Actor.\n * Based on the \"variable counting predicates\" heuristic from\n * \"SPARQL basic graph pattern optimization using selectivity estimation.\"\n */\nexport class ActorRdfJoinSelectivityVariableCounting extends ActorRdfJoinSelectivity {\n  // Calculated as sum of unbound join type costs times 2 (best-case)\n  public static MAX_PAIRWISE_COST = 41 * 2;\n\n  public constructor(\n    args: IActorArgs<IActionRdfJoinSelectivity, IMediatorTypeAccuracy, IActorRdfJoinSelectivityOutput>,\n  ) {\n    super(args);\n  }\n\n  public async test(action: IActionRdfJoinSelectivity): Promise<IMediatorTypeAccuracy> {\n    return { accuracy: 0.5 };\n  }\n\n  public static getPatternCost(pattern: Algebra.Pattern | Algebra.Path): number {\n    let cost = 1;\n    if (pattern.subject.termType === 'Variable') {\n      cost += 4;\n    }\n    if (pattern.predicate.termType === 'Variable' || pattern.type === Algebra.types.PATH) {\n      cost += 1;\n    }\n    if (pattern.object.termType === 'Variable') {\n      cost += 2;\n    }\n    if (pattern.graph.termType === 'Variable') {\n      cost += 1;\n    }\n    return cost / 9;\n  }\n\n  public static getJoinTypes(\n    operation1: Algebra.Pattern | Algebra.Path,\n    operation2: Algebra.Pattern | Algebra.Path,\n  ): JoinTypes[] {\n    const joinTypes: JoinTypes[] = [];\n\n    // Check operation1.subject\n    if (operation1.subject.termType === 'Variable') {\n      if (operation1.subject.equals(operation2.subject)) {\n        joinTypes.push(JoinTypes.unboundSS);\n      }\n      if (operation2.type === 'pattern' && operation1.subject.equals(operation2.predicate)) {\n        joinTypes.push(JoinTypes.unboundSP);\n      }\n      if (operation1.subject.equals(operation2.object)) {\n        joinTypes.push(JoinTypes.unboundSO);\n      }\n      if (operation1.subject.equals(operation2.graph)) {\n        joinTypes.push(JoinTypes.unboundSG);\n      }\n    } else {\n      if (operation1.subject.equals(operation2.subject)) {\n        joinTypes.push(JoinTypes.boundSS);\n      }\n      if (operation2.type === 'pattern' && operation1.subject.equals(operation2.predicate)) {\n        joinTypes.push(JoinTypes.boundSP);\n      }\n      if (operation1.subject.equals(operation2.object)) {\n        joinTypes.push(JoinTypes.boundSO);\n      }\n      if (operation1.subject.equals(operation2.graph)) {\n        joinTypes.push(JoinTypes.boundSG);\n      }\n    }\n\n    // Check operation1.predicate\n    if (operation1.type === 'pattern') {\n      if (operation1.predicate.termType === 'Variable') {\n        if (operation1.predicate.equals(operation2.subject)) {\n          joinTypes.push(JoinTypes.unboundPS);\n        }\n        if (operation2.type === 'pattern' && operation1.predicate.equals(operation2.predicate)) {\n          joinTypes.push(JoinTypes.unboundPP);\n        }\n        if (operation1.predicate.equals(operation2.object)) {\n          joinTypes.push(JoinTypes.unboundPO);\n        }\n        if (operation1.predicate.equals(operation2.graph)) {\n          joinTypes.push(JoinTypes.unboundPG);\n        }\n      } else {\n        if (operation1.predicate.equals(operation2.subject)) {\n          joinTypes.push(JoinTypes.boundPS);\n        }\n        if (operation2.type === 'pattern' && operation1.predicate.equals(operation2.predicate)) {\n          joinTypes.push(JoinTypes.boundPP);\n        }\n        if (operation1.predicate.equals(operation2.object)) {\n          joinTypes.push(JoinTypes.boundPO);\n        }\n        if (operation1.predicate.equals(operation2.graph)) {\n          joinTypes.push(JoinTypes.boundPG);\n        }\n      }\n    }\n\n    // Check operation1.object\n    if (operation1.object.termType === 'Variable') {\n      if (operation1.object.equals(operation2.subject)) {\n        joinTypes.push(JoinTypes.unboundOS);\n      }\n      if (operation2.type === 'pattern' && operation1.object.equals(operation2.predicate)) {\n        joinTypes.push(JoinTypes.unboundOP);\n      }\n      if (operation1.object.equals(operation2.object)) {\n        joinTypes.push(JoinTypes.unboundOO);\n      }\n      if (operation1.object.equals(operation2.graph)) {\n        joinTypes.push(JoinTypes.unboundOG);\n      }\n    } else {\n      if (operation1.object.equals(operation2.subject)) {\n        joinTypes.push(JoinTypes.boundOS);\n      }\n      if (operation2.type === 'pattern' && operation1.object.equals(operation2.predicate)) {\n        joinTypes.push(JoinTypes.boundOP);\n      }\n      if (operation1.object.equals(operation2.object)) {\n        joinTypes.push(JoinTypes.boundOO);\n      }\n      if (operation1.object.equals(operation2.graph)) {\n        joinTypes.push(JoinTypes.boundOG);\n      }\n    }\n\n    // Check operation1.graph\n    if (operation1.graph.termType === 'Variable') {\n      if (operation1.graph.equals(operation2.subject)) {\n        joinTypes.push(JoinTypes.unboundGS);\n      }\n      if (operation2.type === 'pattern' && operation1.graph.equals(operation2.predicate)) {\n        joinTypes.push(JoinTypes.unboundGP);\n      }\n      if (operation1.graph.equals(operation2.object)) {\n        joinTypes.push(JoinTypes.unboundGO);\n      }\n      if (operation1.graph.equals(operation2.graph)) {\n        joinTypes.push(JoinTypes.unboundGG);\n      }\n    } else {\n      if (operation1.graph.equals(operation2.subject)) {\n        joinTypes.push(JoinTypes.boundGS);\n      }\n      if (operation2.type === 'pattern' && operation1.graph.equals(operation2.predicate)) {\n        joinTypes.push(JoinTypes.boundGP);\n      }\n      if (operation1.graph.equals(operation2.object)) {\n        joinTypes.push(JoinTypes.boundGO);\n      }\n      if (operation1.graph.equals(operation2.graph)) {\n        joinTypes.push(JoinTypes.boundGG);\n      }\n    }\n\n    return joinTypes;\n  }\n\n  public static getOperationsPairwiseJoinCost(\n    operation1: Algebra.Pattern | Algebra.Path,\n    operation2: Algebra.Pattern | Algebra.Path,\n  ): number {\n    let cost = ActorRdfJoinSelectivityVariableCounting.MAX_PAIRWISE_COST;\n\n    for (const joinType of ActorRdfJoinSelectivityVariableCounting.getJoinTypes(operation1, operation2)) {\n      switch (joinType) {\n        case JoinTypes.boundSS:\n          cost -= 2 * 2;\n          break;\n        case JoinTypes.boundSP:\n          cost -= 3 * 2;\n          break;\n        case JoinTypes.boundSO:\n          cost -= 1 * 2;\n          break;\n        case JoinTypes.boundSG:\n          cost -= 3 * 2;\n          break;\n        case JoinTypes.boundPS:\n          cost -= 3 * 2;\n          break;\n        case JoinTypes.boundPP:\n          // Special case: patterns with equal (bound) predicates have the highest cost\n          return 1;\n        case JoinTypes.boundPO:\n          cost -= 3 * 2;\n          break;\n        case JoinTypes.boundPG:\n          cost -= 3 * 2;\n          break;\n        case JoinTypes.boundOS:\n          cost -= 1 * 2;\n          break;\n        case JoinTypes.boundOP:\n          cost -= 3 * 2;\n          break;\n        case JoinTypes.boundOO:\n          cost -= 1 * 2;\n          break;\n        case JoinTypes.boundOG:\n          cost -= 3 * 2;\n          break;\n        case JoinTypes.boundGS:\n          cost -= 3 * 2;\n          break;\n        case JoinTypes.boundGP:\n          cost -= 3 * 2;\n          break;\n        case JoinTypes.boundGO:\n          cost -= 3 * 2;\n          break;\n        case JoinTypes.boundGG:\n          cost -= 3 * 2;\n          break;\n        case JoinTypes.unboundSS:\n          cost -= 2;\n          break;\n        case JoinTypes.unboundSP:\n          cost -= 3;\n          break;\n        case JoinTypes.unboundSO:\n          cost -= 1;\n          break;\n        case JoinTypes.unboundSG:\n          cost -= 3;\n          break;\n        case JoinTypes.unboundPS:\n          cost -= 3;\n          break;\n        case JoinTypes.unboundPP:\n          cost -= 3;\n          break;\n        case JoinTypes.unboundPO:\n          cost -= 3;\n          break;\n        case JoinTypes.unboundPG:\n          cost -= 3;\n          break;\n        case JoinTypes.unboundOS:\n          cost -= 1;\n          break;\n        case JoinTypes.unboundOP:\n          cost -= 3;\n          break;\n        case JoinTypes.unboundOO:\n          cost -= 1;\n          break;\n        case JoinTypes.unboundOG:\n          cost -= 3;\n          break;\n        case JoinTypes.unboundGS:\n          cost -= 3;\n          break;\n        case JoinTypes.unboundGP:\n          cost -= 3;\n          break;\n        case JoinTypes.unboundGO:\n          cost -= 3;\n          break;\n        case JoinTypes.unboundGG:\n          cost -= 3;\n          break;\n      }\n    }\n\n    return cost / ActorRdfJoinSelectivityVariableCounting.MAX_PAIRWISE_COST;\n  }\n\n  public static getOperationsJoinCost(operations: Algebra.Operation[]): number {\n    // Determine all operations that select values (patterns and paths)\n    const patterns: (Algebra.Pattern | Algebra.Path)[] = [];\n    for (const operation of operations) {\n      Util.recurseOperation(operation, {\n        [Algebra.types.PATTERN](pattern: Algebra.Pattern): boolean {\n          patterns.push(pattern);\n          return false;\n        },\n        [Algebra.types.PATH](path: Algebra.Path): boolean {\n          patterns.push(path);\n          return false;\n        },\n      });\n    }\n\n    // Determine pairwise costs\n    let totalCost = 0;\n    let costEntries = 0;\n    for (const pattern1 of patterns) {\n      for (const pattern2 of patterns) {\n        if (pattern1 !== pattern2) {\n          totalCost += ActorRdfJoinSelectivityVariableCounting.getOperationsPairwiseJoinCost(pattern1, pattern2);\n          costEntries++;\n        }\n      }\n    }\n\n    // Combine all pairwise costs, and multiply with costs of each pattern separately\n    return totalCost / costEntries * patterns\n      .reduce((factor, pattern) => factor * ActorRdfJoinSelectivityVariableCounting.getPatternCost(pattern), 1);\n  }\n\n  public async run(action: IActionRdfJoinSelectivity): Promise<IActorRdfJoinSelectivityOutput> {\n    if (action.entries.length <= 1) {\n      return { selectivity: 1 };\n    }\n    return {\n      selectivity: ActorRdfJoinSelectivityVariableCounting\n        .getOperationsJoinCost(action.entries.map(entry => entry.operation)),\n    };\n  }\n}\n\nexport enum JoinTypes {\n  boundSS,\n  boundSP,\n  boundSO,\n  boundSG,\n  boundPS,\n  boundPP,\n  boundPO,\n  boundPG,\n  boundOS,\n  boundOP,\n  boundOO,\n  boundOG,\n  boundGS,\n  boundGP,\n  boundGO,\n  boundGG,\n\n  unboundSS,\n  unboundSP,\n  unboundSO,\n  unboundSG,\n  unboundPS,\n  unboundPP,\n  unboundPO,\n  unboundPG,\n  unboundOS,\n  unboundOP,\n  unboundOO,\n  unboundOG,\n  unboundGS,\n  unboundGP,\n  unboundGO,\n  unboundGG,\n}\n","import type {\n  IActionRdfResolveQuadPattern, IActorRdfResolveQuadPatternArgs,\n  IQuadSource, MediatorRdfResolveQuadPattern,\n} from '@comunica/bus-rdf-resolve-quad-pattern';\nimport {\n  ActorRdfResolveQuadPatternSource, getContextSources,\n} from '@comunica/bus-rdf-resolve-quad-pattern';\nimport type { IActorTest } from '@comunica/core';\nimport type { IActionContext, IDataSource } from '@comunica/types';\nimport type * as RDF from '@rdfjs/types';\nimport { FederatedQuadSource } from './FederatedQuadSource';\n\n/**\n * A comunica Federated RDF Resolve Quad Pattern Actor.\n */\nexport class ActorRdfResolveQuadPatternFederated extends ActorRdfResolveQuadPatternSource\n  implements IActorRdfResolveQuadPatternFederatedArgs {\n  public readonly mediatorResolveQuadPattern: MediatorRdfResolveQuadPattern;\n  public readonly skipEmptyPatterns: boolean;\n\n  protected readonly emptyPatterns: Map<IDataSource, RDF.Quad[]> = new Map();\n\n  public constructor(args: IActorRdfResolveQuadPatternFederatedArgs) {\n    super(args);\n  }\n\n  public async test(action: IActionRdfResolveQuadPattern): Promise<IActorTest> {\n    const sources = getContextSources(action.context);\n    if (!sources) {\n      throw new Error(`Actor ${this.name} can only resolve quad pattern queries against a sources array.`);\n    }\n    return true;\n  }\n\n  protected async getSource(context: IActionContext): Promise<IQuadSource> {\n    return new FederatedQuadSource(\n      this.mediatorResolveQuadPattern,\n      context,\n      this.emptyPatterns,\n      this.skipEmptyPatterns,\n    );\n  }\n}\n\nexport interface IActorRdfResolveQuadPatternFederatedArgs extends IActorRdfResolveQuadPatternArgs {\n  /**\n   * The quad pattern resolve mediator.\n   */\n  mediatorResolveQuadPattern: MediatorRdfResolveQuadPattern;\n  /**\n   * If quad patterns that are sub-patterns of empty quad patterns should be skipped.\n   * This assumes that sources remain static during query evaluation.\n   * @default {false}\n   */\n  skipEmptyPatterns?: boolean;\n}\n","import { ClosableTransformIterator } from '@comunica/bus-query-operation';\nimport type {\n  IActorRdfResolveQuadPatternOutput,\n  IQuadSource,\n  MediatorRdfResolveQuadPattern,\n} from '@comunica/bus-rdf-resolve-quad-pattern';\nimport { getDataSourceContext } from '@comunica/bus-rdf-resolve-quad-pattern';\nimport { KeysRdfResolveQuadPattern } from '@comunica/context-entries';\nimport { BlankNodeScoped } from '@comunica/data-factory';\nimport type { IActionContext, DataSources, IDataSource, MetadataQuads } from '@comunica/types';\nimport type * as RDF from '@rdfjs/types';\nimport type { AsyncIterator } from 'asynciterator';\nimport { ArrayIterator, UnionIterator } from 'asynciterator';\nimport { DataFactory } from 'rdf-data-factory';\nimport { mapTerms } from 'rdf-terms';\nimport type { Algebra } from 'sparqlalgebrajs';\nimport { Factory } from 'sparqlalgebrajs';\n\nconst DF = new DataFactory();\n\n/**\n * A FederatedQuadSource can evaluate quad pattern queries over the union of different heterogeneous sources.\n * It will call the given mediator to evaluate each quad pattern query separately.\n */\nexport class FederatedQuadSource implements IQuadSource {\n  private static readonly SKOLEM_PREFIX = 'urn:comunica_skolem:source_';\n\n  protected readonly mediatorResolveQuadPattern: MediatorRdfResolveQuadPattern;\n\n  protected readonly sources: DataSources;\n  protected readonly contextDefault: IActionContext;\n  protected readonly emptyPatterns: Map<IDataSource, RDF.BaseQuad[]>;\n  protected readonly sourceIds: Map<IDataSource, string>;\n  protected readonly skipEmptyPatterns: boolean;\n  protected readonly algebraFactory: Factory;\n\n  public constructor(mediatorResolveQuadPattern: MediatorRdfResolveQuadPattern,\n    context: IActionContext, emptyPatterns: Map<IDataSource, RDF.Quad[]>,\n    skipEmptyPatterns: boolean) {\n    this.mediatorResolveQuadPattern = mediatorResolveQuadPattern;\n    this.sources = context.get(KeysRdfResolveQuadPattern.sources)!;\n    this.contextDefault = context.delete(KeysRdfResolveQuadPattern.sources);\n    this.emptyPatterns = emptyPatterns;\n    this.sourceIds = context.get(KeysRdfResolveQuadPattern.sourceIds) ?? new Map();\n    this.skipEmptyPatterns = skipEmptyPatterns;\n    this.algebraFactory = new Factory();\n\n    // Initialize sources in the emptyPatterns datastructure\n    if (this.skipEmptyPatterns) {\n      for (const source of this.sources) {\n        if (!this.emptyPatterns.has(source)) {\n          this.emptyPatterns.set(source, []);\n        }\n      }\n    }\n  }\n\n  /**\n   * Check if the given RDF term is not bound to an exact value.\n   * I.e., if it is not a Variable.\n   * @param {RDF.Term} term An RDF term.\n   * @return {boolean} If it is not bound.\n   */\n  public static isTermBound(term: RDF.Term): boolean {\n    return term.termType !== 'Variable';\n  }\n\n  /**\n   * Checks if the given (child) pattern is a more bound version of the given (parent) pattern.\n   * This will also return true if the patterns are equal.\n   * @param {RDF.BaseQuad} child A child pattern.\n   * @param {RDF.BaseQuad} parent A parent pattern.\n   * @return {boolean} If child is a sub-pattern of parent\n   */\n  public static isSubPatternOf(child: RDF.BaseQuad, parent: RDF.BaseQuad): boolean {\n    return (!FederatedQuadSource.isTermBound(parent.subject) || parent.subject.equals(child.subject)) &&\n      (!FederatedQuadSource.isTermBound(parent.predicate) || parent.predicate.equals(child.predicate)) &&\n      (!FederatedQuadSource.isTermBound(parent.object) || parent.object.equals(child.object)) &&\n      (!FederatedQuadSource.isTermBound(parent.graph) || parent.graph.equals(child.graph));\n  }\n\n  /**\n   * If the given term is a blank node, return a deterministic named node for it\n   * based on the source id and the blank node value.\n   * @param term Any RDF term.\n   * @param sourceId A source identifier.\n   * @return If the given term was a blank node, this will return a skolemized named node, otherwise the original term.\n   */\n  public static skolemizeTerm(term: RDF.Term, sourceId: string): RDF.Term | BlankNodeScoped {\n    if (term.termType === 'BlankNode') {\n      return new BlankNodeScoped(`bc_${sourceId}_${term.value}`,\n        DF.namedNode(`${FederatedQuadSource.SKOLEM_PREFIX}${sourceId}:${term.value}`));\n    }\n    return term;\n  }\n\n  /**\n   * Skolemize all terms in the given quad.\n   * @param quad An RDF quad.\n   * @param sourceId A source identifier.\n   * @return The skolemized quad.\n   */\n  public static skolemizeQuad<Q extends RDF.BaseQuad = RDF.Quad>(quad: Q, sourceId: string): Q {\n    return mapTerms(quad, term => FederatedQuadSource.skolemizeTerm(term, sourceId));\n  }\n\n  /**\n   * If a given term was a skolemized named node for the given source id,\n   * deskolemize it again to a blank node.\n   * If the given term was a skolemized named node for another source, return false.\n   * If the given term was not a skolemized named node, return the original term.\n   * @param term Any RDF term.\n   * @param sourceId A source identifier.\n   */\n  public static deskolemizeTerm(term: RDF.Term, sourceId: string): RDF.Term | null {\n    if (term.termType === 'BlankNode' && 'skolemized' in term) {\n      term = (<BlankNodeScoped> term).skolemized;\n    }\n    if (term.termType === 'NamedNode' && term.value.startsWith(FederatedQuadSource.SKOLEM_PREFIX)) {\n      const colonSeparator = term.value.indexOf(':', FederatedQuadSource.SKOLEM_PREFIX.length);\n      const termSourceId = term.value.slice(FederatedQuadSource.SKOLEM_PREFIX.length, colonSeparator);\n      // We had a skolemized term\n      if (termSourceId === sourceId) {\n        // It came from the correct source\n        const termLabel = term.value.slice(colonSeparator + 1, term.value.length);\n        return DF.blankNode(termLabel);\n      }\n      // It came from a different source\n      return null;\n    }\n    return term;\n  }\n\n  /**\n   * Deskolemize all terms in the given quad.\n   * @param quad An RDF quad.\n   * @param sourceId A source identifier.\n   * @return The deskolemized quad.\n   */\n  public static deskolemizeQuad<Q extends RDF.BaseQuad = RDF.Quad>(quad: Q, sourceId: string): Q {\n    return mapTerms(quad, (term: RDF.Term): RDF.Term => {\n      const newTerm = FederatedQuadSource.deskolemizeTerm(term, sourceId);\n      // If the term was skolemized in a different source then dont deskolemize it\n      return !newTerm ? term : newTerm;\n    });\n  }\n\n  /**\n   * If the given source is guaranteed to produce an empty result for the given pattern.\n   *\n   * This prediction is done based on the 'emptyPatterns' datastructure that is stored within this actor.\n   * Every time an empty pattern is passed, this pattern is stored in this datastructure for this source.\n   * If this pattern (or a more bound pattern) is queried, we know for certain that it will be empty again.\n   * This is under the assumption that sources will remain static during query evaluation.\n   *\n   * @param {IQuerySource} source\n   * @param {RDF.BaseQuad} pattern\n   * @return {boolean}\n   */\n  public isSourceEmpty(source: IDataSource, pattern: RDF.BaseQuad): boolean {\n    if (!this.skipEmptyPatterns) {\n      return false;\n    }\n    const emptyPatterns: RDF.BaseQuad[] | undefined = this.emptyPatterns.get(source);\n    if (emptyPatterns) {\n      for (const emptyPattern of emptyPatterns) {\n        if (FederatedQuadSource.isSubPatternOf(pattern, emptyPattern)) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Get the unique, deterministic id for the given source.\n   * @param source A data source.\n   * @return The id of the given source.\n   */\n  public getSourceId(source: IDataSource): string {\n    let sourceId = this.sourceIds.get(source);\n    if (sourceId === undefined) {\n      sourceId = `${this.sourceIds.size}`;\n      this.sourceIds.set(source, sourceId);\n    }\n    return sourceId;\n  }\n\n  public match(subject: RDF.Term, predicate: RDF.Term, object: RDF.Term, graph: RDF.Term): AsyncIterator<RDF.Quad> {\n    // Counters for our metadata\n    const metadata: MetadataQuads = { cardinality: { type: 'exact', value: 0 }, canContainUndefs: false };\n    let remainingSources = this.sources.length;\n\n    // Anonymous function to handle cardinality from metadata\n    const checkEmitMetadata = (currentTotalItems: number, source: IDataSource,\n      pattern: RDF.BaseQuad | undefined, lastMetadata?: MetadataQuads): void => {\n      if (this.skipEmptyPatterns && !currentTotalItems && pattern && !this.isSourceEmpty(source, pattern)) {\n        this.emptyPatterns.get(source)!.push(pattern);\n      }\n      if (!remainingSources) {\n        if (lastMetadata && this.sources.length === 1) {\n          // If we only had one source, emit the metadata as-is.\n          it.setProperty('metadata', lastMetadata);\n        } else {\n          it.setProperty('metadata', metadata);\n        }\n      }\n    };\n\n    const proxyIt: Promise<AsyncIterator<RDF.Quad>[]> = Promise.all(this.sources.map(async source => {\n      const sourceId = this.getSourceId(source);\n\n      // Deskolemize terms, so we send the original blank nodes to each source.\n      // Note that some sources may not match bnodes by label. SPARQL endpoints for example consider them variables.\n      const patternS = FederatedQuadSource.deskolemizeTerm(subject, sourceId);\n      const patternP = FederatedQuadSource.deskolemizeTerm(predicate, sourceId);\n      const patternO = FederatedQuadSource.deskolemizeTerm(object, sourceId);\n      const patternG = FederatedQuadSource.deskolemizeTerm(graph, sourceId);\n      let pattern: Algebra.Pattern | undefined;\n\n      // Prepare the context for this specific source\n      let context: IActionContext = getDataSourceContext(source, this.contextDefault);\n\n      context = context.set(KeysRdfResolveQuadPattern.source, source);\n\n      let output: IActorRdfResolveQuadPatternOutput;\n      // If any of the deskolemized blank nodes originate from another source,\n      // or if we can predict that the given source will have no bindings for the given pattern,\n      // return an empty iterator.\n      if (!patternS || !patternP || !patternO || !patternG ||\n        // eslint-disable-next-line no-cond-assign\n        this.isSourceEmpty(source, pattern = this.algebraFactory\n          .createPattern(patternS, patternP, patternO, patternG))) {\n        output = { data: new ArrayIterator([], { autoStart: false }) };\n        output.data.setProperty('metadata', { cardinality: 0, canContainUndefs: false });\n      } else {\n        output = await this.mediatorResolveQuadPattern.mediate({ pattern, context });\n      }\n\n      // Handle the metadata from this source\n      output.data.getProperty('metadata', (subMetadata: MetadataQuads) => {\n        if (!subMetadata.cardinality || !Number.isFinite(subMetadata.cardinality.value)) {\n          // We're already at infinite, so ignore any later metadata\n          metadata.cardinality.type = 'estimate';\n          metadata.cardinality.value = Number.POSITIVE_INFINITY;\n          remainingSources = 0;\n        } else {\n          if (subMetadata.cardinality.type === 'estimate') {\n            metadata.cardinality.type = 'estimate';\n          }\n          metadata.cardinality.value += subMetadata.cardinality.value;\n          remainingSources--;\n        }\n        if (metadata.requestTime || subMetadata.requestTime) {\n          metadata.requestTime = metadata.requestTime || 0;\n          subMetadata.requestTime = subMetadata.requestTime || 0;\n          metadata.requestTime += subMetadata.requestTime;\n        }\n        if (metadata.pageSize || subMetadata.pageSize) {\n          metadata.pageSize = metadata.pageSize || 0;\n          subMetadata.pageSize = subMetadata.pageSize || 0;\n          metadata.pageSize += subMetadata.pageSize;\n        }\n        if (subMetadata.canContainUndefs) {\n          metadata.canContainUndefs = true;\n        }\n        checkEmitMetadata(metadata.cardinality.value, source, pattern, subMetadata);\n      });\n\n      // Determine the data stream from this source\n      const data = output.data.map(quad => FederatedQuadSource.skolemizeQuad(quad, sourceId));\n\n      // Forward errors to our final iterator\n      data.on('error', error => it.emit('error', error));\n\n      return data;\n    }));\n\n    // Take the union of all source streams\n    const it = new ClosableTransformIterator(async() => new UnionIterator(await proxyIt), {\n      autoStart: false,\n      onClose() {\n        // Destroy the sub-iterators\n        proxyIt.then(proxyItResolved => {\n          for (const subIt of proxyItResolved) {\n            subIt.destroy();\n          }\n        }, () => {\n          // Void errors\n        });\n      },\n    });\n\n    // If we have 0 sources, immediately emit metadata\n    if (this.sources.length === 0) {\n      it.setProperty('metadata', metadata);\n    }\n\n    return it;\n  }\n}\n","import type { IActionRdfResolveQuadPattern,\n  IQuadSource, IActorRdfResolveQuadPatternArgs } from '@comunica/bus-rdf-resolve-quad-pattern';\nimport {\n  ActorRdfResolveQuadPatternSource, getContextSource, hasContextSingleSourceOfType,\n} from '@comunica/bus-rdf-resolve-quad-pattern';\nimport type { IActorTest } from '@comunica/core';\nimport type { IActionContext } from '@comunica/types';\nimport { RdfJsQuadSource } from './RdfJsQuadSource';\n\n/**\n * A comunica RDFJS Source RDF Resolve Quad Pattern Actor.\n */\nexport class ActorRdfResolveQuadPatternRdfJsSource extends ActorRdfResolveQuadPatternSource {\n  public constructor(args: IActorRdfResolveQuadPatternArgs) {\n    super(args);\n  }\n\n  public async test(action: IActionRdfResolveQuadPattern): Promise<IActorTest> {\n    if (!hasContextSingleSourceOfType('rdfjsSource', action.context)) {\n      throw new Error(`${this.name} requires a single source with an rdfjsSource to be present in the context.`);\n    }\n    const source = getContextSource(action.context);\n    if (!source || typeof source === 'string' || (!('match' in source) && !source.value.match)) {\n      throw new Error(`${this.name} received an invalid rdfjsSource.`);\n    }\n    return true;\n  }\n\n  protected async getSource(context: IActionContext): Promise<IQuadSource> {\n    const source: any = <any> getContextSource(context);\n    return new RdfJsQuadSource('match' in source ? source : source.value);\n  }\n}\n","import type { IQuadSource } from '@comunica/bus-rdf-resolve-quad-pattern';\nimport type * as RDF from '@rdfjs/types';\nimport type { AsyncIterator } from 'asynciterator';\nimport { wrap as wrapAsyncIterator } from 'asynciterator';\nimport type { IRdfJsSourceExtended } from './IRdfJsSourceExtended';\n\n/**\n * A quad source that wraps over an {@link RDF.Source}.\n */\nexport class RdfJsQuadSource implements IQuadSource {\n  private readonly source: IRdfJsSourceExtended;\n\n  public constructor(source: IRdfJsSourceExtended) {\n    this.source = source;\n  }\n\n  public static nullifyVariables(term?: RDF.Term): RDF.Term | undefined {\n    return !term || term.termType === 'Variable' ? undefined : term;\n  }\n\n  public match(subject: RDF.Term, predicate: RDF.Term, object: RDF.Term, graph: RDF.Term): AsyncIterator<RDF.Quad> {\n    // Create an async iterator from the matched quad stream\n    const rawStream = this.source.match(\n      RdfJsQuadSource.nullifyVariables(subject),\n      RdfJsQuadSource.nullifyVariables(predicate),\n      RdfJsQuadSource.nullifyVariables(object),\n      RdfJsQuadSource.nullifyVariables(graph),\n    );\n    const it = wrapAsyncIterator<RDF.Quad>(rawStream, { autoStart: false });\n\n    // Determine metadata\n    this.setMetadata(it, subject, predicate, object, graph)\n      .catch(error => it.destroy(error));\n\n    return it;\n  }\n\n  protected async setMetadata(\n    it: AsyncIterator<RDF.Quad>,\n    subject: RDF.Term,\n    predicate: RDF.Term,\n    object: RDF.Term,\n    graph: RDF.Term,\n  ): Promise<void> {\n    let cardinality: number;\n    if (this.source.countQuads) {\n      // If the source provides a dedicated method for determining cardinality, use that.\n      cardinality = await this.source.countQuads(\n        RdfJsQuadSource.nullifyVariables(subject),\n        RdfJsQuadSource.nullifyVariables(predicate),\n        RdfJsQuadSource.nullifyVariables(object),\n        RdfJsQuadSource.nullifyVariables(graph),\n      );\n    } else {\n      // Otherwise, fallback to a sub-optimal alternative where we just call match again to count the quads.\n      // WARNING: we can NOT reuse the original data stream here,\n      // because we may loose data elements due to things happening async.\n      let i = 0;\n      cardinality = await new Promise((resolve, reject) => {\n        const matches = this.source.match(\n          RdfJsQuadSource.nullifyVariables(subject),\n          RdfJsQuadSource.nullifyVariables(predicate),\n          RdfJsQuadSource.nullifyVariables(object),\n          RdfJsQuadSource.nullifyVariables(graph),\n        );\n        matches.on('error', reject);\n        matches.on('end', () => resolve(i));\n        matches.on('data', () => i++);\n      });\n    }\n    it.setProperty('metadata', { cardinality: { type: 'exact', value: cardinality }, canContainUndefs: false });\n  }\n}\n","import type { IActionRdfSerialize,\n  IActorRdfSerializeFixedMediaTypesArgs,\n  IActorRdfSerializeOutput } from '@comunica/bus-rdf-serialize';\nimport {\n  ActorRdfSerializeFixedMediaTypes,\n} from '@comunica/bus-rdf-serialize';\nimport type { IActionContext } from '@comunica/types';\nimport { JsonLdSerializer } from 'jsonld-streaming-serializer';\n\n/**\n * A comunica Jsonld RDF Serialize Actor.\n */\nexport class ActorRdfSerializeJsonLd extends ActorRdfSerializeFixedMediaTypes {\n  /**\n   * The number of spaces that should be used to indent stringified JSON.\n   */\n  public readonly jsonStringifyIndentSpaces: number;\n\n  /**\n   * @param args -\n   *   \\ @defaultNested {{\n   *       \"application/ld+json\": 1.0\n   *     }} mediaTypePriorities\n   *   \\ @defaultNested {{\n   *       \"application/ld+json\": \"http://www.w3.org/ns/formats/JSON-LD\"\n   *     }} mediaTypeFormats\n   */\n  public constructor(args: IActorRdfSerializeJsonLdArgs) {\n    super(args);\n  }\n\n  public async runHandle(action: IActionRdfSerialize, mediaType: string, context: IActionContext):\n  Promise<IActorRdfSerializeOutput> {\n    const data: NodeJS.ReadableStream = <any> new JsonLdSerializer(\n      { space: ' '.repeat(this.jsonStringifyIndentSpaces) },\n    ).import(action.quadStream);\n    return { data };\n  }\n}\n\nexport interface IActorRdfSerializeJsonLdArgs extends IActorRdfSerializeFixedMediaTypesArgs {\n  /**\n   * The number of spaces that should be used to indent stringified JSON.\n   * @range {integer}\n   * @default {2}\n   */\n  jsonStringifyIndentSpaces: number;\n}\n","import type { IActionRdfSerialize,\n  IActorRdfSerializeFixedMediaTypesArgs,\n  IActorRdfSerializeOutput } from '@comunica/bus-rdf-serialize';\nimport {\n  ActorRdfSerializeFixedMediaTypes,\n} from '@comunica/bus-rdf-serialize';\nimport type { IActionContext } from '@comunica/types';\nimport { StreamWriter } from 'n3';\n\n/**\n * A comunica N3 RDF Serialize Actor.\n */\nexport class ActorRdfSerializeN3 extends ActorRdfSerializeFixedMediaTypes {\n  /**\n   * @param args -\n   *   \\ @defaultNested {{\n   *       \"application/n-quads\": 1.0,\n   *       \"application/trig\": 0.95,\n   *       \"application/n-triples\": 0.8,\n   *       \"text/turtle\": 0.6,\n   *       \"text/n3\": 0.35\n   *     }} mediaTypePriorities\n   *   \\ @defaultNested {{\n   *       \"application/n-quads\": \"http://www.w3.org/ns/formats/N-Quads\",\n   *       \"application/trig\": \"http://www.w3.org/ns/formats/TriG\",\n   *       \"application/n-triples\": \"http://www.w3.org/ns/formats/N-Triples\",\n   *       \"text/turtle\": \"http://www.w3.org/ns/formats/Turtle\",\n   *       \"text/n3\": \"http://www.w3.org/ns/formats/N3\"\n   *     }} mediaTypeFormats\n   */\n  public constructor(args: IActorRdfSerializeFixedMediaTypesArgs) {\n    super(args);\n  }\n\n  public async runHandle(action: IActionRdfSerialize, mediaType: string, context: IActionContext):\n  Promise<IActorRdfSerializeOutput> {\n    const data: NodeJS.ReadableStream = <any> new StreamWriter({ format: mediaType }).import(action.quadStream);\n    return { data,\n      triples: mediaType === 'text/turtle' ||\n      mediaType === 'application/n-triples' ||\n      mediaType === 'text/n3' };\n  }\n}\n","import type {\n  IActionRdfUpdateQuads, IActorRdfUpdateQuadsArgs,\n  IQuadDestination,\n} from '@comunica/bus-rdf-update-quads';\nimport { ActorRdfUpdateQuadsDestination, getContextDestination } from '@comunica/bus-rdf-update-quads';\nimport type { IActorTest } from '@comunica/core';\nimport type { IActionContext } from '@comunica/types';\nimport type * as RDF from '@rdfjs/types';\nimport { RdfJsQuadDestination } from './RdfJsQuadDestination';\n\n/**\n * A comunica RDFJS Store RDF Update Quads Actor.\n */\nexport class ActorRdfUpdateQuadsRdfJsStore extends ActorRdfUpdateQuadsDestination {\n  public constructor(args: IActorRdfUpdateQuadsArgs) {\n    super(args);\n  }\n\n  public async test(action: IActionRdfUpdateQuads): Promise<IActorTest> {\n    const destination = getContextDestination(action.context);\n    if (!destination || typeof destination === 'string' ||\n      (!('remove' in destination) && 'value' in destination && !(<RDF.Store> destination.value).remove)) {\n      throw new Error(`${this.name} received an invalid rdfjsStore.`);\n    }\n    return true;\n  }\n\n  protected async getDestination(context: IActionContext): Promise<IQuadDestination> {\n    const destination: any = <any> getContextDestination(context);\n    return new RdfJsQuadDestination('remove' in destination ? destination : destination.value);\n  }\n}\n","import type { IQuadDestination } from '@comunica/bus-rdf-update-quads';\nimport type * as RDF from '@rdfjs/types';\nimport type { AsyncIterator } from 'asynciterator';\nimport { DataFactory } from 'rdf-data-factory';\nimport { stringToTerm, termToString } from 'rdf-string';\nimport EventEmitter = NodeJS.EventEmitter;\n\nconst DF = new DataFactory();\n\n/**\n * A quad destination that wraps around an {@link RDF.Store}.\n */\nexport class RdfJsQuadDestination implements IQuadDestination {\n  private readonly store: RDF.Store;\n\n  public constructor(store: RDF.Store) {\n    this.store = store;\n  }\n\n  protected promisifyEventEmitter(eventEmitter: EventEmitter): Promise<void> {\n    return new Promise<void>((resolve, reject) => {\n      eventEmitter.on('end', resolve);\n      eventEmitter.on('error', reject);\n    });\n  }\n\n  public delete(quads: AsyncIterator<RDF.Quad>): Promise<void> {\n    return this.promisifyEventEmitter(this.store.remove(quads));\n  }\n\n  public insert(quads: AsyncIterator<RDF.Quad>): Promise<void> {\n    return this.promisifyEventEmitter(this.store.import(quads));\n  }\n\n  public async deleteGraphs(\n    graphs: RDF.DefaultGraph | 'NAMED' | 'ALL' | RDF.NamedNode[],\n    requireExistence: boolean,\n    dropGraphs: boolean,\n  ): Promise<void> {\n    switch (graphs) {\n      case 'ALL':\n        /* eslint-disable no-fallthrough */\n        // Remove the default graph\n        await this.promisifyEventEmitter(this.store.deleteGraph(DF.defaultGraph()));\n        // Drop through to remove all named graphs\n      case 'NAMED':\n        /* eslint-enable no-fallthrough */\n        // Warning: this is sub-optimal!\n        // Query ALL quads to determine all named graphs\n        // eslint-disable-next-line no-case-declarations\n        const allQuads = this.store.match();\n        // eslint-disable-next-line no-case-declarations\n        const namedGraphs: Record<string, boolean> = {};\n        allQuads.on('data', (quad: RDF.Quad) => {\n          if (quad.graph.termType !== 'DefaultGraph') {\n            namedGraphs[termToString(quad.graph)] = true;\n          }\n        });\n        await this.promisifyEventEmitter(allQuads);\n\n        // Delete all named graphs\n        await Promise.all(Object.keys(namedGraphs)\n          .map(namedGraph => this.promisifyEventEmitter(this.store\n            .deleteGraph(<RDF.NamedNode> stringToTerm(namedGraph)))));\n        break;\n      default:\n        // Delete the default graph or a named graph\n        for (const graph of Array.isArray(graphs) ? graphs : [ graphs ]) {\n          await this.promisifyEventEmitter(this.store.deleteGraph(graph));\n        }\n    }\n  }\n\n  public async createGraphs(graphs: RDF.NamedNode[], requireNonExistence: boolean): Promise<void> {\n    // We don't have to create anything, since RDF/JS stores don't record empty graphs.\n\n    // The only check we have to do is error on existence\n    if (requireNonExistence) {\n      for (const graph of graphs) {\n        const eventEmitter = this.store.match(undefined, undefined, undefined, graph);\n        await new Promise<void>((resolve, reject) => {\n          eventEmitter.once('data', () => {\n            reject(new Error(`Unable to create graph ${graph.value} as it already exists`));\n          });\n          eventEmitter.on('end', resolve);\n          eventEmitter.on('error', reject);\n        });\n      }\n    }\n  }\n}\n","import type * as RDF from '@rdfjs/types';\nimport { Map } from 'immutable';\nimport { bindingsToString } from './bindingsToString';\n\n/**\n * An immutable.js-based Bindings object.\n */\nexport class Bindings implements RDF.Bindings {\n  public readonly type = 'bindings';\n\n  private readonly dataFactory: RDF.DataFactory;\n  private readonly entries: Map<string, RDF.Term>;\n\n  public constructor(dataFactory: RDF.DataFactory, entries: Map<string, RDF.Term>) {\n    this.dataFactory = dataFactory;\n    this.entries = entries;\n  }\n\n  public has(key: RDF.Variable | string): boolean {\n    return this.entries.has(typeof key === 'string' ? key : key.value);\n  }\n\n  public get(key: RDF.Variable | string): RDF.Term | undefined {\n    return this.entries.get(typeof key === 'string' ? key : key.value);\n  }\n\n  public set(key: RDF.Variable | string, value: RDF.Term): Bindings {\n    return new Bindings(this.dataFactory, this.entries.set(typeof key === 'string' ? key : key.value, value));\n  }\n\n  public delete(key: RDF.Variable | string): Bindings {\n    return new Bindings(this.dataFactory, this.entries.delete(typeof key === 'string' ? key : key.value));\n  }\n\n  public keys(): Iterable<RDF.Variable> {\n    return this.mapIterable<string, RDF.Variable>(\n      this.iteratorToIterable(this.entries.keys()),\n      key => this.dataFactory.variable!(key),\n    );\n  }\n\n  public values(): Iterable<RDF.Term> {\n    return this.iteratorToIterable(this.entries.values());\n  }\n\n  public forEach(fn: (value: RDF.Term, key: RDF.Variable) => any): void {\n    this.entries.forEach((value, key) => fn(value, this.dataFactory.variable!(key)));\n  }\n\n  public get size(): number {\n    return this.entries.size;\n  }\n\n  public [Symbol.iterator](): Iterator<[RDF.Variable, RDF.Term]> {\n    return this.mapIterable<[string, RDF.Term], [RDF.Variable, RDF.Term]>(\n      this.iteratorToIterable(<Iterator<[string, RDF.Term]>> this.entries.entries()),\n      ([ key, value ]) => [ this.dataFactory.variable!(key), value ],\n    )[Symbol.iterator]();\n  }\n\n  public equals(other: RDF.Bindings | null | undefined): boolean {\n    if (!other) {\n      return false;\n    }\n    if (this === other) {\n      return true;\n    }\n\n    // First check if size is equal\n    if (this.size !== other.size) {\n      return false;\n    }\n\n    // Then check if keys and values are equal\n    for (const key of this.keys()) {\n      if (!this.get(key)?.equals(other.get(key))) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  public filter(fn: (value: RDF.Term, key: RDF.Variable) => boolean): Bindings {\n    return new Bindings(this.dataFactory, Map(<any> this.entries\n      .filter((value, key) => fn(value, this.dataFactory.variable!(key)))));\n  }\n\n  public map(fn: (value: RDF.Term, key: RDF.Variable) => RDF.Term): Bindings {\n    return new Bindings(this.dataFactory, Map(<any> this.entries\n      .map((value, key) => fn(value, this.dataFactory.variable!(key)))));\n  }\n\n  public merge(other: Bindings): Bindings | undefined {\n    // Determine the union of keys\n    const keys = new Set([\n      ...this.iteratorToIterable(this.entries.keys()),\n      ...[ ...other.keys() ].map(key => key.value),\n    ]);\n\n    // Collect entries\n    const entries: [string, RDF.Term][] = [];\n    for (const key of keys) {\n      const left = this.entries.get(key)!;\n      const right = other.get(this.dataFactory.variable!(key));\n      if (left && right && !left.equals(right)) {\n        return;\n      }\n      const value = left || right;\n      entries.push([ key, value ]);\n    }\n\n    return new Bindings(this.dataFactory, Map(entries));\n  }\n\n  public mergeWith(\n    merger: (self: RDF.Term, other: RDF.Term, key: RDF.Variable) => RDF.Term,\n    other: Bindings,\n  ): Bindings {\n    // Determine the union of keys\n    const keys = new Set([\n      ...this.iteratorToIterable(this.entries.keys()),\n      ...[ ...other.keys() ].map(key => key.value),\n    ]);\n\n    // Collect entries\n    const entries: [string, RDF.Term][] = [];\n    for (const key of keys) {\n      const variable = this.dataFactory.variable!(key);\n      const left = this.entries.get(key)!;\n      const right = other.get(variable);\n      let value: RDF.Term;\n      if (left && right && !left.equals(right)) {\n        value = merger(left, right, variable);\n      } else {\n        value = left || right;\n      }\n      entries.push([ key, value ]);\n    }\n\n    return new Bindings(this.dataFactory, Map(entries));\n  }\n\n  public toString(): string {\n    return bindingsToString(this);\n  }\n\n  protected * mapIterable<T, U>(iterable: Iterable<T>, callback: (value: T) => U): Iterable<U> {\n    for (const x of iterable) {\n      // eslint-disable-next-line callback-return\n      yield callback(x);\n    }\n  }\n\n  protected iteratorToIterable<T>(iterator: Iterator<T>): Iterable<T> {\n    return {\n      [Symbol.iterator]: () => iterator,\n    };\n  }\n}\n","import type * as RDF from '@rdfjs/types';\nimport { Map } from 'immutable';\nimport { DataFactory } from 'rdf-data-factory';\nimport { Bindings } from './Bindings';\n\n/**\n * A Bindings factory that provides Bindings backed by immutable.js.\n */\nexport class BindingsFactory implements RDF.BindingsFactory {\n  private readonly dataFactory: RDF.DataFactory;\n\n  public constructor(dataFactory: RDF.DataFactory = new DataFactory()) {\n    this.dataFactory = dataFactory;\n  }\n\n  public bindings(entries: [RDF.Variable, RDF.Term][] = []): Bindings {\n    return new Bindings(this.dataFactory, Map(entries.map(([ key, value ]) => [ key.value, value ])));\n  }\n\n  public fromBindings(bindings: Bindings): Bindings {\n    return this.bindings([ ...bindings ]);\n  }\n\n  public fromRecord(record: Record<string, RDF.Term>): Bindings {\n    return this.bindings(Object.entries(record).map(([ key, value ]) => [ this.dataFactory.variable!(key), value ]));\n  }\n}\n","import type * as RDF from '@rdfjs/types';\nimport { termToString } from 'rdf-string';\n\n/**\n * Stringify a bindings object.\n * @param bindings A bindings object.\n */\nexport function bindingsToString(bindings: RDF.Bindings): string {\n  const raw: Record<string, string> = {};\n  for (const key of bindings.keys()) {\n    raw[key.value] = termToString(bindings.get(key))!;\n  }\n  return JSON.stringify(raw, null, '  ');\n}\n","import type { IAction, IActorArgs, IActorOutput, IActorTest, Mediate } from '@comunica/core';\nimport { Actor } from '@comunica/core';\nimport type { IActionContext } from '@comunica/types';\n\n/**\n * A comunica actor for context-preprocess events.\n *\n * Actor types:\n * * Input:  IAction:      A context that will be processed.\n * * Test:   <none>\n * * Output: IActorContextPreprocessOutput: The resulting context.\n *\n * @see IActionContextPreprocess\n * @see IActorContextPreprocessOutput\n */\nexport abstract class ActorContextPreprocess\n  extends Actor<IAction, IActorTest, IActorContextPreprocessOutput> {\n  /**\n   * @param args - @defaultNested {<default_bus> a <cc:components/Bus.jsonld#Bus>} bus\n   */\n  public constructor(args: IActorContextPreprocessArgs) {\n    super(args);\n  }\n}\n\nexport interface IActorContextPreprocessOutput extends IActorOutput {\n  /**\n   * A context object.\n   * Can be null.\n   */\n  context: IActionContext;\n}\n\nexport type IActorContextPreprocessArgs = IActorArgs<IAction, IActorTest, IActorContextPreprocessOutput>;\n\nexport type MediatorContextPreprocess = Mediate<IAction, IActorContextPreprocessOutput>;\n","import type { IAction, IActorArgs, IActorOutput, IActorTest, Mediator } from '@comunica/core';\nimport { Actor } from '@comunica/core';\nimport type { Bindings } from '@comunica/types';\n\n/**\n * A comunica actor for hash-bindings events.\n *\n * Actor types:\n * * Input:  IActionHashBindings:      Metadata for selecting a hash function.\n * * Test:   IActorTest:\n * * Output: IActorHashBindingsOutput: The resulting hash function.\n *\n * @see IActionHashBindings\n * @see IActorHashBindingsTest\n * @see IActorHashBindingsOutput\n */\nexport abstract class ActorHashBindings\n  extends Actor<IActionHashBindings, IActorTest, IActorHashBindingsOutput> {\n  /**\n   * @param args - @defaultNested {<default_bus> a <cc:components/Bus.jsonld#Bus>} bus\n   */\n  public constructor(args: IActorHashBindingsArgs) {\n    super(args);\n  }\n}\n\nexport interface IActionHashBindings extends IAction {\n  /**\n   * If hash collisions are allowed.\n   */\n  allowHashCollisions: boolean;\n}\n\nexport interface IActorHashBindingsOutput extends IActorOutput {\n  /**\n   * A string-based hash of the given object.\n   * @param {Bindings} bindings The bindings to hash.\n   * @return {string} The object's hash.\n   */\n  hashFunction: HashFunction;\n\n  /**\n   * If hash collisions are possible with the given hash function.\n   */\n  hashCollisions: boolean;\n}\n\nexport type HashFunction = (bindings: Bindings) => string;\n\nexport type IActorHashBindingsArgs = IActorArgs<IActionHashBindings, IActorTest, IActorHashBindingsOutput>;\n\nexport type MediatorHashBindings = Mediator<\nActor<IActionHashBindings, IActorTest, IActorHashBindingsOutput>,\nIActionHashBindings, IActorTest, IActorHashBindingsOutput>;\n","import type { IAction, IActorArgs, IActorOutput, IActorTest, Mediate } from '@comunica/core';\nimport { Actor } from '@comunica/core';\n\n/**\n * A comunica actor for http-invalidate events.\n *\n * Actor types:\n * * Input:  IActionHttpInvalidate:      An action for invalidating the cached contents of given URL.\n * * Test:   <none>\n * * Output: IActorHttpInvalidateOutput: An empty response.\n *\n * @see IActionHttpInvalidate\n * @see IActorHttpInvalidateOutput\n */\nexport abstract class ActorHttpInvalidate extends Actor<IActionHttpInvalidate, IActorTest, IActorHttpInvalidateOutput> {\n  /**\n   * @param args - @defaultNested {<default_bus> a <cc:components/Bus.jsonld#Bus>} bus\n   */\n  public constructor(args: IActorHttpInvalidateArgs) {\n    super(args);\n  }\n}\n\nexport interface IActionHttpInvalidate extends IAction {\n  /**\n   * The URL that requires invalidation.\n   * If not provided, then _all_ URLs need to be invalidated.\n   */\n  url?: string;\n}\n\nexport interface IActorHttpInvalidateOutput extends IActorOutput {\n\n}\n\nexport type IActorHttpInvalidateArgs = IActorArgs<IActionHttpInvalidate, IActorTest, IActorHttpInvalidateOutput>;\n\nexport type MediatorHttpInvalidate = Mediate<IActionHttpInvalidate, IActorHttpInvalidateOutput>;\n","import type { IActorTest } from '@comunica/core';\nimport type {\n  IActionHttpInvalidate,\n  IActorHttpInvalidateOutput,\n  IActorHttpInvalidateArgs,\n} from './ActorHttpInvalidate';\nimport { ActorHttpInvalidate } from './ActorHttpInvalidate';\n\n/**\n * An ActorHttpInvalidate actor that allows listeners to be attached.\n *\n * @see ActorHttpInvalidate\n */\nexport class ActorHttpInvalidateListenable extends ActorHttpInvalidate {\n  private readonly invalidateListeners: IInvalidateListener[] = [];\n\n  public constructor(args: IActorHttpInvalidateArgs) {\n    super(args);\n    this.invalidateListeners = [];\n  }\n\n  public addInvalidateListener(listener: IInvalidateListener): void {\n    this.invalidateListeners.push(listener);\n  }\n\n  public async test(action: IActionHttpInvalidate): Promise<IActorTest> {\n    return true;\n  }\n\n  public async run(action: IActionHttpInvalidate): Promise<IActorHttpInvalidateOutput> {\n    for (const listener of this.invalidateListeners) {\n      listener(action);\n    }\n    return {};\n  }\n}\n\n/**\n * Called when a {@link IActionHttpInvalidate} is received.\n */\nexport type IInvalidateListener = (action: IActionHttpInvalidate) => void;\n","import type { IAction, IActorArgs, IActorOutput, IActorTest, Mediate } from '@comunica/core';\nimport { Actor } from '@comunica/core';\nimport { ReadableWebToNodeStream } from 'readable-web-to-node-stream';\n\n// TODO: Remove when targeting NodeJS 18+\nglobal.ReadableStream = global.ReadableStream || require('web-streams-ponyfill').ReadableStream;\n\nconst isStream = require('is-stream');\nconst toWebReadableStream = require('readable-stream-node-to-web');\n\n/**\n * A base actor for listening to HTTP events.\n *\n * Actor types:\n * * Input:  IActionHttp:      The HTTP request.\n * * Test:   IActorHttpTest:   An estimate for the response time.\n * * Output: IActorHttpOutput: The HTTP response.\n *\n * @see IActionHttp\n * @see IActorHttpTest\n * @see IActorHttpOutput\n */\nexport abstract class ActorHttp extends Actor<IActionHttp, IActorTest, IActorHttpOutput> {\n  /**\n   * @param args - @defaultNested {<default_bus> a <cc:components/Bus.jsonld#Bus>} bus\n   */\n  public constructor(args: IActorHttpArgs) {\n    super(args);\n  }\n\n  /**\n   * Converts WhatWG streams to Node streams if required.\n   * Returns the input in case the stream already is a Node stream.\n   * @param {ReadableStream} body\n   * @returns {NodeJS.ReadableStream}\n   */\n  public static toNodeReadable(body: ReadableStream | null): NodeJS.ReadableStream {\n    return isStream(body) || body === null ?\n      <NodeJS.ReadableStream> <any> body :\n      <NodeJS.ReadableStream> <any> new ReadableWebToNodeStream(body);\n  }\n\n  /**\n   * Converts Node streams to WhatWG streams.\n   * @param {NodeJS.ReadableStream} body\n   * @returns {ReadableStream}\n   */\n  public static toWebReadableStream(body: NodeJS.ReadableStream | null): ReadableStream {\n    return toWebReadableStream(body);\n  }\n\n  /**\n   * Convert the given headers object into a raw hash.\n   * @param headers A headers object.\n   */\n  public static headersToHash(headers: Headers): Record<string, string> {\n    const hash: Record<string, string> = {};\n    headers.forEach((value, key) => {\n      hash[key] = value;\n    });\n    return hash;\n  }\n}\n\n/**\n * The HTTP input, which contains the HTTP request.\n */\nexport interface IActionHttp extends IAction {\n  input: RequestInfo;\n  init?: RequestInit;\n}\n\n/**\n * The HTTP output, which contains the HTTP response.\n */\nexport interface IActorHttpOutput extends IActorOutput, Response {\n\n}\n\nexport type IActorHttpArgs = IActorArgs<IActionHttp, IActorTest, IActorHttpOutput>;\n\nexport type MediatorHttp = Mediate<IActionHttp, IActorHttpOutput>;\n","import type { IAction, IActorOutput, IActorTest, IActorArgs, Mediate } from '@comunica/core';\nimport { Actor } from '@comunica/core';\nimport type { Readable } from 'readable-stream';\n\n/**\n * A base actor for listening to init events.\n *\n * Actor types:\n * * Input:  IActionInit:      Contains process information\n *                             such as the list of arguments,\n *                             environment variables and input stream.\n * * Test:   <none>\n * * Output: IActorOutputInit: Contains process output streams.\n *\n * @see IActionInit\n */\nexport abstract class ActorInit extends Actor<IActionInit, IActorTest, IActorOutputInit> {\n  /**\n   * @param args - @defaultNested {<default_bus> a <cc:components/Bus.jsonld#Bus>} bus\n   */\n  public constructor(args: IActorInitArgs) {\n    super(args);\n  }\n}\n\n/**\n * The init input, which contains the program arguments.\n */\nexport interface IActionInit extends IAction {\n  /**\n   * The list of program arguments.\n   */\n  argv: string[];\n  /**\n   * The mapping of environment variables.\n   */\n  env: Record<string, string | undefined>;\n  /**\n   * A standard input stream.\n   */\n  stdin: Readable;\n}\n\nexport interface IActorOutputInit extends IActorOutput {\n  /**\n   * A standard error output stream.\n   */\n  stderr?: Readable;\n  /**\n   * A standard output stream.\n   */\n  stdout?: Readable;\n}\n\nexport type IActorInitArgs = IActorArgs<IActionInit, IActorTest, IActorOutputInit>;\n\nexport type MediatorInit = Mediate<IActionInit, IActorOutputInit>;\n","import type { IAction, IActorArgs, IActorOutput, IActorTest, Mediate } from '@comunica/core';\nimport { Actor } from '@comunica/core';\nimport type { IActionContext } from '@comunica/types';\nimport type { Algebra } from 'sparqlalgebrajs';\n\n/**\n * A comunica actor for optimize-query-operation events.\n *\n * Actor types:\n * * Input:  IActionOptimizeQueryOperation:      An incoming SPARQL operation.\n * * Test:   <none>\n * * Output: IActorOptimizeQueryOperationOutput: A (possibly optimized) outgoing SPARQL operation.\n *\n * @see IActionOptimizeQueryOperation\n * @see IActorOptimizeQueryOperationOutput\n */\nexport abstract class ActorOptimizeQueryOperation\n  extends Actor<IActionOptimizeQueryOperation, IActorTest, IActorOptimizeQueryOperationOutput> {\n  /**\n   * @param args - @defaultNested {<default_bus> a <cc:components/Bus.jsonld#Bus>} bus\n   */\n  public constructor(args: IActorOptimizeQueryOperationArgs) {\n    super(args);\n  }\n}\n\nexport interface IActionOptimizeQueryOperation extends IAction {\n  operation: Algebra.Operation;\n}\n\nexport interface IActorOptimizeQueryOperationOutput extends IActorOutput {\n  operation: Algebra.Operation;\n  context: IActionContext;\n}\n\nexport type IActorOptimizeQueryOperationArgs = IActorArgs<\nIActionOptimizeQueryOperation, IActorTest, IActorOptimizeQueryOperationOutput>;\n\nexport type MediatorOptimizeQueryOperation = Mediate<\nIActionOptimizeQueryOperation, IActorOptimizeQueryOperationOutput>;\n","import { KeysInitQuery, KeysQueryOperation } from '@comunica/context-entries';\nimport type { IActorArgs, IActorTest, IAction, Mediate } from '@comunica/core';\nimport { Actor } from '@comunica/core';\nimport { BlankNodeBindingsScoped } from '@comunica/data-factory';\nimport type {\n  IQueryOperationResult,\n  IQueryOperationResultBindings,\n  IQueryOperationResultBoolean,\n  IQueryOperationResultQuads,\n  IQueryOperationResultVoid,\n  Bindings,\n  IMetadata, IActionContext,\n} from '@comunica/types';\nimport type * as RDF from '@rdfjs/types';\nimport type { Algebra } from 'sparqlalgebrajs';\nimport { materializeOperation } from './Bindings';\n\n/**\n * A counter that keeps track blank node generated through BNODE() SPARQL\n * expressions.\n *\n * @type {number}\n */\nlet bnodeCounter = 0;\n\n/**\n * A comunica actor for query-operation events.\n *\n * Actor types:\n * * Input:  IActionQueryOperation:      A SPARQL Algebra operation.\n * * Test:   <none>\n * * Output: IActorQueryOperationOutput: A bindings stream.\n *\n * @see IActionQueryOperation\n * @see IQueryOperationResult\n */\nexport abstract class ActorQueryOperation extends Actor<IActionQueryOperation, IActorTest, IQueryOperationResult> {\n  /**\n   * @param args - @defaultNested {<default_bus> a <cbqo:components/BusQueryOperation.jsonld#BusQueryOperation>} bus\n   */\n  protected constructor(args: IActorQueryOperationArgs) {\n    super(args);\n  }\n\n  /**\n   * Safely cast a query operation output to a bindings output.\n   * This will throw a runtime error if the output is of the incorrect type.\n   * @param {IQueryOperationResult} output A query operation output.\n   * @return {IQueryOperationResultBindings} A bindings query operation output.\n   */\n  public static getSafeBindings(output: IQueryOperationResult): IQueryOperationResultBindings {\n    ActorQueryOperation.validateQueryOutput(output, 'bindings');\n    return <IQueryOperationResultBindings> output;\n  }\n\n  /**\n   * Safely cast a query operation output to a quads output.\n   * This will throw a runtime error if the output is of the incorrect type.\n   * @param {IQueryOperationResult} output A query operation output.\n   * @return {IQueryOperationResultQuads} A quads query operation output.\n   */\n  public static getSafeQuads(output: IQueryOperationResult): IQueryOperationResultQuads {\n    ActorQueryOperation.validateQueryOutput(output, 'quads');\n    return <IQueryOperationResultQuads> output;\n  }\n\n  /**\n   * Safely cast a query operation output to a boolean output.\n   * This will throw a runtime error if the output is of the incorrect type.\n   * @param {IQueryOperationResult} output A query operation output.\n   * @return {IQueryOperationResultBoolean} A boolean query operation output.\n   */\n  public static getSafeBoolean(output: IQueryOperationResult): IQueryOperationResultBoolean {\n    ActorQueryOperation.validateQueryOutput(output, 'boolean');\n    return <IQueryOperationResultBoolean> output;\n  }\n\n  /**\n   * Safely cast a query operation output to a void output.\n   * This will throw a runtime error if the output is of the incorrect type.\n   * @param {IQueryOperationResult} output A query operation output.\n   * @return {IQueryOperationResultVoid} A void query operation output.\n   */\n  public static getSafeVoid(output: IQueryOperationResult): IQueryOperationResultVoid {\n    ActorQueryOperation.validateQueryOutput(output, 'void');\n    return <IQueryOperationResultVoid> output;\n  }\n\n  /**\n   * Convert a metadata callback to a lazy callback where the response value is cached.\n   * @param {() => Promise<IMetadata>} metadata A metadata callback\n   * @return {() => Promise<{[p: string]: any}>} The callback where the response will be cached.\n   */\n  public static cachifyMetadata<M extends IMetadata<T>, T extends RDF.Variable | RDF.QuadTermName>(\n    metadata: () => Promise<M>,\n  ): () => Promise<M> {\n    let lastReturn: Promise<M>;\n    // eslint-disable-next-line no-return-assign,@typescript-eslint/no-misused-promises\n    return () => (lastReturn || (lastReturn = metadata()));\n  }\n\n  /**\n   * Throw an error if the output type does not match the expected type.\n   * @param {IQueryOperationResult} output A query operation output.\n   * @param {string} expectedType The expected output type.\n   */\n  public static validateQueryOutput(output: IQueryOperationResult, expectedType: IQueryOperationResult['type']): void {\n    if (output.type !== expectedType) {\n      throw new Error(`Invalid query output type: Expected '${expectedType}' but got '${output.type}'`);\n    }\n  }\n\n  protected static getBaseExpressionContext(context: IActionContext): IBaseExpressionContext {\n    const now: Date | undefined = context.get(KeysInitQuery.queryTimestamp);\n    const baseIRI: string | undefined = context.get(KeysInitQuery.baseIRI);\n\n    // Handle two variants of providing extension functions\n    if (context.has(KeysInitQuery.extensionFunctionCreator) && context.has(KeysInitQuery.extensionFunctions)) {\n      throw new Error('Illegal simultaneous usage of extensionFunctionCreator and extensionFunctions in context');\n    }\n    let extensionFunctionCreator: ((functionNamedNode: RDF.NamedNode) =>\n    ((args: RDF.Term[]) => Promise<RDF.Term>) | undefined) | undefined = context\n      .get(KeysInitQuery.extensionFunctionCreator);\n    // Convert dictionary-based variant to callback\n    const extensionFunctions: (Record<string, (args: RDF.Term[]) => Promise<RDF.Term>>) | undefined = context\n      .get(KeysInitQuery.extensionFunctions);\n    if (extensionFunctions) {\n      extensionFunctionCreator = functionNamedNode => extensionFunctions[functionNamedNode.value];\n    }\n\n    return { now, baseIRI, extensionFunctionCreator };\n  }\n\n  /**\n   * Create an options object that can be used to construct a sparqlee synchronous evaluator.\n   * @param context An action context.\n   * @param mediatorQueryOperation An optional query query operation mediator.\n   *                               If defined, the existence resolver will be defined as `exists`.\n   */\n  public static getExpressionContext(context: IActionContext, mediatorQueryOperation?: MediatorQueryOperation):\n  ISyncExpressionContext {\n    return {\n      ...this.getBaseExpressionContext(context),\n      bnode: (input?: string) => new BlankNodeBindingsScoped(input || `BNODE_${bnodeCounter++}`),\n    };\n  }\n\n  /**\n   * Create an options object that can be used to construct a sparqlee asynchronous evaluator.\n   * @param context An action context.\n   * @param mediatorQueryOperation An optional query query operation mediator.\n   *                               If defined, the existence resolver will be defined as `exists`.\n   */\n  public static getAsyncExpressionContext(context: IActionContext, mediatorQueryOperation?: MediatorQueryOperation):\n  IAsyncExpressionContext {\n    const expressionContext: IAsyncExpressionContext = {\n      ...this.getBaseExpressionContext(context),\n      bnode: (input?: string) => Promise.resolve(new BlankNodeBindingsScoped(input || `BNODE_${bnodeCounter++}`)),\n    };\n    if (mediatorQueryOperation) {\n      expressionContext.exists = ActorQueryOperation.createExistenceResolver(context, mediatorQueryOperation);\n    }\n    return expressionContext;\n  }\n\n  /**\n   * Create an existence resolver for usage within an expression context.\n   * @param context An action context.\n   * @param mediatorQueryOperation A query operation mediator.\n   */\n  public static createExistenceResolver(context: IActionContext, mediatorQueryOperation: MediatorQueryOperation):\n  (expr: Algebra.ExistenceExpression, bindings: Bindings) => Promise<boolean> {\n    return async(expr, bindings) => {\n      const operation = materializeOperation(expr.input, bindings);\n\n      const outputRaw = await mediatorQueryOperation.mediate({ operation, context });\n      const output = ActorQueryOperation.getSafeBindings(outputRaw);\n\n      return new Promise(\n        (resolve, reject) => {\n          output.bindingsStream.on('end', () => {\n            resolve(false);\n          });\n\n          output.bindingsStream.on('error', reject);\n\n          output.bindingsStream.on('data', () => {\n            output.bindingsStream.close();\n            resolve(true);\n          });\n        },\n      )\n        .then((exists: boolean) => expr.not ? !exists : exists);\n    };\n  }\n\n  /**\n   * Throw an error if the context contains the readOnly flag.\n   * @param context An action context.\n   */\n  public static throwOnReadOnly(context: IActionContext): void {\n    if (context.get(KeysQueryOperation.readOnly)) {\n      throw new Error(`Attempted a write operation in read-only mode`);\n    }\n  }\n}\n\nexport interface IActionQueryOperation extends IAction {\n  /**\n   * The query operation to handle.\n   */\n  operation: Algebra.Operation;\n}\n\nexport type IActorQueryOperationArgs = IActorArgs<IActionQueryOperation, IActorTest, IQueryOperationResult>;\n\nexport type MediatorQueryOperation = Mediate<IActionQueryOperation, IQueryOperationResult>;\n\nexport interface IBaseExpressionContext {\n  now?: Date;\n  baseIRI?: string;\n  extensionFunctionCreator?: (functionNamedNode: RDF.NamedNode) =>\n  ((args: RDF.Term[]) => Promise<RDF.Term>) | undefined;\n}\n\nexport interface ISyncExpressionContext extends IBaseExpressionContext {\n  bnode: (input?: string | undefined) => RDF.BlankNode;\n}\n\nexport interface IAsyncExpressionContext extends IBaseExpressionContext {\n  bnode: (input?: string | undefined) => Promise<RDF.BlankNode>;\n  exists?: (expr: Algebra.ExistenceExpression, bindings: Bindings) => Promise<boolean>;\n}\n","import { KeysInitQuery, KeysQueryOperation } from '@comunica/context-entries';\nimport type { IActorTest } from '@comunica/core';\nimport type {\n  IQueryOperationResult,\n  IPhysicalQueryPlanLogger,\n  IActionContext, IMetadata,\n} from '@comunica/types';\nimport type * as RDF from '@rdfjs/types';\nimport type { Algebra } from 'sparqlalgebrajs';\nimport type { IActionQueryOperation, IActorQueryOperationArgs } from './ActorQueryOperation';\nimport { ActorQueryOperation } from './ActorQueryOperation';\n\n/**\n * A base implementation for query operation actors for a specific operation type.\n */\nexport abstract class ActorQueryOperationTyped<O extends Algebra.Operation> extends ActorQueryOperation {\n  public readonly operationName: string;\n\n  protected constructor(args: IActorQueryOperationArgs, operationName: string) {\n    super(<any> { ...args, operationName });\n    if (!this.operationName) {\n      throw new Error('A valid \"operationName\" argument must be provided.');\n    }\n  }\n\n  public async test(action: IActionQueryOperation): Promise<IActorTest> {\n    if (!action.operation) {\n      throw new Error('Missing field \\'operation\\' in a query operation action.');\n    }\n    if (action.operation.type !== this.operationName) {\n      throw new Error(`Actor ${this.name} only supports ${this.operationName} operations, but got ${\n        action.operation.type}`);\n    }\n    const operation: O = <O> action.operation;\n    return this.testOperation(operation, action.context);\n  }\n\n  public async run(action: IActionQueryOperation): Promise<IQueryOperationResult> {\n    // Log to physical plan\n    const physicalQueryPlanLogger: IPhysicalQueryPlanLogger | undefined = action.context\n      .get(KeysInitQuery.physicalQueryPlanLogger);\n    if (physicalQueryPlanLogger) {\n      physicalQueryPlanLogger.logOperation(\n        action.operation.type,\n        undefined,\n        action.operation,\n        action.context.get(KeysInitQuery.physicalQueryPlanNode),\n        this.name,\n        {},\n      );\n      action.context = action.context.set(KeysInitQuery.physicalQueryPlanNode, action.operation);\n    }\n\n    const operation: O = <O> action.operation;\n    const subContext = action.context.set(KeysQueryOperation.operation, operation);\n    const output: IQueryOperationResult = await this.runOperation(operation, subContext);\n    if ('metadata' in output) {\n      output.metadata = <any> ActorQueryOperation\n        .cachifyMetadata<IMetadata<RDF.QuadTermName | RDF.Variable>, RDF.QuadTermName | RDF.Variable>(output.metadata);\n    }\n    return output;\n  }\n\n  protected abstract testOperation(operation: O, context: IActionContext): Promise<IActorTest>;\n\n  protected abstract runOperation(operation: O, context: IActionContext):\n  Promise<IQueryOperationResult>;\n}\n","import type { Algebra } from 'sparqlalgebrajs';\nimport type { IActorQueryOperationArgs, MediatorQueryOperation } from './ActorQueryOperation';\nimport { ActorQueryOperationTyped } from './ActorQueryOperationTyped';\n\n/**\n * A base implementation for query operation actors for a specific operation type that have a query operation mediator.\n */\nexport abstract class ActorQueryOperationTypedMediated<O extends Algebra.Operation> extends ActorQueryOperationTyped<O>\n  implements IActorQueryOperationTypedMediatedArgs {\n  public readonly mediatorQueryOperation: MediatorQueryOperation;\n\n  public constructor(args: IActorQueryOperationTypedMediatedArgs, operationName: string) {\n    super(args, operationName);\n  }\n}\n\nexport interface IActorQueryOperationTypedMediatedArgs extends IActorQueryOperationArgs {\n  mediatorQueryOperation: MediatorQueryOperation;\n}\n","import type { IActorTest, IBusArgs } from '@comunica/core';\nimport { BusIndexed } from '@comunica/core';\nimport type { IQueryOperationResult } from '@comunica/types';\nimport type { ActorQueryOperation, IActionQueryOperation } from './ActorQueryOperation';\n\n/**\n * Indexed bus for query operations.\n */\nexport class BusQueryOperation\n  extends BusIndexed<ActorQueryOperation, IActionQueryOperation, IActorTest, IQueryOperationResult> {\n  public constructor(args: IBusArgs) {\n    super({\n      ...args,\n      actorIdentifierFields: [ 'operationName' ],\n      actionIdentifierFields: [ 'operation', 'type' ],\n    });\n  }\n}\n","import type { AsyncIterator, TransformIteratorOptions } from 'asynciterator';\nimport { TransformIterator } from 'asynciterator';\n\ndeclare type MaybePromise<T> = T | Promise<T>;\ndeclare type SourceExpression<T> = MaybePromise<AsyncIterator<T>> | (() => MaybePromise<AsyncIterator<T>>);\n\n/**\n * A TransformIterator with a callback for when this iterator is closed in any way.\n */\nexport class ClosableTransformIterator<S, D = S> extends TransformIterator<S, D> {\n  private readonly onClose: () => void;\n\n  public constructor(source: SourceExpression<S>, options: TransformIteratorOptions<S> & { onClose: () => void }) {\n    super(source, options);\n    this.onClose = options.onClose;\n  }\n\n  protected _end(destroy: boolean): void {\n    this.onClose();\n    super._end(destroy);\n  }\n}\n","import type { IAction, IActorArgs, IActorOutput, IActorTest, Mediate } from '@comunica/core';\nimport { Actor } from '@comunica/core';\nimport type * as RDF from '@rdfjs/types';\nimport type { Algebra } from 'sparqlalgebrajs';\n\n/**\n * A comunica actor for query-parse events.\n *\n * Actor types:\n * * Input:  IActionSparqlParse:      A SPARQL query string.\n * * Test:   <none>\n * * Output: IActorSparqlParseOutput: A parsed query in SPARQL query algebra.\n *\n * @see IActionQueryParse\n * @see IActorQueryParseOutput\n */\nexport abstract class ActorQueryParse extends Actor<IActionQueryParse, IActorTest, IActorQueryParseOutput> {\n  /**\n   * @param args - @defaultNested {<default_bus> a <cc:components/Bus.jsonld#Bus>} bus\n   */\n  public constructor(args: IActorQueryParseArgs) {\n    super(args);\n  }\n}\n\nexport interface IActionQueryParse extends IAction {\n  /**\n   * A query.\n   */\n  query: string;\n  /**\n   * The query format.\n   */\n  queryFormat?: RDF.QueryFormat;\n  /**\n   * The query's default base IRI.\n   */\n  baseIRI?: string;\n}\n\nexport interface IActorQueryParseOutput extends IActorOutput {\n  /**\n   * A parsed query in SPARQL algebra.\n   */\n  operation: Algebra.Operation;\n  /**\n   * An optionally overridden base IRI.\n   */\n  baseIRI?: string;\n}\n\nexport type IActorQueryParseArgs = IActorArgs<IActionQueryParse, IActorTest, IActorQueryParseOutput>;\n\nexport type MediatorQueryParse = Mediate<IActionQueryParse, IActorQueryParseOutput>;\n","import type { IActionAbstractMediaTyped,\n  IActionAbstractMediaTypedHandle,\n  IActionAbstractMediaTypedMediaTypeFormats,\n  IActionAbstractMediaTypedMediaTypes,\n  IActorArgsMediaTyped,\n  IActorOutputAbstractMediaTyped,\n  IActorOutputAbstractMediaTypedHandle,\n  IActorOutputAbstractMediaTypedMediaTypeFormats,\n  IActorOutputAbstractMediaTypedMediaTypes,\n  IActorTestAbstractMediaTyped,\n  IActorTestAbstractMediaTypedHandle,\n  IActorTestAbstractMediaTypedMediaTypeFormats,\n  IActorTestAbstractMediaTypedMediaTypes } from '@comunica/actor-abstract-mediatyped';\nimport {\n  ActorAbstractMediaTyped,\n} from '@comunica/actor-abstract-mediatyped';\nimport type { IAction, IActorOutput, IActorTest, Mediate } from '@comunica/core';\nimport type { IQueryOperationResultBase, IActionContext } from '@comunica/types';\n\n/**\n * A comunica actor for query-result-serialize events.\n *\n * Actor types:\n * * Input:  IActionSparqlSerialize:      SPARQL bindings or a quad stream.\n * * Test:   <none>\n * * Output: IActorQueryResultSerializeOutput: A text stream.\n *\n * @see IActionSparqlSerialize\n * @see IActorQueryResultSerializeOutput\n */\nexport abstract class ActorQueryResultSerialize\n  extends ActorAbstractMediaTyped<IActionSparqlSerialize, IActorTest, IActorQueryResultSerializeOutput> {\n  /**\n   * @param args - @defaultNested {<default_bus> a <cc:components/Bus.jsonld#Bus>} bus\n   */\n  public constructor(args: IActorQueryResultSerializeArgs) {\n    super(args);\n  }\n}\n\nexport type IActionRootQueryResultSerialize = IActionAbstractMediaTyped<IActionSparqlSerialize>;\nexport type IActorTestRootQueryResultSerialize = IActorTestAbstractMediaTyped<IActorTest>;\nexport type IActorOutputRootQueryResultSerialize = IActorOutputAbstractMediaTyped<IActorQueryResultSerializeOutput>;\n\nexport type IActionQueryResultSerializeHandle = IActionAbstractMediaTypedHandle<IActionSparqlSerialize>;\nexport type IActorTestQueryResultSerializeHandle = IActorTestAbstractMediaTypedHandle<IActorTest>;\nexport type IActorOutputQueryResultSerializeHandle = IActorOutputAbstractMediaTypedHandle<\nIActorQueryResultSerializeOutput>;\n\nexport type IActionQueryResultSerializeMediaTypes = IActionAbstractMediaTypedMediaTypes;\nexport type IActorTestQueryResultSerializeMediaTypes = IActorTestAbstractMediaTypedMediaTypes;\nexport type IActorOutputQueryResultSerializeMediaTypes = IActorOutputAbstractMediaTypedMediaTypes;\n\nexport type IActionQueryResultSerializeMediaTypeFormats = IActionAbstractMediaTypedMediaTypeFormats;\nexport type IActorTestQueryResultSerializeMediaTypeFormats = IActorTestAbstractMediaTypedMediaTypeFormats;\nexport type IActorOutputQueryResultSerializeMediaTypeFormats = IActorOutputAbstractMediaTypedMediaTypeFormats;\n\nexport interface IActionSparqlSerialize extends IAction, IQueryOperationResultBase {\n  context: IActionContext;\n}\n\nexport interface IActorQueryResultSerializeOutput extends IActorOutput {\n  /**\n   * A readable string stream in a certain SPARQL serialization that was serialized.\n   */\n  data: NodeJS.ReadableStream;\n}\n\nexport type IActorQueryResultSerializeArgs = IActorArgsMediaTyped<\nIActionSparqlSerialize, IActorTest, IActorQueryResultSerializeOutput>;\n\nexport type MediatorQueryResultSerializeHandle = Mediate<\nIActionQueryResultSerializeHandle, IActorOutputQueryResultSerializeHandle, IActorTestQueryResultSerializeHandle>;\n\nexport type MediatorQueryResultSerializeMediaTypes = Mediate<\nIActionQueryResultSerializeMediaTypes, IActorOutputQueryResultSerializeMediaTypes,\nIActorTestQueryResultSerializeMediaTypes>;\n\nexport type MediatorQueryResultSerializeMediaTypeFormats = Mediate<IActionQueryResultSerializeMediaTypeFormats,\nIActorOutputQueryResultSerializeMediaTypeFormats, IActorTestQueryResultSerializeMediaTypeFormats>;\n","import type { IActorArgsMediaTypedFixed } from '@comunica/actor-abstract-mediatyped';\nimport { ActorAbstractMediaTypedFixed } from '@comunica/actor-abstract-mediatyped';\nimport type { IActorTest } from '@comunica/core';\nimport type { IActionContext } from '@comunica/types';\nimport type { IActionSparqlSerialize, IActorQueryResultSerializeOutput,\n  ActorQueryResultSerialize } from './ActorQueryResultSerialize';\n\n/**\n * A base actor for listening to SPARQL serialize events that has fixed media types.\n *\n * Actor types:\n * * Input:  IActionSparqlSerializeOrMediaType:      A serialize input or a media type input.\n * * Test:   <none>\n * * Output: IActorQueryResultSerializeOutputOrMediaType: The serialized quads.\n *\n * @see IActionInit\n */\nexport abstract class ActorQueryResultSerializeFixedMediaTypes extends ActorAbstractMediaTypedFixed<\nIActionSparqlSerialize, IActorTest, IActorQueryResultSerializeOutput>\n  implements IActorQueryResultSerializeFixedMediaTypesArgs, ActorQueryResultSerialize {\n  /* eslint-disable max-len */\n  /**\n   * TODO: rm this (and eslint-disable) once we remove the abstract media typed actor\n   * @param args - @defaultNested {<cbqrs:components/ActorQueryResultSerialize.jsonld#ActorQueryResultSerialize_default_bus> a <cc:components/Bus.jsonld#Bus>} bus\n   */\n  public constructor(args: IActorQueryResultSerializeFixedMediaTypesArgs) {\n    super(args);\n  }\n  /* eslint-enable max-len */\n\n  public async testHandleChecked(action: IActionSparqlSerialize, context: IActionContext): Promise<boolean> {\n    return true;\n  }\n}\n\nexport interface IActorQueryResultSerializeFixedMediaTypesArgs\n  extends IActorArgsMediaTypedFixed<IActionSparqlSerialize, IActorTest, IActorQueryResultSerializeOutput> {}\n","import type { IAction, IActorArgs, IActorOutput, Mediate, IActorTest } from '@comunica/core';\nimport { Actor } from '@comunica/core';\nimport type { IJoinEntryWithMetadata } from '@comunica/types';\n\n/**\n * A comunica actor for rdf-join-entries-sort events.\n *\n * Actor types:\n * * Input:  IActionRdfJoinEntriesSort:      Join entries.\n * * Test:   IActorTest:                     Test result.\n * * Output: IActorRdfJoinEntriesSortOutput: The sorted join entries.\n *\n * @see IActionRdfJoinEntriesSort\n * @see IActorTest\n * @see IActorRdfJoinEntriesSortOutput\n */\nexport abstract class ActorRdfJoinEntriesSort\n  extends Actor<IActionRdfJoinEntriesSort, IActorTest, IActorRdfJoinEntriesSortOutput> {\n  /**\n   * @param args - @defaultNested {<default_bus> a <cc:components/Bus.jsonld#Bus>} bus\n   */\n  public constructor(args: IActorRdfJoinEntriesSortArgs) {\n    super(args);\n  }\n}\n\nexport interface IActionRdfJoinEntriesSort extends IAction {\n  /**\n   * The array of streams to join.\n   */\n  entries: IJoinEntryWithMetadata[];\n}\n\nexport interface IActorRdfJoinEntriesSortOutput extends IActorOutput {\n  /**\n   * The array of sorted streams.\n   */\n  entries: IJoinEntryWithMetadata[];\n}\n\nexport type IActorRdfJoinEntriesSortArgs = IActorArgs<\nIActionRdfJoinEntriesSort, IActorTest, IActorRdfJoinEntriesSortOutput>;\n\nexport type MediatorRdfJoinEntriesSort = Mediate<\nIActionRdfJoinEntriesSort, IActorRdfJoinEntriesSortOutput>;\n","import type { IAction, IActorArgs, IActorOutput, Mediate } from '@comunica/core';\nimport { Actor } from '@comunica/core';\nimport type { IMediatorTypeAccuracy } from '@comunica/mediatortype-accuracy';\nimport type { IJoinEntry } from '@comunica/types';\n\n/**\n * A comunica actor for rdf-join-selectivity events.\n *\n * Actor types:\n * * Input:  IActionRdfJoinSelectivity:      Join entries.\n * * Test:   IMediatorTypeAccuracy:          The accuracy of the selectivity calculator.\n * * Output: IActorRdfJoinSelectivityOutput: The calculated join selectivity.\n *\n * @see IActionRdfJoinSelectivity\n * @see IActorRdfJoinSelectivityTest\n * @see IActorRdfJoinSelectivityOutput\n */\nexport abstract class ActorRdfJoinSelectivity\n  extends Actor<IActionRdfJoinSelectivity, IMediatorTypeAccuracy, IActorRdfJoinSelectivityOutput> {\n  /**\n   * @param args - @defaultNested {<default_bus> a <cc:components/Bus.jsonld#Bus>} bus\n   */\n  public constructor(args: IActorRdfJoinSelectivityArgs) {\n    super(args);\n  }\n}\n\nexport interface IActionRdfJoinSelectivity extends IAction {\n  /**\n   * The array of streams to join.\n   */\n  entries: IJoinEntry[];\n}\n\nexport interface IActorRdfJoinSelectivityOutput extends IActorOutput {\n  /**\n   * A selectivity factor in the range [0, 1].\n   * A value close to 1 indicates a low selectivity,\n   * which means that the operations in the join entries are highly unrelated.\n   * A value close to 0 indicates a high selectivity,\n   * which means that the operations in the join entries are highly related, and have a high chance of reducing .\n   */\n  selectivity: number;\n}\n\nexport type IActorRdfJoinSelectivityArgs = IActorArgs<\nIActionRdfJoinSelectivity, IMediatorTypeAccuracy, IActorRdfJoinSelectivityOutput>;\n\nexport type MediatorRdfJoinSelectivity = Mediate<\nIActionRdfJoinSelectivity, IActorRdfJoinSelectivityOutput, IMediatorTypeAccuracy>;\n","import { ActorQueryOperation } from '@comunica/bus-query-operation';\nimport type {\n  MediatorRdfJoinSelectivity,\n} from '@comunica/bus-rdf-join-selectivity';\nimport { KeysInitQuery } from '@comunica/context-entries';\nimport type { IAction, IActorArgs, Mediate } from '@comunica/core';\nimport { Actor } from '@comunica/core';\nimport type { IMediatorTypeJoinCoefficients } from '@comunica/mediatortype-join-coefficients';\nimport type {\n  IQueryOperationResultBindings, MetadataBindings,\n  IPhysicalQueryPlanLogger, Bindings, IActionContext, IJoinEntry, IJoinEntryWithMetadata,\n} from '@comunica/types';\nimport type * as RDF from '@rdfjs/types';\nimport { DataFactory } from 'rdf-data-factory';\nimport { termToString } from 'rdf-string';\nconst DF = new DataFactory();\n\n/**\n * A comunica actor for joining 2 binding streams.\n *\n * Actor types:\n * * Input:  IActionRdfJoin:                The streams that need to be joined.\n * * Test:   IMediatorTypeJoinCoefficients: Join coefficients.\n * * Output: IActorRdfJoinOutput:           The resulting joined stream.\n *\n * @see IActionRdfJoin\n * @see IActorQueryOperationOutput\n */\nexport abstract class ActorRdfJoin\n  extends Actor<IActionRdfJoin, IMediatorTypeJoinCoefficients, IQueryOperationResultBindings> {\n  public readonly mediatorJoinSelectivity: MediatorRdfJoinSelectivity;\n\n  /**\n   * If this actor will be logged in the debugger and physical query plan logger\n   */\n  public includeInLogs = true;\n  public readonly logicalType: LogicalJoinType;\n  public readonly physicalName: string;\n  /**\n   * Can be used by subclasses to indicate the max or min number of streams that can be joined.\n   * 0 for infinity.\n   * By default, this indicates the max number, but can be inverted by setting limitEntriesMin to true.\n   */\n  protected readonly limitEntries: number;\n  /**\n   * If true, the limitEntries field is a lower limit,\n   * otherwise, it is an upper limit.\n   */\n  protected readonly limitEntriesMin: boolean;\n  /**\n   * If this actor can handle undefs in the bindings.\n   */\n  protected readonly canHandleUndefs: boolean;\n\n  /**\n   * @param args - @defaultNested {<default_bus> a <cc:components/Bus.jsonld#Bus>} bus\n   * @param options - Actor-specific join options.\n   */\n  public constructor(args: IActorRdfJoinArgs, options: IActorRdfJoinInternalOptions) {\n    super(args);\n    this.logicalType = options.logicalType;\n    this.physicalName = options.physicalName;\n    this.limitEntries = options.limitEntries ?? Number.POSITIVE_INFINITY;\n    this.limitEntriesMin = options.limitEntriesMin ?? false;\n    this.canHandleUndefs = options.canHandleUndefs ?? false;\n  }\n\n  /**\n   * Creates a hash of the given bindings by concatenating the results of the given variables.\n   * This function will not sort the variables and expects them to be in the same order for every call.\n   * @param {Bindings} bindings\n   * @param {string[]} variables\n   * @returns {string}\n   */\n  public static hash(bindings: Bindings, variables: RDF.Variable[]): string {\n    return variables\n      .filter(variable => bindings.has(variable))\n      .map(variable => termToString(bindings.get(variable)))\n      .join('');\n  }\n\n  /**\n   * Returns an array containing all the variable names that occur in all bindings streams.\n   * @param {MetadataBindings[]} metadatas An array of optional metadata objects for the entries.\n   * @returns {string[]}\n   */\n  public static overlappingVariables(metadatas: MetadataBindings[]): RDF.Variable[] {\n    const variables = metadatas.map(metadata => metadata.variables);\n    let baseArray = variables[0];\n    for (const array of variables.slice(1)) {\n      baseArray = baseArray.filter(el => array.some(value => value.value === el.value));\n    }\n    return baseArray;\n  }\n\n  /**\n   * Returns the variables that will occur in the joined bindings.\n   * @param {MetadataBindings[]} metadatas An array of metadata objects for the entries.\n   * @returns {string[]}\n   */\n  public static joinVariables(metadatas: MetadataBindings[]): RDF.Variable[] {\n    return [ ...new Set(metadatas.flatMap(metadata => metadata.variables.map(variable => variable.value))) ]\n      .map(variable => DF.variable(variable));\n  }\n\n  /**\n   * Returns the result of joining bindings, or `null` if no join is possible.\n   * @param {Bindings[]} bindings\n   * @returns {Bindings}\n   */\n  public static joinBindings(...bindings: Bindings[]): Bindings | null {\n    if (bindings.length === 0) {\n      return null;\n    }\n    if (bindings.length === 1) {\n      return bindings[0];\n    }\n\n    let acc: Bindings = bindings[0];\n    for (const binding of bindings.slice(1)) {\n      const merged = acc.merge(binding);\n      if (!merged) {\n        return null;\n      }\n      acc = merged;\n    }\n    return acc;\n  }\n\n  /**\n   * Get the estimated number of items from the given metadata.\n   * @param {Record<string, any>} metadata A metadata object.\n   * @return {number} The estimated number of items, or `Infinity` if cardinality is falsy.\n   */\n  public static getCardinality(metadata: MetadataBindings): RDF.QueryResultCardinality {\n    return metadata.cardinality;\n  }\n\n  /**\n   * Obtain the metadata from all given join entries.\n   * @param entries Join entries.\n   */\n  public static async getMetadatas(entries: IJoinEntry[]): Promise<MetadataBindings[]> {\n    return await Promise.all(entries.map(entry => entry.output.metadata()));\n  }\n\n  /**\n   * Obtain the join entries witt metadata from all given join entries.\n   * @param entries Join entries.\n   */\n  public static async getEntriesWithMetadatas(entries: IJoinEntry[]): Promise<IJoinEntryWithMetadata[]> {\n    const metadatas = await ActorRdfJoin.getMetadatas(entries);\n    return entries.map((entry, i) => ({ ...entry, metadata: metadatas[i] }));\n  }\n\n  /**\n   * Calculate the time to initiate a request for the given metadata entries.\n   * @param metadatas An array of checked metadata.\n   */\n  public static getRequestInitialTimes(metadatas: MetadataBindings[]): number[] {\n    return metadatas.map(metadata => metadata.pageSize ? 0 : metadata.requestTime || 0);\n  }\n\n  /**\n   * Calculate the time to receive a single item for the given metadata entries.\n   * @param metadatas An array of checked metadata.\n   */\n  public static getRequestItemTimes(metadatas: MetadataBindings[]): number[] {\n    return metadatas\n      .map(metadata => !metadata.pageSize ? 0 : (metadata.requestTime || 0) / metadata.pageSize);\n  }\n\n  /**\n   * Helper function to create a new metadata object for the join result.\n   * For required metadata entries that are not provided, sane defaults are calculated.\n   * @param entries Join entries.\n   * @param metadatas Metadata of the join entries.\n   * @param context The action context.\n   * @param partialMetadata Partial metadata entries.\n   */\n  public async constructResultMetadata(\n    entries: IJoinEntry[],\n    metadatas: MetadataBindings[],\n    context: IActionContext,\n    partialMetadata: Partial<MetadataBindings> = {},\n  ): Promise<MetadataBindings> {\n    let cardinalityJoined: RDF.QueryResultCardinality;\n    if (partialMetadata.cardinality) {\n      cardinalityJoined = partialMetadata.cardinality;\n    } else {\n      cardinalityJoined = metadatas\n        .reduce((acc: RDF.QueryResultCardinality, metadata) => {\n          const cardinalityThis = ActorRdfJoin.getCardinality(metadata);\n          return {\n            type: cardinalityThis.type === 'estimate' ? 'estimate' : acc.type,\n            value: acc.value * cardinalityThis.value,\n          };\n        }, { type: 'exact', value: 1 });\n      cardinalityJoined.value *= (await this.mediatorJoinSelectivity.mediate({ entries, context })).selectivity;\n    }\n\n    return {\n      ...partialMetadata,\n      cardinality: {\n        type: cardinalityJoined.type,\n        value: cardinalityJoined.value,\n      },\n      canContainUndefs: partialMetadata.canContainUndefs ?? metadatas.some(metadata => metadata.canContainUndefs),\n      variables: ActorRdfJoin.joinVariables(metadatas),\n    };\n  }\n\n  /**\n   * Default test function for join actors.\n   * Checks whether all iterators have metadata.\n   * If yes: call the abstract getIterations method, if not: return Infinity.\n   * @param {IActionRdfJoin} action The input action containing the relevant iterators\n   * @returns {Promise<IMediatorTypeJoinCoefficients>} The join coefficients.\n   */\n  public async test(action: IActionRdfJoin): Promise<IMediatorTypeJoinCoefficients> {\n    // Validate logical join type\n    if (action.type !== this.logicalType) {\n      throw new Error(`${this.name} can only handle logical joins of type '${this.logicalType}', while '${action.type}' was given.`);\n    }\n\n    // Don't allow joining of one or zero streams\n    if (action.entries.length <= 1) {\n      throw new Error(`${this.name} requires at least two join entries.`);\n    }\n\n    // Check if this actor can handle the given number of streams\n    if (this.limitEntriesMin ? action.entries.length < this.limitEntries : action.entries.length > this.limitEntries) {\n      throw new Error(`${this.name} requires ${this.limitEntries\n      } join entries at ${this.limitEntriesMin ? 'least' : 'most'\n      }. The input contained ${action.entries.length}.`);\n    }\n\n    // Check if all streams are bindings streams\n    for (const entry of action.entries) {\n      if (entry.output.type !== 'bindings') {\n        throw new Error(`Invalid type of a join entry: Expected 'bindings' but got '${entry.output.type}'`);\n      }\n    }\n\n    const metadatas = await ActorRdfJoin.getMetadatas(action.entries);\n\n    // Check if this actor can handle undefs\n    if (!this.canHandleUndefs) {\n      for (const metadata of metadatas) {\n        if (metadata.canContainUndefs) {\n          throw new Error(`Actor ${this.name} can not join streams containing undefs`);\n        }\n      }\n    }\n\n    return await this.getJoinCoefficients(action, metadatas);\n  }\n\n  /**\n   * Returns default input for 0 or 1 entries. Calls the getOutput function otherwise\n   * @param {IActionRdfJoin} action\n   * @returns {Promise<IActorQueryOperationOutput>}\n   */\n  public async run(action: IActionRdfJoin): Promise<IQueryOperationResultBindings> {\n    // Prepare logging to physical plan\n    // This must be called before getOutput, because we need to override the plan node in the context\n    let parentPhysicalQueryPlanNode;\n    if (action.context.has(KeysInitQuery.physicalQueryPlanLogger)) {\n      parentPhysicalQueryPlanNode = action.context.get(KeysInitQuery.physicalQueryPlanNode);\n      action.context = action.context.set(KeysInitQuery.physicalQueryPlanNode, action);\n    }\n\n    // Log to physical plan\n    const physicalQueryPlanLogger: IPhysicalQueryPlanLogger | undefined = action.context.get(KeysInitQuery\n      .physicalQueryPlanLogger);\n    let planMetadata: any;\n    if (this.includeInLogs && physicalQueryPlanLogger) {\n      planMetadata = {};\n      physicalQueryPlanLogger.logOperation(\n        `join-${this.logicalType}`,\n        this.physicalName,\n        action,\n        parentPhysicalQueryPlanNode,\n        this.name,\n        planMetadata,\n      );\n    }\n\n    // Get action output\n    const { result, physicalPlanMetadata } = await this.getOutput(action);\n    const metadatas = await ActorRdfJoin.getMetadatas(action.entries);\n\n    // Fill in the physical plan metadata after determining action output\n    if (planMetadata) {\n      Object.assign(planMetadata, physicalPlanMetadata);\n      planMetadata.cardinalities = metadatas.map(ActorRdfJoin.getCardinality);\n      planMetadata.joinCoefficients = await this.getJoinCoefficients(action, metadatas);\n    }\n\n    // Cache metadata\n    result.metadata = ActorQueryOperation.cachifyMetadata(result.metadata);\n\n    return result;\n  }\n\n  /**\n   * Returns the resulting output for joining the given entries.\n   * This is called after removing the trivial cases in run.\n   * @param {IActionRdfJoin} action\n   * @returns {Promise<IActorRdfJoinOutputInner>}\n   */\n  protected abstract getOutput(action: IActionRdfJoin): Promise<IActorRdfJoinOutputInner>;\n\n  /**\n   * Calculate the join coefficients.\n   * @param {IActionRdfJoin} action Join action\n   * @param metadatas Array of resolved metadata objects.\n   * @returns {IMediatorTypeJoinCoefficients} The join coefficient estimates.\n   */\n  protected abstract getJoinCoefficients(\n    action: IActionRdfJoin,\n    metadatas: MetadataBindings[],\n  ): Promise<IMediatorTypeJoinCoefficients>;\n}\n\nexport interface IActorRdfJoinArgs\n  extends IActorArgs<IActionRdfJoin, IMediatorTypeJoinCoefficients, IQueryOperationResultBindings> {\n  mediatorJoinSelectivity: MediatorRdfJoinSelectivity;\n}\n\nexport interface IActorRdfJoinInternalOptions {\n  /**\n   * The logical join type this actor can handle.\n   */\n  logicalType: LogicalJoinType;\n  /**\n   * The physical name of join operation this actor implements.\n   * This is used for debug and query plan logs.\n   */\n  physicalName: string;\n  /**\n   * Can be used by subclasses to indicate the max or min number of streams that can be joined.\n   * 0 for infinity.\n   * By default, this indicates the max number, but can be inverted by setting limitEntriesMin to true.\n   */\n  limitEntries?: number;\n  /**\n   * If true, the limitEntries field is a lower limit,\n   * otherwise, it is an upper limit.\n   * Defaults to false.\n   */\n  limitEntriesMin?: boolean;\n  /**\n   * If this actor can handle undefs in the bindings.\n   * Defaults to false.\n   */\n  canHandleUndefs?: boolean;\n}\n\n/**\n * Represents a logical join type.\n */\nexport type LogicalJoinType = 'inner' | 'optional' | 'minus';\n\nexport interface IActionRdfJoin extends IAction {\n  /**\n   * The logical join type.\n   */\n  type: LogicalJoinType;\n  /**\n   * The array of streams to join.\n   */\n  entries: IJoinEntry[];\n}\n\nexport interface IActorRdfJoinOutputInner {\n  /**\n   * The join result.\n   */\n  result: IQueryOperationResultBindings;\n  /**\n   * Optional metadata that will be included as metadata within the physical query plan output.\n   */\n  physicalPlanMetadata?: any;\n}\n\nexport type MediatorRdfJoin = Mediate<IActionRdfJoin, IQueryOperationResultBindings, IMediatorTypeJoinCoefficients>;\n","import type { IAction, IActorArgs, IActorOutput, IActorTest, Mediate } from '@comunica/core';\nimport { Actor } from '@comunica/core';\nimport type * as RDF from '@rdfjs/types';\nimport type { AsyncIterator } from 'asynciterator';\nimport type { Algebra } from 'sparqlalgebrajs';\n\n/**\n * A comunica actor for rdf-resolve-quad-pattern events.\n *\n * Actor types:\n * * Input:  IActionRdfResolveQuadPattern:      A quad pattern and an optional context.\n * * Test:   <none>\n * * Output: IActorRdfResolveQuadPatternOutput: The resulting quad stream and optional metadata.\n *\n * @see IActionRdfResolveQuadPattern\n * @see IActorRdfResolveQuadPatternOutput\n */\nexport abstract class ActorRdfResolveQuadPattern extends Actor<IActionRdfResolveQuadPattern, IActorTest,\nIActorRdfResolveQuadPatternOutput> {\n  /**\n   * @param args - @defaultNested {<default_bus> a <cc:components/Bus.jsonld#Bus>} bus\n   */\n  public constructor(args: IActorRdfResolveQuadPatternArgs) {\n    super(args);\n  }\n}\n\nexport interface IActionRdfResolveQuadPattern extends IAction {\n  /**\n   * The quad pattern to resolve.\n   */\n  pattern: Algebra.Pattern;\n}\n\nexport interface IActorRdfResolveQuadPatternOutput extends IActorOutput {\n  /**\n   * The resulting quad data stream.\n   *\n   * The returned stream MUST expose the property 'metadata'.\n   * The implementor is reponsible for handling cases where 'metadata'\n   * is being called without the stream being in flow-mode.\n   * This metadata object MUST implement IMetadata.\n   * @see IMetadata\n   */\n  data: AsyncIterator<RDF.Quad>;\n}\n\nexport type IActorRdfResolveQuadPatternArgs = IActorArgs<\nIActionRdfResolveQuadPattern, IActorTest, IActorRdfResolveQuadPatternOutput>;\n\nexport type MediatorRdfResolveQuadPattern = Mediate<IActionRdfResolveQuadPattern, IActorRdfResolveQuadPatternOutput>;\n","import type { IActorTest } from '@comunica/core';\nimport type { IActionContext } from '@comunica/types';\nimport type * as RDF from '@rdfjs/types';\nimport type { AsyncIterator } from 'asynciterator';\nimport type { Algebra } from 'sparqlalgebrajs';\nimport type { IActionRdfResolveQuadPattern,\n  IActorRdfResolveQuadPatternOutput, IActorRdfResolveQuadPatternArgs } from './ActorRdfResolveQuadPattern';\nimport { ActorRdfResolveQuadPattern } from './ActorRdfResolveQuadPattern';\n\n/**\n * A base implementation for rdf-resolve-quad-pattern events\n * that wraps around an {@link IQuadSource}.\n *\n * @see IQuadSource\n */\nexport abstract class ActorRdfResolveQuadPatternSource extends ActorRdfResolveQuadPattern {\n  public constructor(args: IActorRdfResolveQuadPatternArgs) {\n    super(args);\n  }\n\n  public async test(action: IActionRdfResolveQuadPattern): Promise<IActorTest> {\n    return true;\n  }\n\n  public async run(action: IActionRdfResolveQuadPattern): Promise<IActorRdfResolveQuadPatternOutput> {\n    const source = await this.getSource(action.context, action.pattern);\n    return await this.getOutput(source, action.pattern, action.context);\n  }\n\n  /**\n   * Get the output of the given action on a source.\n   * @param {IQuadSource} source A quad source, possibly lazy.\n   * @param {Algebra.Operation} operation The operation to apply.\n   * @param ActionContext context Optional context data.\n   * @return {Promise<IActorRdfResolveQuadPatternOutput>} A promise that resolves to a hash containing\n   *                                                      a data RDFJS stream.\n   */\n  protected async getOutput(source: IQuadSource, pattern: RDF.BaseQuad, context: IActionContext):\n  Promise<IActorRdfResolveQuadPatternOutput> {\n    // Create data stream\n    const data = source.match(pattern.subject, pattern.predicate, pattern.object, pattern.graph);\n    return { data };\n  }\n\n  /**\n   * Get a source instance for the given context.\n   * @param {ActionContext} context Optional context data.\n   * @param {Algebra.Pattern} operation The operation to apply.\n   * @return {Promise<RDF.Source>} A promise that resolves to a source.\n   */\n  protected abstract getSource(context: IActionContext, operation: Algebra.Pattern): Promise<IQuadSource>;\n}\n\n/**\n * A lazy quad source.\n */\nexport interface IQuadSource {\n  /**\n   * Returns a (possibly lazy) stream that processes all quads matching the pattern.\n   *\n   * The returned stream MUST expose the property 'metadata'.\n   * The implementor is reponsible for handling cases where 'metadata'\n   * is being called without the stream being in flow-mode.\n   *\n   * @param {RDF.Term} subject   The exact subject to match, variable is wildcard.\n   * @param {RDF.Term} predicate The exact predicate to match, variable is wildcard.\n   * @param {RDF.Term} object    The exact object to match, variable is wildcard.\n   * @param {RDF.Term} graph     The exact graph to match, variable is wildcard.\n   * @return {AsyncIterator<RDF.Quad>} The resulting quad stream.\n   */\n  match: (subject: RDF.Term, predicate: RDF.Term, object: RDF.Term, graph: RDF.Term) => AsyncIterator<RDF.Quad>;\n}\n","import { KeysRdfResolveQuadPattern } from '@comunica/context-entries';\nimport type { IActionContext, DataSources, IDataSource } from '@comunica/types';\nimport type * as RDF from '@rdfjs/types';\n\n/**\n * Check if the given data source is a string or RDF store.\n * @param dataSource A data source.\n */\nexport function isDataSourceRawType(dataSource: IDataSource): dataSource is string | RDF.Source {\n  return typeof dataSource === 'string' || 'match' in dataSource;\n}\n\n/**\n * Get the data source type.\n * @param dataSource A data source.\n */\nexport function getDataSourceType(dataSource: IDataSource): string | undefined {\n  if (typeof dataSource === 'string') {\n    return '';\n  }\n  return 'match' in dataSource ? 'rdfjsSource' : dataSource.type;\n}\n\n/**\n * Get the data source value.\n * @param dataSource A data source.\n */\nexport function getDataSourceValue(dataSource: IDataSource): string | RDF.Source {\n  return isDataSourceRawType(dataSource) ? dataSource : dataSource.value;\n}\n\n/**\n * Get the data source from the given context.\n * @param {ActionContext} context An optional context.\n * @param {IDataSource} dataSource The source or undefined.\n */\nexport function getDataSourceContext(dataSource: IDataSource, context: IActionContext): IActionContext {\n  if (typeof dataSource === 'string' || 'match' in dataSource || !dataSource.context) {\n    return context;\n  }\n  return context.merge(dataSource.context);\n}\n\n/**\n * Get the sources from the given context.\n * @param {ActionContext} context An optional context.\n * @return {IDataSource[]} The array of sources or undefined.\n */\nexport function getContextSources(context: IActionContext): DataSources | undefined {\n  return context.get(KeysRdfResolveQuadPattern.sources);\n}\n\n/**\n * Get the source from the given context.\n * @param {ActionContext} context An optional context.\n * @return {IDataSource} The source or undefined.\n */\nexport function getContextSource(context: IActionContext): IDataSource | undefined {\n  return context.get(KeysRdfResolveQuadPattern.source);\n}\n\n/**\n * Get the single source if the context contains just a single source.\n * This will check both the source and sources context entries.\n * @param {IActionContext} context A context, can be null.\n * @return {IDataSource} The single datasource or undefined.\n */\nexport function getContextSourceFirst(context: IActionContext): IDataSource | undefined {\n  if (context.has(KeysRdfResolveQuadPattern.source)) {\n    // If the single source is set\n    return context.get(KeysRdfResolveQuadPattern.source);\n  }\n\n  // If multiple sources are set\n  const datasources: DataSources | undefined = context.get(KeysRdfResolveQuadPattern.sources);\n  if (datasources?.length === 1) {\n    return datasources[0];\n  }\n}\n\n/**\n * Get the source's raw URL value from the given context.\n * @param {IDataSource} source A source.\n * @return {string} The URL or null.\n */\nexport function getContextSourceUrl(source?: IDataSource): string | undefined {\n  if (source) {\n    let fileUrl = getDataSourceValue(source);\n    if (typeof fileUrl === 'string') {\n      // Remove hashes from source\n      const hashPosition = fileUrl.indexOf('#');\n      if (hashPosition >= 0) {\n        fileUrl = fileUrl.slice(0, hashPosition);\n      }\n\n      return fileUrl;\n    }\n  }\n}\n\n/**\n * Check if the given context has a single source.\n * @param {ActionContext} context An optional context.\n * @return {boolean} If the given context has a single source of the given type.\n */\nexport function hasContextSingleSource(context: IActionContext): boolean {\n  const source = getContextSource(context);\n  return Boolean(source && (isDataSourceRawType(source) || source.value));\n}\n\n/**\n * Check if the given context has a single source of the given type.\n * @param {string} requiredType The required source type name.\n * @param {ActionContext} context An optional context.\n * @return {boolean} If the given context has a single source of the given type.\n */\nexport function hasContextSingleSourceOfType(requiredType: string, context: IActionContext): boolean {\n  const source = getContextSource(context);\n  return Boolean(source && getDataSourceType(source) === requiredType && getDataSourceValue(source));\n}\n","import type { IActionAbstractMediaTyped, IActorArgsMediaTyped,\n  IActorTestAbstractMediaTyped, IActorOutputAbstractMediaTypedHandle,\n  IActionAbstractMediaTypedHandle,\n  IActionAbstractMediaTypedMediaTypeFormats,\n  IActionAbstractMediaTypedMediaTypes, IActorOutputAbstractMediaTypedMediaTypeFormats,\n  IActorOutputAbstractMediaTypedMediaTypes,\n  IActorTestAbstractMediaTypedHandle, IActorTestAbstractMediaTypedMediaTypeFormats,\n  IActorTestAbstractMediaTypedMediaTypes } from '@comunica/actor-abstract-mediatyped';\nimport {\n  ActorAbstractMediaTyped,\n} from '@comunica/actor-abstract-mediatyped';\nimport type { IAction, IActorOutput, IActorTest, Mediate } from '@comunica/core';\nimport type * as RDF from '@rdfjs/types';\n\n/**\n * A comunica actor for RDF parse events.\n *\n * Actor types:\n * * Input:  IActionRdfSerialize:      A serialize input or a media type input.\n * * Test:   <none>\n * * Output: IActorRdfSerializeOutput: The serialized quads.\n *\n * @see IActionRdfSerialize\n * @see IActorRdfSerializeOutput\n */\nexport abstract class ActorRdfSerialize extends\n  ActorAbstractMediaTyped<IActionRdfSerialize, IActorTest, IActorRdfSerializeOutput> {\n  /**\n   * @param args - @defaultNested {<default_bus> a <cc:components/Bus.jsonld#Bus>} bus\n   */\n  public constructor(args: IActorRdfSerializeArgs) {\n    super(args);\n  }\n}\n\nexport type IActionRootRdfSerialize = IActionAbstractMediaTyped<IActionRdfSerialize>;\nexport type IActorTestRootRdfSerialize = IActorTestAbstractMediaTyped<IActorTest>;\nexport type IActorOutputRootRdfSerialize = IActorOutputAbstractMediaTypedHandle<IActorRdfSerializeOutput>;\n\nexport type IActionRdfSerializeHandle = IActionAbstractMediaTypedHandle<IActionRdfSerialize>;\nexport type IActorTestRdfSerializeHandle = IActorTestAbstractMediaTypedHandle<IActorTest>;\nexport type IActorOutputRdfSerializeHandle = IActorOutputAbstractMediaTypedHandle<IActorRdfSerializeOutput>;\n\nexport type IActionRdfSerializeMediaTypes = IActionAbstractMediaTypedMediaTypes;\nexport type IActorTestRdfSerializeMediaTypes = IActorTestAbstractMediaTypedMediaTypes;\nexport type IActorOutputRdfSerializeMediaTypes = IActorOutputAbstractMediaTypedMediaTypes;\n\nexport type IActionRdfSerializeMediaTypeFormats = IActionAbstractMediaTypedMediaTypeFormats;\nexport type IActorTestRdfSerializeMediaTypeFormats = IActorTestAbstractMediaTypedMediaTypeFormats;\nexport type IActorOutputRdfSerializeMediaTypeFormats = IActorOutputAbstractMediaTypedMediaTypeFormats;\n\nexport interface IActionRdfSerialize extends IAction {\n  /**\n   * The stream of quads.\n   */\n  quadStream: RDF.Stream;\n}\n\nexport interface IActorRdfSerializeOutput extends IActorOutput {\n  /**\n   * A readable string stream in a certain RDF serialization that was serialized.\n   */\n  data: NodeJS.ReadableStream;\n  /**\n   * An optional field indicating if the given output stream uses a triple-based serialization,\n   * in which everything is serialized in the default graph.\n   * If falsy, the quad stream contain actual quads, otherwise they should be interpreted as triples.\n   */\n  triples?: boolean;\n}\n\nexport type IActorRdfSerializeArgs = IActorArgsMediaTyped<IActionRdfSerialize, IActorTest, IActorRdfSerializeOutput>;\n\nexport type MediatorRdfSerializeHandle = Mediate<\nIActionRdfSerializeHandle, IActorOutputRdfSerializeHandle, IActorTestRdfSerializeHandle>;\n\nexport type MediatorRdfSerialize = Mediate<\nIActionRootRdfSerialize, IActorOutputRootRdfSerialize, IActorTestRootRdfSerialize>;\n\nexport type MediatorRdfSerializeMediaTypes = Mediate<\nIActionRdfSerializeMediaTypes, IActorOutputRdfSerializeMediaTypes, IActorTestRdfSerializeMediaTypes>;\n\nexport type MediatorRdfSerializeMediaTypeFormats = Mediate<\nIActionRdfSerializeMediaTypeFormats, IActorOutputRdfSerializeMediaTypeFormats, IActorTestRdfSerializeMediaTypeFormats>;\n","import type { IActorArgsMediaTypedFixed } from '@comunica/actor-abstract-mediatyped';\nimport { ActorAbstractMediaTypedFixed } from '@comunica/actor-abstract-mediatyped';\nimport type { IActorTest } from '@comunica/core';\nimport type { IActionRdfSerialize, IActorRdfSerializeOutput,\n  ActorRdfSerialize } from './ActorRdfSerialize';\n\n/**\n * A base actor for listening to RDF serialize events that has fixed media types.\n *\n * Actor types:\n * * Input:  IActionRdfSerializeOrMediaType:      A serialize input or a media type input.\n * * Test:   <none>\n * * Output: IActorRdfSerializeOutputOrMediaType: The serialized quads.\n *\n * @see IActionInit\n */\nexport abstract class ActorRdfSerializeFixedMediaTypes extends ActorAbstractMediaTypedFixed<\nIActionRdfSerialize, IActorTest, IActorRdfSerializeOutput>\n  implements IActorRdfSerializeFixedMediaTypesArgs, ActorRdfSerialize {\n  /* eslint-disable max-len */\n  /**\n   * TODO: rm this (and eslint-disable) once we remove the abstract media typed actor\n   * @param args - @defaultNested {<cbrs:components/ActorRdfSerialize.jsonld#ActorRdfSerialize_default_bus> a <cc:components/Bus.jsonld#Bus>} bus\n   */\n  public constructor(args: IActorRdfSerializeFixedMediaTypesArgs) {\n    super(args);\n  }\n  /* eslint-enable max-len */\n\n  public async testHandleChecked(action: IActionRdfSerialize): Promise<boolean> {\n    return true;\n  }\n}\n\nexport type IActorRdfSerializeFixedMediaTypesArgs = IActorArgsMediaTypedFixed<\nIActionRdfSerialize, IActorTest, IActorRdfSerializeOutput>;\n","import type { IAction, IActorArgs, IActorOutput, IActorTest, Mediate } from '@comunica/core';\nimport { Actor } from '@comunica/core';\nimport type * as RDF from '@rdfjs/types';\nimport type { AsyncIterator } from 'asynciterator';\n\n/**\n * A comunica actor for rdf-update-quads events.\n *\n * Actor types:\n * * Input:  IActionRdfUpdateQuads:      Quad insertion and deletion streams.\n * * Test:   <none>\n * * Output: IActorRdfUpdateQuadsOutput: A promise resolving when the update operation is done.\n *\n * @see IActionRdfUpdateQuads\n * @see IActorRdfUpdateQuadsOutput\n */\nexport abstract class ActorRdfUpdateQuads extends Actor<IActionRdfUpdateQuads, IActorTest, IActorRdfUpdateQuadsOutput> {\n  /**\n   * @param args - @defaultNested {<default_bus> a <cc:components/Bus.jsonld#Bus>} bus\n   */\n  public constructor(args: IActorRdfUpdateQuadsArgs) {\n    super(args);\n  }\n}\n\nexport interface IActionRdfUpdateQuads extends IAction {\n  /**\n   * An optional stream of quads to insert.\n   */\n  quadStreamInsert?: AsyncIterator<RDF.Quad>;\n  /**\n   * An optional stream of quads to delete.\n   */\n  quadStreamDelete?: AsyncIterator<RDF.Quad>;\n  /**\n   * An optional deletion of graphs.\n   */\n  deleteGraphs?: {\n    /**\n     * The graph(s) in which all triples must be removed.\n     */\n    graphs: RDF.DefaultGraph | 'NAMED' | 'ALL' | RDF.NamedNode[];\n    /**\n     * If true, and the graph does not exist, an error must be emitted.\n     *\n     * Should only be considered on destinations that record empty graphs.\n     */\n    requireExistence: boolean;\n    /**\n     * If the graph itself should also be dropped.\n     * Should not happen on the 'DEFAULT' graph.\n     *\n     * Should only be considered on destinations that record empty graphs.\n     */\n    dropGraphs: boolean;\n  };\n  /**\n   * An optional creation of (empty) graphs.\n   */\n  createGraphs?: {\n    /**\n     * The graph names to create.\n     */\n    graphs: RDF.NamedNode[];\n    /**\n     * If true, an error MUST be thrown when the graph already exists.\n     *\n     * For destinations that do not record empty graphs,\n     * this should only throw if at least one quad with the given quad already exists.\n     */\n    requireNonExistence: boolean;\n  };\n}\n\nexport interface IActorRdfUpdateQuadsOutput extends IActorOutput {\n  /**\n   * Async function that resolves when the update operation is done.\n   */\n  execute: () => Promise<void>;\n}\n\nexport type IActorRdfUpdateQuadsArgs = IActorArgs<IActionRdfUpdateQuads, IActorTest, IActorRdfUpdateQuadsOutput>;\n\nexport type MediatorRdfUpdateQuads = Mediate<IActionRdfUpdateQuads, IActorRdfUpdateQuadsOutput>;\n","import { FederatedQuadSource } from '@comunica/actor-rdf-resolve-quad-pattern-federated';\nimport { KeysRdfResolveQuadPattern, KeysRdfUpdateQuads } from '@comunica/context-entries';\nimport type { IActorTest } from '@comunica/core';\nimport type { IActionContext } from '@comunica/types';\nimport type * as RDF from '@rdfjs/types';\nimport type { AsyncIterator } from 'asynciterator';\nimport type { IActionRdfUpdateQuads, IActorRdfUpdateQuadsOutput } from './ActorRdfUpdateQuads';\nimport { ActorRdfUpdateQuads } from './ActorRdfUpdateQuads';\nimport type { IQuadDestination } from './IQuadDestination';\n\nexport function deskolemizeStream(stream: AsyncIterator<RDF.Quad> | undefined, id: string):\nAsyncIterator<RDF.Quad> | undefined {\n  return stream?.map(quad => FederatedQuadSource.deskolemizeQuad(quad, id));\n}\n\nexport function deskolemize(action: IActionRdfUpdateQuads): IActionRdfUpdateQuads {\n  const destination = action.context.get(KeysRdfUpdateQuads.destination);\n  const id = action.context.get<Map<any, string>>(KeysRdfResolveQuadPattern.sourceIds)?.get(destination);\n  if (!id) {\n    return action;\n  }\n  return {\n    ...action,\n    quadStreamInsert: deskolemizeStream(action.quadStreamInsert, id),\n    quadStreamDelete: deskolemizeStream(action.quadStreamDelete, id),\n  };\n}\n\n/**\n * A base implementation for rdf-update-quads events\n * that wraps around an {@link IQuadDestination}.\n *\n * @see IQuadDestination\n */\nexport abstract class ActorRdfUpdateQuadsDestination extends ActorRdfUpdateQuads {\n  public async test(action: IActionRdfUpdateQuads): Promise<IActorTest> {\n    return true;\n  }\n\n  public async run(action: IActionRdfUpdateQuads): Promise<IActorRdfUpdateQuadsOutput> {\n    const destination = await this.getDestination(action.context);\n    return await this.getOutput(destination, deskolemize(action), action.context);\n  }\n\n  /**\n   * Get the output of the given action on a destination.\n   * @param {IQuadDestination} destination A quad destination, possibly lazy.\n   * @param {IActionRdfUpdateQuads} action The action.\n   * @param {ActionContext} context Optional context data.\n   */\n  protected async getOutput(\n    destination: IQuadDestination,\n    action: IActionRdfUpdateQuads,\n    context: IActionContext,\n  ): Promise<IActorRdfUpdateQuadsOutput> {\n    const execute = (): Promise<void> => Promise.all([\n      action.quadStreamInsert ? destination.insert(action.quadStreamInsert) : Promise.resolve(),\n      action.quadStreamDelete ? destination.delete(action.quadStreamDelete) : Promise.resolve(),\n      action.deleteGraphs ?\n        destination.deleteGraphs(\n          action.deleteGraphs.graphs,\n          action.deleteGraphs.requireExistence,\n          action.deleteGraphs.dropGraphs,\n        ) :\n        Promise.resolve(),\n      action.createGraphs ?\n        destination.createGraphs(action.createGraphs.graphs, action.createGraphs.requireNonExistence) :\n        Promise.resolve(),\n    ]).then(() => {\n      // Return void\n    });\n    return { execute };\n  }\n\n  /**\n   * Get a destination instance for the given context.\n   * @param {ActionContext} context Optional context data.\n   * @return {Promise<IQuadSource>} A promise that resolves to a destination.\n   */\n  protected abstract getDestination(context: IActionContext): Promise<IQuadDestination>;\n}\n","import { ActorHttp } from '@comunica/bus-http';\nimport type * as RDF from '@rdfjs/types';\nimport type { AsyncIterator } from 'asynciterator';\nimport * as stringifyStream from 'stream-to-string';\n\n/**\n * A quad destination.\n */\nexport interface IQuadDestination {\n  /**\n   * Insert the given quad stream into the destination.\n   * @param quads The quads to insert.\n   * @return {AsyncIterator<RDF.Quad>} The inserted quad stream.\n   */\n  insert: (quads: AsyncIterator<RDF.Quad>) => Promise<void>;\n  /**\n   * Delete the given quad stream from the destination.\n   * @param quads The quads to delete.\n   * @return {AsyncIterator<RDF.Quad>} The deleted quad stream.\n   */\n  delete: (quads: AsyncIterator<RDF.Quad>) => Promise<void>;\n  /**\n   * Graphs that should be deleted.\n   * @param graphs The graph(s) in which all triples must be removed.\n   * @param requireExistence If true, and any of the graphs does not exist, an error must be emitted.\n   *                         Should only be considered on destinations that record empty graphs.\n   * @param dropGraphs If the graphs themselves should also be dropped.\n   *                   Should not happen on the 'DEFAULT' graph.\n   *                   Should only be considered on destinations that record empty graphs.\n   */\n  deleteGraphs: (\n    graphs: RDF.DefaultGraph | 'NAMED' | 'ALL' | RDF.NamedNode[],\n    requireExistence: boolean,\n    dropGraphs: boolean,\n  ) => Promise<void>;\n  /**\n   * Create the given (empty) graphs.\n   * @param graphs The graph names to create.\n   * @param requireNonExistence If true, an error MUST be thrown when any of the graph already exists.\n   *                            For destinations that do not record empty graphs,\n   *                            this should only throw if at least one quad with the given quad already exists.\n   */\n  createGraphs: (graphs: RDF.NamedNode[], requireNonExistence: boolean) => Promise<void>;\n}\n\n/**\n * Check if the http response is valid, and throw an error if not.\n * @param url The original URL that was to be updated.\n * @param httpResponse The update response.\n */\nexport async function validateHttpResponse(url: string, httpResponse: Response): Promise<void> {\n  // Check if update was successful\n  if (httpResponse.status >= 400) {\n    // Consume the body, to avoid process to hang\n    let bodyString = 'empty response';\n    if (httpResponse.body) {\n      const responseStream = ActorHttp.toNodeReadable(httpResponse.body);\n      bodyString = await stringifyStream(responseStream);\n    }\n    throw new Error(`Could not update ${url} (HTTP status ${httpResponse.status}):\\n${bodyString}`);\n  }\n\n  // Close response body, as we don't need it\n  await httpResponse.body?.cancel();\n}\n","import { ActionContextKey, CONTEXT_KEY_LOGGER } from '@comunica/core';\nimport type { Bindings,\n  IPhysicalQueryPlanLogger,\n  QueryExplainMode,\n  IProxyHandler,\n  ICliArgsHandler,\n  DataSources,\n  IDataSource,\n  IDataDestination,\n  MetadataBindings } from '@comunica/types';\nimport type * as RDF from '@rdfjs/types';\nimport type { IDocumentLoader } from 'jsonld-context-parser';\nimport type { Algebra } from 'sparqlalgebrajs';\n\n/**\n * When adding entries to this file, also add a shortcut for them in the contextKeyShortcuts TSDoc comment in\n * ActorIniQueryBase in @comunica/actor-init-query if it makes sense to use this entry externally.\n * Also, add this shortcut to IQueryContextCommon in @comunica/types.\n */\n\nexport const KeysCore = {\n  // We create the core context keys in @comunica/core to avoid a cyclic dependency\n  /**\n   * A logger instance.\n   */\n  log: CONTEXT_KEY_LOGGER,\n};\n\nexport const KeysHttp = {\n  /**\n   * Include credentials flags.\n   */\n  includeCredentials: new ActionContextKey<boolean>('@comunica/bus-http:include-credentials'),\n  /**\n   * Authentication for a source as a \"username:password\"-pair.\n   */\n  auth: new ActionContextKey<string>('@comunica/bus-http:auth'),\n  /**\n   * Fetch function implementation.\n   */\n  fetch: new ActionContextKey<typeof fetch>('@comunica/bus-http:fetch'),\n  /**\n   * HTTP request timeout in milliseconds.\n   */\n  httpTimeout: new ActionContextKey<number>('@comunica/bus-http:http-timeout'),\n  /**\n   * Makes the HTTP timeout not only apply until the response starts streaming in\n   * but until the response is fully consumed.\n   */\n  httpBodyTimeout: new ActionContextKey<boolean>('@comunica/bus-http:http-body-timeout'),\n  /**\n   * Number of retries to make on failed network calls. This only takes effect\n   * on errors thrown during the initial fetch() call and not while streaming the body.\n   */\n  httpRetryCount: new ActionContextKey<number>('@comunica/bus-http:http-retry-count'),\n  /**\n   * Delay in milliseconds to wait between fetch retries. Requires httpRetryCount to be set.\n   */\n  httpRetryDelay: new ActionContextKey<number>('@comunica/bus-http:http-retry-delay'),\n  /**\n   * Retry fetch, if server replies with a 5xx error response. Requires httpRetryCount to be set.\n   */\n  httpRetryOnServerError: new ActionContextKey<number>('@comunica/bus-http:http-retry-on-server-error'),\n};\n\nexport const KeysHttpWayback = {\n  /**\n   * Use the WayBack machine to get the most recent representation of a file if a link is broken.\n   * @default false\n   */\n  recoverBrokenLinks: new ActionContextKey<boolean>('@comunica/bus-http:recover-broken-links'),\n};\n\nexport const KeysHttpMemento = {\n  /**\n   * The desired datetime for Memento datetime-negotiation.\n   */\n  datetime: new ActionContextKey<Date>('@comunica/actor-http-memento:datetime'),\n};\n\nexport const KeysHttpProxy = {\n  /**\n   * Interface.\n   */\n  httpProxyHandler: new ActionContextKey<IProxyHandler>('@comunica/actor-http-proxy:httpProxyHandler'),\n};\n\nexport const KeysInitQuery = {\n  /**\n   * Variables that have to be pre-bound to values in the query.\n   */\n  initialBindings: new ActionContextKey<RDF.Bindings>('@comunica/actor-init-query:initialBindings'),\n  /**\n   * The provided query's format.\n   * Defaults to { language: 'sparql', version: '1.1' }\n   */\n  queryFormat: new ActionContextKey<RDF.QueryFormat>('@comunica/actor-init-query:queryFormat'),\n  /**\n   * Which GraphQL bindings should be singularized.\n   */\n  graphqlSingularizeVariables: new ActionContextKey<any>('@comunica/actor-init-query:singularizeVariables'),\n  /**\n   * If HTTP and parsing failures are ignored.\n   */\n  lenient: new ActionContextKey<boolean>('@comunica/actor-init-query:lenient'),\n  /**\n   * The original query string.\n   */\n  queryString: new ActionContextKey<string>('@comunica/actor-init-query:queryString'),\n  /**\n   * The original parsed query.\n   */\n  query: new ActionContextKey<Algebra.Operation>('@comunica/actor-init-query:query'),\n  /**\n   * The query's base IRI.\n   */\n  baseIRI: new ActionContextKey<string>('@comunica/actor-init-query:baseIRI'),\n  /**\n   * A timestamp representing the current time.\n   *                 This is required for certain SPARQL operations such as NOW().\n   */\n  queryTimestamp: new ActionContextKey<Date>('@comunica/actor-init-query:queryTimestamp'),\n  /**\n   * @range {functionNamedNode: RDF.NamedNode) => ((args: RDF.Term[]) => Promise<RDF.Term>) | undefined}\n   * Extension function creator for a given function IRI.\n   * Returned value should be an async function implementation.\n   * Undefined may be returned if no implementation exists for the given function IRI.\n   *\n   * The dictionary-based extensionFunctions context entry may be used instead, but not simultaneously.\n   */\n  extensionFunctionCreator: new ActionContextKey<\n  (functionNamedNode: RDF.NamedNode) => ((args: RDF.Term[]) => Promise<RDF.Term>) | undefined\n  // eslint-disable-next-line @typescript-eslint/no-extra-parens\n  >('@comunica/actor-init-query:extensionFunctionCreator'),\n  /**\n   * Dictionary of extension functions.\n   * Key is the IRI of the function, and value is the async function implementation.\n   *\n   * The callback-based extensionFunctionCreator context entry may be used instead, but not simultaneously.\n   */\n  extensionFunctions: new ActionContextKey<\n  Record<string, (args: RDF.Term[]) => Promise<RDF.Term>>\n  // eslint-disable-next-line @typescript-eslint/no-extra-parens\n  >('@comunica/actor-init-query:extensionFunctions'),\n  /**\n   * Enables manipulation of the CLI arguments and their processing.\n   */\n  cliArgsHandlers: new ActionContextKey<ICliArgsHandler[]>('@comunica/actor-init-query:cliArgsHandlers'),\n  /**\n   * Explain mode of the query. Can be 'parsed', 'logical', or 'physical'.\n   */\n  explain: new ActionContextKey<QueryExplainMode>('@comunica/actor-init-query:explain'),\n  /**\n   * Logs the used physical operators\n   */\n  physicalQueryPlanLogger: new ActionContextKey<IPhysicalQueryPlanLogger>(\n    '@comunica/actor-init-query:physicalQueryPlanLogger',\n  ),\n  /**\n   * The current physical operator within the query plan.\n   *              This is used to pass parent-child relationships for invoking the query plan logger.\n   */\n  physicalQueryPlanNode: new ActionContextKey<any>('@comunica/actor-init-query:physicalQueryPlanNode'),\n  /**\n   * A JSON-LD context\n   */\n  jsonLdContext: new ActionContextKey<any>('@context'),\n};\n\nexport const KeysQueryOperation = {\n  /**\n   * Context entry for the current query operation.\n   */\n  operation: new ActionContextKey<string>('@comunica/bus-query-operation:operation'),\n  /**\n   * @type {any} The metadata from the left streams within a join operation.\n   */\n  joinLeftMetadata: new ActionContextKey<MetadataBindings>('@comunica/bus-query-operation:joinLeftMetadata'),\n  /**\n   * An array of metadata from the right streams within a join operation.\n   */\n  joinRightMetadatas: new ActionContextKey<MetadataBindings[]>('@comunica/bus-query-operation:joinRightMetadatas'),\n  /**\n   * Indicates the bindings that were used to bind the operation.\n   */\n  joinBindings: new ActionContextKey<Bindings>('@comunica/bus-query-operation:joinBindings'),\n  /**\n   * Flag for indicating that only read operations are allowed, defaults to false.\n   */\n  readOnly: new ActionContextKey<boolean>('@comunica/bus-query-operation:readOnly'),\n  /**\n   * An internal context entry to mark that a property path with arbitrary length and a distinct key is being processed.\n   */\n  isPathArbitraryLengthDistinctKey: new ActionContextKey<boolean>(\n    '@comunica/bus-query-operation:isPathArbitraryLengthDistinct',\n  ),\n  /**\n   * An indicator that the stream will be limited to the given number of elements afterwards.\n   */\n  limitIndicator: new ActionContextKey<number>('@comunica/bus-query-operation:limitIndicator'),\n  /**\n   * If the default graph should also contain the union of all named graphs.\n   */\n  unionDefaultGraph: new ActionContextKey<boolean>('@comunica/bus-query-operation:unionDefaultGraph'),\n  /**\n   * An indicator that the operator should apply blank node localization\n   */\n  localizeBlankNodes: new ActionContextKey<boolean>('@comunica/actor-query-operation:localizeBlankNodes'),\n};\n\nexport const KeysRdfParseJsonLd = {\n  /**\n   * @range {IDocumentLoader}\n   */\n  documentLoader: new ActionContextKey<IDocumentLoader>('@comunica/actor-rdf-parse-jsonld:documentLoader'),\n  /**\n   * @range {boolean}\n   */\n  strictValues: new ActionContextKey<boolean>('@comunica/actor-rdf-parse-jsonld:strictValues'),\n  /**\n   * @range {Record<string, any>}\n   */\n  parserOptions: new ActionContextKey<Record<string, any>>('@comunica/actor-rdf-parse-jsonld:parserOptions'),\n};\n\nexport const KeysRdfParseHtmlScript = {\n  /**\n   * An internal context flag to determine if the engine is already processing an HTML script tag.\n   */\n  processingHtmlScript: new ActionContextKey<boolean>('@comunica/actor-rdf-parse-html-script:processingHtmlScript'),\n  /**\n   * If all HTML script tags must be considered.\n   */\n  extractAllScripts: new ActionContextKey<boolean>('extractAllScripts'),\n};\n\nexport const KeysRdfResolveQuadPattern = {\n  /**\n   * Data sources.\n   */\n  sources: new ActionContextKey<DataSources>('@comunica/bus-rdf-resolve-quad-pattern:sources'),\n  /**\n   * A data source.\n   */\n  source: new ActionContextKey<IDataSource>('@comunica/bus-rdf-resolve-quad-pattern:source'),\n  /**\n   * A map containing unique IDs for each source\n   */\n  sourceIds: new ActionContextKey<Map<IDataSource, string>>('@comunica/bus-rdf-resolve-quad-pattern:sourceIds'),\n};\n\nexport const KeysRdfUpdateQuads = {\n  /**\n   * A data destination.\n   */\n  destination: new ActionContextKey<IDataDestination>('@comunica/bus-rdf-update-quads:destination'),\n};\n","import type { IActionContext, IActionContextKey } from '@comunica/types';\nimport { Map } from 'immutable';\n\n/**\n * Implementation of {@link IActionContext} using Immutable.js.\n */\nexport class ActionContext implements IActionContext {\n  private readonly map: Map<string, any>;\n\n  public constructor(data: Record<string, any> = {}) {\n    this.map = Map<string, any>(data);\n  }\n\n  /**\n   * Will only set the value if the key is not already set.\n   */\n  public setDefault<V>(key: IActionContextKey<V>, value: V): IActionContext {\n    return this.has(key) ? this : this.set(key, value);\n  }\n\n  public set<V>(key: IActionContextKey<V>, value: V): IActionContext {\n    return this.setRaw(key.name, value);\n  }\n\n  public setRaw(key: string, value: any): IActionContext {\n    return new ActionContext(this.map.set(key, value));\n  }\n\n  public delete<V>(key: IActionContextKey<V>): IActionContext {\n    return new ActionContext(this.map.delete(key.name));\n  }\n\n  public get<V>(key: IActionContextKey<V>): V | undefined {\n    return this.getRaw(key.name);\n  }\n\n  public getRaw(key: string): any | undefined {\n    return this.map.get(key);\n  }\n\n  public getSafe<V>(key: IActionContextKey<V>): V {\n    if (!this.has(key)) {\n      throw new Error(`Context entry ${key.name} is required but not available`);\n    }\n    return <V> this.get(key);\n  }\n\n  public has<V>(key: IActionContextKey<V>): boolean {\n    return this.hasRaw(key.name);\n  }\n\n  public hasRaw(key: string): boolean {\n    return this.map.has(key);\n  }\n\n  public merge(...contexts: IActionContext[]): IActionContext {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias,consistent-this\n    let context: IActionContext = this;\n    for (const source of contexts) {\n      for (const key of source.keys()) {\n        context = context.set(key, source.get(key));\n      }\n    }\n    return context;\n  }\n\n  public keys(): IActionContextKey<any>[] {\n    return [ ...<any> this.map.keys() ]\n      .map(keyName => new ActionContextKey(keyName));\n  }\n\n  public toJS(): any {\n    return this.map.toJS();\n  }\n\n  public toString(): string {\n    return `ActionContext(${JSON.stringify(this.map.toJS())})`;\n  }\n\n  public [Symbol.for('nodejs.util.inspect.custom')](): string {\n    return `ActionContext(${JSON.stringify(this.map.toJS(), null, '  ')})`;\n  }\n\n  /**\n   * Convert the given object to an action context object if it is not an action context object yet.\n   * If it already is an action context object, return the object as-is.\n   * @param maybeActionContext An action context or record.\n   * @return {ActionContext} An action context object.\n   */\n  public static ensureActionContext(maybeActionContext?: IActionContext | Record<string, any>): IActionContext {\n    return maybeActionContext instanceof ActionContext ?\n      maybeActionContext :\n      new ActionContext(Map(maybeActionContext || {}));\n  }\n}\n\n/**\n * Simple implementation of {@link IActionContextKey}.\n */\nexport class ActionContextKey<V> implements IActionContextKey<V> {\n  /**\n   * A unique context key name.\n   */\n  public readonly name: string;\n\n  public constructor(name: string) {\n    this.name = name;\n  }\n}\n","import type { Actor, IAction, IActorOutput, IActorTest } from './Actor';\nimport type { Bus } from './Bus';\n\n/**\n * An ActionObserver can passively listen to {@link Actor#run} inputs and outputs for all actors on a certain bus.\n *\n * ActionObserver should not edit inputs and outputs,\n * they should be considered immutable.\n *\n * @see Actor\n * @see Bus\n *\n * @template I The input type of an actor.\n * @template O The output type of an actor.\n */\nexport abstract class ActionObserver<I extends IAction, O extends IActorOutput> {\n  public readonly name: string;\n  public readonly bus: Bus<Actor<I, IActorTest, O>, I, IActorTest, O>;\n\n  /**\n   * All enumerable properties from the `args` object are inherited to this observer.\n   *\n   * The observer will NOT automatically subscribe to the given bus when this constructor is called.\n   *\n   * @param {IActionObserverArgs<I extends IAction, O extends IActorOutput>} args Arguments object\n   * @throws When required arguments are missing.\n   */\n  protected constructor(args: IActionObserverArgs<I, O>) {\n    Object.assign(this, args);\n  }\n\n  /**\n   * Invoked when an action was run by an actor.\n   *\n   * @param actor               The action on which the {@link Actor#run} method was invoked.\n   * @param {I}          action The original action input.\n   * @param {Promise<O>} output A promise resolving to the final action output.\n   */\n  public abstract onRun(actor: Actor<I, IActorTest, O>, action: I, output: Promise<O>): void;\n}\n\nexport interface IActionObserverArgs<I extends IAction, O extends IActorOutput> {\n\n  /**\n   * The name for this observer.\n   * @default {<rdf:subject>}\n   */\n  name: string;\n\n  /**\n   * The bus this observer can subscribe to.\n   */\n  bus: Bus<Actor<I, IActorTest, O>, I, IActorTest, O>;\n}\n","import type { IActionContext, Logger } from '@comunica/types';\nimport type { Bus } from './Bus';\nimport { CONTEXT_KEY_LOGGER } from './ContextEntries';\n\n/**\n * An actor can act on messages of certain types and provide output of a certain type.\n *\n * The flow of an actor is as follows:\n * 1. Send a message to {@link Actor#test} to test if an actor can run that action.\n * 2. If the actor can reply to the message, let the actor run the action using {@link Actor#run}.\n *\n * An actor is typically subscribed to a bus,\n * using which the applicability to an action can be tested.\n *\n * @see Bus\n *\n * @template I The input type of an actor.\n * @template T The test type of an actor.\n * @template O The output type of an actor.\n */\nexport abstract class Actor<I extends IAction, T extends IActorTest, O extends IActorOutput> implements\n    IActorArgs<I, T, O> {\n  public readonly name: string;\n  public readonly bus: Bus<Actor<I, T, O>, I, T, O>;\n  public readonly beforeActors: Actor<I, T, O>[] = [];\n\n  /**\n   * All enumerable properties from the `args` object are inherited to this actor.\n   *\n   * The actor will subscribe to the given bus when this constructor is called.\n   *\n   * @param {IActorArgs<I extends IAction, T extends IActorTest, O extends IActorOutput>} args Arguments object\n   * @param {string} args.name The name for this actor.\n   * @param {Bus<A extends Actor<I, T, O>, I extends IAction, T extends IActorTest, O extends IActorOutput>} args.bus\n   *        The bus this actor subscribes to.\n   * @throws When required arguments are missing.\n   */\n  protected constructor(args: IActorArgs<I, T, O>) {\n    Object.assign(this, args);\n    this.bus.subscribe(this);\n    if (this.beforeActors.length > 0) {\n      this.bus.addDependencies(this, this.beforeActors);\n    }\n  }\n\n  /**\n   * Get the logger from the given context.\n   * @param {ActionContext} context An optional context.\n   * @return {Logger} The logger or undefined.\n   */\n  public static getContextLogger(context: IActionContext): Logger | undefined {\n    return context.get(CONTEXT_KEY_LOGGER);\n  }\n\n  /**\n   * Check if this actor can run the given action,\n   * without actually running it.\n   *\n   * @param {I} action The action to test.\n   * @return {Promise<T>} A promise that resolves to the test result.\n   */\n  public abstract test(action: I): Promise<T>;\n\n  /**\n   * Run the given action on this actor.\n   *\n   * In most cases, this method should not be called directly.\n   * Instead, {@link #runObservable} should be called.\n   *\n   * @param {I} action The action to run.\n   * @return {Promise<T>} A promise that resolves to the run result.\n   */\n  public abstract run(action: I): Promise<O>;\n\n  /**\n   * Run the given action on this actor\n   * AND invokes the {@link Bus#onRun} method.\n   *\n   * @param {I} action The action to run.\n   * @return {Promise<T>} A promise that resolves to the run result.\n   */\n  public runObservable(action: I): Promise<O> {\n    const output: Promise<O> = this.run(action);\n    this.bus.onRun(this, action, output);\n    return output;\n  }\n\n  /**\n   * Initialize this actor.\n   * This should be used for doing things that take a while,\n   * such as opening files.\n   *\n   * @return {Promise<void>} A promise that resolves when the actor has been initialized.\n   */\n  public async initialize(): Promise<any> {\n    return true;\n  }\n\n  /**\n   * Deinitialize this actor.\n   * This should be used for cleaning up things when the application is shut down,\n   * such as closing files and removing temporary files.\n   *\n   * @return {Promise<void>} A promise that resolves when the actor has been deinitialized.\n   */\n  public async deinitialize(): Promise<any> {\n    return true;\n  }\n\n  /* Proxy methods for the (optional) logger that is defined in the context */\n\n  protected getDefaultLogData(context: IActionContext, data?: (() => any)): any {\n    const dataActual = data ? data() : {};\n    dataActual.actor = this.name;\n    return dataActual;\n  }\n\n  protected logTrace(context: IActionContext, message: string, data?: (() => any)): void {\n    const logger: Logger | undefined = Actor.getContextLogger(context);\n    if (logger) {\n      logger.trace(message, this.getDefaultLogData(context, data));\n    }\n  }\n\n  protected logDebug(context: IActionContext, message: string, data?: (() => any)): void {\n    const logger: Logger | undefined = Actor.getContextLogger(context);\n    if (logger) {\n      logger.debug(message, this.getDefaultLogData(context, data));\n    }\n  }\n\n  protected logInfo(context: IActionContext, message: string, data?: (() => any)): void {\n    const logger: Logger | undefined = Actor.getContextLogger(context);\n    if (logger) {\n      logger.info(message, this.getDefaultLogData(context, data));\n    }\n  }\n\n  protected logWarn(context: IActionContext, message: string, data?: (() => any)): void {\n    const logger: Logger | undefined = Actor.getContextLogger(context);\n    if (logger) {\n      logger.warn(message, this.getDefaultLogData(context, data));\n    }\n  }\n\n  protected logError(context: IActionContext, message: string, data?: (() => any)): void {\n    const logger: Logger | undefined = Actor.getContextLogger(context);\n    if (logger) {\n      logger.error(message, this.getDefaultLogData(context, data));\n    }\n  }\n\n  protected logFatal(context: IActionContext, message: string, data?: (() => any)): void {\n    const logger: Logger | undefined = Actor.getContextLogger(context);\n    if (logger) {\n      logger.fatal(message, this.getDefaultLogData(context, data));\n    }\n  }\n}\n\nexport interface IActorArgs<I extends IAction, T extends IActorTest, O extends IActorOutput> {\n  /**\n   * The name for this actor.\n   * @default {<rdf:subject>}\n   */\n  name: string;\n  /**\n   * The bus this actor subscribes to.\n   */\n  bus: Bus<Actor<I, T, O>, I, T, O>;\n  /**\n   * Actor that must be registered in the bus before this actor.\n   */\n  beforeActors?: Actor<I, T, O>[];\n}\n\n/**\n * Data interface for the type of action.\n */\nexport interface IAction {\n  /**\n   * The input context that is passed through by actors.\n   */\n  context: IActionContext;\n}\n\n/**\n * Data interface for the type of an actor test result.\n */\nexport interface IActorTest {\n\n}\n\n/**\n * Data interface for the type of an actor run result.\n */\nexport interface IActorOutput {\n\n}\n","import type { ActionObserver } from './ActionObserver';\nimport type { Actor, IAction, IActorOutput, IActorTest } from './Actor';\n\n/**\n * A publish-subscribe bus for sending actions to actors\n * to test whether or not they can run an action.\n *\n * This bus does not run the action itself,\n * for that a {@link Mediator} can be used.\n *\n * @see Actor\n * @see Mediator\n *\n * @template A The actor type that can subscribe to the sub.\n * @template I The input type of an actor.\n * @template T The test type of an actor.\n * @template O The output type of an actor.\n */\nexport class Bus<A extends Actor<I, T, O>, I extends IAction, T extends IActorTest, O extends IActorOutput> implements\n    IBusArgs {\n  public readonly name: string;\n  protected readonly actors: A[] = [];\n  protected readonly observers: ActionObserver<I, O>[] = [];\n  // Mapping from dependency (after) to dependents (before)\n  protected readonly dependencyLinks: Map<A, A[]> = new Map();\n\n  /**\n   * All enumerable properties from the `args` object are inherited to this bus.\n   *\n   * @param {IBusArgs} args Arguments object\n   * @param {string} args.name The name for the bus\n   * @throws When required arguments are missing.\n   */\n  public constructor(args: IBusArgs) {\n    Object.assign(this, args);\n  }\n\n  /**\n   * Subscribe the given actor to the bus.\n   * After this, the given actor can be unsubscribed from the bus by calling {@link Bus#unsubscribe}.\n   *\n   * An actor that is subscribed multiple times will exist that amount of times in the bus.\n   *\n   * @param {A} actor The actor to subscribe.\n   */\n  public subscribe(actor: A): void {\n    this.actors.push(actor);\n    this.reorderForDependencies();\n  }\n\n  /**\n   * Subscribe the given observer to the bus.\n   * After this, the given observer can be unsubscribed from the bus by calling {@link Bus#unsubscribeObserver}.\n   *\n   * An observer that is subscribed multiple times will exist that amount of times in the bus.\n   *\n   * @param {ActionObserver<I, O>} observer The observer to subscribe.\n   */\n  public subscribeObserver(observer: ActionObserver<I, O>): void {\n    this.observers.push(observer);\n  }\n\n  /**\n   * Unsubscribe the given actor from the bus.\n   *\n   * An actor that is subscribed multiple times will be unsubscribed only once.\n   *\n   * @param {A} actor The actor to unsubscribe\n   * @return {boolean} If the given actor was successfully unsubscribed,\n   *         otherwise it was not subscribed before.\n   */\n  public unsubscribe(actor: A): boolean {\n    const index: number = this.actors.indexOf(actor);\n    if (index >= 0) {\n      this.actors.splice(index, 1);\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Unsubscribe the given observer from the bus.\n   *\n   * An observer that is subscribed multiple times will be unsubscribed only once.\n   *\n   * @param {ActionObserver<I, O>} observer The observer to unsubscribe.\n   * @return {boolean} If the given observer was successfully unsubscribed,\n   *         otherwise it was not subscribed before.\n   */\n  public unsubscribeObserver(observer: ActionObserver<I, O>): boolean {\n    const index: number = this.observers.indexOf(observer);\n    if (index >= 0) {\n      this.observers.splice(index, 1);\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Publish an action to all actors in the bus to test if they can run the action.\n   *\n   * @param {I} action An action to publish\n   * @return {IActorReply<A extends Actor<I, T, O>, I extends IAction, T extends IActorTest,\n   *         O extends IActorOutput>[]}\n   *         An array of reply objects. Each object contains a reference to the actor,\n   *         and a promise to its {@link Actor#test} result.\n   */\n  public publish(action: I): IActorReply<A, I, T, O>[] {\n    return this.actors.map((actor: A): IActorReply<A, I, T, O> => ({ actor, reply: actor.test(action) }));\n  }\n\n  /**\n   * Invoked when an action was run by an actor.\n   *\n   * @param actor               The action on which the {@link Actor#run} method was invoked.\n   * @param {I}          action The original action input.\n   * @param {Promise<O>} output A promise resolving to the final action output.\n   */\n  public onRun(actor: Actor<I, T, O>, action: I, output: Promise<O>): void {\n    for (const observer of this.observers) {\n      observer.onRun(actor, action, output);\n    }\n  }\n\n  /**\n   * Indicate that the given actor has the given actor dependencies.\n   *\n   * This will ensure that the given actor will be present in the bus *before* the given dependencies.\n   *\n   * @param {A} dependent A dependent actor that will be placed before the given actors.\n   * @param {A[]} dependencies Actor dependencies that will be placed after the given actor.\n   */\n  public addDependencies(dependent: A, dependencies: A[]): void {\n    for (const dependency of dependencies) {\n      let existingDependencies = this.dependencyLinks.get(dependency);\n      if (!existingDependencies) {\n        existingDependencies = [];\n        this.dependencyLinks.set(dependency, existingDependencies);\n      }\n      existingDependencies.push(dependent);\n    }\n    this.reorderForDependencies();\n  }\n\n  /**\n   * Reorder the bus based on all present dependencies.\n   */\n  public reorderForDependencies(): void {\n    if (this.dependencyLinks.size > 0) {\n      const actorsAfter = [];\n\n      // Temporarily remove all actors that have dependencies\n      for (const actorAfter of this.dependencyLinks.keys()) {\n        const dependentPos = this.actors.indexOf(actorAfter);\n        if (dependentPos >= 0) {\n          this.actors.splice(dependentPos, 1);\n          actorsAfter.push(actorAfter);\n        }\n      }\n\n      // Iteratively append actors based on the first dependency link\n      // that has all of its dependencies available in the array\n      while (actorsAfter.length > 0) {\n        // Find the first actor that has all of its dependencies available.\n        let activeActorAfterId = -1;\n        for (let i = 0; i < actorsAfter.length; i++) {\n          let validLink = true;\n          for (const dependency of this.dependencyLinks.get(actorsAfter[i])!) {\n            if (!this.actors.includes(dependency) && actorsAfter.includes(dependency)) {\n              validLink = false;\n              break;\n            }\n          }\n          if (validLink) {\n            activeActorAfterId = i;\n            break;\n          }\n        }\n\n        // If none of the pending links are possible, there must be a cyclic dependency\n        if (activeActorAfterId < 0) {\n          throw new Error(`Cyclic dependency links detected in bus ${this.name}`);\n        }\n\n        // The dependent may not be available (yet), so we don't add it to the array (yet).\n        const activeActorAfter = actorsAfter.splice(activeActorAfterId, 1)[0];\n        this.actors.push(activeActorAfter);\n      }\n    }\n  }\n}\n\nexport interface IBusArgs {\n  /**\n   * The name for this bus.\n   * @default {<rdf:subject>}\n   */\n  name: string;\n}\n\n/**\n * Data interface for holding an actor and a promise to a reply from that actor.\n */\nexport interface IActorReply<A extends Actor<I, T, O>,\n  I extends IAction, T extends IActorTest, O extends IActorOutput> {\n  actor: A;\n  reply: Promise<T>;\n}\n\nexport type IReply<\n  I extends IAction = IAction,\n  O extends IActorOutput = IActorOutput,\n  T extends IActorTest = IActorTest\n> = IActorReply<Actor<I, T, O>, I, T, O>;\n\nexport type IBus<I extends IAction = IAction, O extends IActorOutput = IActorOutput, T extends IActorTest = IActorTest>\n= Bus<Actor<I, T, O>, I, T, O>;\n","import type { Actor, IAction, IActorOutput, IActorTest } from './Actor';\nimport type { IActorReply, IBusArgs } from './Bus';\nimport { Bus } from './Bus';\n\n/**\n * A bus that indexes identified actors,\n * so that actions with a corresponding identifier can be published more efficiently.\n *\n * Multiple actors with the same identifier can be subscribed.\n *\n * If actors or actions do not have a valid identifier,\n * then this will fallback to the normal bus behaviour.\n *\n * @see Bus\n *\n * @template A The actor type that can subscribe to the sub.\n * @template I The input type of an actor.\n * @template T The test type of an actor.\n * @template O The output type of an actor.\n */\nexport class BusIndexed<A extends Actor<I, T, O>, I extends IAction, T extends IActorTest, O extends IActorOutput>\n  extends Bus<A, I, T, O> {\n  protected readonly actorsIndex: Record<string, A[]> = {};\n  protected readonly actorIdentifierFields: string[];\n  protected readonly actionIdentifierFields: string[];\n\n  /**\n   * All enumerable properties from the `args` object are inherited to this bus.\n   *\n   * @param {IBusIndexedArgs} args Arguments object\n   * @param {string} args.name The name for the bus\n   * @throws When required arguments are missing.\n   */\n  public constructor(args: IBusIndexedArgs) {\n    super(args);\n  }\n\n  public subscribe(actor: A): void {\n    const actorId = this.getActorIdentifier(actor) || '_undefined_';\n    let actors = this.actorsIndex[actorId];\n    if (!actors) {\n      actors = this.actorsIndex[actorId] = [];\n    }\n    actors.push(actor);\n    super.subscribe(actor);\n  }\n\n  public unsubscribe(actor: A): boolean {\n    const actorId = this.getActorIdentifier(actor) || '_undefined_';\n    const actors = this.actorsIndex[actorId];\n    if (actors) {\n      const i = actors.indexOf(actor);\n      if (i >= 0) {\n        actors.splice(i, 1);\n      }\n      if (actors.length === 0) {\n        delete this.actorsIndex[actorId];\n      }\n    }\n    return super.unsubscribe(actor);\n  }\n\n  public publish(action: I): IActorReply<A, I, T, O>[] {\n    const actionId = this.getActionIdentifier(action);\n    if (actionId) {\n      const actors = [ ...this.actorsIndex[actionId] || [], ...this.actorsIndex._undefined_ || [] ];\n      return actors.map((actor: A): IActorReply<A, I, T, O> => ({ actor, reply: actor.test(action) }));\n    }\n    return super.publish(action);\n  }\n\n  protected getActorIdentifier(actor: A): string {\n    return this.actorIdentifierFields.reduce((object: any, field): A => object[field], actor);\n  }\n\n  protected getActionIdentifier(action: I): string {\n    return this.actionIdentifierFields.reduce((object: any, field): A => object[field], action);\n  }\n}\n\nexport interface IBusIndexedArgs extends IBusArgs {\n  actorIdentifierFields: string[];\n  actionIdentifierFields: string[];\n}\n","import type { Logger } from '@comunica/types';\nimport { ActionContextKey } from './ActionContext';\n\nexport const CONTEXT_KEY_LOGGER = new ActionContextKey<Logger>('@comunica/core:log');\n","import type { Actor, IAction, IActorOutput, IActorTest } from './Actor';\nimport type { Bus, IActorReply } from './Bus';\n\n/**\n * A mediator can mediate an action over a bus of actors.\n *\n * It does the following:\n * 1. Accepts an action in {@link Mediator#mediate}.\n * 2. Sends the action to the bus to test its applicability on all actors.\n * 3. It _mediates_ over these test results.\n * 4. It selects the _best_ actor.\n * 5. The action is run by the _best_ actor, and the result if returned.\n *\n * The _mediates_ and _best_ parts are filled in by subclasses of this abstract Mediator class.\n *\n * @template A The type of actor to mediator over.\n * @template I The input type of an actor.\n * @template T The test type of an actor.\n * @template O The output type of an actor.\n */\nexport abstract class Mediator<A extends Actor<I, T, O>,\n  I extends IAction, T extends IActorTest, O extends IActorOutput> implements IMediatorArgs<A, I, T, O> {\n  public readonly name: string;\n  public readonly bus: Bus<A, I, T, O>;\n\n  /**\n   * All enumerable properties from the `args` object are inherited to this mediator.\n   *\n   * @param {IMediatorArgs<A extends Actor<I, T, O>, I extends IAction, T extends IActorTest,\n   * O extends IActorOutput>} args Arguments object\n   * @param {string} args.name The name for this mediator.\n   * @param {Bus<A extends Actor<I, T, O>, I extends IAction, T extends IActorTest, O extends IActorOutput>} args.bus\n   *        The bus this mediator will mediate over.\n   * @throws When required arguments are missing.\n   */\n  protected constructor(args: IMediatorArgs<A, I, T, O>) {\n    Object.assign(this, args);\n  }\n\n  /**\n   * Publish the given action in the bus.\n   *\n   * This will send the test action on all actors in the bus.\n   * All actor replies will be returned.\n   *\n   * @param {I} action The action to mediate for.\n   * @return {IActorReply<A extends Actor<I, T, O>, I extends IAction, T extends IActorTest, O extends IActorOutput>[]}\n   * The list of actor replies.\n   */\n  public publish(action: I): IActorReply<A, I, T, O>[] {\n    // Test all actors in the bus\n    const actors: IActorReply<A, I, T, O>[] = this.bus.publish(action);\n    if (actors.length === 0) {\n      throw new Error(`No actors are able to reply to a message in the bus ${this.bus.name}`);\n    }\n    return actors;\n  }\n\n  /**\n   * Mediate for the given action to get an actor.\n   *\n   * This will send the test action on all actors in the bus.\n   * The actor that tests _best_ will be returned.\n   *\n   * @param {I} action The action to mediate for.\n   * @return {Promise<O extends IActorOutput>} A promise that resolves to the _best_ actor.\n   */\n  public async mediateActor(action: I): Promise<A> {\n    // Mediate to one actor and run that actor.\n    return await this.mediateWith(action, this.publish(action));\n  }\n\n  /**\n   * Mediate for the given action.\n   *\n   * This will send the test action on all actors in the bus.\n   * The action will be run on the actor that tests _best_,\n   * of which the result will be returned.\n   *\n   * @param {I} action The action to mediate for.\n   * @return {Promise<O extends IActorOutput>} A promise that resolves to the mediation result.\n   */\n  public async mediate(action: I): Promise<O> {\n    // Mediate to one actor and run the action on it\n    const actor: A = await this.mediateActor(action);\n    return actor.runObservable(action);\n  }\n\n  /**\n   * Mediate for the given action with the given actor test results for the action.\n   *\n   * One actor must be returned that provided the _best_ test result.\n   * How '_best_' is interpreted, depends on the implementation of the Mediator.\n   *\n   * @param {I} action The action to mediate for.\n   * @param {IActorReply<A extends Actor<I, T, O>, I extends IAction, T extends IActorTest,\n   * O extends IActorOutput>[]} testResults The actor test results for the action.\n   * @return {Promise<A extends Actor<I, T, O>>} A promise that resolves to the _best_ actor.\n   */\n  protected abstract mediateWith(action: I, testResults: IActorReply<A, I, T, O>[]): Promise<A>;\n}\n\nexport interface IMediatorArgs<A extends Actor<I, T, O>,\n  I extends IAction, T extends IActorTest, O extends IActorOutput> {\n  /**\n   * The name for this mediator.\n   * @default {<rdf:subject>}\n   */\n  name: string;\n  /**\n   * The bus this mediator will mediate over.\n   */\n  bus: Bus<A, I, T, O>;\n}\n\nexport type Mediate<I extends IAction, O extends IActorOutput, T extends IActorTest = IActorTest> =\nMediator<Actor<I, T, O>, I, T, O>;\n","import type * as RDF from '@rdfjs/types';\n\n/**\n * A blank node that is scoped to a set of bindings.\n */\nexport class BlankNodeBindingsScoped implements RDF.BlankNode {\n  public readonly termType: 'BlankNode' = 'BlankNode';\n  public readonly singleBindingsScope: true = true;\n  public readonly value: string;\n\n  public constructor(value: string) {\n    this.value = value;\n  }\n\n  public equals(other: RDF.Term | null | undefined): boolean {\n    // eslint-disable-next-line no-implicit-coercion\n    return !!other && other.termType === 'BlankNode' && other.value === this.value;\n  }\n}\n","import type * as RDF from '@rdfjs/types';\n\n/**\n * A blank node that is scoped to a certain source.\n */\nexport class BlankNodeScoped implements RDF.BlankNode {\n  public readonly termType: 'BlankNode' = 'BlankNode';\n  public readonly value: string;\n  /**\n   * This value can be obtained by consumers in query results,\n   * so that this can be passed into another query as an IRI,\n   * in order to obtain more results relating to this (blank) node.\n   */\n  public readonly skolemized: RDF.NamedNode;\n\n  public constructor(value: string, skolemized: RDF.NamedNode) {\n    this.value = value;\n    this.skolemized = skolemized;\n  }\n\n  public equals(other: RDF.Term | null | undefined): boolean {\n    // eslint-disable-next-line no-implicit-coercion\n    return !!other && other.termType === 'BlankNode' && other.value === this.value;\n  }\n}\n","import { Logger } from '@comunica/types';\n\n/**\n * A logger that voids everything.\n */\nexport class LoggerVoid extends Logger {\n  public debug(): void {\n    // Void\n  }\n\n  public error(): void {\n    // Void\n  }\n\n  public fatal(): void {\n    // Void\n  }\n\n  public info(): void {\n    // Void\n  }\n\n  public trace(): void {\n    // Void\n  }\n\n  public warn(): void {\n    // Void\n  }\n}\n","import type { Actor, IAction, IActorOutput, IActorReply, IActorTest, IMediatorArgs } from '@comunica/core';\nimport { Mediator } from '@comunica/core';\n\n/**\n * A comunica mediator that runs all actors that resolve their test.\n * This mediator will always resolve to the first actor's output.\n */\nexport class MediatorAll<A extends Actor<I, T, O>, I extends IAction, T extends IActorTest, O extends IActorOutput>\n  extends Mediator<A, I, T, O> {\n  public constructor(args: IMediatorArgs<A, I, T, O>) {\n    super(args);\n  }\n\n  public async mediate(action: I): Promise<O> {\n    // Collect all actors that resolve their test\n    const validActors: A[] = [];\n    let testResults: IActorReply<A, I, T, O>[];\n    try {\n      testResults = this.publish(action);\n    } catch {\n      testResults = [];\n    }\n    for (const testResult of testResults) {\n      try {\n        await testResult.reply;\n        validActors.push(testResult.actor);\n      } catch {\n        // Ignore errors\n      }\n    }\n\n    // Send action to all valid actors\n    const outputs = await Promise.all(validActors.map(actor => actor.runObservable(action)));\n\n    return outputs[0];\n  }\n\n  protected async mediateWith(): Promise<A> {\n    throw new Error('Unsupported operation: MediatorAll#mediateWith');\n  }\n}\n","import type { Actor, IAction, IActorOutput, IActorReply, IActorTest, IMediatorArgs } from '@comunica/core';\nimport { Mediator } from '@comunica/core';\nimport type { IActionContext } from '@comunica/types';\n\n/**\n * A comunica mediator that goes over all actors in sequence and forwards I/O.\n * This required the action input and the actor output to be of the same type.\n */\nexport class MediatorCombinePipeline\n<A extends Actor<H, T, H>, H extends IAction | (IActorOutput & { context: IActionContext }), T extends IActorTest>\n  extends Mediator<A, H, T, H> {\n  public readonly filterErrors: boolean | undefined;\n  public readonly order: 'increasing' | 'decreasing' | undefined;\n  public readonly field: string | undefined;\n\n  public constructor(args: IMediatorCombinePipelineArgs<A, H, T, H>) {\n    super(args);\n  }\n\n  public async mediate(action: H): Promise<H> {\n    let testResults: IActorReply<A, H, T, H>[] | { actor: A; reply: T }[];\n    try {\n      testResults = this.publish(action);\n    } catch {\n      // If no actors are available, just return the input as output\n      return action;\n    }\n\n    if (this.filterErrors) {\n      const _testResults: IActorReply<A, H, T, H>[] = [];\n      for (const result of testResults) {\n        try {\n          await result.reply;\n          _testResults.push(result);\n        } catch {\n          // Ignore errors\n        }\n      }\n      testResults = _testResults;\n    }\n\n    // Delegate test errors.\n    testResults = await Promise.all(testResults.map(async({ actor, reply }) => ({ actor, reply: await reply })));\n\n    // Order the test results if ordering is enabled\n    if (this.order) {\n      // A function used to extract an ordering value from a test result\n      const getOrder = (elem: T): number => {\n        // If there is a field key use it, otherwise use the input\n        // element for ordering\n        const value = this.field ? (<any> elem)[this.field] : elem;\n\n        // Check the ordering value is a number\n        if (typeof value !== 'number') {\n          throw new Error('Cannot order elements that are not numbers.');\n        }\n        return value;\n      };\n\n      testResults = testResults.sort((actor1, actor2) =>\n        (this.order === 'increasing' ? 1 : -1) *\n        (getOrder(actor1.reply) - getOrder(actor2.reply)));\n    }\n\n    // Pass action to first actor,\n    // and each actor output as input to the following actor.\n    let handle: H = action;\n    for (const { actor } of testResults) {\n      handle = { ...handle, ...await actor.runObservable(handle) };\n    }\n\n    // Return the final actor output\n    return handle;\n  }\n\n  protected mediateWith(): Promise<A> {\n    throw new Error('Method not supported.');\n  }\n}\n\nexport interface IMediatorCombinePipelineArgs<A extends Actor<I, T, O>, I extends IAction, T extends IActorTest,\n  O extends IActorOutput> extends IMediatorArgs<A, I, T, O> {\n  /**\n   * If actors that throw test errors should be ignored\n   */\n  filterErrors?: boolean;\n  /**\n   * The field to use for ordering (if the ordering strategy is chosen).\n   * Leave undefined if the test output is a number rather than an object.\n   */\n  field?: string;\n  /**\n   * The strategy of ordering the pipeline (increasing or decreasing).\n   * For choosing to leave the order of the pipeline unchanged, leave this undefined.\n   * For choosing to order by increasing values: 'increasing'.\n   * For choosing to order by decreasing values: 'decreasing'.\n   */\n  order?: 'increasing' | 'decreasing' | undefined;\n}\n","import type { Actor, IAction, IActorOutput, IActorReply, IActorTest, IMediatorArgs } from '@comunica/core';\nimport { Mediator } from '@comunica/core';\n\n/**\n * A comunica mediator that takes the union of all actor results.\n *\n * The actors that are registered first will have priority on setting overlapping fields.\n */\nexport class MediatorCombineUnion<A extends Actor<I, T, O>, I extends IAction, T extends IActorTest,\n  O extends IActorOutput> extends Mediator<A, I, T, O> implements IMediatorCombineUnionArgs<A, I, T, O> {\n  public readonly field: string;\n  public readonly combiner: (results: O[]) => O;\n\n  public constructor(args: IMediatorCombineUnionArgs<A, I, T, O>) {\n    super(args);\n    this.combiner = this.createCombiner();\n  }\n\n  public async mediate(action: I): Promise<O> {\n    let testResults: IActorReply<A, I, T, O>[];\n    try {\n      testResults = this.publish(action);\n    } catch {\n      testResults = [];\n    }\n\n    // Delegate test errors.\n    await Promise.all(testResults.map(({ reply }) => reply));\n\n    // Run action on all actors.\n    const results: O[] = await Promise.all(testResults.map(result => result.actor.runObservable(action)));\n\n    // Return the combined results.\n    return this.combiner(results);\n  }\n\n  protected mediateWith(): Promise<A> {\n    throw new Error('Method not supported.');\n  }\n\n  protected createCombiner(): (results: O[]) => O {\n    return (results: O[]) => {\n      const data: any = {};\n      data[this.field] = {};\n      // eslint-disable-next-line unicorn/prefer-spread\n      [{}].concat(results.map((result: any) => result[this.field]))\n        .forEach((value, index, arr) => {\n          data[this.field] = { ...value, ...data[this.field] };\n        });\n      return data;\n    };\n  }\n}\n\nexport interface IMediatorCombineUnionArgs<A extends Actor<I, T, O>, I extends IAction, T extends IActorTest,\n  O extends IActorOutput> extends IMediatorArgs<A, I, T, O> {\n  /**\n   * The field name of the test result field over which must be mediated.\n   */\n  field: string;\n}\n","import type { ActorRdfJoin, IActionRdfJoin } from '@comunica/bus-rdf-join';\nimport { KeysQueryOperation } from '@comunica/context-entries';\nimport type { IActorReply, IMediatorArgs } from '@comunica/core';\nimport { Actor, Mediator } from '@comunica/core';\nimport type { IMediatorTypeJoinCoefficients } from '@comunica/mediatortype-join-coefficients';\nimport type { IQueryOperationResult } from '@comunica/types';\n\n/**\n * A mediator that mediates over actors implementing the Join Coefficients mediator type and assigns fixed weights\n * to calculate an overall score and pick the actor with the lowest score.\n */\nexport class MediatorJoinCoefficientsFixed\n  extends Mediator<ActorRdfJoin, IActionRdfJoin, IMediatorTypeJoinCoefficients, IQueryOperationResult> {\n  public readonly cpuWeight: number;\n  public readonly memoryWeight: number;\n  public readonly timeWeight: number;\n  public readonly ioWeight: number;\n\n  public constructor(args: IMediatorJoinCoefficientsFixedArgs) {\n    super(args);\n  }\n\n  protected async mediateWith(\n    action: IActionRdfJoin,\n    testResults: IActorReply<ActorRdfJoin, IActionRdfJoin, IMediatorTypeJoinCoefficients, IQueryOperationResult>[],\n  ): Promise<ActorRdfJoin> {\n    // Obtain test results\n    const errors: Error[] = [];\n    const promises = testResults\n      .map(({ reply }) => reply)\n      .map(promise => promise.catch(error => {\n        errors.push(error);\n      }));\n    const coefficients = await Promise.all(promises);\n\n    // Calculate costs\n    let costs: (number | undefined)[] = coefficients\n      // eslint-disable-next-line array-callback-return\n      .map((coeff, i) => {\n        if (coeff) {\n          return coeff.iterations * this.cpuWeight +\n            coeff.persistedItems * this.memoryWeight +\n            coeff.blockingItems * this.timeWeight +\n            coeff.requestTime * this.ioWeight;\n        }\n      });\n    const maxCost = Math.max(...(<number[]> costs.filter(cost => cost !== undefined)));\n\n    // If we have a limit indicator in the context,\n    // increase cost of entries that have a number of iterations that is higher than the limit AND persist items.\n    // In these cases, join operators that produce results early on will be preferred.\n    const limitIndicator: number | undefined = action.context.get(KeysQueryOperation.limitIndicator);\n    if (limitIndicator) {\n      costs = costs.map((cost, i) => {\n        if (cost !== undefined && coefficients[i]!.persistedItems > 0 && coefficients[i]!.iterations > limitIndicator) {\n          return cost + maxCost;\n        }\n        return cost;\n      });\n    }\n\n    // Determine index with lowest cost\n    let minIndex = -1;\n    let minValue = Number.POSITIVE_INFINITY;\n    for (const [ i, cost ] of costs.entries()) {\n      if (cost !== undefined && (minIndex === -1 || cost < minValue)) {\n        minIndex = i;\n        minValue = cost;\n      }\n    }\n\n    // Reject if all actors rejected\n    if (minIndex < 0) {\n      throw new Error(`All actors rejected their test in ${this.name}\\n${\n        errors.map(error => error.message).join('\\n')}`);\n    }\n\n    // Return actor with lowest cost\n    const bestActor = testResults[minIndex].actor;\n\n    // Emit calculations in logger\n    if (bestActor.includeInLogs) {\n      Actor.getContextLogger(action.context)?.debug(`Determined physical join operator '${bestActor.logicalType}-${bestActor.physicalName}'`, {\n        entries: action.entries.length,\n        variables: await Promise.all(action.entries\n          .map(async entry => (await entry.output.metadata()).variables.map(variable => variable.value))),\n        costs: Object.fromEntries(costs.map((coeff, i) => [\n          `${testResults[i].actor.logicalType}-${testResults[i].actor.physicalName}`,\n          coeff,\n        ])),\n        coefficients: Object.fromEntries(coefficients.map((coeff, i) => [\n          `${testResults[i].actor.logicalType}-${testResults[i].actor.physicalName}`,\n          coeff,\n        ])),\n      });\n    }\n\n    return bestActor;\n  }\n}\n\nexport interface IMediatorJoinCoefficientsFixedArgs\n  extends IMediatorArgs<ActorRdfJoin, IActionRdfJoin, IMediatorTypeJoinCoefficients, IQueryOperationResult> {\n  /**\n   * Weight for the CPU cost\n   */\n  cpuWeight: number;\n  /**\n   * Weight for the memory cost\n   */\n  memoryWeight: number;\n  /**\n   * Weight for the execution time cost\n   */\n  timeWeight: number;\n  /**\n   * Weight for the I/O cost\n   */\n  ioWeight: number;\n}\n","import type { Actor, IAction, IActorOutput, IActorReply, IActorTest, IMediatorArgs } from '@comunica/core';\nimport { Mediator } from '@comunica/core';\n\n/**\n * A mediator that can mediate over a single number field.\n *\n * It takes the required 'field' and 'type' parameters.\n * The 'field' parameter represents the field name of the test result field over which must be mediated.\n * The 'type' parameter\n */\nexport class MediatorNumber<A extends Actor<I, T, O>, I extends IAction, T extends IActorTest, O extends IActorOutput>\n  extends Mediator<A, I, T, O> implements IMediatorNumberArgs<A, I, T, O> {\n  public readonly field: string;\n  public readonly type: 'min' | 'max';\n  public readonly ignoreErrors: boolean;\n  public readonly indexPicker: (tests: T[]) => number;\n\n  public constructor(args: IMediatorNumberArgs<A, I, T, O>) {\n    super(args);\n    this.indexPicker = this.createIndexPicker();\n  }\n\n  /**\n   * @return {(tests: T[]) => number} A function that returns the index of the test result\n   *                                  that has been chosen by this mediator.\n   */\n  protected createIndexPicker(): (tests: (T | undefined)[]) => number {\n    switch (this.type) {\n      case 'min':\n        return (tests: (T | undefined)[]): number => tests.reduce((prev, curr, i) => {\n          const val: number = this.getOrDefault((<any> curr)[this.field], Number.POSITIVE_INFINITY);\n          return val !== null && (Number.isNaN(prev[0]) || prev[0] > val) ? [ val, i ] : prev;\n        }, [ Number.NaN, -1 ])[1];\n      case 'max':\n        return (tests: (T | undefined)[]): number => tests.reduce((prev, curr, i) => {\n          const val: number = this.getOrDefault((<any> curr)[this.field], Number.NEGATIVE_INFINITY);\n          return val !== null && (Number.isNaN(prev[0]) || prev[0] < val) ? [ val, i ] : prev;\n        }, [ Number.NaN, -1 ])[1];\n      default:\n        throw new Error(`No valid \"type\" value was given, must be either 'min' or 'max', but got: ${this.type}`);\n    }\n  }\n\n  protected getOrDefault(value: number | undefined, defaultValue: number): number {\n    return value === undefined ? defaultValue : value;\n  }\n\n  protected async mediateWith(action: I, testResults: IActorReply<A, I, T, O>[]): Promise<A> {\n    let promises = testResults.map(({ reply }) => reply);\n    const errors: Error[] = [];\n    if (this.ignoreErrors) {\n      const dummy: any = {};\n      dummy[this.field] = null;\n      promises = promises.map(promise => promise.catch(error => {\n        errors.push(error);\n        return dummy;\n      }));\n    }\n    const results = await Promise.all(promises);\n    const index = this.indexPicker(results);\n    if (index < 0) {\n      throw new Error(`All actors rejected their test in ${this.name}\\n${\n        errors.map(error => error.message).join('\\n')}`);\n    }\n    return testResults[index].actor;\n  }\n}\n\nexport interface IMediatorNumberArgs<A extends Actor<I, T, O>, I extends IAction, T extends IActorTest,\n  O extends IActorOutput> extends IMediatorArgs<A, I, T, O> {\n  /**\n   * The field name of the test result field over which must be mediated.\n   */\n  field: string;\n  /**\n   * The way how the index should be selected.\n   * For choosing the minimum value: 'min'.\n   * For choosing the maximum value: 'max'.\n   */\n  type: 'min' | 'max';\n\n  /**\n   * If actors that throw test errors should be ignored\n   */\n  ignoreErrors?: boolean;\n}\n","import type { Actor, IAction, IActorOutput, IActorReply, IActorTest, IMediatorArgs } from '@comunica/core';\nimport { Mediator } from '@comunica/core';\n\n/**\n * A mediator that picks the first actor that resolves its test.\n */\nexport class MediatorRace<A extends Actor<I, T, O>, I extends IAction, T extends IActorTest, O extends IActorOutput>\n  extends Mediator<A, I, T, O> {\n  public constructor(args: IMediatorArgs<A, I, T, O>) {\n    super(args);\n  }\n\n  protected mediateWith(action: I, testResults: IActorReply<A, I, T, O>[]): Promise<A> {\n    return new Promise((resolve, reject) => {\n      const errors: Error[] = [];\n      for (const testResult of testResults) {\n        testResult.reply.then(() => {\n          resolve(testResult.actor);\n        }).catch(error => {\n          // Reject if all replies were rejected\n          errors.push(error);\n          if (errors.length === testResults.length) {\n            reject(new Error(`${this.name} mediated over all rejecting actors:\\n${\n              errors.map(subError => subError.message).join('\\n')}`));\n          }\n        });\n      }\n    });\n  }\n}\n","/**\n * A logger accepts messages from different levels\n * and emits them in a certain way.\n */\nexport abstract class Logger {\n  /**\n   * All available logging levels.\n   * @type {{trace: number; debug: number; info: number; warn: number; error: number; fatal: number}}\n   */\n\n  public static readonly LEVELS: Record<string, number> = {\n    trace: 0,\n    debug: 1,\n    info: 2,\n    warn: 3,\n    error: 4,\n    fatal: 5,\n  };\n\n  /**\n   * Convert a string-based logging level to a numerical logging level.\n   * @param level A string-based logging level\n   * @return The numerical logging level, or undefined.\n   */\n  public static getLevelOrdinal(level: string): number {\n    return Logger.LEVELS[level];\n  }\n\n  public abstract trace(message: string, data?: any): void;\n  public abstract debug(message: string, data?: any): void;\n  public abstract info(message: string, data?: any): void;\n  public abstract warn(message: string, data?: any): void;\n  public abstract error(message: string, data?: any): void;\n  public abstract fatal(message: string, data?: any): void;\n}\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n",";(function (globalObject) {\r\n  'use strict';\r\n\r\n/*\r\n *      bignumber.js v9.0.2\r\n *      A JavaScript library for arbitrary-precision arithmetic.\r\n *      https://github.com/MikeMcl/bignumber.js\r\n *      Copyright (c) 2021 Michael Mclaughlin <M8ch88l@gmail.com>\r\n *      MIT Licensed.\r\n *\r\n *      BigNumber.prototype methods     |  BigNumber methods\r\n *                                      |\r\n *      absoluteValue            abs    |  clone\r\n *      comparedTo                      |  config               set\r\n *      decimalPlaces            dp     |      DECIMAL_PLACES\r\n *      dividedBy                div    |      ROUNDING_MODE\r\n *      dividedToIntegerBy       idiv   |      EXPONENTIAL_AT\r\n *      exponentiatedBy          pow    |      RANGE\r\n *      integerValue                    |      CRYPTO\r\n *      isEqualTo                eq     |      MODULO_MODE\r\n *      isFinite                        |      POW_PRECISION\r\n *      isGreaterThan            gt     |      FORMAT\r\n *      isGreaterThanOrEqualTo   gte    |      ALPHABET\r\n *      isInteger                       |  isBigNumber\r\n *      isLessThan               lt     |  maximum              max\r\n *      isLessThanOrEqualTo      lte    |  minimum              min\r\n *      isNaN                           |  random\r\n *      isNegative                      |  sum\r\n *      isPositive                      |\r\n *      isZero                          |\r\n *      minus                           |\r\n *      modulo                   mod    |\r\n *      multipliedBy             times  |\r\n *      negated                         |\r\n *      plus                            |\r\n *      precision                sd     |\r\n *      shiftedBy                       |\r\n *      squareRoot               sqrt   |\r\n *      toExponential                   |\r\n *      toFixed                         |\r\n *      toFormat                        |\r\n *      toFraction                      |\r\n *      toJSON                          |\r\n *      toNumber                        |\r\n *      toPrecision                     |\r\n *      toString                        |\r\n *      valueOf                         |\r\n *\r\n */\r\n\r\n\r\n  var BigNumber,\r\n    isNumeric = /^-?(?:\\d+(?:\\.\\d*)?|\\.\\d+)(?:e[+-]?\\d+)?$/i,\r\n    mathceil = Math.ceil,\r\n    mathfloor = Math.floor,\r\n\r\n    bignumberError = '[BigNumber Error] ',\r\n    tooManyDigits = bignumberError + 'Number primitive has more than 15 significant digits: ',\r\n\r\n    BASE = 1e14,\r\n    LOG_BASE = 14,\r\n    MAX_SAFE_INTEGER = 0x1fffffffffffff,         // 2^53 - 1\r\n    // MAX_INT32 = 0x7fffffff,                   // 2^31 - 1\r\n    POWS_TEN = [1, 10, 100, 1e3, 1e4, 1e5, 1e6, 1e7, 1e8, 1e9, 1e10, 1e11, 1e12, 1e13],\r\n    SQRT_BASE = 1e7,\r\n\r\n    // EDITABLE\r\n    // The limit on the value of DECIMAL_PLACES, TO_EXP_NEG, TO_EXP_POS, MIN_EXP, MAX_EXP, and\r\n    // the arguments to toExponential, toFixed, toFormat, and toPrecision.\r\n    MAX = 1E9;                                   // 0 to MAX_INT32\r\n\r\n\r\n  /*\r\n   * Create and return a BigNumber constructor.\r\n   */\r\n  function clone(configObject) {\r\n    var div, convertBase, parseNumeric,\r\n      P = BigNumber.prototype = { constructor: BigNumber, toString: null, valueOf: null },\r\n      ONE = new BigNumber(1),\r\n\r\n\r\n      //----------------------------- EDITABLE CONFIG DEFAULTS -------------------------------\r\n\r\n\r\n      // The default values below must be integers within the inclusive ranges stated.\r\n      // The values can also be changed at run-time using BigNumber.set.\r\n\r\n      // The maximum number of decimal places for operations involving division.\r\n      DECIMAL_PLACES = 20,                     // 0 to MAX\r\n\r\n      // The rounding mode used when rounding to the above decimal places, and when using\r\n      // toExponential, toFixed, toFormat and toPrecision, and round (default value).\r\n      // UP         0 Away from zero.\r\n      // DOWN       1 Towards zero.\r\n      // CEIL       2 Towards +Infinity.\r\n      // FLOOR      3 Towards -Infinity.\r\n      // HALF_UP    4 Towards nearest neighbour. If equidistant, up.\r\n      // HALF_DOWN  5 Towards nearest neighbour. If equidistant, down.\r\n      // HALF_EVEN  6 Towards nearest neighbour. If equidistant, towards even neighbour.\r\n      // HALF_CEIL  7 Towards nearest neighbour. If equidistant, towards +Infinity.\r\n      // HALF_FLOOR 8 Towards nearest neighbour. If equidistant, towards -Infinity.\r\n      ROUNDING_MODE = 4,                       // 0 to 8\r\n\r\n      // EXPONENTIAL_AT : [TO_EXP_NEG , TO_EXP_POS]\r\n\r\n      // The exponent value at and beneath which toString returns exponential notation.\r\n      // Number type: -7\r\n      TO_EXP_NEG = -7,                         // 0 to -MAX\r\n\r\n      // The exponent value at and above which toString returns exponential notation.\r\n      // Number type: 21\r\n      TO_EXP_POS = 21,                         // 0 to MAX\r\n\r\n      // RANGE : [MIN_EXP, MAX_EXP]\r\n\r\n      // The minimum exponent value, beneath which underflow to zero occurs.\r\n      // Number type: -324  (5e-324)\r\n      MIN_EXP = -1e7,                          // -1 to -MAX\r\n\r\n      // The maximum exponent value, above which overflow to Infinity occurs.\r\n      // Number type:  308  (1.7976931348623157e+308)\r\n      // For MAX_EXP > 1e7, e.g. new BigNumber('1e100000000').plus(1) may be slow.\r\n      MAX_EXP = 1e7,                           // 1 to MAX\r\n\r\n      // Whether to use cryptographically-secure random number generation, if available.\r\n      CRYPTO = false,                          // true or false\r\n\r\n      // The modulo mode used when calculating the modulus: a mod n.\r\n      // The quotient (q = a / n) is calculated according to the corresponding rounding mode.\r\n      // The remainder (r) is calculated as: r = a - n * q.\r\n      //\r\n      // UP        0 The remainder is positive if the dividend is negative, else is negative.\r\n      // DOWN      1 The remainder has the same sign as the dividend.\r\n      //             This modulo mode is commonly known as 'truncated division' and is\r\n      //             equivalent to (a % n) in JavaScript.\r\n      // FLOOR     3 The remainder has the same sign as the divisor (Python %).\r\n      // HALF_EVEN 6 This modulo mode implements the IEEE 754 remainder function.\r\n      // EUCLID    9 Euclidian division. q = sign(n) * floor(a / abs(n)).\r\n      //             The remainder is always positive.\r\n      //\r\n      // The truncated division, floored division, Euclidian division and IEEE 754 remainder\r\n      // modes are commonly used for the modulus operation.\r\n      // Although the other rounding modes can also be used, they may not give useful results.\r\n      MODULO_MODE = 1,                         // 0 to 9\r\n\r\n      // The maximum number of significant digits of the result of the exponentiatedBy operation.\r\n      // If POW_PRECISION is 0, there will be unlimited significant digits.\r\n      POW_PRECISION = 0,                       // 0 to MAX\r\n\r\n      // The format specification used by the BigNumber.prototype.toFormat method.\r\n      FORMAT = {\r\n        prefix: '',\r\n        groupSize: 3,\r\n        secondaryGroupSize: 0,\r\n        groupSeparator: ',',\r\n        decimalSeparator: '.',\r\n        fractionGroupSize: 0,\r\n        fractionGroupSeparator: '\\xA0',        // non-breaking space\r\n        suffix: ''\r\n      },\r\n\r\n      // The alphabet used for base conversion. It must be at least 2 characters long, with no '+',\r\n      // '-', '.', whitespace, or repeated character.\r\n      // '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_'\r\n      ALPHABET = '0123456789abcdefghijklmnopqrstuvwxyz',\r\n      alphabetHasNormalDecimalDigits = true;\r\n\r\n\r\n    //------------------------------------------------------------------------------------------\r\n\r\n\r\n    // CONSTRUCTOR\r\n\r\n\r\n    /*\r\n     * The BigNumber constructor and exported function.\r\n     * Create and return a new instance of a BigNumber object.\r\n     *\r\n     * v {number|string|BigNumber} A numeric value.\r\n     * [b] {number} The base of v. Integer, 2 to ALPHABET.length inclusive.\r\n     */\r\n    function BigNumber(v, b) {\r\n      var alphabet, c, caseChanged, e, i, isNum, len, str,\r\n        x = this;\r\n\r\n      // Enable constructor call without `new`.\r\n      if (!(x instanceof BigNumber)) return new BigNumber(v, b);\r\n\r\n      if (b == null) {\r\n\r\n        if (v && v._isBigNumber === true) {\r\n          x.s = v.s;\r\n\r\n          if (!v.c || v.e > MAX_EXP) {\r\n            x.c = x.e = null;\r\n          } else if (v.e < MIN_EXP) {\r\n            x.c = [x.e = 0];\r\n          } else {\r\n            x.e = v.e;\r\n            x.c = v.c.slice();\r\n          }\r\n\r\n          return;\r\n        }\r\n\r\n        if ((isNum = typeof v == 'number') && v * 0 == 0) {\r\n\r\n          // Use `1 / n` to handle minus zero also.\r\n          x.s = 1 / v < 0 ? (v = -v, -1) : 1;\r\n\r\n          // Fast path for integers, where n < 2147483648 (2**31).\r\n          if (v === ~~v) {\r\n            for (e = 0, i = v; i >= 10; i /= 10, e++);\r\n\r\n            if (e > MAX_EXP) {\r\n              x.c = x.e = null;\r\n            } else {\r\n              x.e = e;\r\n              x.c = [v];\r\n            }\r\n\r\n            return;\r\n          }\r\n\r\n          str = String(v);\r\n        } else {\r\n\r\n          if (!isNumeric.test(str = String(v))) return parseNumeric(x, str, isNum);\r\n\r\n          x.s = str.charCodeAt(0) == 45 ? (str = str.slice(1), -1) : 1;\r\n        }\r\n\r\n        // Decimal point?\r\n        if ((e = str.indexOf('.')) > -1) str = str.replace('.', '');\r\n\r\n        // Exponential form?\r\n        if ((i = str.search(/e/i)) > 0) {\r\n\r\n          // Determine exponent.\r\n          if (e < 0) e = i;\r\n          e += +str.slice(i + 1);\r\n          str = str.substring(0, i);\r\n        } else if (e < 0) {\r\n\r\n          // Integer.\r\n          e = str.length;\r\n        }\r\n\r\n      } else {\r\n\r\n        // '[BigNumber Error] Base {not a primitive number|not an integer|out of range}: {b}'\r\n        intCheck(b, 2, ALPHABET.length, 'Base');\r\n\r\n        // Allow exponential notation to be used with base 10 argument, while\r\n        // also rounding to DECIMAL_PLACES as with other bases.\r\n        if (b == 10 && alphabetHasNormalDecimalDigits) {\r\n          x = new BigNumber(v);\r\n          return round(x, DECIMAL_PLACES + x.e + 1, ROUNDING_MODE);\r\n        }\r\n\r\n        str = String(v);\r\n\r\n        if (isNum = typeof v == 'number') {\r\n\r\n          // Avoid potential interpretation of Infinity and NaN as base 44+ values.\r\n          if (v * 0 != 0) return parseNumeric(x, str, isNum, b);\r\n\r\n          x.s = 1 / v < 0 ? (str = str.slice(1), -1) : 1;\r\n\r\n          // '[BigNumber Error] Number primitive has more than 15 significant digits: {n}'\r\n          if (BigNumber.DEBUG && str.replace(/^0\\.0*|\\./, '').length > 15) {\r\n            throw Error\r\n             (tooManyDigits + v);\r\n          }\r\n        } else {\r\n          x.s = str.charCodeAt(0) === 45 ? (str = str.slice(1), -1) : 1;\r\n        }\r\n\r\n        alphabet = ALPHABET.slice(0, b);\r\n        e = i = 0;\r\n\r\n        // Check that str is a valid base b number.\r\n        // Don't use RegExp, so alphabet can contain special characters.\r\n        for (len = str.length; i < len; i++) {\r\n          if (alphabet.indexOf(c = str.charAt(i)) < 0) {\r\n            if (c == '.') {\r\n\r\n              // If '.' is not the first character and it has not be found before.\r\n              if (i > e) {\r\n                e = len;\r\n                continue;\r\n              }\r\n            } else if (!caseChanged) {\r\n\r\n              // Allow e.g. hexadecimal 'FF' as well as 'ff'.\r\n              if (str == str.toUpperCase() && (str = str.toLowerCase()) ||\r\n                  str == str.toLowerCase() && (str = str.toUpperCase())) {\r\n                caseChanged = true;\r\n                i = -1;\r\n                e = 0;\r\n                continue;\r\n              }\r\n            }\r\n\r\n            return parseNumeric(x, String(v), isNum, b);\r\n          }\r\n        }\r\n\r\n        // Prevent later check for length on converted number.\r\n        isNum = false;\r\n        str = convertBase(str, b, 10, x.s);\r\n\r\n        // Decimal point?\r\n        if ((e = str.indexOf('.')) > -1) str = str.replace('.', '');\r\n        else e = str.length;\r\n      }\r\n\r\n      // Determine leading zeros.\r\n      for (i = 0; str.charCodeAt(i) === 48; i++);\r\n\r\n      // Determine trailing zeros.\r\n      for (len = str.length; str.charCodeAt(--len) === 48;);\r\n\r\n      if (str = str.slice(i, ++len)) {\r\n        len -= i;\r\n\r\n        // '[BigNumber Error] Number primitive has more than 15 significant digits: {n}'\r\n        if (isNum && BigNumber.DEBUG &&\r\n          len > 15 && (v > MAX_SAFE_INTEGER || v !== mathfloor(v))) {\r\n            throw Error\r\n             (tooManyDigits + (x.s * v));\r\n        }\r\n\r\n         // Overflow?\r\n        if ((e = e - i - 1) > MAX_EXP) {\r\n\r\n          // Infinity.\r\n          x.c = x.e = null;\r\n\r\n        // Underflow?\r\n        } else if (e < MIN_EXP) {\r\n\r\n          // Zero.\r\n          x.c = [x.e = 0];\r\n        } else {\r\n          x.e = e;\r\n          x.c = [];\r\n\r\n          // Transform base\r\n\r\n          // e is the base 10 exponent.\r\n          // i is where to slice str to get the first element of the coefficient array.\r\n          i = (e + 1) % LOG_BASE;\r\n          if (e < 0) i += LOG_BASE;  // i < 1\r\n\r\n          if (i < len) {\r\n            if (i) x.c.push(+str.slice(0, i));\r\n\r\n            for (len -= LOG_BASE; i < len;) {\r\n              x.c.push(+str.slice(i, i += LOG_BASE));\r\n            }\r\n\r\n            i = LOG_BASE - (str = str.slice(i)).length;\r\n          } else {\r\n            i -= len;\r\n          }\r\n\r\n          for (; i--; str += '0');\r\n          x.c.push(+str);\r\n        }\r\n      } else {\r\n\r\n        // Zero.\r\n        x.c = [x.e = 0];\r\n      }\r\n    }\r\n\r\n\r\n    // CONSTRUCTOR PROPERTIES\r\n\r\n\r\n    BigNumber.clone = clone;\r\n\r\n    BigNumber.ROUND_UP = 0;\r\n    BigNumber.ROUND_DOWN = 1;\r\n    BigNumber.ROUND_CEIL = 2;\r\n    BigNumber.ROUND_FLOOR = 3;\r\n    BigNumber.ROUND_HALF_UP = 4;\r\n    BigNumber.ROUND_HALF_DOWN = 5;\r\n    BigNumber.ROUND_HALF_EVEN = 6;\r\n    BigNumber.ROUND_HALF_CEIL = 7;\r\n    BigNumber.ROUND_HALF_FLOOR = 8;\r\n    BigNumber.EUCLID = 9;\r\n\r\n\r\n    /*\r\n     * Configure infrequently-changing library-wide settings.\r\n     *\r\n     * Accept an object with the following optional properties (if the value of a property is\r\n     * a number, it must be an integer within the inclusive range stated):\r\n     *\r\n     *   DECIMAL_PLACES   {number}           0 to MAX\r\n     *   ROUNDING_MODE    {number}           0 to 8\r\n     *   EXPONENTIAL_AT   {number|number[]}  -MAX to MAX  or  [-MAX to 0, 0 to MAX]\r\n     *   RANGE            {number|number[]}  -MAX to MAX (not zero)  or  [-MAX to -1, 1 to MAX]\r\n     *   CRYPTO           {boolean}          true or false\r\n     *   MODULO_MODE      {number}           0 to 9\r\n     *   POW_PRECISION       {number}           0 to MAX\r\n     *   ALPHABET         {string}           A string of two or more unique characters which does\r\n     *                                       not contain '.'.\r\n     *   FORMAT           {object}           An object with some of the following properties:\r\n     *     prefix                 {string}\r\n     *     groupSize              {number}\r\n     *     secondaryGroupSize     {number}\r\n     *     groupSeparator         {string}\r\n     *     decimalSeparator       {string}\r\n     *     fractionGroupSize      {number}\r\n     *     fractionGroupSeparator {string}\r\n     *     suffix                 {string}\r\n     *\r\n     * (The values assigned to the above FORMAT object properties are not checked for validity.)\r\n     *\r\n     * E.g.\r\n     * BigNumber.config({ DECIMAL_PLACES : 20, ROUNDING_MODE : 4 })\r\n     *\r\n     * Ignore properties/parameters set to null or undefined, except for ALPHABET.\r\n     *\r\n     * Return an object with the properties current values.\r\n     */\r\n    BigNumber.config = BigNumber.set = function (obj) {\r\n      var p, v;\r\n\r\n      if (obj != null) {\r\n\r\n        if (typeof obj == 'object') {\r\n\r\n          // DECIMAL_PLACES {number} Integer, 0 to MAX inclusive.\r\n          // '[BigNumber Error] DECIMAL_PLACES {not a primitive number|not an integer|out of range}: {v}'\r\n          if (obj.hasOwnProperty(p = 'DECIMAL_PLACES')) {\r\n            v = obj[p];\r\n            intCheck(v, 0, MAX, p);\r\n            DECIMAL_PLACES = v;\r\n          }\r\n\r\n          // ROUNDING_MODE {number} Integer, 0 to 8 inclusive.\r\n          // '[BigNumber Error] ROUNDING_MODE {not a primitive number|not an integer|out of range}: {v}'\r\n          if (obj.hasOwnProperty(p = 'ROUNDING_MODE')) {\r\n            v = obj[p];\r\n            intCheck(v, 0, 8, p);\r\n            ROUNDING_MODE = v;\r\n          }\r\n\r\n          // EXPONENTIAL_AT {number|number[]}\r\n          // Integer, -MAX to MAX inclusive or\r\n          // [integer -MAX to 0 inclusive, 0 to MAX inclusive].\r\n          // '[BigNumber Error] EXPONENTIAL_AT {not a primitive number|not an integer|out of range}: {v}'\r\n          if (obj.hasOwnProperty(p = 'EXPONENTIAL_AT')) {\r\n            v = obj[p];\r\n            if (v && v.pop) {\r\n              intCheck(v[0], -MAX, 0, p);\r\n              intCheck(v[1], 0, MAX, p);\r\n              TO_EXP_NEG = v[0];\r\n              TO_EXP_POS = v[1];\r\n            } else {\r\n              intCheck(v, -MAX, MAX, p);\r\n              TO_EXP_NEG = -(TO_EXP_POS = v < 0 ? -v : v);\r\n            }\r\n          }\r\n\r\n          // RANGE {number|number[]} Non-zero integer, -MAX to MAX inclusive or\r\n          // [integer -MAX to -1 inclusive, integer 1 to MAX inclusive].\r\n          // '[BigNumber Error] RANGE {not a primitive number|not an integer|out of range|cannot be zero}: {v}'\r\n          if (obj.hasOwnProperty(p = 'RANGE')) {\r\n            v = obj[p];\r\n            if (v && v.pop) {\r\n              intCheck(v[0], -MAX, -1, p);\r\n              intCheck(v[1], 1, MAX, p);\r\n              MIN_EXP = v[0];\r\n              MAX_EXP = v[1];\r\n            } else {\r\n              intCheck(v, -MAX, MAX, p);\r\n              if (v) {\r\n                MIN_EXP = -(MAX_EXP = v < 0 ? -v : v);\r\n              } else {\r\n                throw Error\r\n                 (bignumberError + p + ' cannot be zero: ' + v);\r\n              }\r\n            }\r\n          }\r\n\r\n          // CRYPTO {boolean} true or false.\r\n          // '[BigNumber Error] CRYPTO not true or false: {v}'\r\n          // '[BigNumber Error] crypto unavailable'\r\n          if (obj.hasOwnProperty(p = 'CRYPTO')) {\r\n            v = obj[p];\r\n            if (v === !!v) {\r\n              if (v) {\r\n                if (typeof crypto != 'undefined' && crypto &&\r\n                 (crypto.getRandomValues || crypto.randomBytes)) {\r\n                  CRYPTO = v;\r\n                } else {\r\n                  CRYPTO = !v;\r\n                  throw Error\r\n                   (bignumberError + 'crypto unavailable');\r\n                }\r\n              } else {\r\n                CRYPTO = v;\r\n              }\r\n            } else {\r\n              throw Error\r\n               (bignumberError + p + ' not true or false: ' + v);\r\n            }\r\n          }\r\n\r\n          // MODULO_MODE {number} Integer, 0 to 9 inclusive.\r\n          // '[BigNumber Error] MODULO_MODE {not a primitive number|not an integer|out of range}: {v}'\r\n          if (obj.hasOwnProperty(p = 'MODULO_MODE')) {\r\n            v = obj[p];\r\n            intCheck(v, 0, 9, p);\r\n            MODULO_MODE = v;\r\n          }\r\n\r\n          // POW_PRECISION {number} Integer, 0 to MAX inclusive.\r\n          // '[BigNumber Error] POW_PRECISION {not a primitive number|not an integer|out of range}: {v}'\r\n          if (obj.hasOwnProperty(p = 'POW_PRECISION')) {\r\n            v = obj[p];\r\n            intCheck(v, 0, MAX, p);\r\n            POW_PRECISION = v;\r\n          }\r\n\r\n          // FORMAT {object}\r\n          // '[BigNumber Error] FORMAT not an object: {v}'\r\n          if (obj.hasOwnProperty(p = 'FORMAT')) {\r\n            v = obj[p];\r\n            if (typeof v == 'object') FORMAT = v;\r\n            else throw Error\r\n             (bignumberError + p + ' not an object: ' + v);\r\n          }\r\n\r\n          // ALPHABET {string}\r\n          // '[BigNumber Error] ALPHABET invalid: {v}'\r\n          if (obj.hasOwnProperty(p = 'ALPHABET')) {\r\n            v = obj[p];\r\n\r\n            // Disallow if less than two characters,\r\n            // or if it contains '+', '-', '.', whitespace, or a repeated character.\r\n            if (typeof v == 'string' && !/^.?$|[+\\-.\\s]|(.).*\\1/.test(v)) {\r\n              alphabetHasNormalDecimalDigits = v.slice(0, 10) == '0123456789';\r\n              ALPHABET = v;\r\n            } else {\r\n              throw Error\r\n               (bignumberError + p + ' invalid: ' + v);\r\n            }\r\n          }\r\n\r\n        } else {\r\n\r\n          // '[BigNumber Error] Object expected: {v}'\r\n          throw Error\r\n           (bignumberError + 'Object expected: ' + obj);\r\n        }\r\n      }\r\n\r\n      return {\r\n        DECIMAL_PLACES: DECIMAL_PLACES,\r\n        ROUNDING_MODE: ROUNDING_MODE,\r\n        EXPONENTIAL_AT: [TO_EXP_NEG, TO_EXP_POS],\r\n        RANGE: [MIN_EXP, MAX_EXP],\r\n        CRYPTO: CRYPTO,\r\n        MODULO_MODE: MODULO_MODE,\r\n        POW_PRECISION: POW_PRECISION,\r\n        FORMAT: FORMAT,\r\n        ALPHABET: ALPHABET\r\n      };\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if v is a BigNumber instance, otherwise return false.\r\n     *\r\n     * If BigNumber.DEBUG is true, throw if a BigNumber instance is not well-formed.\r\n     *\r\n     * v {any}\r\n     *\r\n     * '[BigNumber Error] Invalid BigNumber: {v}'\r\n     */\r\n    BigNumber.isBigNumber = function (v) {\r\n      if (!v || v._isBigNumber !== true) return false;\r\n      if (!BigNumber.DEBUG) return true;\r\n\r\n      var i, n,\r\n        c = v.c,\r\n        e = v.e,\r\n        s = v.s;\r\n\r\n      out: if ({}.toString.call(c) == '[object Array]') {\r\n\r\n        if ((s === 1 || s === -1) && e >= -MAX && e <= MAX && e === mathfloor(e)) {\r\n\r\n          // If the first element is zero, the BigNumber value must be zero.\r\n          if (c[0] === 0) {\r\n            if (e === 0 && c.length === 1) return true;\r\n            break out;\r\n          }\r\n\r\n          // Calculate number of digits that c[0] should have, based on the exponent.\r\n          i = (e + 1) % LOG_BASE;\r\n          if (i < 1) i += LOG_BASE;\r\n\r\n          // Calculate number of digits of c[0].\r\n          //if (Math.ceil(Math.log(c[0] + 1) / Math.LN10) == i) {\r\n          if (String(c[0]).length == i) {\r\n\r\n            for (i = 0; i < c.length; i++) {\r\n              n = c[i];\r\n              if (n < 0 || n >= BASE || n !== mathfloor(n)) break out;\r\n            }\r\n\r\n            // Last element cannot be zero, unless it is the only element.\r\n            if (n !== 0) return true;\r\n          }\r\n        }\r\n\r\n      // Infinity/NaN\r\n      } else if (c === null && e === null && (s === null || s === 1 || s === -1)) {\r\n        return true;\r\n      }\r\n\r\n      throw Error\r\n        (bignumberError + 'Invalid BigNumber: ' + v);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a new BigNumber whose value is the maximum of the arguments.\r\n     *\r\n     * arguments {number|string|BigNumber}\r\n     */\r\n    BigNumber.maximum = BigNumber.max = function () {\r\n      return maxOrMin(arguments, P.lt);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a new BigNumber whose value is the minimum of the arguments.\r\n     *\r\n     * arguments {number|string|BigNumber}\r\n     */\r\n    BigNumber.minimum = BigNumber.min = function () {\r\n      return maxOrMin(arguments, P.gt);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a new BigNumber with a random value equal to or greater than 0 and less than 1,\r\n     * and with dp, or DECIMAL_PLACES if dp is omitted, decimal places (or less if trailing\r\n     * zeros are produced).\r\n     *\r\n     * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp}'\r\n     * '[BigNumber Error] crypto unavailable'\r\n     */\r\n    BigNumber.random = (function () {\r\n      var pow2_53 = 0x20000000000000;\r\n\r\n      // Return a 53 bit integer n, where 0 <= n < 9007199254740992.\r\n      // Check if Math.random() produces more than 32 bits of randomness.\r\n      // If it does, assume at least 53 bits are produced, otherwise assume at least 30 bits.\r\n      // 0x40000000 is 2^30, 0x800000 is 2^23, 0x1fffff is 2^21 - 1.\r\n      var random53bitInt = (Math.random() * pow2_53) & 0x1fffff\r\n       ? function () { return mathfloor(Math.random() * pow2_53); }\r\n       : function () { return ((Math.random() * 0x40000000 | 0) * 0x800000) +\r\n         (Math.random() * 0x800000 | 0); };\r\n\r\n      return function (dp) {\r\n        var a, b, e, k, v,\r\n          i = 0,\r\n          c = [],\r\n          rand = new BigNumber(ONE);\r\n\r\n        if (dp == null) dp = DECIMAL_PLACES;\r\n        else intCheck(dp, 0, MAX);\r\n\r\n        k = mathceil(dp / LOG_BASE);\r\n\r\n        if (CRYPTO) {\r\n\r\n          // Browsers supporting crypto.getRandomValues.\r\n          if (crypto.getRandomValues) {\r\n\r\n            a = crypto.getRandomValues(new Uint32Array(k *= 2));\r\n\r\n            for (; i < k;) {\r\n\r\n              // 53 bits:\r\n              // ((Math.pow(2, 32) - 1) * Math.pow(2, 21)).toString(2)\r\n              // 11111 11111111 11111111 11111111 11100000 00000000 00000000\r\n              // ((Math.pow(2, 32) - 1) >>> 11).toString(2)\r\n              //                                     11111 11111111 11111111\r\n              // 0x20000 is 2^21.\r\n              v = a[i] * 0x20000 + (a[i + 1] >>> 11);\r\n\r\n              // Rejection sampling:\r\n              // 0 <= v < 9007199254740992\r\n              // Probability that v >= 9e15, is\r\n              // 7199254740992 / 9007199254740992 ~= 0.0008, i.e. 1 in 1251\r\n              if (v >= 9e15) {\r\n                b = crypto.getRandomValues(new Uint32Array(2));\r\n                a[i] = b[0];\r\n                a[i + 1] = b[1];\r\n              } else {\r\n\r\n                // 0 <= v <= 8999999999999999\r\n                // 0 <= (v % 1e14) <= 99999999999999\r\n                c.push(v % 1e14);\r\n                i += 2;\r\n              }\r\n            }\r\n            i = k / 2;\r\n\r\n          // Node.js supporting crypto.randomBytes.\r\n          } else if (crypto.randomBytes) {\r\n\r\n            // buffer\r\n            a = crypto.randomBytes(k *= 7);\r\n\r\n            for (; i < k;) {\r\n\r\n              // 0x1000000000000 is 2^48, 0x10000000000 is 2^40\r\n              // 0x100000000 is 2^32, 0x1000000 is 2^24\r\n              // 11111 11111111 11111111 11111111 11111111 11111111 11111111\r\n              // 0 <= v < 9007199254740992\r\n              v = ((a[i] & 31) * 0x1000000000000) + (a[i + 1] * 0x10000000000) +\r\n                 (a[i + 2] * 0x100000000) + (a[i + 3] * 0x1000000) +\r\n                 (a[i + 4] << 16) + (a[i + 5] << 8) + a[i + 6];\r\n\r\n              if (v >= 9e15) {\r\n                crypto.randomBytes(7).copy(a, i);\r\n              } else {\r\n\r\n                // 0 <= (v % 1e14) <= 99999999999999\r\n                c.push(v % 1e14);\r\n                i += 7;\r\n              }\r\n            }\r\n            i = k / 7;\r\n          } else {\r\n            CRYPTO = false;\r\n            throw Error\r\n             (bignumberError + 'crypto unavailable');\r\n          }\r\n        }\r\n\r\n        // Use Math.random.\r\n        if (!CRYPTO) {\r\n\r\n          for (; i < k;) {\r\n            v = random53bitInt();\r\n            if (v < 9e15) c[i++] = v % 1e14;\r\n          }\r\n        }\r\n\r\n        k = c[--i];\r\n        dp %= LOG_BASE;\r\n\r\n        // Convert trailing digits to zeros according to dp.\r\n        if (k && dp) {\r\n          v = POWS_TEN[LOG_BASE - dp];\r\n          c[i] = mathfloor(k / v) * v;\r\n        }\r\n\r\n        // Remove trailing elements which are zero.\r\n        for (; c[i] === 0; c.pop(), i--);\r\n\r\n        // Zero?\r\n        if (i < 0) {\r\n          c = [e = 0];\r\n        } else {\r\n\r\n          // Remove leading elements which are zero and adjust exponent accordingly.\r\n          for (e = -1 ; c[0] === 0; c.splice(0, 1), e -= LOG_BASE);\r\n\r\n          // Count the digits of the first element of c to determine leading zeros, and...\r\n          for (i = 1, v = c[0]; v >= 10; v /= 10, i++);\r\n\r\n          // adjust the exponent accordingly.\r\n          if (i < LOG_BASE) e -= LOG_BASE - i;\r\n        }\r\n\r\n        rand.e = e;\r\n        rand.c = c;\r\n        return rand;\r\n      };\r\n    })();\r\n\r\n\r\n    /*\r\n     * Return a BigNumber whose value is the sum of the arguments.\r\n     *\r\n     * arguments {number|string|BigNumber}\r\n     */\r\n    BigNumber.sum = function () {\r\n      var i = 1,\r\n        args = arguments,\r\n        sum = new BigNumber(args[0]);\r\n      for (; i < args.length;) sum = sum.plus(args[i++]);\r\n      return sum;\r\n    };\r\n\r\n\r\n    // PRIVATE FUNCTIONS\r\n\r\n\r\n    // Called by BigNumber and BigNumber.prototype.toString.\r\n    convertBase = (function () {\r\n      var decimal = '0123456789';\r\n\r\n      /*\r\n       * Convert string of baseIn to an array of numbers of baseOut.\r\n       * Eg. toBaseOut('255', 10, 16) returns [15, 15].\r\n       * Eg. toBaseOut('ff', 16, 10) returns [2, 5, 5].\r\n       */\r\n      function toBaseOut(str, baseIn, baseOut, alphabet) {\r\n        var j,\r\n          arr = [0],\r\n          arrL,\r\n          i = 0,\r\n          len = str.length;\r\n\r\n        for (; i < len;) {\r\n          for (arrL = arr.length; arrL--; arr[arrL] *= baseIn);\r\n\r\n          arr[0] += alphabet.indexOf(str.charAt(i++));\r\n\r\n          for (j = 0; j < arr.length; j++) {\r\n\r\n            if (arr[j] > baseOut - 1) {\r\n              if (arr[j + 1] == null) arr[j + 1] = 0;\r\n              arr[j + 1] += arr[j] / baseOut | 0;\r\n              arr[j] %= baseOut;\r\n            }\r\n          }\r\n        }\r\n\r\n        return arr.reverse();\r\n      }\r\n\r\n      // Convert a numeric string of baseIn to a numeric string of baseOut.\r\n      // If the caller is toString, we are converting from base 10 to baseOut.\r\n      // If the caller is BigNumber, we are converting from baseIn to base 10.\r\n      return function (str, baseIn, baseOut, sign, callerIsToString) {\r\n        var alphabet, d, e, k, r, x, xc, y,\r\n          i = str.indexOf('.'),\r\n          dp = DECIMAL_PLACES,\r\n          rm = ROUNDING_MODE;\r\n\r\n        // Non-integer.\r\n        if (i >= 0) {\r\n          k = POW_PRECISION;\r\n\r\n          // Unlimited precision.\r\n          POW_PRECISION = 0;\r\n          str = str.replace('.', '');\r\n          y = new BigNumber(baseIn);\r\n          x = y.pow(str.length - i);\r\n          POW_PRECISION = k;\r\n\r\n          // Convert str as if an integer, then restore the fraction part by dividing the\r\n          // result by its base raised to a power.\r\n\r\n          y.c = toBaseOut(toFixedPoint(coeffToString(x.c), x.e, '0'),\r\n           10, baseOut, decimal);\r\n          y.e = y.c.length;\r\n        }\r\n\r\n        // Convert the number as integer.\r\n\r\n        xc = toBaseOut(str, baseIn, baseOut, callerIsToString\r\n         ? (alphabet = ALPHABET, decimal)\r\n         : (alphabet = decimal, ALPHABET));\r\n\r\n        // xc now represents str as an integer and converted to baseOut. e is the exponent.\r\n        e = k = xc.length;\r\n\r\n        // Remove trailing zeros.\r\n        for (; xc[--k] == 0; xc.pop());\r\n\r\n        // Zero?\r\n        if (!xc[0]) return alphabet.charAt(0);\r\n\r\n        // Does str represent an integer? If so, no need for the division.\r\n        if (i < 0) {\r\n          --e;\r\n        } else {\r\n          x.c = xc;\r\n          x.e = e;\r\n\r\n          // The sign is needed for correct rounding.\r\n          x.s = sign;\r\n          x = div(x, y, dp, rm, baseOut);\r\n          xc = x.c;\r\n          r = x.r;\r\n          e = x.e;\r\n        }\r\n\r\n        // xc now represents str converted to baseOut.\r\n\r\n        // THe index of the rounding digit.\r\n        d = e + dp + 1;\r\n\r\n        // The rounding digit: the digit to the right of the digit that may be rounded up.\r\n        i = xc[d];\r\n\r\n        // Look at the rounding digits and mode to determine whether to round up.\r\n\r\n        k = baseOut / 2;\r\n        r = r || d < 0 || xc[d + 1] != null;\r\n\r\n        r = rm < 4 ? (i != null || r) && (rm == 0 || rm == (x.s < 0 ? 3 : 2))\r\n              : i > k || i == k &&(rm == 4 || r || rm == 6 && xc[d - 1] & 1 ||\r\n               rm == (x.s < 0 ? 8 : 7));\r\n\r\n        // If the index of the rounding digit is not greater than zero, or xc represents\r\n        // zero, then the result of the base conversion is zero or, if rounding up, a value\r\n        // such as 0.00001.\r\n        if (d < 1 || !xc[0]) {\r\n\r\n          // 1^-dp or 0\r\n          str = r ? toFixedPoint(alphabet.charAt(1), -dp, alphabet.charAt(0)) : alphabet.charAt(0);\r\n        } else {\r\n\r\n          // Truncate xc to the required number of decimal places.\r\n          xc.length = d;\r\n\r\n          // Round up?\r\n          if (r) {\r\n\r\n            // Rounding up may mean the previous digit has to be rounded up and so on.\r\n            for (--baseOut; ++xc[--d] > baseOut;) {\r\n              xc[d] = 0;\r\n\r\n              if (!d) {\r\n                ++e;\r\n                xc = [1].concat(xc);\r\n              }\r\n            }\r\n          }\r\n\r\n          // Determine trailing zeros.\r\n          for (k = xc.length; !xc[--k];);\r\n\r\n          // E.g. [4, 11, 15] becomes 4bf.\r\n          for (i = 0, str = ''; i <= k; str += alphabet.charAt(xc[i++]));\r\n\r\n          // Add leading zeros, decimal point and trailing zeros as required.\r\n          str = toFixedPoint(str, e, alphabet.charAt(0));\r\n        }\r\n\r\n        // The caller will add the sign.\r\n        return str;\r\n      };\r\n    })();\r\n\r\n\r\n    // Perform division in the specified base. Called by div and convertBase.\r\n    div = (function () {\r\n\r\n      // Assume non-zero x and k.\r\n      function multiply(x, k, base) {\r\n        var m, temp, xlo, xhi,\r\n          carry = 0,\r\n          i = x.length,\r\n          klo = k % SQRT_BASE,\r\n          khi = k / SQRT_BASE | 0;\r\n\r\n        for (x = x.slice(); i--;) {\r\n          xlo = x[i] % SQRT_BASE;\r\n          xhi = x[i] / SQRT_BASE | 0;\r\n          m = khi * xlo + xhi * klo;\r\n          temp = klo * xlo + ((m % SQRT_BASE) * SQRT_BASE) + carry;\r\n          carry = (temp / base | 0) + (m / SQRT_BASE | 0) + khi * xhi;\r\n          x[i] = temp % base;\r\n        }\r\n\r\n        if (carry) x = [carry].concat(x);\r\n\r\n        return x;\r\n      }\r\n\r\n      function compare(a, b, aL, bL) {\r\n        var i, cmp;\r\n\r\n        if (aL != bL) {\r\n          cmp = aL > bL ? 1 : -1;\r\n        } else {\r\n\r\n          for (i = cmp = 0; i < aL; i++) {\r\n\r\n            if (a[i] != b[i]) {\r\n              cmp = a[i] > b[i] ? 1 : -1;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n\r\n        return cmp;\r\n      }\r\n\r\n      function subtract(a, b, aL, base) {\r\n        var i = 0;\r\n\r\n        // Subtract b from a.\r\n        for (; aL--;) {\r\n          a[aL] -= i;\r\n          i = a[aL] < b[aL] ? 1 : 0;\r\n          a[aL] = i * base + a[aL] - b[aL];\r\n        }\r\n\r\n        // Remove leading zeros.\r\n        for (; !a[0] && a.length > 1; a.splice(0, 1));\r\n      }\r\n\r\n      // x: dividend, y: divisor.\r\n      return function (x, y, dp, rm, base) {\r\n        var cmp, e, i, more, n, prod, prodL, q, qc, rem, remL, rem0, xi, xL, yc0,\r\n          yL, yz,\r\n          s = x.s == y.s ? 1 : -1,\r\n          xc = x.c,\r\n          yc = y.c;\r\n\r\n        // Either NaN, Infinity or 0?\r\n        if (!xc || !xc[0] || !yc || !yc[0]) {\r\n\r\n          return new BigNumber(\r\n\r\n           // Return NaN if either NaN, or both Infinity or 0.\r\n           !x.s || !y.s || (xc ? yc && xc[0] == yc[0] : !yc) ? NaN :\r\n\r\n            // Return 0 if x is 0 or y is Infinity, or return Infinity as y is 0.\r\n            xc && xc[0] == 0 || !yc ? s * 0 : s / 0\r\n         );\r\n        }\r\n\r\n        q = new BigNumber(s);\r\n        qc = q.c = [];\r\n        e = x.e - y.e;\r\n        s = dp + e + 1;\r\n\r\n        if (!base) {\r\n          base = BASE;\r\n          e = bitFloor(x.e / LOG_BASE) - bitFloor(y.e / LOG_BASE);\r\n          s = s / LOG_BASE | 0;\r\n        }\r\n\r\n        // Result exponent may be one less then the current value of e.\r\n        // The coefficients of the BigNumbers from convertBase may have trailing zeros.\r\n        for (i = 0; yc[i] == (xc[i] || 0); i++);\r\n\r\n        if (yc[i] > (xc[i] || 0)) e--;\r\n\r\n        if (s < 0) {\r\n          qc.push(1);\r\n          more = true;\r\n        } else {\r\n          xL = xc.length;\r\n          yL = yc.length;\r\n          i = 0;\r\n          s += 2;\r\n\r\n          // Normalise xc and yc so highest order digit of yc is >= base / 2.\r\n\r\n          n = mathfloor(base / (yc[0] + 1));\r\n\r\n          // Not necessary, but to handle odd bases where yc[0] == (base / 2) - 1.\r\n          // if (n > 1 || n++ == 1 && yc[0] < base / 2) {\r\n          if (n > 1) {\r\n            yc = multiply(yc, n, base);\r\n            xc = multiply(xc, n, base);\r\n            yL = yc.length;\r\n            xL = xc.length;\r\n          }\r\n\r\n          xi = yL;\r\n          rem = xc.slice(0, yL);\r\n          remL = rem.length;\r\n\r\n          // Add zeros to make remainder as long as divisor.\r\n          for (; remL < yL; rem[remL++] = 0);\r\n          yz = yc.slice();\r\n          yz = [0].concat(yz);\r\n          yc0 = yc[0];\r\n          if (yc[1] >= base / 2) yc0++;\r\n          // Not necessary, but to prevent trial digit n > base, when using base 3.\r\n          // else if (base == 3 && yc0 == 1) yc0 = 1 + 1e-15;\r\n\r\n          do {\r\n            n = 0;\r\n\r\n            // Compare divisor and remainder.\r\n            cmp = compare(yc, rem, yL, remL);\r\n\r\n            // If divisor < remainder.\r\n            if (cmp < 0) {\r\n\r\n              // Calculate trial digit, n.\r\n\r\n              rem0 = rem[0];\r\n              if (yL != remL) rem0 = rem0 * base + (rem[1] || 0);\r\n\r\n              // n is how many times the divisor goes into the current remainder.\r\n              n = mathfloor(rem0 / yc0);\r\n\r\n              //  Algorithm:\r\n              //  product = divisor multiplied by trial digit (n).\r\n              //  Compare product and remainder.\r\n              //  If product is greater than remainder:\r\n              //    Subtract divisor from product, decrement trial digit.\r\n              //  Subtract product from remainder.\r\n              //  If product was less than remainder at the last compare:\r\n              //    Compare new remainder and divisor.\r\n              //    If remainder is greater than divisor:\r\n              //      Subtract divisor from remainder, increment trial digit.\r\n\r\n              if (n > 1) {\r\n\r\n                // n may be > base only when base is 3.\r\n                if (n >= base) n = base - 1;\r\n\r\n                // product = divisor * trial digit.\r\n                prod = multiply(yc, n, base);\r\n                prodL = prod.length;\r\n                remL = rem.length;\r\n\r\n                // Compare product and remainder.\r\n                // If product > remainder then trial digit n too high.\r\n                // n is 1 too high about 5% of the time, and is not known to have\r\n                // ever been more than 1 too high.\r\n                while (compare(prod, rem, prodL, remL) == 1) {\r\n                  n--;\r\n\r\n                  // Subtract divisor from product.\r\n                  subtract(prod, yL < prodL ? yz : yc, prodL, base);\r\n                  prodL = prod.length;\r\n                  cmp = 1;\r\n                }\r\n              } else {\r\n\r\n                // n is 0 or 1, cmp is -1.\r\n                // If n is 0, there is no need to compare yc and rem again below,\r\n                // so change cmp to 1 to avoid it.\r\n                // If n is 1, leave cmp as -1, so yc and rem are compared again.\r\n                if (n == 0) {\r\n\r\n                  // divisor < remainder, so n must be at least 1.\r\n                  cmp = n = 1;\r\n                }\r\n\r\n                // product = divisor\r\n                prod = yc.slice();\r\n                prodL = prod.length;\r\n              }\r\n\r\n              if (prodL < remL) prod = [0].concat(prod);\r\n\r\n              // Subtract product from remainder.\r\n              subtract(rem, prod, remL, base);\r\n              remL = rem.length;\r\n\r\n               // If product was < remainder.\r\n              if (cmp == -1) {\r\n\r\n                // Compare divisor and new remainder.\r\n                // If divisor < new remainder, subtract divisor from remainder.\r\n                // Trial digit n too low.\r\n                // n is 1 too low about 5% of the time, and very rarely 2 too low.\r\n                while (compare(yc, rem, yL, remL) < 1) {\r\n                  n++;\r\n\r\n                  // Subtract divisor from remainder.\r\n                  subtract(rem, yL < remL ? yz : yc, remL, base);\r\n                  remL = rem.length;\r\n                }\r\n              }\r\n            } else if (cmp === 0) {\r\n              n++;\r\n              rem = [0];\r\n            } // else cmp === 1 and n will be 0\r\n\r\n            // Add the next digit, n, to the result array.\r\n            qc[i++] = n;\r\n\r\n            // Update the remainder.\r\n            if (rem[0]) {\r\n              rem[remL++] = xc[xi] || 0;\r\n            } else {\r\n              rem = [xc[xi]];\r\n              remL = 1;\r\n            }\r\n          } while ((xi++ < xL || rem[0] != null) && s--);\r\n\r\n          more = rem[0] != null;\r\n\r\n          // Leading zero?\r\n          if (!qc[0]) qc.splice(0, 1);\r\n        }\r\n\r\n        if (base == BASE) {\r\n\r\n          // To calculate q.e, first get the number of digits of qc[0].\r\n          for (i = 1, s = qc[0]; s >= 10; s /= 10, i++);\r\n\r\n          round(q, dp + (q.e = i + e * LOG_BASE - 1) + 1, rm, more);\r\n\r\n        // Caller is convertBase.\r\n        } else {\r\n          q.e = e;\r\n          q.r = +more;\r\n        }\r\n\r\n        return q;\r\n      };\r\n    })();\r\n\r\n\r\n    /*\r\n     * Return a string representing the value of BigNumber n in fixed-point or exponential\r\n     * notation rounded to the specified decimal places or significant digits.\r\n     *\r\n     * n: a BigNumber.\r\n     * i: the index of the last digit required (i.e. the digit that may be rounded up).\r\n     * rm: the rounding mode.\r\n     * id: 1 (toExponential) or 2 (toPrecision).\r\n     */\r\n    function format(n, i, rm, id) {\r\n      var c0, e, ne, len, str;\r\n\r\n      if (rm == null) rm = ROUNDING_MODE;\r\n      else intCheck(rm, 0, 8);\r\n\r\n      if (!n.c) return n.toString();\r\n\r\n      c0 = n.c[0];\r\n      ne = n.e;\r\n\r\n      if (i == null) {\r\n        str = coeffToString(n.c);\r\n        str = id == 1 || id == 2 && (ne <= TO_EXP_NEG || ne >= TO_EXP_POS)\r\n         ? toExponential(str, ne)\r\n         : toFixedPoint(str, ne, '0');\r\n      } else {\r\n        n = round(new BigNumber(n), i, rm);\r\n\r\n        // n.e may have changed if the value was rounded up.\r\n        e = n.e;\r\n\r\n        str = coeffToString(n.c);\r\n        len = str.length;\r\n\r\n        // toPrecision returns exponential notation if the number of significant digits\r\n        // specified is less than the number of digits necessary to represent the integer\r\n        // part of the value in fixed-point notation.\r\n\r\n        // Exponential notation.\r\n        if (id == 1 || id == 2 && (i <= e || e <= TO_EXP_NEG)) {\r\n\r\n          // Append zeros?\r\n          for (; len < i; str += '0', len++);\r\n          str = toExponential(str, e);\r\n\r\n        // Fixed-point notation.\r\n        } else {\r\n          i -= ne;\r\n          str = toFixedPoint(str, e, '0');\r\n\r\n          // Append zeros?\r\n          if (e + 1 > len) {\r\n            if (--i > 0) for (str += '.'; i--; str += '0');\r\n          } else {\r\n            i += e - len;\r\n            if (i > 0) {\r\n              if (e + 1 == len) str += '.';\r\n              for (; i--; str += '0');\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      return n.s < 0 && c0 ? '-' + str : str;\r\n    }\r\n\r\n\r\n    // Handle BigNumber.max and BigNumber.min.\r\n    function maxOrMin(args, method) {\r\n      var n,\r\n        i = 1,\r\n        m = new BigNumber(args[0]);\r\n\r\n      for (; i < args.length; i++) {\r\n        n = new BigNumber(args[i]);\r\n\r\n        // If any number is NaN, return NaN.\r\n        if (!n.s) {\r\n          m = n;\r\n          break;\r\n        } else if (method.call(m, n)) {\r\n          m = n;\r\n        }\r\n      }\r\n\r\n      return m;\r\n    }\r\n\r\n\r\n    /*\r\n     * Strip trailing zeros, calculate base 10 exponent and check against MIN_EXP and MAX_EXP.\r\n     * Called by minus, plus and times.\r\n     */\r\n    function normalise(n, c, e) {\r\n      var i = 1,\r\n        j = c.length;\r\n\r\n       // Remove trailing zeros.\r\n      for (; !c[--j]; c.pop());\r\n\r\n      // Calculate the base 10 exponent. First get the number of digits of c[0].\r\n      for (j = c[0]; j >= 10; j /= 10, i++);\r\n\r\n      // Overflow?\r\n      if ((e = i + e * LOG_BASE - 1) > MAX_EXP) {\r\n\r\n        // Infinity.\r\n        n.c = n.e = null;\r\n\r\n      // Underflow?\r\n      } else if (e < MIN_EXP) {\r\n\r\n        // Zero.\r\n        n.c = [n.e = 0];\r\n      } else {\r\n        n.e = e;\r\n        n.c = c;\r\n      }\r\n\r\n      return n;\r\n    }\r\n\r\n\r\n    // Handle values that fail the validity test in BigNumber.\r\n    parseNumeric = (function () {\r\n      var basePrefix = /^(-?)0([xbo])(?=\\w[\\w.]*$)/i,\r\n        dotAfter = /^([^.]+)\\.$/,\r\n        dotBefore = /^\\.([^.]+)$/,\r\n        isInfinityOrNaN = /^-?(Infinity|NaN)$/,\r\n        whitespaceOrPlus = /^\\s*\\+(?=[\\w.])|^\\s+|\\s+$/g;\r\n\r\n      return function (x, str, isNum, b) {\r\n        var base,\r\n          s = isNum ? str : str.replace(whitespaceOrPlus, '');\r\n\r\n        // No exception on Infinity or NaN.\r\n        if (isInfinityOrNaN.test(s)) {\r\n          x.s = isNaN(s) ? null : s < 0 ? -1 : 1;\r\n        } else {\r\n          if (!isNum) {\r\n\r\n            // basePrefix = /^(-?)0([xbo])(?=\\w[\\w.]*$)/i\r\n            s = s.replace(basePrefix, function (m, p1, p2) {\r\n              base = (p2 = p2.toLowerCase()) == 'x' ? 16 : p2 == 'b' ? 2 : 8;\r\n              return !b || b == base ? p1 : m;\r\n            });\r\n\r\n            if (b) {\r\n              base = b;\r\n\r\n              // E.g. '1.' to '1', '.1' to '0.1'\r\n              s = s.replace(dotAfter, '$1').replace(dotBefore, '0.$1');\r\n            }\r\n\r\n            if (str != s) return new BigNumber(s, base);\r\n          }\r\n\r\n          // '[BigNumber Error] Not a number: {n}'\r\n          // '[BigNumber Error] Not a base {b} number: {n}'\r\n          if (BigNumber.DEBUG) {\r\n            throw Error\r\n              (bignumberError + 'Not a' + (b ? ' base ' + b : '') + ' number: ' + str);\r\n          }\r\n\r\n          // NaN\r\n          x.s = null;\r\n        }\r\n\r\n        x.c = x.e = null;\r\n      }\r\n    })();\r\n\r\n\r\n    /*\r\n     * Round x to sd significant digits using rounding mode rm. Check for over/under-flow.\r\n     * If r is truthy, it is known that there are more digits after the rounding digit.\r\n     */\r\n    function round(x, sd, rm, r) {\r\n      var d, i, j, k, n, ni, rd,\r\n        xc = x.c,\r\n        pows10 = POWS_TEN;\r\n\r\n      // if x is not Infinity or NaN...\r\n      if (xc) {\r\n\r\n        // rd is the rounding digit, i.e. the digit after the digit that may be rounded up.\r\n        // n is a base 1e14 number, the value of the element of array x.c containing rd.\r\n        // ni is the index of n within x.c.\r\n        // d is the number of digits of n.\r\n        // i is the index of rd within n including leading zeros.\r\n        // j is the actual index of rd within n (if < 0, rd is a leading zero).\r\n        out: {\r\n\r\n          // Get the number of digits of the first element of xc.\r\n          for (d = 1, k = xc[0]; k >= 10; k /= 10, d++);\r\n          i = sd - d;\r\n\r\n          // If the rounding digit is in the first element of xc...\r\n          if (i < 0) {\r\n            i += LOG_BASE;\r\n            j = sd;\r\n            n = xc[ni = 0];\r\n\r\n            // Get the rounding digit at index j of n.\r\n            rd = n / pows10[d - j - 1] % 10 | 0;\r\n          } else {\r\n            ni = mathceil((i + 1) / LOG_BASE);\r\n\r\n            if (ni >= xc.length) {\r\n\r\n              if (r) {\r\n\r\n                // Needed by sqrt.\r\n                for (; xc.length <= ni; xc.push(0));\r\n                n = rd = 0;\r\n                d = 1;\r\n                i %= LOG_BASE;\r\n                j = i - LOG_BASE + 1;\r\n              } else {\r\n                break out;\r\n              }\r\n            } else {\r\n              n = k = xc[ni];\r\n\r\n              // Get the number of digits of n.\r\n              for (d = 1; k >= 10; k /= 10, d++);\r\n\r\n              // Get the index of rd within n.\r\n              i %= LOG_BASE;\r\n\r\n              // Get the index of rd within n, adjusted for leading zeros.\r\n              // The number of leading zeros of n is given by LOG_BASE - d.\r\n              j = i - LOG_BASE + d;\r\n\r\n              // Get the rounding digit at index j of n.\r\n              rd = j < 0 ? 0 : n / pows10[d - j - 1] % 10 | 0;\r\n            }\r\n          }\r\n\r\n          r = r || sd < 0 ||\r\n\r\n          // Are there any non-zero digits after the rounding digit?\r\n          // The expression  n % pows10[d - j - 1]  returns all digits of n to the right\r\n          // of the digit at j, e.g. if n is 908714 and j is 2, the expression gives 714.\r\n           xc[ni + 1] != null || (j < 0 ? n : n % pows10[d - j - 1]);\r\n\r\n          r = rm < 4\r\n           ? (rd || r) && (rm == 0 || rm == (x.s < 0 ? 3 : 2))\r\n           : rd > 5 || rd == 5 && (rm == 4 || r || rm == 6 &&\r\n\r\n            // Check whether the digit to the left of the rounding digit is odd.\r\n            ((i > 0 ? j > 0 ? n / pows10[d - j] : 0 : xc[ni - 1]) % 10) & 1 ||\r\n             rm == (x.s < 0 ? 8 : 7));\r\n\r\n          if (sd < 1 || !xc[0]) {\r\n            xc.length = 0;\r\n\r\n            if (r) {\r\n\r\n              // Convert sd to decimal places.\r\n              sd -= x.e + 1;\r\n\r\n              // 1, 0.1, 0.01, 0.001, 0.0001 etc.\r\n              xc[0] = pows10[(LOG_BASE - sd % LOG_BASE) % LOG_BASE];\r\n              x.e = -sd || 0;\r\n            } else {\r\n\r\n              // Zero.\r\n              xc[0] = x.e = 0;\r\n            }\r\n\r\n            return x;\r\n          }\r\n\r\n          // Remove excess digits.\r\n          if (i == 0) {\r\n            xc.length = ni;\r\n            k = 1;\r\n            ni--;\r\n          } else {\r\n            xc.length = ni + 1;\r\n            k = pows10[LOG_BASE - i];\r\n\r\n            // E.g. 56700 becomes 56000 if 7 is the rounding digit.\r\n            // j > 0 means i > number of leading zeros of n.\r\n            xc[ni] = j > 0 ? mathfloor(n / pows10[d - j] % pows10[j]) * k : 0;\r\n          }\r\n\r\n          // Round up?\r\n          if (r) {\r\n\r\n            for (; ;) {\r\n\r\n              // If the digit to be rounded up is in the first element of xc...\r\n              if (ni == 0) {\r\n\r\n                // i will be the length of xc[0] before k is added.\r\n                for (i = 1, j = xc[0]; j >= 10; j /= 10, i++);\r\n                j = xc[0] += k;\r\n                for (k = 1; j >= 10; j /= 10, k++);\r\n\r\n                // if i != k the length has increased.\r\n                if (i != k) {\r\n                  x.e++;\r\n                  if (xc[0] == BASE) xc[0] = 1;\r\n                }\r\n\r\n                break;\r\n              } else {\r\n                xc[ni] += k;\r\n                if (xc[ni] != BASE) break;\r\n                xc[ni--] = 0;\r\n                k = 1;\r\n              }\r\n            }\r\n          }\r\n\r\n          // Remove trailing zeros.\r\n          for (i = xc.length; xc[--i] === 0; xc.pop());\r\n        }\r\n\r\n        // Overflow? Infinity.\r\n        if (x.e > MAX_EXP) {\r\n          x.c = x.e = null;\r\n\r\n        // Underflow? Zero.\r\n        } else if (x.e < MIN_EXP) {\r\n          x.c = [x.e = 0];\r\n        }\r\n      }\r\n\r\n      return x;\r\n    }\r\n\r\n\r\n    function valueOf(n) {\r\n      var str,\r\n        e = n.e;\r\n\r\n      if (e === null) return n.toString();\r\n\r\n      str = coeffToString(n.c);\r\n\r\n      str = e <= TO_EXP_NEG || e >= TO_EXP_POS\r\n        ? toExponential(str, e)\r\n        : toFixedPoint(str, e, '0');\r\n\r\n      return n.s < 0 ? '-' + str : str;\r\n    }\r\n\r\n\r\n    // PROTOTYPE/INSTANCE METHODS\r\n\r\n\r\n    /*\r\n     * Return a new BigNumber whose value is the absolute value of this BigNumber.\r\n     */\r\n    P.absoluteValue = P.abs = function () {\r\n      var x = new BigNumber(this);\r\n      if (x.s < 0) x.s = 1;\r\n      return x;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return\r\n     *   1 if the value of this BigNumber is greater than the value of BigNumber(y, b),\r\n     *   -1 if the value of this BigNumber is less than the value of BigNumber(y, b),\r\n     *   0 if they have the same value,\r\n     *   or null if the value of either is NaN.\r\n     */\r\n    P.comparedTo = function (y, b) {\r\n      return compare(this, new BigNumber(y, b));\r\n    };\r\n\r\n\r\n    /*\r\n     * If dp is undefined or null or true or false, return the number of decimal places of the\r\n     * value of this BigNumber, or null if the value of this BigNumber is Infinity or NaN.\r\n     *\r\n     * Otherwise, if dp is a number, return a new BigNumber whose value is the value of this\r\n     * BigNumber rounded to a maximum of dp decimal places using rounding mode rm, or\r\n     * ROUNDING_MODE if rm is omitted.\r\n     *\r\n     * [dp] {number} Decimal places: integer, 0 to MAX inclusive.\r\n     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n     */\r\n    P.decimalPlaces = P.dp = function (dp, rm) {\r\n      var c, n, v,\r\n        x = this;\r\n\r\n      if (dp != null) {\r\n        intCheck(dp, 0, MAX);\r\n        if (rm == null) rm = ROUNDING_MODE;\r\n        else intCheck(rm, 0, 8);\r\n\r\n        return round(new BigNumber(x), dp + x.e + 1, rm);\r\n      }\r\n\r\n      if (!(c = x.c)) return null;\r\n      n = ((v = c.length - 1) - bitFloor(this.e / LOG_BASE)) * LOG_BASE;\r\n\r\n      // Subtract the number of trailing zeros of the last number.\r\n      if (v = c[v]) for (; v % 10 == 0; v /= 10, n--);\r\n      if (n < 0) n = 0;\r\n\r\n      return n;\r\n    };\r\n\r\n\r\n    /*\r\n     *  n / 0 = I\r\n     *  n / N = N\r\n     *  n / I = 0\r\n     *  0 / n = 0\r\n     *  0 / 0 = N\r\n     *  0 / N = N\r\n     *  0 / I = 0\r\n     *  N / n = N\r\n     *  N / 0 = N\r\n     *  N / N = N\r\n     *  N / I = N\r\n     *  I / n = I\r\n     *  I / 0 = I\r\n     *  I / N = N\r\n     *  I / I = N\r\n     *\r\n     * Return a new BigNumber whose value is the value of this BigNumber divided by the value of\r\n     * BigNumber(y, b), rounded according to DECIMAL_PLACES and ROUNDING_MODE.\r\n     */\r\n    P.dividedBy = P.div = function (y, b) {\r\n      return div(this, new BigNumber(y, b), DECIMAL_PLACES, ROUNDING_MODE);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a new BigNumber whose value is the integer part of dividing the value of this\r\n     * BigNumber by the value of BigNumber(y, b).\r\n     */\r\n    P.dividedToIntegerBy = P.idiv = function (y, b) {\r\n      return div(this, new BigNumber(y, b), 0, 1);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a BigNumber whose value is the value of this BigNumber exponentiated by n.\r\n     *\r\n     * If m is present, return the result modulo m.\r\n     * If n is negative round according to DECIMAL_PLACES and ROUNDING_MODE.\r\n     * If POW_PRECISION is non-zero and m is not present, round to POW_PRECISION using ROUNDING_MODE.\r\n     *\r\n     * The modular power operation works efficiently when x, n, and m are integers, otherwise it\r\n     * is equivalent to calculating x.exponentiatedBy(n).modulo(m) with a POW_PRECISION of 0.\r\n     *\r\n     * n {number|string|BigNumber} The exponent. An integer.\r\n     * [m] {number|string|BigNumber} The modulus.\r\n     *\r\n     * '[BigNumber Error] Exponent not an integer: {n}'\r\n     */\r\n    P.exponentiatedBy = P.pow = function (n, m) {\r\n      var half, isModExp, i, k, more, nIsBig, nIsNeg, nIsOdd, y,\r\n        x = this;\r\n\r\n      n = new BigNumber(n);\r\n\r\n      // Allow NaN and Infinity, but not other non-integers.\r\n      if (n.c && !n.isInteger()) {\r\n        throw Error\r\n          (bignumberError + 'Exponent not an integer: ' + valueOf(n));\r\n      }\r\n\r\n      if (m != null) m = new BigNumber(m);\r\n\r\n      // Exponent of MAX_SAFE_INTEGER is 15.\r\n      nIsBig = n.e > 14;\r\n\r\n      // If x is NaN, Infinity, 0 or 1, or n is Infinity, NaN or 0.\r\n      if (!x.c || !x.c[0] || x.c[0] == 1 && !x.e && x.c.length == 1 || !n.c || !n.c[0]) {\r\n\r\n        // The sign of the result of pow when x is negative depends on the evenness of n.\r\n        // If +n overflows to Infinity, the evenness of n would be not be known.\r\n        y = new BigNumber(Math.pow(+valueOf(x), nIsBig ? 2 - isOdd(n) : +valueOf(n)));\r\n        return m ? y.mod(m) : y;\r\n      }\r\n\r\n      nIsNeg = n.s < 0;\r\n\r\n      if (m) {\r\n\r\n        // x % m returns NaN if abs(m) is zero, or m is NaN.\r\n        if (m.c ? !m.c[0] : !m.s) return new BigNumber(NaN);\r\n\r\n        isModExp = !nIsNeg && x.isInteger() && m.isInteger();\r\n\r\n        if (isModExp) x = x.mod(m);\r\n\r\n      // Overflow to Infinity: >=2**1e10 or >=1.0000024**1e15.\r\n      // Underflow to 0: <=0.79**1e10 or <=0.9999975**1e15.\r\n      } else if (n.e > 9 && (x.e > 0 || x.e < -1 || (x.e == 0\r\n        // [1, 240000000]\r\n        ? x.c[0] > 1 || nIsBig && x.c[1] >= 24e7\r\n        // [80000000000000]  [99999750000000]\r\n        : x.c[0] < 8e13 || nIsBig && x.c[0] <= 9999975e7))) {\r\n\r\n        // If x is negative and n is odd, k = -0, else k = 0.\r\n        k = x.s < 0 && isOdd(n) ? -0 : 0;\r\n\r\n        // If x >= 1, k = Infinity.\r\n        if (x.e > -1) k = 1 / k;\r\n\r\n        // If n is negative return 0, else return Infinity.\r\n        return new BigNumber(nIsNeg ? 1 / k : k);\r\n\r\n      } else if (POW_PRECISION) {\r\n\r\n        // Truncating each coefficient array to a length of k after each multiplication\r\n        // equates to truncating significant digits to POW_PRECISION + [28, 41],\r\n        // i.e. there will be a minimum of 28 guard digits retained.\r\n        k = mathceil(POW_PRECISION / LOG_BASE + 2);\r\n      }\r\n\r\n      if (nIsBig) {\r\n        half = new BigNumber(0.5);\r\n        if (nIsNeg) n.s = 1;\r\n        nIsOdd = isOdd(n);\r\n      } else {\r\n        i = Math.abs(+valueOf(n));\r\n        nIsOdd = i % 2;\r\n      }\r\n\r\n      y = new BigNumber(ONE);\r\n\r\n      // Performs 54 loop iterations for n of 9007199254740991.\r\n      for (; ;) {\r\n\r\n        if (nIsOdd) {\r\n          y = y.times(x);\r\n          if (!y.c) break;\r\n\r\n          if (k) {\r\n            if (y.c.length > k) y.c.length = k;\r\n          } else if (isModExp) {\r\n            y = y.mod(m);    //y = y.minus(div(y, m, 0, MODULO_MODE).times(m));\r\n          }\r\n        }\r\n\r\n        if (i) {\r\n          i = mathfloor(i / 2);\r\n          if (i === 0) break;\r\n          nIsOdd = i % 2;\r\n        } else {\r\n          n = n.times(half);\r\n          round(n, n.e + 1, 1);\r\n\r\n          if (n.e > 14) {\r\n            nIsOdd = isOdd(n);\r\n          } else {\r\n            i = +valueOf(n);\r\n            if (i === 0) break;\r\n            nIsOdd = i % 2;\r\n          }\r\n        }\r\n\r\n        x = x.times(x);\r\n\r\n        if (k) {\r\n          if (x.c && x.c.length > k) x.c.length = k;\r\n        } else if (isModExp) {\r\n          x = x.mod(m);    //x = x.minus(div(x, m, 0, MODULO_MODE).times(m));\r\n        }\r\n      }\r\n\r\n      if (isModExp) return y;\r\n      if (nIsNeg) y = ONE.div(y);\r\n\r\n      return m ? y.mod(m) : k ? round(y, POW_PRECISION, ROUNDING_MODE, more) : y;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a new BigNumber whose value is the value of this BigNumber rounded to an integer\r\n     * using rounding mode rm, or ROUNDING_MODE if rm is omitted.\r\n     *\r\n     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {rm}'\r\n     */\r\n    P.integerValue = function (rm) {\r\n      var n = new BigNumber(this);\r\n      if (rm == null) rm = ROUNDING_MODE;\r\n      else intCheck(rm, 0, 8);\r\n      return round(n, n.e + 1, rm);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is equal to the value of BigNumber(y, b),\r\n     * otherwise return false.\r\n     */\r\n    P.isEqualTo = P.eq = function (y, b) {\r\n      return compare(this, new BigNumber(y, b)) === 0;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is a finite number, otherwise return false.\r\n     */\r\n    P.isFinite = function () {\r\n      return !!this.c;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is greater than the value of BigNumber(y, b),\r\n     * otherwise return false.\r\n     */\r\n    P.isGreaterThan = P.gt = function (y, b) {\r\n      return compare(this, new BigNumber(y, b)) > 0;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is greater than or equal to the value of\r\n     * BigNumber(y, b), otherwise return false.\r\n     */\r\n    P.isGreaterThanOrEqualTo = P.gte = function (y, b) {\r\n      return (b = compare(this, new BigNumber(y, b))) === 1 || b === 0;\r\n\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is an integer, otherwise return false.\r\n     */\r\n    P.isInteger = function () {\r\n      return !!this.c && bitFloor(this.e / LOG_BASE) > this.c.length - 2;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is less than the value of BigNumber(y, b),\r\n     * otherwise return false.\r\n     */\r\n    P.isLessThan = P.lt = function (y, b) {\r\n      return compare(this, new BigNumber(y, b)) < 0;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is less than or equal to the value of\r\n     * BigNumber(y, b), otherwise return false.\r\n     */\r\n    P.isLessThanOrEqualTo = P.lte = function (y, b) {\r\n      return (b = compare(this, new BigNumber(y, b))) === -1 || b === 0;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is NaN, otherwise return false.\r\n     */\r\n    P.isNaN = function () {\r\n      return !this.s;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is negative, otherwise return false.\r\n     */\r\n    P.isNegative = function () {\r\n      return this.s < 0;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is positive, otherwise return false.\r\n     */\r\n    P.isPositive = function () {\r\n      return this.s > 0;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is 0 or -0, otherwise return false.\r\n     */\r\n    P.isZero = function () {\r\n      return !!this.c && this.c[0] == 0;\r\n    };\r\n\r\n\r\n    /*\r\n     *  n - 0 = n\r\n     *  n - N = N\r\n     *  n - I = -I\r\n     *  0 - n = -n\r\n     *  0 - 0 = 0\r\n     *  0 - N = N\r\n     *  0 - I = -I\r\n     *  N - n = N\r\n     *  N - 0 = N\r\n     *  N - N = N\r\n     *  N - I = N\r\n     *  I - n = I\r\n     *  I - 0 = I\r\n     *  I - N = N\r\n     *  I - I = N\r\n     *\r\n     * Return a new BigNumber whose value is the value of this BigNumber minus the value of\r\n     * BigNumber(y, b).\r\n     */\r\n    P.minus = function (y, b) {\r\n      var i, j, t, xLTy,\r\n        x = this,\r\n        a = x.s;\r\n\r\n      y = new BigNumber(y, b);\r\n      b = y.s;\r\n\r\n      // Either NaN?\r\n      if (!a || !b) return new BigNumber(NaN);\r\n\r\n      // Signs differ?\r\n      if (a != b) {\r\n        y.s = -b;\r\n        return x.plus(y);\r\n      }\r\n\r\n      var xe = x.e / LOG_BASE,\r\n        ye = y.e / LOG_BASE,\r\n        xc = x.c,\r\n        yc = y.c;\r\n\r\n      if (!xe || !ye) {\r\n\r\n        // Either Infinity?\r\n        if (!xc || !yc) return xc ? (y.s = -b, y) : new BigNumber(yc ? x : NaN);\r\n\r\n        // Either zero?\r\n        if (!xc[0] || !yc[0]) {\r\n\r\n          // Return y if y is non-zero, x if x is non-zero, or zero if both are zero.\r\n          return yc[0] ? (y.s = -b, y) : new BigNumber(xc[0] ? x :\r\n\r\n           // IEEE 754 (2008) 6.3: n - n = -0 when rounding to -Infinity\r\n           ROUNDING_MODE == 3 ? -0 : 0);\r\n        }\r\n      }\r\n\r\n      xe = bitFloor(xe);\r\n      ye = bitFloor(ye);\r\n      xc = xc.slice();\r\n\r\n      // Determine which is the bigger number.\r\n      if (a = xe - ye) {\r\n\r\n        if (xLTy = a < 0) {\r\n          a = -a;\r\n          t = xc;\r\n        } else {\r\n          ye = xe;\r\n          t = yc;\r\n        }\r\n\r\n        t.reverse();\r\n\r\n        // Prepend zeros to equalise exponents.\r\n        for (b = a; b--; t.push(0));\r\n        t.reverse();\r\n      } else {\r\n\r\n        // Exponents equal. Check digit by digit.\r\n        j = (xLTy = (a = xc.length) < (b = yc.length)) ? a : b;\r\n\r\n        for (a = b = 0; b < j; b++) {\r\n\r\n          if (xc[b] != yc[b]) {\r\n            xLTy = xc[b] < yc[b];\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      // x < y? Point xc to the array of the bigger number.\r\n      if (xLTy) t = xc, xc = yc, yc = t, y.s = -y.s;\r\n\r\n      b = (j = yc.length) - (i = xc.length);\r\n\r\n      // Append zeros to xc if shorter.\r\n      // No need to add zeros to yc if shorter as subtract only needs to start at yc.length.\r\n      if (b > 0) for (; b--; xc[i++] = 0);\r\n      b = BASE - 1;\r\n\r\n      // Subtract yc from xc.\r\n      for (; j > a;) {\r\n\r\n        if (xc[--j] < yc[j]) {\r\n          for (i = j; i && !xc[--i]; xc[i] = b);\r\n          --xc[i];\r\n          xc[j] += BASE;\r\n        }\r\n\r\n        xc[j] -= yc[j];\r\n      }\r\n\r\n      // Remove leading zeros and adjust exponent accordingly.\r\n      for (; xc[0] == 0; xc.splice(0, 1), --ye);\r\n\r\n      // Zero?\r\n      if (!xc[0]) {\r\n\r\n        // Following IEEE 754 (2008) 6.3,\r\n        // n - n = +0  but  n - n = -0  when rounding towards -Infinity.\r\n        y.s = ROUNDING_MODE == 3 ? -1 : 1;\r\n        y.c = [y.e = 0];\r\n        return y;\r\n      }\r\n\r\n      // No need to check for Infinity as +x - +y != Infinity && -x - -y != Infinity\r\n      // for finite x and y.\r\n      return normalise(y, xc, ye);\r\n    };\r\n\r\n\r\n    /*\r\n     *   n % 0 =  N\r\n     *   n % N =  N\r\n     *   n % I =  n\r\n     *   0 % n =  0\r\n     *  -0 % n = -0\r\n     *   0 % 0 =  N\r\n     *   0 % N =  N\r\n     *   0 % I =  0\r\n     *   N % n =  N\r\n     *   N % 0 =  N\r\n     *   N % N =  N\r\n     *   N % I =  N\r\n     *   I % n =  N\r\n     *   I % 0 =  N\r\n     *   I % N =  N\r\n     *   I % I =  N\r\n     *\r\n     * Return a new BigNumber whose value is the value of this BigNumber modulo the value of\r\n     * BigNumber(y, b). The result depends on the value of MODULO_MODE.\r\n     */\r\n    P.modulo = P.mod = function (y, b) {\r\n      var q, s,\r\n        x = this;\r\n\r\n      y = new BigNumber(y, b);\r\n\r\n      // Return NaN if x is Infinity or NaN, or y is NaN or zero.\r\n      if (!x.c || !y.s || y.c && !y.c[0]) {\r\n        return new BigNumber(NaN);\r\n\r\n      // Return x if y is Infinity or x is zero.\r\n      } else if (!y.c || x.c && !x.c[0]) {\r\n        return new BigNumber(x);\r\n      }\r\n\r\n      if (MODULO_MODE == 9) {\r\n\r\n        // Euclidian division: q = sign(y) * floor(x / abs(y))\r\n        // r = x - qy    where  0 <= r < abs(y)\r\n        s = y.s;\r\n        y.s = 1;\r\n        q = div(x, y, 0, 3);\r\n        y.s = s;\r\n        q.s *= s;\r\n      } else {\r\n        q = div(x, y, 0, MODULO_MODE);\r\n      }\r\n\r\n      y = x.minus(q.times(y));\r\n\r\n      // To match JavaScript %, ensure sign of zero is sign of dividend.\r\n      if (!y.c[0] && MODULO_MODE == 1) y.s = x.s;\r\n\r\n      return y;\r\n    };\r\n\r\n\r\n    /*\r\n     *  n * 0 = 0\r\n     *  n * N = N\r\n     *  n * I = I\r\n     *  0 * n = 0\r\n     *  0 * 0 = 0\r\n     *  0 * N = N\r\n     *  0 * I = N\r\n     *  N * n = N\r\n     *  N * 0 = N\r\n     *  N * N = N\r\n     *  N * I = N\r\n     *  I * n = I\r\n     *  I * 0 = N\r\n     *  I * N = N\r\n     *  I * I = I\r\n     *\r\n     * Return a new BigNumber whose value is the value of this BigNumber multiplied by the value\r\n     * of BigNumber(y, b).\r\n     */\r\n    P.multipliedBy = P.times = function (y, b) {\r\n      var c, e, i, j, k, m, xcL, xlo, xhi, ycL, ylo, yhi, zc,\r\n        base, sqrtBase,\r\n        x = this,\r\n        xc = x.c,\r\n        yc = (y = new BigNumber(y, b)).c;\r\n\r\n      // Either NaN, Infinity or 0?\r\n      if (!xc || !yc || !xc[0] || !yc[0]) {\r\n\r\n        // Return NaN if either is NaN, or one is 0 and the other is Infinity.\r\n        if (!x.s || !y.s || xc && !xc[0] && !yc || yc && !yc[0] && !xc) {\r\n          y.c = y.e = y.s = null;\r\n        } else {\r\n          y.s *= x.s;\r\n\r\n          // Return Infinity if either is Infinity.\r\n          if (!xc || !yc) {\r\n            y.c = y.e = null;\r\n\r\n          // Return 0 if either is 0.\r\n          } else {\r\n            y.c = [0];\r\n            y.e = 0;\r\n          }\r\n        }\r\n\r\n        return y;\r\n      }\r\n\r\n      e = bitFloor(x.e / LOG_BASE) + bitFloor(y.e / LOG_BASE);\r\n      y.s *= x.s;\r\n      xcL = xc.length;\r\n      ycL = yc.length;\r\n\r\n      // Ensure xc points to longer array and xcL to its length.\r\n      if (xcL < ycL) zc = xc, xc = yc, yc = zc, i = xcL, xcL = ycL, ycL = i;\r\n\r\n      // Initialise the result array with zeros.\r\n      for (i = xcL + ycL, zc = []; i--; zc.push(0));\r\n\r\n      base = BASE;\r\n      sqrtBase = SQRT_BASE;\r\n\r\n      for (i = ycL; --i >= 0;) {\r\n        c = 0;\r\n        ylo = yc[i] % sqrtBase;\r\n        yhi = yc[i] / sqrtBase | 0;\r\n\r\n        for (k = xcL, j = i + k; j > i;) {\r\n          xlo = xc[--k] % sqrtBase;\r\n          xhi = xc[k] / sqrtBase | 0;\r\n          m = yhi * xlo + xhi * ylo;\r\n          xlo = ylo * xlo + ((m % sqrtBase) * sqrtBase) + zc[j] + c;\r\n          c = (xlo / base | 0) + (m / sqrtBase | 0) + yhi * xhi;\r\n          zc[j--] = xlo % base;\r\n        }\r\n\r\n        zc[j] = c;\r\n      }\r\n\r\n      if (c) {\r\n        ++e;\r\n      } else {\r\n        zc.splice(0, 1);\r\n      }\r\n\r\n      return normalise(y, zc, e);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a new BigNumber whose value is the value of this BigNumber negated,\r\n     * i.e. multiplied by -1.\r\n     */\r\n    P.negated = function () {\r\n      var x = new BigNumber(this);\r\n      x.s = -x.s || null;\r\n      return x;\r\n    };\r\n\r\n\r\n    /*\r\n     *  n + 0 = n\r\n     *  n + N = N\r\n     *  n + I = I\r\n     *  0 + n = n\r\n     *  0 + 0 = 0\r\n     *  0 + N = N\r\n     *  0 + I = I\r\n     *  N + n = N\r\n     *  N + 0 = N\r\n     *  N + N = N\r\n     *  N + I = N\r\n     *  I + n = I\r\n     *  I + 0 = I\r\n     *  I + N = N\r\n     *  I + I = I\r\n     *\r\n     * Return a new BigNumber whose value is the value of this BigNumber plus the value of\r\n     * BigNumber(y, b).\r\n     */\r\n    P.plus = function (y, b) {\r\n      var t,\r\n        x = this,\r\n        a = x.s;\r\n\r\n      y = new BigNumber(y, b);\r\n      b = y.s;\r\n\r\n      // Either NaN?\r\n      if (!a || !b) return new BigNumber(NaN);\r\n\r\n      // Signs differ?\r\n       if (a != b) {\r\n        y.s = -b;\r\n        return x.minus(y);\r\n      }\r\n\r\n      var xe = x.e / LOG_BASE,\r\n        ye = y.e / LOG_BASE,\r\n        xc = x.c,\r\n        yc = y.c;\r\n\r\n      if (!xe || !ye) {\r\n\r\n        // Return Infinity if either Infinity.\r\n        if (!xc || !yc) return new BigNumber(a / 0);\r\n\r\n        // Either zero?\r\n        // Return y if y is non-zero, x if x is non-zero, or zero if both are zero.\r\n        if (!xc[0] || !yc[0]) return yc[0] ? y : new BigNumber(xc[0] ? x : a * 0);\r\n      }\r\n\r\n      xe = bitFloor(xe);\r\n      ye = bitFloor(ye);\r\n      xc = xc.slice();\r\n\r\n      // Prepend zeros to equalise exponents. Faster to use reverse then do unshifts.\r\n      if (a = xe - ye) {\r\n        if (a > 0) {\r\n          ye = xe;\r\n          t = yc;\r\n        } else {\r\n          a = -a;\r\n          t = xc;\r\n        }\r\n\r\n        t.reverse();\r\n        for (; a--; t.push(0));\r\n        t.reverse();\r\n      }\r\n\r\n      a = xc.length;\r\n      b = yc.length;\r\n\r\n      // Point xc to the longer array, and b to the shorter length.\r\n      if (a - b < 0) t = yc, yc = xc, xc = t, b = a;\r\n\r\n      // Only start adding at yc.length - 1 as the further digits of xc can be ignored.\r\n      for (a = 0; b;) {\r\n        a = (xc[--b] = xc[b] + yc[b] + a) / BASE | 0;\r\n        xc[b] = BASE === xc[b] ? 0 : xc[b] % BASE;\r\n      }\r\n\r\n      if (a) {\r\n        xc = [a].concat(xc);\r\n        ++ye;\r\n      }\r\n\r\n      // No need to check for zero, as +x + +y != 0 && -x + -y != 0\r\n      // ye = MAX_EXP + 1 possible\r\n      return normalise(y, xc, ye);\r\n    };\r\n\r\n\r\n    /*\r\n     * If sd is undefined or null or true or false, return the number of significant digits of\r\n     * the value of this BigNumber, or null if the value of this BigNumber is Infinity or NaN.\r\n     * If sd is true include integer-part trailing zeros in the count.\r\n     *\r\n     * Otherwise, if sd is a number, return a new BigNumber whose value is the value of this\r\n     * BigNumber rounded to a maximum of sd significant digits using rounding mode rm, or\r\n     * ROUNDING_MODE if rm is omitted.\r\n     *\r\n     * sd {number|boolean} number: significant digits: integer, 1 to MAX inclusive.\r\n     *                     boolean: whether to count integer-part trailing zeros: true or false.\r\n     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {sd|rm}'\r\n     */\r\n    P.precision = P.sd = function (sd, rm) {\r\n      var c, n, v,\r\n        x = this;\r\n\r\n      if (sd != null && sd !== !!sd) {\r\n        intCheck(sd, 1, MAX);\r\n        if (rm == null) rm = ROUNDING_MODE;\r\n        else intCheck(rm, 0, 8);\r\n\r\n        return round(new BigNumber(x), sd, rm);\r\n      }\r\n\r\n      if (!(c = x.c)) return null;\r\n      v = c.length - 1;\r\n      n = v * LOG_BASE + 1;\r\n\r\n      if (v = c[v]) {\r\n\r\n        // Subtract the number of trailing zeros of the last element.\r\n        for (; v % 10 == 0; v /= 10, n--);\r\n\r\n        // Add the number of digits of the first element.\r\n        for (v = c[0]; v >= 10; v /= 10, n++);\r\n      }\r\n\r\n      if (sd && x.e + 1 > n) n = x.e + 1;\r\n\r\n      return n;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a new BigNumber whose value is the value of this BigNumber shifted by k places\r\n     * (powers of 10). Shift to the right if n > 0, and to the left if n < 0.\r\n     *\r\n     * k {number} Integer, -MAX_SAFE_INTEGER to MAX_SAFE_INTEGER inclusive.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {k}'\r\n     */\r\n    P.shiftedBy = function (k) {\r\n      intCheck(k, -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER);\r\n      return this.times('1e' + k);\r\n    };\r\n\r\n\r\n    /*\r\n     *  sqrt(-n) =  N\r\n     *  sqrt(N) =  N\r\n     *  sqrt(-I) =  N\r\n     *  sqrt(I) =  I\r\n     *  sqrt(0) =  0\r\n     *  sqrt(-0) = -0\r\n     *\r\n     * Return a new BigNumber whose value is the square root of the value of this BigNumber,\r\n     * rounded according to DECIMAL_PLACES and ROUNDING_MODE.\r\n     */\r\n    P.squareRoot = P.sqrt = function () {\r\n      var m, n, r, rep, t,\r\n        x = this,\r\n        c = x.c,\r\n        s = x.s,\r\n        e = x.e,\r\n        dp = DECIMAL_PLACES + 4,\r\n        half = new BigNumber('0.5');\r\n\r\n      // Negative/NaN/Infinity/zero?\r\n      if (s !== 1 || !c || !c[0]) {\r\n        return new BigNumber(!s || s < 0 && (!c || c[0]) ? NaN : c ? x : 1 / 0);\r\n      }\r\n\r\n      // Initial estimate.\r\n      s = Math.sqrt(+valueOf(x));\r\n\r\n      // Math.sqrt underflow/overflow?\r\n      // Pass x to Math.sqrt as integer, then adjust the exponent of the result.\r\n      if (s == 0 || s == 1 / 0) {\r\n        n = coeffToString(c);\r\n        if ((n.length + e) % 2 == 0) n += '0';\r\n        s = Math.sqrt(+n);\r\n        e = bitFloor((e + 1) / 2) - (e < 0 || e % 2);\r\n\r\n        if (s == 1 / 0) {\r\n          n = '5e' + e;\r\n        } else {\r\n          n = s.toExponential();\r\n          n = n.slice(0, n.indexOf('e') + 1) + e;\r\n        }\r\n\r\n        r = new BigNumber(n);\r\n      } else {\r\n        r = new BigNumber(s + '');\r\n      }\r\n\r\n      // Check for zero.\r\n      // r could be zero if MIN_EXP is changed after the this value was created.\r\n      // This would cause a division by zero (x/t) and hence Infinity below, which would cause\r\n      // coeffToString to throw.\r\n      if (r.c[0]) {\r\n        e = r.e;\r\n        s = e + dp;\r\n        if (s < 3) s = 0;\r\n\r\n        // Newton-Raphson iteration.\r\n        for (; ;) {\r\n          t = r;\r\n          r = half.times(t.plus(div(x, t, dp, 1)));\r\n\r\n          if (coeffToString(t.c).slice(0, s) === (n = coeffToString(r.c)).slice(0, s)) {\r\n\r\n            // The exponent of r may here be one less than the final result exponent,\r\n            // e.g 0.0009999 (e-4) --> 0.001 (e-3), so adjust s so the rounding digits\r\n            // are indexed correctly.\r\n            if (r.e < e) --s;\r\n            n = n.slice(s - 3, s + 1);\r\n\r\n            // The 4th rounding digit may be in error by -1 so if the 4 rounding digits\r\n            // are 9999 or 4999 (i.e. approaching a rounding boundary) continue the\r\n            // iteration.\r\n            if (n == '9999' || !rep && n == '4999') {\r\n\r\n              // On the first iteration only, check to see if rounding up gives the\r\n              // exact result as the nines may infinitely repeat.\r\n              if (!rep) {\r\n                round(t, t.e + DECIMAL_PLACES + 2, 0);\r\n\r\n                if (t.times(t).eq(x)) {\r\n                  r = t;\r\n                  break;\r\n                }\r\n              }\r\n\r\n              dp += 4;\r\n              s += 4;\r\n              rep = 1;\r\n            } else {\r\n\r\n              // If rounding digits are null, 0{0,4} or 50{0,3}, check for exact\r\n              // result. If not, then there are further digits and m will be truthy.\r\n              if (!+n || !+n.slice(1) && n.charAt(0) == '5') {\r\n\r\n                // Truncate to the first rounding digit.\r\n                round(r, r.e + DECIMAL_PLACES + 2, 1);\r\n                m = !r.times(r).eq(x);\r\n              }\r\n\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      return round(r, r.e + DECIMAL_PLACES + 1, ROUNDING_MODE, m);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a string representing the value of this BigNumber in exponential notation and\r\n     * rounded using ROUNDING_MODE to dp fixed decimal places.\r\n     *\r\n     * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n     */\r\n    P.toExponential = function (dp, rm) {\r\n      if (dp != null) {\r\n        intCheck(dp, 0, MAX);\r\n        dp++;\r\n      }\r\n      return format(this, dp, rm, 1);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a string representing the value of this BigNumber in fixed-point notation rounding\r\n     * to dp fixed decimal places using rounding mode rm, or ROUNDING_MODE if rm is omitted.\r\n     *\r\n     * Note: as with JavaScript's number type, (-0).toFixed(0) is '0',\r\n     * but e.g. (-0.00001).toFixed(0) is '-0'.\r\n     *\r\n     * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n     */\r\n    P.toFixed = function (dp, rm) {\r\n      if (dp != null) {\r\n        intCheck(dp, 0, MAX);\r\n        dp = dp + this.e + 1;\r\n      }\r\n      return format(this, dp, rm);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a string representing the value of this BigNumber in fixed-point notation rounded\r\n     * using rm or ROUNDING_MODE to dp decimal places, and formatted according to the properties\r\n     * of the format or FORMAT object (see BigNumber.set).\r\n     *\r\n     * The formatting object may contain some or all of the properties shown below.\r\n     *\r\n     * FORMAT = {\r\n     *   prefix: '',\r\n     *   groupSize: 3,\r\n     *   secondaryGroupSize: 0,\r\n     *   groupSeparator: ',',\r\n     *   decimalSeparator: '.',\r\n     *   fractionGroupSize: 0,\r\n     *   fractionGroupSeparator: '\\xA0',      // non-breaking space\r\n     *   suffix: ''\r\n     * };\r\n     *\r\n     * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n     * [format] {object} Formatting options. See FORMAT pbject above.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n     * '[BigNumber Error] Argument not an object: {format}'\r\n     */\r\n    P.toFormat = function (dp, rm, format) {\r\n      var str,\r\n        x = this;\r\n\r\n      if (format == null) {\r\n        if (dp != null && rm && typeof rm == 'object') {\r\n          format = rm;\r\n          rm = null;\r\n        } else if (dp && typeof dp == 'object') {\r\n          format = dp;\r\n          dp = rm = null;\r\n        } else {\r\n          format = FORMAT;\r\n        }\r\n      } else if (typeof format != 'object') {\r\n        throw Error\r\n          (bignumberError + 'Argument not an object: ' + format);\r\n      }\r\n\r\n      str = x.toFixed(dp, rm);\r\n\r\n      if (x.c) {\r\n        var i,\r\n          arr = str.split('.'),\r\n          g1 = +format.groupSize,\r\n          g2 = +format.secondaryGroupSize,\r\n          groupSeparator = format.groupSeparator || '',\r\n          intPart = arr[0],\r\n          fractionPart = arr[1],\r\n          isNeg = x.s < 0,\r\n          intDigits = isNeg ? intPart.slice(1) : intPart,\r\n          len = intDigits.length;\r\n\r\n        if (g2) i = g1, g1 = g2, g2 = i, len -= i;\r\n\r\n        if (g1 > 0 && len > 0) {\r\n          i = len % g1 || g1;\r\n          intPart = intDigits.substr(0, i);\r\n          for (; i < len; i += g1) intPart += groupSeparator + intDigits.substr(i, g1);\r\n          if (g2 > 0) intPart += groupSeparator + intDigits.slice(i);\r\n          if (isNeg) intPart = '-' + intPart;\r\n        }\r\n\r\n        str = fractionPart\r\n         ? intPart + (format.decimalSeparator || '') + ((g2 = +format.fractionGroupSize)\r\n          ? fractionPart.replace(new RegExp('\\\\d{' + g2 + '}\\\\B', 'g'),\r\n           '$&' + (format.fractionGroupSeparator || ''))\r\n          : fractionPart)\r\n         : intPart;\r\n      }\r\n\r\n      return (format.prefix || '') + str + (format.suffix || '');\r\n    };\r\n\r\n\r\n    /*\r\n     * Return an array of two BigNumbers representing the value of this BigNumber as a simple\r\n     * fraction with an integer numerator and an integer denominator.\r\n     * The denominator will be a positive non-zero value less than or equal to the specified\r\n     * maximum denominator. If a maximum denominator is not specified, the denominator will be\r\n     * the lowest value necessary to represent the number exactly.\r\n     *\r\n     * [md] {number|string|BigNumber} Integer >= 1, or Infinity. The maximum denominator.\r\n     *\r\n     * '[BigNumber Error] Argument {not an integer|out of range} : {md}'\r\n     */\r\n    P.toFraction = function (md) {\r\n      var d, d0, d1, d2, e, exp, n, n0, n1, q, r, s,\r\n        x = this,\r\n        xc = x.c;\r\n\r\n      if (md != null) {\r\n        n = new BigNumber(md);\r\n\r\n        // Throw if md is less than one or is not an integer, unless it is Infinity.\r\n        if (!n.isInteger() && (n.c || n.s !== 1) || n.lt(ONE)) {\r\n          throw Error\r\n            (bignumberError + 'Argument ' +\r\n              (n.isInteger() ? 'out of range: ' : 'not an integer: ') + valueOf(n));\r\n        }\r\n      }\r\n\r\n      if (!xc) return new BigNumber(x);\r\n\r\n      d = new BigNumber(ONE);\r\n      n1 = d0 = new BigNumber(ONE);\r\n      d1 = n0 = new BigNumber(ONE);\r\n      s = coeffToString(xc);\r\n\r\n      // Determine initial denominator.\r\n      // d is a power of 10 and the minimum max denominator that specifies the value exactly.\r\n      e = d.e = s.length - x.e - 1;\r\n      d.c[0] = POWS_TEN[(exp = e % LOG_BASE) < 0 ? LOG_BASE + exp : exp];\r\n      md = !md || n.comparedTo(d) > 0 ? (e > 0 ? d : n1) : n;\r\n\r\n      exp = MAX_EXP;\r\n      MAX_EXP = 1 / 0;\r\n      n = new BigNumber(s);\r\n\r\n      // n0 = d1 = 0\r\n      n0.c[0] = 0;\r\n\r\n      for (; ;)  {\r\n        q = div(n, d, 0, 1);\r\n        d2 = d0.plus(q.times(d1));\r\n        if (d2.comparedTo(md) == 1) break;\r\n        d0 = d1;\r\n        d1 = d2;\r\n        n1 = n0.plus(q.times(d2 = n1));\r\n        n0 = d2;\r\n        d = n.minus(q.times(d2 = d));\r\n        n = d2;\r\n      }\r\n\r\n      d2 = div(md.minus(d0), d1, 0, 1);\r\n      n0 = n0.plus(d2.times(n1));\r\n      d0 = d0.plus(d2.times(d1));\r\n      n0.s = n1.s = x.s;\r\n      e = e * 2;\r\n\r\n      // Determine which fraction is closer to x, n0/d0 or n1/d1\r\n      r = div(n1, d1, e, ROUNDING_MODE).minus(x).abs().comparedTo(\r\n          div(n0, d0, e, ROUNDING_MODE).minus(x).abs()) < 1 ? [n1, d1] : [n0, d0];\r\n\r\n      MAX_EXP = exp;\r\n\r\n      return r;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return the value of this BigNumber converted to a number primitive.\r\n     */\r\n    P.toNumber = function () {\r\n      return +valueOf(this);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a string representing the value of this BigNumber rounded to sd significant digits\r\n     * using rounding mode rm or ROUNDING_MODE. If sd is less than the number of digits\r\n     * necessary to represent the integer part of the value in fixed-point notation, then use\r\n     * exponential notation.\r\n     *\r\n     * [sd] {number} Significant digits. Integer, 1 to MAX inclusive.\r\n     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {sd|rm}'\r\n     */\r\n    P.toPrecision = function (sd, rm) {\r\n      if (sd != null) intCheck(sd, 1, MAX);\r\n      return format(this, sd, rm, 2);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a string representing the value of this BigNumber in base b, or base 10 if b is\r\n     * omitted. If a base is specified, including base 10, round according to DECIMAL_PLACES and\r\n     * ROUNDING_MODE. If a base is not specified, and this BigNumber has a positive exponent\r\n     * that is equal to or greater than TO_EXP_POS, or a negative exponent equal to or less than\r\n     * TO_EXP_NEG, return exponential notation.\r\n     *\r\n     * [b] {number} Integer, 2 to ALPHABET.length inclusive.\r\n     *\r\n     * '[BigNumber Error] Base {not a primitive number|not an integer|out of range}: {b}'\r\n     */\r\n    P.toString = function (b) {\r\n      var str,\r\n        n = this,\r\n        s = n.s,\r\n        e = n.e;\r\n\r\n      // Infinity or NaN?\r\n      if (e === null) {\r\n        if (s) {\r\n          str = 'Infinity';\r\n          if (s < 0) str = '-' + str;\r\n        } else {\r\n          str = 'NaN';\r\n        }\r\n      } else {\r\n        if (b == null) {\r\n          str = e <= TO_EXP_NEG || e >= TO_EXP_POS\r\n           ? toExponential(coeffToString(n.c), e)\r\n           : toFixedPoint(coeffToString(n.c), e, '0');\r\n        } else if (b === 10 && alphabetHasNormalDecimalDigits) {\r\n          n = round(new BigNumber(n), DECIMAL_PLACES + e + 1, ROUNDING_MODE);\r\n          str = toFixedPoint(coeffToString(n.c), n.e, '0');\r\n        } else {\r\n          intCheck(b, 2, ALPHABET.length, 'Base');\r\n          str = convertBase(toFixedPoint(coeffToString(n.c), e, '0'), 10, b, s, true);\r\n        }\r\n\r\n        if (s < 0 && n.c[0]) str = '-' + str;\r\n      }\r\n\r\n      return str;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return as toString, but do not accept a base argument, and include the minus sign for\r\n     * negative zero.\r\n     */\r\n    P.valueOf = P.toJSON = function () {\r\n      return valueOf(this);\r\n    };\r\n\r\n\r\n    P._isBigNumber = true;\r\n\r\n    if (configObject != null) BigNumber.set(configObject);\r\n\r\n    return BigNumber;\r\n  }\r\n\r\n\r\n  // PRIVATE HELPER FUNCTIONS\r\n\r\n  // These functions don't need access to variables,\r\n  // e.g. DECIMAL_PLACES, in the scope of the `clone` function above.\r\n\r\n\r\n  function bitFloor(n) {\r\n    var i = n | 0;\r\n    return n > 0 || n === i ? i : i - 1;\r\n  }\r\n\r\n\r\n  // Return a coefficient array as a string of base 10 digits.\r\n  function coeffToString(a) {\r\n    var s, z,\r\n      i = 1,\r\n      j = a.length,\r\n      r = a[0] + '';\r\n\r\n    for (; i < j;) {\r\n      s = a[i++] + '';\r\n      z = LOG_BASE - s.length;\r\n      for (; z--; s = '0' + s);\r\n      r += s;\r\n    }\r\n\r\n    // Determine trailing zeros.\r\n    for (j = r.length; r.charCodeAt(--j) === 48;);\r\n\r\n    return r.slice(0, j + 1 || 1);\r\n  }\r\n\r\n\r\n  // Compare the value of BigNumbers x and y.\r\n  function compare(x, y) {\r\n    var a, b,\r\n      xc = x.c,\r\n      yc = y.c,\r\n      i = x.s,\r\n      j = y.s,\r\n      k = x.e,\r\n      l = y.e;\r\n\r\n    // Either NaN?\r\n    if (!i || !j) return null;\r\n\r\n    a = xc && !xc[0];\r\n    b = yc && !yc[0];\r\n\r\n    // Either zero?\r\n    if (a || b) return a ? b ? 0 : -j : i;\r\n\r\n    // Signs differ?\r\n    if (i != j) return i;\r\n\r\n    a = i < 0;\r\n    b = k == l;\r\n\r\n    // Either Infinity?\r\n    if (!xc || !yc) return b ? 0 : !xc ^ a ? 1 : -1;\r\n\r\n    // Compare exponents.\r\n    if (!b) return k > l ^ a ? 1 : -1;\r\n\r\n    j = (k = xc.length) < (l = yc.length) ? k : l;\r\n\r\n    // Compare digit by digit.\r\n    for (i = 0; i < j; i++) if (xc[i] != yc[i]) return xc[i] > yc[i] ^ a ? 1 : -1;\r\n\r\n    // Compare lengths.\r\n    return k == l ? 0 : k > l ^ a ? 1 : -1;\r\n  }\r\n\r\n\r\n  /*\r\n   * Check that n is a primitive number, an integer, and in range, otherwise throw.\r\n   */\r\n  function intCheck(n, min, max, name) {\r\n    if (n < min || n > max || n !== mathfloor(n)) {\r\n      throw Error\r\n       (bignumberError + (name || 'Argument') + (typeof n == 'number'\r\n         ? n < min || n > max ? ' out of range: ' : ' not an integer: '\r\n         : ' not a primitive number: ') + String(n));\r\n    }\r\n  }\r\n\r\n\r\n  // Assumes finite n.\r\n  function isOdd(n) {\r\n    var k = n.c.length - 1;\r\n    return bitFloor(n.e / LOG_BASE) == k && n.c[k] % 2 != 0;\r\n  }\r\n\r\n\r\n  function toExponential(str, e) {\r\n    return (str.length > 1 ? str.charAt(0) + '.' + str.slice(1) : str) +\r\n     (e < 0 ? 'e' : 'e+') + e;\r\n  }\r\n\r\n\r\n  function toFixedPoint(str, e, z) {\r\n    var len, zs;\r\n\r\n    // Negative exponent?\r\n    if (e < 0) {\r\n\r\n      // Prepend zeros.\r\n      for (zs = z + '.'; ++e; zs += z);\r\n      str = zs + str;\r\n\r\n    // Positive exponent\r\n    } else {\r\n      len = str.length;\r\n\r\n      // Append zeros.\r\n      if (++e > len) {\r\n        for (zs = z, e -= len; --e; zs += z);\r\n        str += zs;\r\n      } else if (e < len) {\r\n        str = str.slice(0, e) + '.' + str.slice(e);\r\n      }\r\n    }\r\n\r\n    return str;\r\n  }\r\n\r\n\r\n  // EXPORT\r\n\r\n\r\n  BigNumber = clone();\r\n  BigNumber['default'] = BigNumber.BigNumber = BigNumber;\r\n\r\n  // AMD.\r\n  if (typeof define == 'function' && define.amd) {\r\n    define(function () { return BigNumber; });\r\n\r\n  // Node.js and other environments that support module.exports.\r\n  } else if (typeof module != 'undefined' && module.exports) {\r\n    module.exports = BigNumber;\r\n\r\n  // Browser.\r\n  } else {\r\n    if (!globalObject) {\r\n      globalObject = typeof self != 'undefined' && self ? self : window;\r\n    }\r\n\r\n    globalObject.BigNumber = BigNumber;\r\n  }\r\n})(this);\r\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nconst base64 = require('base64-js')\nconst ieee754 = require('ieee754')\nconst customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nconst K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    const arr = new Uint8Array(1)\n    const proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  const buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  const valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  const b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  const length = byteLength(string, encoding) | 0\n  let buf = createBuffer(length)\n\n  const actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  const length = array.length < 0 ? 0 : checked(array.length) | 0\n  const buf = createBuffer(length)\n  for (let i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    const copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  let buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    const len = checked(obj.length) | 0\n    const buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  let x = a.length\n  let y = b.length\n\n  for (let i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  let i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  const buffer = Buffer.allocUnsafe(length)\n  let pos = 0\n  for (i = 0; i < list.length; ++i) {\n    let buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf)\n        buf.copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  const len = string.length\n  const mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  let loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  const i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  const len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (let i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  const len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (let i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  const len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (let i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  const length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  let str = ''\n  const max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  let x = thisEnd - thisStart\n  let y = end - start\n  const len = Math.min(x, y)\n\n  const thisCopy = this.slice(thisStart, thisEnd)\n  const targetCopy = target.slice(start, end)\n\n  for (let i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  let indexSize = 1\n  let arrLength = arr.length\n  let valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  let i\n  if (dir) {\n    let foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      let found = true\n      for (let j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  const remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  const strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  let i\n  for (i = 0; i < length; ++i) {\n    const parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  const remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  const res = []\n\n  let i = start\n  while (i < end) {\n    const firstByte = buf[i]\n    let codePoint = null\n    let bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      let secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nconst MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  const len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  let res = ''\n  let i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  const len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  let out = ''\n  for (let i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  const bytes = buf.slice(start, end)\n  let res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (let i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  const len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  const newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  let val = this[offset + --byteLength]\n  let mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const lo = first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24\n\n  const hi = this[++offset] +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    last * 2 ** 24\n\n  return BigInt(lo) + (BigInt(hi) << BigInt(32))\n})\n\nBuffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const hi = first * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  const lo = this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last\n\n  return (BigInt(hi) << BigInt(32)) + BigInt(lo)\n})\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let i = byteLength\n  let mul = 1\n  let val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = this[offset + 4] +\n    this[offset + 5] * 2 ** 8 +\n    this[offset + 6] * 2 ** 16 +\n    (last << 24) // Overflow\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24)\n})\n\nBuffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = (first << 24) + // Overflow\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last)\n})\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let mul = 1\n  let i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction wrtBigUInt64LE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  return offset\n}\n\nfunction wrtBigUInt64BE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset + 7] = lo\n  lo = lo >> 8\n  buf[offset + 6] = lo\n  lo = lo >> 8\n  buf[offset + 5] = lo\n  lo = lo >> 8\n  buf[offset + 4] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset + 3] = hi\n  hi = hi >> 8\n  buf[offset + 2] = hi\n  hi = hi >> 8\n  buf[offset + 1] = hi\n  hi = hi >> 8\n  buf[offset] = hi\n  return offset + 8\n}\n\nBuffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = 0\n  let mul = 1\n  let sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  let sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nBuffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  const len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      const code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  let i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    const bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    const len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// CUSTOM ERRORS\n// =============\n\n// Simplified versions from Node, changed for Buffer-only usage\nconst errors = {}\nfunction E (sym, getMessage, Base) {\n  errors[sym] = class NodeError extends Base {\n    constructor () {\n      super()\n\n      Object.defineProperty(this, 'message', {\n        value: getMessage.apply(this, arguments),\n        writable: true,\n        configurable: true\n      })\n\n      // Add the error code to the name to include it in the stack trace.\n      this.name = `${this.name} [${sym}]`\n      // Access the stack to generate the error message including the error code\n      // from the name.\n      this.stack // eslint-disable-line no-unused-expressions\n      // Reset the name to the actual name.\n      delete this.name\n    }\n\n    get code () {\n      return sym\n    }\n\n    set code (value) {\n      Object.defineProperty(this, 'code', {\n        configurable: true,\n        enumerable: true,\n        value,\n        writable: true\n      })\n    }\n\n    toString () {\n      return `${this.name} [${sym}]: ${this.message}`\n    }\n  }\n}\n\nE('ERR_BUFFER_OUT_OF_BOUNDS',\n  function (name) {\n    if (name) {\n      return `${name} is outside of buffer bounds`\n    }\n\n    return 'Attempt to access memory outside buffer bounds'\n  }, RangeError)\nE('ERR_INVALID_ARG_TYPE',\n  function (name, actual) {\n    return `The \"${name}\" argument must be of type number. Received type ${typeof actual}`\n  }, TypeError)\nE('ERR_OUT_OF_RANGE',\n  function (str, range, input) {\n    let msg = `The value of \"${str}\" is out of range.`\n    let received = input\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {\n        received = addNumericalSeparator(received)\n      }\n      received += 'n'\n    }\n    msg += ` It must be ${range}. Received ${received}`\n    return msg\n  }, RangeError)\n\nfunction addNumericalSeparator (val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n  return `${val.slice(0, i)}${res}`\n}\n\n// CHECK FUNCTIONS\n// ===============\n\nfunction checkBounds (buf, offset, byteLength) {\n  validateNumber(offset, 'offset')\n  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {\n    boundsError(offset, buf.length - (byteLength + 1))\n  }\n}\n\nfunction checkIntBI (value, min, max, buf, offset, byteLength) {\n  if (value > max || value < min) {\n    const n = typeof min === 'bigint' ? 'n' : ''\n    let range\n    if (byteLength > 3) {\n      if (min === 0 || min === BigInt(0)) {\n        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`\n      } else {\n        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +\n                `${(byteLength + 1) * 8 - 1}${n}`\n      }\n    } else {\n      range = `>= ${min}${n} and <= ${max}${n}`\n    }\n    throw new errors.ERR_OUT_OF_RANGE('value', range, value)\n  }\n  checkBounds(buf, offset, byteLength)\n}\n\nfunction validateNumber (value, name) {\n  if (typeof value !== 'number') {\n    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n}\n\nfunction boundsError (value, length, type) {\n  if (Math.floor(value) !== value) {\n    validateNumber(value, type)\n    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)\n  }\n\n  if (length < 0) {\n    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()\n  }\n\n  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',\n                                    `>= ${type ? 1 : 0} and <= ${length}`,\n                                    value)\n}\n\n// HELPER FUNCTIONS\n// ================\n\nconst INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  let codePoint\n  const length = string.length\n  let leadSurrogate = null\n  const bytes = []\n\n  for (let i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  let c, hi, lo\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  let i\n  for (i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nconst hexSliceLookupTable = (function () {\n  const alphabet = '0123456789abcdef'\n  const table = new Array(256)\n  for (let i = 0; i < 16; ++i) {\n    const i16 = i * 16\n    for (let j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n\n// Return not function with Error if BigInt not supported\nfunction defineBigIntMethod (fn) {\n  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn\n}\n\nfunction BufferBigIntNotDefined () {\n  throw new Error('BigInt not supported')\n}\n","/* jshint esversion: 6 */\n/* jslint node: true */\n'use strict';\n\nmodule.exports = function serialize (object) {\n  if (object === null || typeof object !== 'object' || object.toJSON != null) {\n    return JSON.stringify(object);\n  }\n\n  if (Array.isArray(object)) {\n    return '[' + object.reduce((t, cv, ci) => {\n      const comma = ci === 0 ? '' : ',';\n      const value = cv === undefined || typeof cv === 'symbol' ? null : cv;\n      return t + comma + serialize(value);\n    }, '') + ']';\n  }\n\n  return '{' + Object.keys(object).sort().reduce((t, cv, ci) => {\n    if (object[cv] === undefined ||\n        typeof object[cv] === 'symbol') {\n      return t;\n    }\n    const comma = t.length === 0 ? '' : ',';\n    return t + comma + serialize(cv) + ':' + serialize(object[cv]);\n  }, '') + '}';\n};\n","(function(self) {\n\nvar irrelevant = (function (exports) {\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob:\n      'FileReader' in self &&\n      'Blob' in self &&\n      (function() {\n        try {\n          new Blob();\n          return true\n        } catch (e) {\n          return false\n        }\n      })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  };\n\n  function isDataView(obj) {\n    return obj && DataView.prototype.isPrototypeOf(obj)\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ];\n\n    var isArrayBufferView =\n      ArrayBuffer.isView ||\n      function(obj) {\n        return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n      };\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name);\n    }\n    if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value);\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift();\n        return {done: value === undefined, value: value}\n      }\n    };\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      };\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {};\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value);\n      }, this);\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1]);\n      }, this);\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name]);\n      }, this);\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name);\n    value = normalizeValue(value);\n    var oldValue = this.map[name];\n    this.map[name] = oldValue ? oldValue + ', ' + value : value;\n  };\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)];\n  };\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name);\n    return this.has(name) ? this.map[name] : null\n  };\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  };\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value);\n  };\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this);\n      }\n    }\n  };\n\n  Headers.prototype.keys = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push(name);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.values = function() {\n    var items = [];\n    this.forEach(function(value) {\n      items.push(value);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.entries = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push([name, value]);\n    });\n    return iteratorFor(items)\n  };\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries;\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true;\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result);\n      };\n      reader.onerror = function() {\n        reject(reader.error);\n      };\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsArrayBuffer(blob);\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsText(blob);\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf);\n    var chars = new Array(view.length);\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i]);\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength);\n      view.set(new Uint8Array(buf));\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false;\n\n    this._initBody = function(body) {\n      this._bodyInit = body;\n      if (!body) {\n        this._bodyText = '';\n      } else if (typeof body === 'string') {\n        this._bodyText = body;\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body;\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body;\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString();\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer);\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer]);\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body);\n      } else {\n        this._bodyText = body = Object.prototype.toString.call(body);\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8');\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type);\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n        }\n      }\n    };\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this);\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      };\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      };\n    }\n\n    this.text = function() {\n      var rejected = consumed(this);\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    };\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      };\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    };\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT'];\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase();\n    return methods.indexOf(upcased) > -1 ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {};\n    var body = options.body;\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url;\n      this.credentials = input.credentials;\n      if (!options.headers) {\n        this.headers = new Headers(input.headers);\n      }\n      this.method = input.method;\n      this.mode = input.mode;\n      this.signal = input.signal;\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit;\n        input.bodyUsed = true;\n      }\n    } else {\n      this.url = String(input);\n    }\n\n    this.credentials = options.credentials || this.credentials || 'same-origin';\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers);\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET');\n    this.mode = options.mode || this.mode || null;\n    this.signal = options.signal || this.signal;\n    this.referrer = null;\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body);\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, {body: this._bodyInit})\n  };\n\n  function decode(body) {\n    var form = new FormData();\n    body\n      .trim()\n      .split('&')\n      .forEach(function(bytes) {\n        if (bytes) {\n          var split = bytes.split('=');\n          var name = split.shift().replace(/\\+/g, ' ');\n          var value = split.join('=').replace(/\\+/g, ' ');\n          form.append(decodeURIComponent(name), decodeURIComponent(value));\n        }\n      });\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers();\n    // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n    // https://tools.ietf.org/html/rfc7230#section-3.2\n    var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ');\n    preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':');\n      var key = parts.shift().trim();\n      if (key) {\n        var value = parts.join(':').trim();\n        headers.append(key, value);\n      }\n    });\n    return headers\n  }\n\n  Body.call(Request.prototype);\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {};\n    }\n\n    this.type = 'default';\n    this.status = options.status === undefined ? 200 : options.status;\n    this.ok = this.status >= 200 && this.status < 300;\n    this.statusText = 'statusText' in options ? options.statusText : 'OK';\n    this.headers = new Headers(options.headers);\n    this.url = options.url || '';\n    this._initBody(bodyInit);\n  }\n\n  Body.call(Response.prototype);\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  };\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''});\n    response.type = 'error';\n    return response\n  };\n\n  var redirectStatuses = [301, 302, 303, 307, 308];\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  };\n\n  exports.DOMException = self.DOMException;\n  try {\n    new exports.DOMException();\n  } catch (err) {\n    exports.DOMException = function(message, name) {\n      this.message = message;\n      this.name = name;\n      var error = Error(message);\n      this.stack = error.stack;\n    };\n    exports.DOMException.prototype = Object.create(Error.prototype);\n    exports.DOMException.prototype.constructor = exports.DOMException;\n  }\n\n  function fetch(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init);\n\n      if (request.signal && request.signal.aborted) {\n        return reject(new exports.DOMException('Aborted', 'AbortError'))\n      }\n\n      var xhr = new XMLHttpRequest();\n\n      function abortXhr() {\n        xhr.abort();\n      }\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        };\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL');\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options));\n      };\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.onabort = function() {\n        reject(new exports.DOMException('Aborted', 'AbortError'));\n      };\n\n      xhr.open(request.method, request.url, true);\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true;\n      } else if (request.credentials === 'omit') {\n        xhr.withCredentials = false;\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob';\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value);\n      });\n\n      if (request.signal) {\n        request.signal.addEventListener('abort', abortXhr);\n\n        xhr.onreadystatechange = function() {\n          // DONE (success or failure)\n          if (xhr.readyState === 4) {\n            request.signal.removeEventListener('abort', abortXhr);\n          }\n        };\n      }\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit);\n    })\n  }\n\n  fetch.polyfill = true;\n\n  if (!self.fetch) {\n    self.fetch = fetch;\n    self.Headers = Headers;\n    self.Request = Request;\n    self.Response = Response;\n  }\n\n  exports.Headers = Headers;\n  exports.Request = Request;\n  exports.Response = Response;\n  exports.fetch = fetch;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n  return exports;\n\n})({});\n})(typeof self !== 'undefined' ? self : this);\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n  var envHasBigInt64Array = typeof BigInt64Array !== 'undefined';\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n    if ((a instanceof Map) && (b instanceof Map)) {\n      if (a.size !== b.size) return false;\n      for (i of a.entries())\n        if (!b.has(i[0])) return false;\n      for (i of a.entries())\n        if (!equal(i[1], b.get(i[0]))) return false;\n      return true;\n    }\n\n    if ((a instanceof Set) && (b instanceof Set)) {\n      if (a.size !== b.size) return false;\n      for (i of a.entries())\n        if (!b.has(i[0])) return false;\n      return true;\n    }\n\n    if (ArrayBuffer.isView(a) && ArrayBuffer.isView(b)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (a[i] !== b[i]) return false;\n      return true;\n    }\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./lib/SparqlEndpointFetcher\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SparqlEndpointFetcher = void 0;\nrequire(\"cross-fetch/polyfill\");\nconst abort_controller_1 = require(\"abort-controller\");\nconst sparqljs_1 = require(\"sparqljs\");\nconst sparqljson_parse_1 = require(\"sparqljson-parse\");\nconst sparqlxml_parse_1 = require(\"sparqlxml-parse\");\nconst stringifyStream = require(\"stream-to-string\");\nconst readable_web_to_node_stream_1 = require(\"readable-web-to-node-stream\");\n// tslint:disable:no-var-requires\nconst n3 = require('n3');\nconst isStream = require('is-stream');\n/**\n * A SparqlEndpointFetcher can send queries to SPARQL endpoints,\n * and retrieve and parse the results.\n */\nclass SparqlEndpointFetcher {\n    constructor(args) {\n        args = args || {};\n        this.method = args.method || 'POST';\n        this.additionalUrlParams = args.additionalUrlParams || new URLSearchParams();\n        this.fetchCb = args.fetch;\n        this.sparqlJsonParser = new sparqljson_parse_1.SparqlJsonParser(args);\n        this.sparqlXmlParser = new sparqlxml_parse_1.SparqlXmlParser(args);\n        this.sparqlParsers = {\n            [SparqlEndpointFetcher.CONTENTTYPE_SPARQL_JSON]: {\n                parseBooleanStream: (sparqlResponseStream) => this.sparqlJsonParser.parseJsonBooleanStream(sparqlResponseStream),\n                parseResultsStream: (sparqlResponseStream) => this.sparqlJsonParser.parseJsonResultsStream(sparqlResponseStream),\n            },\n            [SparqlEndpointFetcher.CONTENTTYPE_SPARQL_XML]: {\n                parseBooleanStream: (sparqlResponseStream) => this.sparqlXmlParser.parseXmlBooleanStream(sparqlResponseStream),\n                parseResultsStream: (sparqlResponseStream) => this.sparqlXmlParser.parseXmlResultsStream(sparqlResponseStream),\n            },\n        };\n    }\n    /**\n     * Get the query type of the given query.\n     *\n     * This will parse the query and thrown an exception on syntax errors.\n     *\n     * @param {string} query A query.\n     * @return {\"SELECT\" | \"ASK\" | \"CONSTRUCT\" | \"UNKNOWN\"} The query type.\n     */\n    getQueryType(query) {\n        const parsedQuery = new sparqljs_1.Parser().parse(query);\n        return parsedQuery.type === 'query'\n            ? (parsedQuery.queryType === 'DESCRIBE' ? 'CONSTRUCT' : parsedQuery.queryType) : \"UNKNOWN\";\n    }\n    /**\n     * Get the query type of the given update query.\n     *\n     * This will parse the update query and thrown an exception on syntax errors.\n     *\n     * @param {string} query An update query.\n     * @return {'UNKNOWN' | UpdateTypes} The included update operations.\n     */\n    getUpdateTypes(query) {\n        const parsedQuery = new sparqljs_1.Parser().parse(query);\n        if (parsedQuery.type === 'update') {\n            const operations = {};\n            for (const update of parsedQuery.updates) {\n                if ('type' in update) {\n                    operations[update.type] = true;\n                }\n                else {\n                    operations[update.updateType] = true;\n                }\n            }\n            return operations;\n        }\n        else {\n            return \"UNKNOWN\";\n        }\n        ;\n    }\n    ;\n    /**\n     * Send a SELECT query to the given endpoint URL and return the resulting bindings stream.\n     * @see IBindings\n     * @param {string} endpoint A SPARQL endpoint URL. (without the `?query=` suffix).\n     * @param {string} query    A SPARQL query string.\n     * @return {Promise<NodeJS.ReadableStream>} A stream of {@link IBindings}.\n     */\n    async fetchBindings(endpoint, query) {\n        const [contentType, responseStream] = await this\n            .fetchRawStream(endpoint, query, SparqlEndpointFetcher.CONTENTTYPE_SPARQL);\n        const parser = this.sparqlParsers[contentType];\n        if (!parser) {\n            throw new Error('Unknown SPARQL results content type: ' + contentType);\n        }\n        return parser.parseResultsStream(responseStream);\n    }\n    /**\n     * Send an ASK query to the given endpoint URL and return a promise resolving to the boolean answer.\n     * @param {string} endpoint A SPARQL endpoint URL. (without the `?query=` suffix).\n     * @param {string} query    A SPARQL query string.\n     * @return {Promise<boolean>} A boolean resolving to the answer.\n     */\n    async fetchAsk(endpoint, query) {\n        const [contentType, responseStream] = await this\n            .fetchRawStream(endpoint, query, SparqlEndpointFetcher.CONTENTTYPE_SPARQL);\n        const parser = this.sparqlParsers[contentType];\n        if (!parser) {\n            throw new Error('Unknown SPARQL results content type: ' + contentType);\n        }\n        return parser.parseBooleanStream(responseStream);\n    }\n    /**\n     * Send a CONSTRUCT/DESCRIBE query to the given endpoint URL and return the resulting triple stream.\n     * @param {string} endpoint A SPARQL endpoint URL. (without the `?query=` suffix).\n     * @param {string} query    A SPARQL query string.\n     * @return {Promise<Stream>} A stream of triples.\n     */\n    async fetchTriples(endpoint, query) {\n        const rawStream = (await this.fetchRawStream(endpoint, query, SparqlEndpointFetcher.CONTENTTYPE_TURTLE))[1];\n        return rawStream.pipe(new n3.StreamParser({ format: SparqlEndpointFetcher.CONTENTTYPE_TURTLE }));\n    }\n    /**\n     * Send an update query to the given endpoint URL using POST.\n     *\n     * @param {string} endpoint     A SPARQL endpoint URL. (without the `?query=` suffix).\n     * @param {string} query        A SPARQL query string.\n     */\n    async fetchUpdate(endpoint, query) {\n        const abortController = new abort_controller_1.default();\n        const init = {\n            method: 'POST',\n            headers: {\n                'content-type': 'application/sparql-update',\n            },\n            body: query,\n            signal: abortController.signal,\n        };\n        await this.handleFetchCall(endpoint, init, { ignoreBody: true });\n        abortController.abort();\n    }\n    /**\n     * Send a query to the given endpoint URL and return the resulting stream.\n     *\n     * This will only accept responses with the application/sparql-results+json content type.\n     *\n     * @param {string} endpoint     A SPARQL endpoint URL. (without the `?query=` suffix).\n     * @param {string} query        A SPARQL query string.\n     * @param {string} acceptHeader The HTTP accept to use.\n     * @return {Promise<[string, NodeJS.ReadableStream]>} The content type and SPARQL endpoint response stream.\n     */\n    async fetchRawStream(endpoint, query, acceptHeader) {\n        let url = this.method === 'POST' ? endpoint : endpoint + '?query=' + encodeURIComponent(query);\n        // Initiate request\n        const headers = new Headers();\n        let body;\n        headers.append('Accept', acceptHeader);\n        if (this.method === 'POST') {\n            headers.append('Content-Type', 'application/x-www-form-urlencoded');\n            body = new URLSearchParams();\n            body.set('query', query);\n            this.additionalUrlParams.forEach((value, key) => {\n                body.set(key, value);\n            });\n            headers.append('Content-Length', body.toString().length.toString());\n        }\n        else if (this.additionalUrlParams.toString() !== '') {\n            url += `&${this.additionalUrlParams.toString()}`;\n        }\n        return this.handleFetchCall(url, { headers, method: this.method, body });\n    }\n    /**\n     * Helper function to generalize internal fetch calls.\n     *\n     * @param {string}      url     The URL to call.\n     * @param {RequestInit} init    Options to pass along to the fetch call.\n     * @param {any}         options Other specific fetch options.\n     * @return {Promise<[string, NodeJS.ReadableStream]>} The content type and SPARQL endpoint response stream.\n     */\n    async handleFetchCall(url, init, options = {}) {\n        const httpResponse = await (this.fetchCb || fetch)(url, init);\n        let responseStream;\n        // Handle response body\n        if (!options.ignoreBody) {\n            // Wrap WhatWG readable stream into a Node.js readable stream\n            // If the body already is a Node.js stream (in the case of node-fetch), don't do explicit conversion.\n            responseStream = isStream(httpResponse.body)\n                ? httpResponse.body : new readable_web_to_node_stream_1.ReadableWebToNodeStream(httpResponse.body);\n        }\n        // Determine the content type and emit it to the stream\n        let contentType = httpResponse.headers.get('Content-Type') || '';\n        if (contentType.indexOf(';') > 0) {\n            contentType = contentType.substr(0, contentType.indexOf(';'));\n        }\n        // Emit an error if the server returned an invalid response\n        if (!httpResponse.ok) {\n            const simpleUrl = /^[^?]*/u.exec(url)[0];\n            let bodyString = 'empty response';\n            if (responseStream) {\n                bodyString = await stringifyStream(responseStream);\n            }\n            throw new Error(`Invalid SPARQL endpoint response from ${simpleUrl} (HTTP status ${httpResponse.status}):\\n${bodyString}`);\n        }\n        return [contentType, responseStream];\n    }\n}\nexports.SparqlEndpointFetcher = SparqlEndpointFetcher;\nSparqlEndpointFetcher.CONTENTTYPE_SPARQL_JSON = 'application/sparql-results+json';\nSparqlEndpointFetcher.CONTENTTYPE_SPARQL_XML = 'application/sparql-results+xml';\nSparqlEndpointFetcher.CONTENTTYPE_SPARQL = `${SparqlEndpointFetcher.CONTENTTYPE_SPARQL_JSON};q=1.0,${SparqlEndpointFetcher.CONTENTTYPE_SPARQL_XML};q=0.7`;\nSparqlEndpointFetcher.CONTENTTYPE_TURTLE = 'text/turtle';\n//# sourceMappingURL=SparqlEndpointFetcher.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./lib/handler\"), exports);\n__exportStar(require(\"./lib/Converter\"), exports);\n__exportStar(require(\"./lib/IConvertContext\"), exports);\n__exportStar(require(\"./lib/IConvertSettings\"), exports);\n__exportStar(require(\"./lib/Util\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Converter = void 0;\nconst language_1 = require(\"graphql/language\");\nconst handler_1 = require(\"./handler\");\nconst directivenode_1 = require(\"./handler/directivenode\");\nconst IConvertContext_1 = require(\"./IConvertContext\");\nconst Util_1 = require(\"./Util\");\n/**\n * Translate GraphQL queries into SPARQL algebra.\n */\nclass Converter {\n    constructor(settings) {\n        settings = settings || {};\n        settings.variableDelimiter = settings.variableDelimiter || '_';\n        settings.expressionVariableCounter = settings.expressionVariableCounter || 0;\n        this.util = new Util_1.Util(settings);\n        this.initializeNodeHandlers(settings);\n    }\n    static registerNodeHandlers(util, settings) {\n        util.registerNodeHandler(new handler_1.NodeHandlerDocument(util, settings));\n        util.registerNodeHandler(new handler_1.NodeHandlerDefinitionOperation(util, settings));\n        util.registerNodeHandler(new handler_1.NodeHandlerDefinitionFragment(util, settings));\n        util.registerNodeHandler(new handler_1.NodeHandlerSelectionFragmentSpread(util, settings));\n        util.registerNodeHandler(new handler_1.NodeHandlerSelectionInlineFragment(util, settings));\n        util.registerNodeHandler(new handler_1.NodeHandlerSelectionField(util, settings));\n    }\n    static registerNodeValueHandlers(util, settings) {\n        util.registerNodeValueHandler(new handler_1.NodeValueHandlerVariable(util, settings));\n        util.registerNodeValueHandler(new handler_1.NodeValueHandlerInt(util, settings));\n        util.registerNodeValueHandler(new handler_1.NodeValueHandlerFloat(util, settings));\n        util.registerNodeValueHandler(new handler_1.NodeValueHandlerString(util, settings));\n        util.registerNodeValueHandler(new handler_1.NodeValueHandlerBoolean(util, settings));\n        util.registerNodeValueHandler(new handler_1.NodeValueHandlerNull(util, settings));\n        util.registerNodeValueHandler(new handler_1.NodeValueHandlerEnum(util, settings));\n        util.registerNodeValueHandler(new handler_1.NodeValueHandlerList(util, settings));\n        util.registerNodeValueHandler(new handler_1.NodeValueHandlerObject(util, settings));\n    }\n    static registerDirectiveNodeHandlers(util, settings) {\n        util.registerDirectiveNodeHandler(new directivenode_1.DirectiveNodeHandlerInclude(util, settings));\n        util.registerDirectiveNodeHandler(new directivenode_1.DirectiveNodeHandlerOptional(util, settings));\n        util.registerDirectiveNodeHandler(new directivenode_1.DirectiveNodeHandlerPlural(util, settings));\n        util.registerDirectiveNodeHandler(new directivenode_1.DirectiveNodeHandlerSingle(util, settings));\n        util.registerDirectiveNodeHandler(new directivenode_1.DirectiveNodeHandlerSkip(util, settings));\n    }\n    /**\n     * Translates a GraphQL query into SPARQL algebra.\n     * @param {string | DocumentNode} graphqlQuery A GraphQL query string or node.\n     * @param {IContext} context A JSON-LD context.\n     * @param {IConvertOptions} options An options object.\n     * @return {Promise<Operation>} A promise resolving to an operation.\n     */\n    graphqlToSparqlAlgebra(graphqlQuery, context, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.graphqlToSparqlAlgebraRawContext(graphqlQuery, yield this.util.contextParser.parse(context), options);\n        });\n    }\n    /**\n     * Translates a GraphQL query into SPARQL algebra.\n     * @param {string | DocumentNode} graphqlQuery A GraphQL query string or node.\n     * @param {IContext} context A JSON-LD context.\n     * @param {IConvertOptions} options An options object.\n     * @return {Operation} An operation.\n     */\n    graphqlToSparqlAlgebraRawContext(graphqlQuery, context, options) {\n        options = options || {};\n        const document = typeof graphqlQuery === 'string' ? (0, language_1.parse)(graphqlQuery) : graphqlQuery;\n        const fragmentDefinitions = this.indexFragments(document);\n        const convertContext = {\n            context,\n            fragmentDefinitions,\n            graph: this.util.dataFactory.defaultGraph(),\n            path: [],\n            singularizeState: IConvertContext_1.SingularizeState.PLURAL,\n            singularizeVariables: options.singularizeVariables || {},\n            subject: null,\n            terminalVariables: [],\n            variablesDict: options.variablesDict || {},\n            variablesMetaDict: {},\n        };\n        return this.util.handleNode(document, convertContext);\n    }\n    /**\n     * Create an index of all fragment definitions in the given document.\n     *\n     * This will assign a new array of definition nodes without fragment definition.\n     *\n     * @param {DocumentNode} document A document node.\n     * @return {{[p: string]: FragmentDefinitionNode}} An index of fragment definition nodes.\n     */\n    indexFragments(document) {\n        const fragmentDefinitions = {};\n        const newDefinitions = [];\n        for (const definition of document.definitions) {\n            if (definition.kind === 'FragmentDefinition') {\n                fragmentDefinitions[definition.name.value] = definition;\n            }\n            else {\n                newDefinitions.push(definition);\n            }\n        }\n        document.definitions = newDefinitions;\n        return fragmentDefinitions;\n    }\n    initializeNodeHandlers(settings) {\n        Converter.registerNodeHandlers(this.util, settings);\n        Converter.registerNodeValueHandlers(this.util, settings);\n        Converter.registerDirectiveNodeHandlers(this.util, settings);\n    }\n}\nexports.Converter = Converter;\n//# sourceMappingURL=Converter.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SingularizeState = void 0;\n/**\n * A singularization state for variable values.\n */\nvar SingularizeState;\n(function (SingularizeState) {\n    /**\n     * If only a first matching value should be picked.\n     */\n    SingularizeState[SingularizeState[\"SINGLE\"] = 0] = \"SINGLE\";\n    /**\n     * If all matching values should be picked.\n     */\n    SingularizeState[SingularizeState[\"PLURAL\"] = 1] = \"PLURAL\";\n})(SingularizeState = exports.SingularizeState || (exports.SingularizeState = {}));\n//# sourceMappingURL=IConvertContext.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=IConvertSettings.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Util = void 0;\nconst rdf_data_factory_1 = require(\"rdf-data-factory\");\nconst jsonld_context_parser_1 = require(\"jsonld-context-parser\");\nconst sparqlalgebrajs_1 = require(\"sparqlalgebrajs\");\n/**\n * Utilities for conversion.\n */\nclass Util {\n    constructor(settings) {\n        this.nodeHandlers = {};\n        this.nodeValueHandlers = {};\n        this.directiveNodeHandlers = {};\n        this.settings = settings;\n        this.dataFactory = settings.dataFactory || new rdf_data_factory_1.DataFactory();\n        this.operationFactory = new sparqlalgebrajs_1.Factory(this.dataFactory);\n        this.contextParser = new jsonld_context_parser_1.ContextParser();\n    }\n    /**\n     * Register a new {@link NodeHandlerAdapter}.\n     * @param {NodeHandlerAdapter<any>} nodeHandler A handler for converting GraphQL nodes to operations.\n     */\n    registerNodeHandler(nodeHandler) {\n        this.nodeHandlers[nodeHandler.targetKind] = nodeHandler;\n    }\n    /**\n     * Register a new {@link NodeValueHandlerAdapter}\n     * @param {NodeValueHandlerAdapter<any>} nodeValueHandler A handler for converting GraphQL value nodes\n     *                                                        to terms and patterns.\n     */\n    registerNodeValueHandler(nodeValueHandler) {\n        this.nodeValueHandlers[nodeValueHandler.targetKind] = nodeValueHandler;\n    }\n    /**\n     * Register a new {@link DirectiveNodeHandlerAdapter}\n     * @param {DirectiveNodeHandlerAdapter} directiveNodeHandler A handler for handling GraphQL directives.\n     */\n    registerDirectiveNodeHandler(directiveNodeHandler) {\n        this.directiveNodeHandlers[directiveNodeHandler.targetKind] = directiveNodeHandler;\n    }\n    /**\n     * Get the operation for the given GraphQL node.\n     * @param {T} node A GraphQL node.\n     * @param {IConvertContext} convertContext A conversion context.\n     * @return {Operation} A SPARQL algebra operation.\n     */\n    handleNode(node, convertContext) {\n        const nodeHandler = this.nodeHandlers[node.kind];\n        if (!nodeHandler) {\n            throw new Error(`Unsupported GraphQL node '${node.kind}'`);\n        }\n        return nodeHandler.handle(node, convertContext);\n    }\n    /**\n     * Get the terms and patterns for the given value node.\n     * @param {T} node A GraphQL node.\n     * @param {string} fieldName The name of the field or argument in which the value was encapsulated.\n     * @param {IConvertContext} convertContext A conversion context.\n     * @return {IValueNodeHandlerOutput} The RDF terms and patterns.\n     */\n    handleNodeValue(node, fieldName, convertContext) {\n        const nodeValueHandler = this.nodeValueHandlers[node.kind];\n        if (!nodeValueHandler) {\n            throw new Error(`Unsupported GraphQL value node '${node.kind}'`);\n        }\n        return nodeValueHandler.handle(node, fieldName, convertContext);\n    }\n    /**\n     * Get the handler output for the given directive.\n     * @param {IDirectiveContext} directiveContext The current directive context.\n     * @param {IConvertContext} convertContext A conversion context.\n     * @return {IDirectiveNodeHandlerOutput} The directive node handler output or null.\n     */\n    handleDirectiveNode(directiveContext, convertContext) {\n        const directiveNodeHandler = this.directiveNodeHandlers[directiveContext.directive.name.value];\n        if (!directiveNodeHandler) {\n            return null;\n        }\n        return directiveNodeHandler.handle(directiveContext, convertContext);\n    }\n    /**\n     * Join the given array of operations.\n     * If all operations are BGPs, then a single big BGP with all patterns from the given BGPs will be created.\n     * @param {Operation[]} operations An array of operations.\n     * @return {Operation} A single joined operation.\n     */\n    joinOperations(operations) {\n        if (operations.length === 1) {\n            return operations[0];\n        }\n        // Check if which operations are BGPs\n        const bgps = [];\n        const nonBgps = [];\n        for (const operation of operations) {\n            if (operation.type === 'bgp') {\n                bgps.push(operation);\n            }\n            else {\n                nonBgps.push(operation);\n            }\n        }\n        if (bgps.length === operations.length) {\n            // Create a big BGP from all BGPs\n            return this.joinOperationsAsBgp(bgps);\n        }\n        else if (bgps.length === operations.length - 1\n            && nonBgps[0].type === 'leftjoin'\n            && nonBgps[0].input[0].type === 'bgp') {\n            // Check if we have one left-join (with a BGP on the left), and the rest are BGPs.\n            // If so, merge the BGPS within the left-hand-side of the left-join.\n            const originalLeftJoin = nonBgps[0];\n            bgps.push(originalLeftJoin.input[0]);\n            return this.operationFactory.createLeftJoin(this.joinOperationsAsBgp(bgps), originalLeftJoin.input[1]);\n        }\n        else if (nonBgps.length === operations.length) {\n            // Create nested joins\n            return this.joinOperationsAsNestedJoin(nonBgps);\n        }\n        else {\n            // Join as much BGPs together as possible, and join with the other operations\n            return this.joinOperationsAsNestedJoin([\n                this.joinOperationsAsBgp(bgps),\n                this.joinOperationsAsNestedJoin(nonBgps),\n            ]);\n        }\n    }\n    joinOperationsAsBgp(operations) {\n        return this.operationFactory.createBgp([].concat.apply([], operations\n            .map((op) => op.patterns)));\n    }\n    joinOperationsAsNestedJoin(operations) {\n        return this.operationFactory.createJoin(operations);\n    }\n    /**\n     * Append a field's label to a path.\n     * @param {string[]} path A path.\n     * @param {string} fieldLabel A field label.\n     * @return {string[]} A new path array.\n     */\n    appendFieldToPath(path, fieldLabel) {\n        return path.concat([fieldLabel]);\n    }\n    /**\n     * Get the label of a field by taking into account the alias.\n     * @param {FieldNode} field A field node.\n     * @return {string} The field name or alias.\n     */\n    getFieldLabel(field) {\n        return (field.alias ? field.alias : field.name).value;\n    }\n    /**\n     * Convert a field node to a variable built from the node name and the current path inside the context.\n     * @param {string} fieldLabel A field label.\n     * @param {IConvertContext} convertContext A convert context.\n     * @param {string} variableDelimiter A variable delimiter.\n     * @return {Variable} A variable.\n     */\n    nameToVariable(fieldLabel, convertContext) {\n        return this.dataFactory.variable((convertContext.path.length\n            ? convertContext.path.join(this.settings.variableDelimiter) + this.settings.variableDelimiter : '') + fieldLabel);\n    }\n    /**\n     * Convert a GraphQL term into a URI using the given context.\n     * @param {string} value A GraphQL term.\n     * @param {IContext} context A JSON-LD context.\n     * @return {NamedNode} A named node.\n     */\n    valueToNamedNode(value, context) {\n        const contextValue = context.expandTerm(value, true);\n        if (this.settings.requireContext && !contextValue) {\n            throw new Error('No context entry was found for ' + value);\n        }\n        return this.dataFactory.namedNode(contextValue || value);\n    }\n    /**\n     * Get an argument by name.\n     * This will return null if the argument could not be found.\n     * @param {ReadonlyArray<ArgumentNode>} args Arguments or null.\n     * @param {string} name The name of an argument.\n     * @return {ArgumentNode} The named argument.\n     */\n    getArgument(args, name) {\n        if (args) {\n            for (const argument of args) {\n                if (argument.name.value === name) {\n                    return argument;\n                }\n            }\n        }\n    }\n    /**\n     * Create a pattern with an rdf:type predicate.\n     * @param {Term} subject The subject.\n     * @param {NamedTypeNode} typeCondition The object name.\n     * @param {IConvertContext} convertContext A convert context.\n     * @return {Pattern} A pattern.\n     */\n    newTypePattern(subject, typeCondition, convertContext) {\n        return this.operationFactory.createPattern(subject, this.dataFactory.namedNode('http://www.w3.org/1999/02/22-rdf-syntax-ns#type'), this.valueToNamedNode(typeCondition.name.value, convertContext.context), convertContext.graph);\n    }\n    /**\n     * Create a quad pattern when the predicate is a name node that needs to be translated using the context.\n     * @param {Term} subject The subject.\n     * @param {NameNode} predicateName The name node for the predicate.\n     * @param {Term} object The object.\n     * @param {Term} graph The graph.\n     * @param {IContext} context A context.\n     * @return {Pattern} A quad pattern.\n     */\n    createQuadPattern(subject, predicateName, object, graph, context) {\n        const predicate = this.valueToNamedNode(predicateName.value, context);\n        if (context && context.getContextRaw()[predicateName.value]\n            && context.getContextRaw()[predicateName.value]['@reverse']) {\n            return this.operationFactory.createPattern(object, predicate, subject, graph);\n        }\n        return this.operationFactory.createPattern(subject, predicate, object, graph);\n    }\n    /**\n     * Create a quad path when the predicate is a list node with field alternatives\n     * that need to be translated using the context.\n     * @param {Term} subject The subject.\n     * @param {NameNode} predicateName The name node for the predicate.\n     * @param {Term} object The object.\n     * @param {Term} graph The graph.\n     * @param {IContext} context A context.\n     * @return {Path} A quad property path.\n     */\n    createQuadPath(subject, predicateName, predicateAlternatives, object, graph, context) {\n        const predicateInitial = this.valueToNamedNode(predicateName.value, context);\n        let pathSymbol = this.operationFactory.createLink(predicateInitial);\n        // Add all fields in the list as predicate alternatives\n        for (const predicateAlternative of predicateAlternatives.values) {\n            if (predicateAlternative.kind !== 'EnumValue') {\n                throw new Error('Invalid value type for \\'alt\\' argument, must be EnumValue, but got '\n                    + predicateAlternative.kind);\n            }\n            pathSymbol = this.operationFactory.createAlt([\n                pathSymbol,\n                this.operationFactory.createLink(this.valueToNamedNode(predicateAlternative.value, context)),\n            ]);\n        }\n        // Reverse the path based on the initial predicate\n        if (context && context.getContextRaw()[predicateName.value]\n            && context.getContextRaw()[predicateName.value]['@reverse']) {\n            return this.operationFactory.createPath(object, pathSymbol, subject, graph);\n        }\n        return this.operationFactory.createPath(subject, pathSymbol, object, graph);\n    }\n}\nexports.Util = Util;\n//# sourceMappingURL=Util.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NodeHandlerAdapter = void 0;\n/**\n * A handler for converting GraphQL nodes to operations.\n */\nclass NodeHandlerAdapter {\n    constructor(targetKind, util, settings) {\n        this.targetKind = targetKind;\n        this.util = util;\n        this.settings = settings;\n    }\n    /* ----- Node quad context ----- */\n    /**\n     * Get the quad context of a selection set node that should be used for the whole definition node.\n     *\n     * This is a pre-processing step of selection sets.\n     * Its only purpose is to determine the subject within a selection set,\n     * because this subject is needed to link with its parent.\n     * In a later phase, the selection set will be processed using the discovered subject,\n     * and the field identifying the subject will be ignored.\n     *\n     * @param {SelectionSetNode} selectionSet A selection set node.\n     * @param {string} fieldLabel A field label.\n     * @param {IConvertContext} convertContext A convert context.\n     * @return {INodeQuadContext} The subject, graph and auxiliary patterns.\n     */\n    getNodeQuadContextSelectionSet(selectionSet, fieldLabel, convertContext) {\n        const nodeQuadContext = {};\n        if (selectionSet) {\n            for (const selectionNode of selectionSet.selections) {\n                if (selectionNode.kind === 'Field') {\n                    const fieldNode = selectionNode;\n                    this.handleNodeQuadContextField(fieldNode, convertContext, nodeQuadContext, 'id', 'subject');\n                    this.handleNodeQuadContextField(fieldNode, convertContext, nodeQuadContext, 'graph', 'graph');\n                }\n            }\n        }\n        return nodeQuadContext;\n    }\n    /**\n     * Handles a single field for determining the node quad context.\n     * @param {FieldNode} fieldNode A field node.\n     * @param {IConvertContext} convertContext A convert context.\n     * @param {INodeQuadContext} nodeQuadContext The node quad context to populate.\n     * @param {string} fieldName The field name to check for.\n     * @param {'subject' | 'graph'} nodeQuadContextKey The key to fill into the node quad context.\n     */\n    handleNodeQuadContextField(fieldNode, convertContext, nodeQuadContext, fieldName, nodeQuadContextKey) {\n        if (!nodeQuadContext[nodeQuadContextKey] && fieldNode.name.value === fieldName) {\n            // Get (or set) the nodeQuadContextKey for fieldName fields\n            if (!nodeQuadContext[nodeQuadContextKey]) {\n                const argument = this.util.getArgument(fieldNode.arguments, '_');\n                if (argument) {\n                    const valueOutput = this.util.handleNodeValue(argument.value, fieldNode.name.value, convertContext);\n                    if (valueOutput.terms.length !== 1) {\n                        throw new Error(`Only single values can be set as ${fieldName}, but got ${valueOutput.terms\n                            .length} at ${fieldNode.name.value}`);\n                    }\n                    nodeQuadContext[nodeQuadContextKey] = valueOutput.terms[0];\n                    if (valueOutput.auxiliaryPatterns) {\n                        if (!nodeQuadContext.auxiliaryPatterns) {\n                            nodeQuadContext.auxiliaryPatterns = [];\n                        }\n                        nodeQuadContext.auxiliaryPatterns.concat(valueOutput.auxiliaryPatterns);\n                    }\n                }\n            }\n            if (!nodeQuadContext[nodeQuadContextKey]) {\n                const term = this.util.nameToVariable(this.util.getFieldLabel(fieldNode), convertContext);\n                convertContext.terminalVariables.push(term);\n                nodeQuadContext[nodeQuadContextKey] = term;\n            }\n        }\n    }\n    /* ----- Directives ----- */\n    /**\n     * Get an operation override defined by one of the directives.\n     *\n     * This should be called before a sub-operation is handled.\n     *\n     * @param {ReadonlyArray<DirectiveNode>} directives An option directives array.\n     * @param {string} fieldLabel The current field label.\n     * @param {IConvertContext} convertContext A convert context.\n     * @return {IDirectiveNodeHandlerOutput[]} The directive node handler outputs, or null if it should be ignored.\n     */\n    getDirectiveOutputs(directives, fieldLabel, convertContext) {\n        const outputs = [];\n        if (directives) {\n            for (const directive of directives) {\n                const output = this.util.handleDirectiveNode({ directive, fieldLabel }, convertContext);\n                if (output) {\n                    if (output.ignore) {\n                        return null;\n                    }\n                    outputs.push(output);\n                }\n            }\n        }\n        return outputs;\n    }\n    /**\n     * Handle the directive outputs with respect to an operation.\n     *\n     * This should be called after a sub-operation was handled.\n     *\n     * @param {IDirectiveNodeHandlerOutput[]} directiveOutputs\n     * @param {Operation} operation\n     * @return {Operation}\n     */\n    handleDirectiveOutputs(directiveOutputs, operation) {\n        for (const directiveOutput of directiveOutputs) {\n            if (directiveOutput.ignore) {\n                return this.util.operationFactory.createBgp([]);\n            }\n            if (directiveOutput.operationOverrider) {\n                operation = directiveOutput.operationOverrider(operation);\n            }\n        }\n        return operation;\n    }\n}\nexports.NodeHandlerAdapter = NodeHandlerAdapter;\n//# sourceMappingURL=NodeHandlerAdapter.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NodeHandlerDefinitionAdapter = void 0;\nconst NodeHandlerAdapter_1 = require(\"./NodeHandlerAdapter\");\n/**\n * A handler for converting GraphQL definition nodes to operations.\n */\nclass NodeHandlerDefinitionAdapter extends NodeHandlerAdapter_1.NodeHandlerAdapter {\n    constructor(targetKind, util, settings) {\n        super(targetKind, util, settings);\n    }\n}\nexports.NodeHandlerDefinitionAdapter = NodeHandlerDefinitionAdapter;\n//# sourceMappingURL=NodeHandlerDefinitionAdapter.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NodeHandlerDefinitionFragment = void 0;\nconst NodeHandlerDefinitionAdapter_1 = require(\"./NodeHandlerDefinitionAdapter\");\n/**\n * Errors if fragment definitions are found,\n * as these should have been processed away earlier.\n */\nclass NodeHandlerDefinitionFragment extends NodeHandlerDefinitionAdapter_1.NodeHandlerDefinitionAdapter {\n    constructor(util, settings) {\n        super('FragmentDefinition', util, settings);\n    }\n    handle(operationDefinition, convertContext) {\n        throw new Error('Illegal state: fragment definitions must be indexed and removed before processing');\n    }\n}\nexports.NodeHandlerDefinitionFragment = NodeHandlerDefinitionFragment;\n//# sourceMappingURL=NodeHandlerDefinitionFragment.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NodeHandlerDefinitionOperation = void 0;\nconst NodeHandlerDefinitionAdapter_1 = require(\"./NodeHandlerDefinitionAdapter\");\n/**\n * Converts GraphQL definitions to joined operations for all its selections.\n */\nclass NodeHandlerDefinitionOperation extends NodeHandlerDefinitionAdapter_1.NodeHandlerDefinitionAdapter {\n    constructor(util, settings) {\n        super('OperationDefinition', util, settings);\n    }\n    handle(operationDefinition, convertContext) {\n        if (operationDefinition.operation !== 'query') {\n            throw new Error('Unsupported definition operation: ' + operationDefinition.operation);\n        }\n        // We ignore the query name, as SPARQL doesn't support naming queries.\n        // Variables\n        if (operationDefinition.variableDefinitions) {\n            for (const variableDefinition of operationDefinition.variableDefinitions) {\n                const name = variableDefinition.variable.name.value;\n                // Put the default value in the context if it hasn't been defined yet.\n                if (variableDefinition.defaultValue) {\n                    if (!convertContext.variablesDict[name]) {\n                        convertContext.variablesDict[name] = variableDefinition.defaultValue;\n                    }\n                }\n                // Handle type\n                let typeNode = variableDefinition.type;\n                const mandatory = typeNode.kind === 'NonNullType';\n                if (mandatory) {\n                    typeNode = typeNode.type;\n                }\n                const list = typeNode.kind === 'ListType';\n                if (list) {\n                    typeNode = typeNode.type;\n                }\n                const type = typeNode.name.value;\n                convertContext.variablesMetaDict[name] = { mandatory, list, type };\n            }\n        }\n        // Directives\n        const directiveOutputs = this.getDirectiveOutputs(operationDefinition.directives, operationDefinition.name ? operationDefinition.name.value : '', convertContext);\n        if (!directiveOutputs) {\n            return this.util.operationFactory.createBgp([]);\n        }\n        // Handle the operation\n        const operation = this.util.joinOperations(operationDefinition.selectionSet.selections\n            .map((selectionNode) => this.util.handleNode(selectionNode, convertContext)));\n        // Override operation if needed\n        return this.handleDirectiveOutputs(directiveOutputs, operation);\n    }\n}\nexports.NodeHandlerDefinitionOperation = NodeHandlerDefinitionOperation;\n//# sourceMappingURL=NodeHandlerDefinitionOperation.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NodeHandlerDocument = void 0;\nconst sparqlalgebrajs_1 = require(\"sparqlalgebrajs\");\nconst NodeHandlerAdapter_1 = require(\"./NodeHandlerAdapter\");\n/**\n * Converts GraphQL documents to joined operations for all its definitions.\n */\nclass NodeHandlerDocument extends NodeHandlerAdapter_1.NodeHandlerAdapter {\n    constructor(util, settings) {\n        super('Document', util, settings);\n    }\n    handle(document, convertContext) {\n        const definitionOperations = document.definitions\n            .map((definition) => {\n            const subjectOutput = this.getNodeQuadContextDefinitionNode(definition, Object.assign(Object.assign({}, convertContext), { ignoreUnknownVariables: true }));\n            const queryParseContext = Object.assign(Object.assign({}, convertContext), { graph: subjectOutput.graph || convertContext.graph, subject: subjectOutput.subject || this.util.dataFactory.blankNode() });\n            let definitionOperation = this.util.handleNode(definition, queryParseContext);\n            if (subjectOutput && subjectOutput.auxiliaryPatterns) {\n                definitionOperation = this.util.joinOperations([\n                    definitionOperation,\n                    this.util.operationFactory.createBgp(subjectOutput.auxiliaryPatterns),\n                ]);\n            }\n            return definitionOperation;\n        });\n        const operation = this.util.operationFactory.createProject(definitionOperations.length === 1 ? definitionOperations[0] : this.util.operationFactory.createUnion(definitionOperations), convertContext.terminalVariables);\n        // Convert blank nodes to variables\n        return this.translateBlankNodesToVariables(operation);\n    }\n    /**\n     * Get the quad context of a definition node that should be used for the whole definition node.\n     * @param {DefinitionNode} definition A definition node.\n     * @param {IConvertContext} convertContext A convert context.\n     * @return {INodeQuadContext} The subject and optional auxiliary patterns.\n     */\n    getNodeQuadContextDefinitionNode(definition, convertContext) {\n        if (definition.kind === 'OperationDefinition') {\n            return this.getNodeQuadContextSelectionSet(definition.selectionSet, definition.name ? definition.name.value : '', convertContext);\n        }\n        throw new Error(`Unsupported definition: ${definition.kind}`);\n    }\n    /**\n     * Translates blank nodes inside the query to variables.\n     * @param {Project} operation The operation to translate.\n     * @return {Operation} The transformed operation.\n     */\n    translateBlankNodesToVariables(operation) {\n        const self = this;\n        const blankToVariableMapping = {};\n        const variablesRaw = Array.from(operation.variables)\n            .reduce((acc, variable) => {\n            acc[variable.value] = true;\n            return acc;\n        }, {});\n        return sparqlalgebrajs_1.Util.mapOperation(operation, {\n            path: (op, factory) => {\n                return {\n                    recurse: false,\n                    result: factory.createPath(blankToVariable(op.subject), op.predicate, blankToVariable(op.object), blankToVariable(op.graph)),\n                };\n            },\n            pattern: (op, factory) => {\n                return {\n                    recurse: false,\n                    result: factory.createPattern(blankToVariable(op.subject), blankToVariable(op.predicate), blankToVariable(op.object), blankToVariable(op.graph)),\n                };\n            },\n        });\n        function blankToVariable(term) {\n            if (term.termType === 'BlankNode') {\n                let variable = blankToVariableMapping[term.value];\n                if (!variable) {\n                    variable = sparqlalgebrajs_1.Util.createUniqueVariable(term.value, variablesRaw, self.util.dataFactory);\n                    variablesRaw[variable.value] = true;\n                    blankToVariableMapping[term.value] = variable;\n                }\n                return variable;\n            }\n            return term;\n        }\n    }\n}\nexports.NodeHandlerDocument = NodeHandlerDocument;\n//# sourceMappingURL=NodeHandlerDocument.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NodeHandlerSelectionAdapter = void 0;\nconst sparqlalgebrajs_1 = require(\"sparqlalgebrajs\");\nconst IConvertContext_1 = require(\"../IConvertContext\");\nconst NodeHandlerAdapter_1 = require(\"./NodeHandlerAdapter\");\n/**\n * A handler for converting GraphQL selection nodes to operations.\n */\nclass NodeHandlerSelectionAdapter extends NodeHandlerAdapter_1.NodeHandlerAdapter {\n    constructor(targetKind, util, settings) {\n        super(targetKind, util, settings);\n    }\n    /**\n     * Get the quad context of a field node that should be used for the whole definition node.\n     * @param {FieldNode} field A field node.\n     * @param {string} fieldLabel A field label.\n     * @param {IConvertContext} convertContext A convert context.\n     * @return {INodeQuadContext} The subject and optional auxiliary patterns.\n     */\n    getNodeQuadContextFieldNode(field, fieldLabel, convertContext) {\n        return this.getNodeQuadContextSelectionSet(field.selectionSet, fieldLabel, Object.assign(Object.assign({}, convertContext), { path: this.util.appendFieldToPath(convertContext.path, fieldLabel) }));\n    }\n    /**\n     * Convert a field node to an operation.\n     * @param {IConvertContext} convertContext A convert context.\n     * @param {FieldNode} fieldNode The field node to convert.\n     * @param {boolean} pushTerminalVariables If terminal variables should be created.\n     * @param {Pattern[]} auxiliaryPatterns Optional patterns that should be part of the BGP.\n     * @return {Operation} The reslting operation.\n     */\n    fieldToOperation(convertContext, fieldNode, pushTerminalVariables, auxiliaryPatterns) {\n        // If a deeper node is being selected, and if the current object should become the next subject\n        const nesting = pushTerminalVariables;\n        // Offset and limit can be changed using the magic arguments 'first' and 'offset'.\n        let offset = 0;\n        let limit;\n        // Ignore 'id' and 'graph' fields, because we have processed them earlier in getNodeQuadContextSelectionSet.\n        if (fieldNode.name.value === 'id' || fieldNode.name.value === 'graph') {\n            pushTerminalVariables = false;\n            // Validate all _-arguments, because even though they were handled before,\n            // the validity of variables could not be checked,\n            // as variablesMetaDict wasn't populated at that time yet.\n            if (fieldNode.arguments) {\n                for (const argument of fieldNode.arguments) {\n                    if (argument.name.value === '_') {\n                        this.util.handleNodeValue(argument.value, fieldNode.name.value, convertContext);\n                    }\n                }\n            }\n        }\n        // Determine the field label for variable naming, taking into account aliases\n        const fieldLabel = this.util.getFieldLabel(fieldNode);\n        // Handle the singular/plural scope\n        if (convertContext.singularizeState === IConvertContext_1.SingularizeState.SINGLE) {\n            convertContext.singularizeVariables[this.util.nameToVariable(fieldLabel, convertContext).value] = true;\n        }\n        // Handle meta fields\n        if (pushTerminalVariables) {\n            const operationOverride = this.handleMetaField(convertContext, fieldLabel, auxiliaryPatterns);\n            if (operationOverride) {\n                return operationOverride;\n            }\n        }\n        const operations = auxiliaryPatterns\n            ? [this.util.operationFactory.createBgp(auxiliaryPatterns)] : [];\n        // Define subject and object\n        const subjectOutput = this.getNodeQuadContextFieldNode(fieldNode, fieldLabel, convertContext);\n        let object = subjectOutput.subject || this.util.nameToVariable(fieldLabel, convertContext);\n        let graph = subjectOutput.graph || convertContext.graph;\n        if (subjectOutput.auxiliaryPatterns) {\n            operations.push(this.util.operationFactory.createBgp(subjectOutput.auxiliaryPatterns));\n        }\n        // Check if there is a '_' argument\n        // We do this before handling all other arguments so that the order of final triple patterns is sane.\n        let createQuadPattern = true;\n        let overrideObjectTerms = null;\n        if (pushTerminalVariables && fieldNode.arguments && fieldNode.arguments.length) {\n            for (const argument of fieldNode.arguments) {\n                if (argument.name.value === '_') {\n                    // '_'-arguments do not create an additional predicate link, but set the value directly.\n                    const valueOutput = this.util.handleNodeValue(argument.value, fieldNode.name.value, convertContext);\n                    overrideObjectTerms = valueOutput.terms;\n                    operations.push(this.util.operationFactory.createBgp(valueOutput.terms.map((term) => this.util.createQuadPattern(convertContext.subject, fieldNode.name, term, convertContext.graph, convertContext.context))));\n                    if (valueOutput.auxiliaryPatterns) {\n                        operations.push(this.util.operationFactory.createBgp(valueOutput.auxiliaryPatterns));\n                    }\n                    pushTerminalVariables = false;\n                    break;\n                }\n                else if (argument.name.value === 'graph') {\n                    // 'graph'-arguments do not create an additional predicate link, but set the graph.\n                    const valueOutput = this.util.handleNodeValue(argument.value, fieldNode.name.value, convertContext);\n                    if (valueOutput.terms.length !== 1) {\n                        throw new Error(`Only single values can be set as graph, but got ${valueOutput.terms\n                            .length} at ${fieldNode.name.value}`);\n                    }\n                    graph = valueOutput.terms[0];\n                    convertContext = Object.assign(Object.assign({}, convertContext), { graph });\n                    if (valueOutput.auxiliaryPatterns) {\n                        operations.push(this.util.operationFactory.createBgp(valueOutput.auxiliaryPatterns));\n                    }\n                    break;\n                }\n                else if (argument.name.value === 'alt') {\n                    // 'alt'-arguments do not create an additional predicate link, but create alt-property paths.\n                    let pathValue = argument.value;\n                    if (pathValue.kind !== 'ListValue') {\n                        pathValue = { kind: 'ListValue', values: [pathValue] };\n                    }\n                    operations.push(this.util.createQuadPath(convertContext.subject, fieldNode.name, pathValue, object, convertContext.graph, convertContext.context));\n                    createQuadPattern = false;\n                    break;\n                }\n            }\n        }\n        // Create at least a pattern for the parent node and the current path.\n        if (pushTerminalVariables && createQuadPattern) {\n            operations.push(this.util.operationFactory.createBgp([\n                this.util.createQuadPattern(convertContext.subject, fieldNode.name, object, convertContext.graph, convertContext.context),\n            ]));\n        }\n        // Create patterns for the node's arguments\n        if (fieldNode.arguments && fieldNode.arguments.length) {\n            for (const argument of fieldNode.arguments) {\n                if (argument.name.value === '_' || argument.name.value === 'graph' || argument.name.value === 'alt') {\n                    // no-op\n                }\n                else if (argument.name.value === 'first') {\n                    if (argument.value.kind !== 'IntValue') {\n                        throw new Error('Invalid value type for \\'first\\' argument: ' + argument.value.kind);\n                    }\n                    limit = parseInt(argument.value.value, 10);\n                }\n                else if (argument.name.value === 'offset') {\n                    if (argument.value.kind !== 'IntValue') {\n                        throw new Error('Invalid value type for \\'offset\\' argument: ' + argument.value.kind);\n                    }\n                    offset = parseInt(argument.value.value, 10);\n                }\n                else {\n                    const valueOutput = this.util.handleNodeValue(argument.value, argument.name.value, convertContext);\n                    operations.push(this.util.operationFactory.createBgp(valueOutput.terms.map((term) => this.util.createQuadPattern(object, argument.name, term, convertContext.graph, convertContext.context))));\n                    if (valueOutput.auxiliaryPatterns) {\n                        operations.push(this.util.operationFactory.createBgp(valueOutput.auxiliaryPatterns));\n                    }\n                }\n            }\n        }\n        // Directives\n        const directiveOutputs = this.getDirectiveOutputs(fieldNode.directives, fieldLabel, convertContext);\n        if (!directiveOutputs) {\n            return this.util.operationFactory.createBgp([]);\n        }\n        // Recursive call for nested selection sets\n        let operation = this.util.joinOperations(operations);\n        if (fieldNode.selectionSet && fieldNode.selectionSet.selections.length) {\n            // Override the object if needed\n            if (overrideObjectTerms) {\n                if (overrideObjectTerms.length !== 1) {\n                    throw new Error(`Only single values can be set as id, but got ${overrideObjectTerms\n                        .length} at ${fieldNode.name.value}`);\n                }\n                object = overrideObjectTerms[0];\n            }\n            // Change path value when there was an alias on this node.\n            const subConvertContext = Object.assign(Object.assign(Object.assign({}, convertContext), nesting ? { path: this.util.appendFieldToPath(convertContext.path, fieldLabel) } : {}), { graph, subject: nesting ? object : convertContext.subject });\n            // If the magic keyword 'totalCount' is present, include a count aggregator.\n            let totalCount = false;\n            const selections = fieldNode.selectionSet.selections\n                .filter((selection) => {\n                if (selection.kind === 'Field' && selection.name.value === 'totalCount') {\n                    totalCount = true;\n                    return false;\n                }\n                return true;\n            });\n            let joinedOperation = this.util.joinOperations(operations\n                .concat(selections.map((selectionNode) => this.util.handleNode(selectionNode, subConvertContext))));\n            // Modify the operation if there was a count selection\n            if (totalCount) {\n                // Create to a count aggregation\n                const expressionVariable = this.util.dataFactory.variable('var' + this.settings.expressionVariableCounter++);\n                const countOverVariable = this.util.dataFactory\n                    .variable(object.value + this.settings.variableDelimiter + 'totalCount');\n                const aggregator = this.util.operationFactory.createBoundAggregate(expressionVariable, 'count', this.util.operationFactory.createTermExpression(object), false);\n                const countProject = this.util.operationFactory.createProject(this.util.operationFactory.createExtend(this.util.operationFactory.createGroup(operation, [], [aggregator]), countOverVariable, this.util.operationFactory.createTermExpression(expressionVariable)), [countOverVariable]);\n                convertContext.terminalVariables.push(countOverVariable);\n                // If no other selections exist (next to totalCount),\n                // then we just return the count operations as-is,\n                // otherwise, we join the count operation with all other selections\n                if (!selections.length) {\n                    joinedOperation = countProject;\n                }\n                else {\n                    joinedOperation = this.util.operationFactory.createJoin([\n                        this.util.operationFactory.createProject(joinedOperation, []),\n                        countProject,\n                    ]);\n                }\n            }\n            operation = joinedOperation;\n        }\n        else if (pushTerminalVariables && object.termType === 'Variable') {\n            // If no nested selection sets exist,\n            // consider the object variable as a terminal variable that should be selected.\n            convertContext.terminalVariables.push(object);\n        }\n        // Wrap the operation in a slice if a 'first' or 'offset' argument was provided.\n        if (offset || limit) {\n            operation = this.util.operationFactory.createSlice(this.util.operationFactory.createProject(operation, sparqlalgebrajs_1.Util.inScopeVariables(operation)), offset, limit);\n        }\n        // Override operation if needed\n        return this.handleDirectiveOutputs(directiveOutputs, operation);\n    }\n    /**\n     * Check if the given node is a meta field, for things like introspection.\n     * If so, return a new operation for this, otherwise, null is returned.\n     * @param {IConvertContext} convertContext A convert context.\n     * @param {Term} subject The subject.\n     * @param {string} fieldLabel The field label to convert.\n     * @param {Pattern[]} auxiliaryPatterns Optional patterns that should be part of the BGP.\n     * @return {Operation} An operation or undefined.\n     */\n    handleMetaField(convertContext, fieldLabel, auxiliaryPatterns) {\n        // TODO: in the future, we should add support for GraphQL wide range of introspection features:\n        // http://graphql.org/learn/introspection/\n        if (fieldLabel === '__typename') {\n            const object = this.util.nameToVariable(fieldLabel, convertContext);\n            convertContext.terminalVariables.push(object);\n            return this.util.operationFactory.createBgp([\n                this.util.operationFactory.createPattern(convertContext.subject, this.util.dataFactory.namedNode('http://www.w3.org/1999/02/22-rdf-syntax-ns#type'), this.util.nameToVariable(fieldLabel, convertContext), convertContext.graph),\n            ].concat(auxiliaryPatterns || []));\n        }\n    }\n}\nexports.NodeHandlerSelectionAdapter = NodeHandlerSelectionAdapter;\n//# sourceMappingURL=NodeHandlerSelectionAdapter.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NodeHandlerSelectionField = void 0;\nconst NodeHandlerSelectionAdapter_1 = require(\"./NodeHandlerSelectionAdapter\");\n/**\n * Converts GraphQL fields to one or more quad patterns.\n */\nclass NodeHandlerSelectionField extends NodeHandlerSelectionAdapter_1.NodeHandlerSelectionAdapter {\n    constructor(util, settings) {\n        super('Field', util, settings);\n    }\n    handle(fieldNode, convertContext) {\n        return this.fieldToOperation(convertContext, fieldNode, true);\n    }\n}\nexports.NodeHandlerSelectionField = NodeHandlerSelectionField;\n//# sourceMappingURL=NodeHandlerSelectionField.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NodeHandlerSelectionFragmentSpread = void 0;\nconst NodeHandlerSelectionAdapter_1 = require(\"./NodeHandlerSelectionAdapter\");\n/**\n * Converts GraphQL fragment spread to one or more quad patterns with a given type within an optional.\n */\nclass NodeHandlerSelectionFragmentSpread extends NodeHandlerSelectionAdapter_1.NodeHandlerSelectionAdapter {\n    constructor(util, settings) {\n        super('FragmentSpread', util, settings);\n    }\n    handle(fragmentSpreadNode, convertContext) {\n        const fragmentDefinitionNode = convertContext\n            .fragmentDefinitions[fragmentSpreadNode.name.value];\n        if (!fragmentDefinitionNode) {\n            throw new Error('Undefined fragment definition: ' + fragmentSpreadNode.name.value);\n        }\n        // Wrap in an OPTIONAL, as this pattern should only apply if the type applies\n        const fieldNode = {\n            alias: undefined,\n            arguments: undefined,\n            directives: fragmentDefinitionNode.directives,\n            kind: 'Field',\n            name: fragmentSpreadNode.name,\n            selectionSet: fragmentDefinitionNode.selectionSet,\n        };\n        const auxiliaryPatterns = [\n            this.util.newTypePattern(convertContext.subject, fragmentDefinitionNode.typeCondition, convertContext),\n        ];\n        return this.util.operationFactory.createLeftJoin(this.util.operationFactory.createBgp([]), this.fieldToOperation(convertContext, fieldNode, false, auxiliaryPatterns));\n    }\n}\nexports.NodeHandlerSelectionFragmentSpread = NodeHandlerSelectionFragmentSpread;\n//# sourceMappingURL=NodeHandlerSelectionFragmentSpread.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NodeHandlerSelectionInlineFragment = void 0;\nconst NodeHandlerSelectionAdapter_1 = require(\"./NodeHandlerSelectionAdapter\");\n/**\n * Converts GraphQL inline fragment to one or more quad patterns with a given type within an optional.\n */\nclass NodeHandlerSelectionInlineFragment extends NodeHandlerSelectionAdapter_1.NodeHandlerSelectionAdapter {\n    constructor(util, settings) {\n        super('InlineFragment', util, settings);\n    }\n    handle(inlineFragmentNode, convertContext) {\n        // Wrap in an OPTIONAL, as this pattern should only apply if the type applies\n        const fieldNode = {\n            alias: undefined,\n            arguments: undefined,\n            directives: inlineFragmentNode.directives,\n            kind: 'Field',\n            name: { kind: 'Name', value: convertContext.subject.value },\n            selectionSet: inlineFragmentNode.selectionSet,\n        };\n        const auxiliaryPatterns = inlineFragmentNode.typeCondition\n            ? [this.util.newTypePattern(convertContext.subject, inlineFragmentNode.typeCondition, convertContext)] : [];\n        return this.util.operationFactory.createLeftJoin(this.util.operationFactory.createBgp([]), this.fieldToOperation(convertContext, fieldNode, false, auxiliaryPatterns));\n    }\n}\nexports.NodeHandlerSelectionInlineFragment = NodeHandlerSelectionInlineFragment;\n//# sourceMappingURL=NodeHandlerSelectionInlineFragment.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DirectiveNodeHandlerAdapter = void 0;\n/**\n * An abstract handler for GraphQL directives.\n */\nclass DirectiveNodeHandlerAdapter {\n    constructor(targetKind, util, settings) {\n        this.targetKind = targetKind;\n        this.util = util;\n        this.settings = settings;\n    }\n    /**\n     * Get the value of the 'if' argument in a directive.\n     * @param {DirectiveNode} directive A directive.\n     * @param {IConvertContext} convertContext A convert context.\n     * @return {Term} The term.\n     */\n    getDirectiveConditionalValue(directive, convertContext) {\n        const arg = this.util.getArgument(directive.arguments, 'if');\n        if (!arg) {\n            throw new Error(`The directive ${directive.name.value} is missing an if-argument.`);\n        }\n        const subValue = this.util.handleNodeValue(arg.value, arg.name.value, convertContext);\n        if (subValue.terms.length !== 1) {\n            throw new Error(`Can not apply the directive ${directive.name.value} with a list.`);\n        }\n        return subValue.terms[0];\n    }\n    /**\n     * If a `scope: all` directive param is present.\n     * @param {DirectiveNode} directive A directive.\n     * @return {boolean} If `scope: all` is present.\n     */\n    isDirectiveScopeAll(directive) {\n        const scopeArg = this.util.getArgument(directive.arguments, 'scope');\n        return scopeArg && scopeArg.value.kind === 'EnumValue' && scopeArg.value.value === 'all';\n    }\n}\nexports.DirectiveNodeHandlerAdapter = DirectiveNodeHandlerAdapter;\n//# sourceMappingURL=DirectiveNodeHandlerAdapter.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DirectiveNodeHandlerInclude = void 0;\nconst DirectiveNodeHandlerAdapter_1 = require(\"./DirectiveNodeHandlerAdapter\");\n/**\n * A handler for include directives.\n */\nclass DirectiveNodeHandlerInclude extends DirectiveNodeHandlerAdapter_1.DirectiveNodeHandlerAdapter {\n    constructor(util, settings) {\n        super('include', util, settings);\n    }\n    handle(directiveContext, convertContext) {\n        const val = this.getDirectiveConditionalValue(directiveContext.directive, convertContext);\n        if (val.termType === 'Literal' && val.value === 'false') {\n            return { ignore: true };\n        }\n        return {};\n    }\n}\nexports.DirectiveNodeHandlerInclude = DirectiveNodeHandlerInclude;\n//# sourceMappingURL=DirectiveNodeHandlerInclude.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DirectiveNodeHandlerOptional = void 0;\nconst DirectiveNodeHandlerAdapter_1 = require(\"./DirectiveNodeHandlerAdapter\");\n/**\n * A handler for optional directives.\n */\nclass DirectiveNodeHandlerOptional extends DirectiveNodeHandlerAdapter_1.DirectiveNodeHandlerAdapter {\n    constructor(util, settings) {\n        super('optional', util, settings);\n    }\n    handle(directiveContext, convertContext) {\n        return {\n            operationOverrider: (operation) => this.util.operationFactory.createLeftJoin(this.util.operationFactory.createBgp([]), operation),\n        };\n    }\n}\nexports.DirectiveNodeHandlerOptional = DirectiveNodeHandlerOptional;\n//# sourceMappingURL=DirectiveNodeHandlerOptional.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DirectiveNodeHandlerPlural = void 0;\nconst IConvertContext_1 = require(\"../../IConvertContext\");\nconst DirectiveNodeHandlerAdapter_1 = require(\"./DirectiveNodeHandlerAdapter\");\n/**\n * A handler for plural directives.\n */\nclass DirectiveNodeHandlerPlural extends DirectiveNodeHandlerAdapter_1.DirectiveNodeHandlerAdapter {\n    constructor(util, settings) {\n        super('plural', util, settings);\n    }\n    handle(directiveContext, convertContext) {\n        if (this.isDirectiveScopeAll(directiveContext.directive)) {\n            convertContext.singularizeState = IConvertContext_1.SingularizeState.PLURAL;\n        }\n        // Delete the existing entry, as this may have already been set before if we were in a single scope.\n        delete convertContext.singularizeVariables[this.util.nameToVariable(directiveContext.fieldLabel, convertContext).value];\n        return {};\n    }\n}\nexports.DirectiveNodeHandlerPlural = DirectiveNodeHandlerPlural;\n//# sourceMappingURL=DirectiveNodeHandlerPlural.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DirectiveNodeHandlerSingle = void 0;\nconst IConvertContext_1 = require(\"../../IConvertContext\");\nconst DirectiveNodeHandlerAdapter_1 = require(\"./DirectiveNodeHandlerAdapter\");\n/**\n * A handler for single directives.\n */\nclass DirectiveNodeHandlerSingle extends DirectiveNodeHandlerAdapter_1.DirectiveNodeHandlerAdapter {\n    constructor(util, settings) {\n        super('single', util, settings);\n    }\n    handle(directiveContext, convertContext) {\n        if (this.isDirectiveScopeAll(directiveContext.directive)) {\n            convertContext.singularizeState = IConvertContext_1.SingularizeState.SINGLE;\n        }\n        convertContext.singularizeVariables[this.util.nameToVariable(directiveContext.fieldLabel, convertContext).value] = true;\n        return {};\n    }\n}\nexports.DirectiveNodeHandlerSingle = DirectiveNodeHandlerSingle;\n//# sourceMappingURL=DirectiveNodeHandlerSingle.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DirectiveNodeHandlerSkip = void 0;\nconst DirectiveNodeHandlerAdapter_1 = require(\"./DirectiveNodeHandlerAdapter\");\n/**\n * A handler for skip directives.\n */\nclass DirectiveNodeHandlerSkip extends DirectiveNodeHandlerAdapter_1.DirectiveNodeHandlerAdapter {\n    constructor(util, settings) {\n        super('skip', util, settings);\n    }\n    handle(directiveContext, convertContext) {\n        const val = this.getDirectiveConditionalValue(directiveContext.directive, convertContext);\n        if (val.termType === 'Literal' && val.value === 'true') {\n            return { ignore: true };\n        }\n        return {};\n    }\n}\nexports.DirectiveNodeHandlerSkip = DirectiveNodeHandlerSkip;\n//# sourceMappingURL=DirectiveNodeHandlerSkip.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./DirectiveNodeHandlerAdapter\"), exports);\n__exportStar(require(\"./DirectiveNodeHandlerInclude\"), exports);\n__exportStar(require(\"./DirectiveNodeHandlerOptional\"), exports);\n__exportStar(require(\"./DirectiveNodeHandlerPlural\"), exports);\n__exportStar(require(\"./DirectiveNodeHandlerSingle\"), exports);\n__exportStar(require(\"./DirectiveNodeHandlerSkip\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./directivenode\"), exports);\n__exportStar(require(\"./valuenode\"), exports);\n__exportStar(require(\"./NodeHandlerAdapter\"), exports);\n__exportStar(require(\"./NodeHandlerDefinitionAdapter\"), exports);\n__exportStar(require(\"./NodeHandlerDefinitionFragment\"), exports);\n__exportStar(require(\"./NodeHandlerDefinitionOperation\"), exports);\n__exportStar(require(\"./NodeHandlerDocument\"), exports);\n__exportStar(require(\"./NodeHandlerSelectionAdapter\"), exports);\n__exportStar(require(\"./NodeHandlerSelectionField\"), exports);\n__exportStar(require(\"./NodeHandlerSelectionFragmentSpread\"), exports);\n__exportStar(require(\"./NodeHandlerSelectionInlineFragment\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NodeValueHandlerAdapter = void 0;\n/**\n * A handler for converting GraphQL value nodes to terms and patterns.\n */\nclass NodeValueHandlerAdapter {\n    constructor(targetKind, util, settings) {\n        this.targetKind = targetKind;\n        this.util = util;\n        this.settings = settings;\n    }\n}\nexports.NodeValueHandlerAdapter = NodeValueHandlerAdapter;\n//# sourceMappingURL=NodeValueHandlerAdapter.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NodeValueHandlerBoolean = void 0;\nconst NodeValueHandlerAdapter_1 = require(\"./NodeValueHandlerAdapter\");\n/**\n * Converts GraphQL booleans to RDF boolean terms.\n */\nclass NodeValueHandlerBoolean extends NodeValueHandlerAdapter_1.NodeValueHandlerAdapter {\n    constructor(util, settings) {\n        super('BooleanValue', util, settings);\n        this.datatype = this.util.dataFactory.namedNode('http://www.w3.org/2001/XMLSchema#boolean');\n    }\n    handle(valueNode, fieldName, convertContext) {\n        return { terms: [this.util.dataFactory.literal(valueNode.value ? 'true' : 'false', this.datatype)] };\n    }\n}\nexports.NodeValueHandlerBoolean = NodeValueHandlerBoolean;\n//# sourceMappingURL=NodeValueHandlerBoolean.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NodeValueHandlerEnum = void 0;\nconst NodeValueHandlerAdapter_1 = require(\"./NodeValueHandlerAdapter\");\n/**\n * Converts GraphQL enums to RDF named nodes.\n */\nclass NodeValueHandlerEnum extends NodeValueHandlerAdapter_1.NodeValueHandlerAdapter {\n    constructor(util, settings) {\n        super('EnumValue', util, settings);\n    }\n    handle(valueNode, fieldName, convertContext) {\n        return { terms: [this.util.valueToNamedNode(valueNode.value, convertContext.context)] };\n    }\n}\nexports.NodeValueHandlerEnum = NodeValueHandlerEnum;\n//# sourceMappingURL=NodeValueHandlerEnum.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NodeValueHandlerFloat = void 0;\nconst NodeValueHandlerAdapter_1 = require(\"./NodeValueHandlerAdapter\");\n/**\n * Converts GraphQL floats to RDF float terms.\n */\nclass NodeValueHandlerFloat extends NodeValueHandlerAdapter_1.NodeValueHandlerAdapter {\n    constructor(util, settings) {\n        super('FloatValue', util, settings);\n        this.datatype = this.util.dataFactory.namedNode('http://www.w3.org/2001/XMLSchema#float');\n    }\n    handle(valueNode, fieldName, convertContext) {\n        return { terms: [this.util.dataFactory.literal(valueNode.value, this.datatype)] };\n    }\n}\nexports.NodeValueHandlerFloat = NodeValueHandlerFloat;\n//# sourceMappingURL=NodeValueHandlerFloat.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NodeValueHandlerInt = void 0;\nconst NodeValueHandlerAdapter_1 = require(\"./NodeValueHandlerAdapter\");\n/**\n * Converts GraphQL ints to RDF integer terms.\n */\nclass NodeValueHandlerInt extends NodeValueHandlerAdapter_1.NodeValueHandlerAdapter {\n    constructor(util, settings) {\n        super('IntValue', util, settings);\n        this.datatype = this.util.dataFactory.namedNode('http://www.w3.org/2001/XMLSchema#integer');\n    }\n    handle(valueNode, fieldName, convertContext) {\n        return { terms: [this.util.dataFactory.literal(valueNode.value, this.datatype)] };\n    }\n}\nexports.NodeValueHandlerInt = NodeValueHandlerInt;\n//# sourceMappingURL=NodeValueHandlerInt.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NodeValueHandlerList = void 0;\nconst NodeValueHandlerAdapter_1 = require(\"./NodeValueHandlerAdapter\");\n/**\n * Converts GraphQL lists to RDF lists if settings.arraysToRdfLists is true, otherwise it converts to multiple values.\n */\nclass NodeValueHandlerList extends NodeValueHandlerAdapter_1.NodeValueHandlerAdapter {\n    constructor(util, settings) {\n        super('ListValue', util, settings);\n        this.nodeFirst = this.util.dataFactory.namedNode('http://www.w3.org/1999/02/22-rdf-syntax-ns#first');\n        this.nodeRest = this.util.dataFactory.namedNode('http://www.w3.org/1999/02/22-rdf-syntax-ns#rest');\n        this.nodeNil = this.util.dataFactory.namedNode('http://www.w3.org/1999/02/22-rdf-syntax-ns#nil');\n    }\n    handle(valueNode, fieldName, convertContext) {\n        const listTerms = [];\n        let auxiliaryPatterns = [];\n        // Create terms for list values\n        for (const v of valueNode.values) {\n            const subValue = this.util.handleNodeValue(v, fieldName, convertContext);\n            for (const term of subValue.terms) {\n                listTerms.push(term);\n            }\n            if (subValue.auxiliaryPatterns) {\n                auxiliaryPatterns = auxiliaryPatterns.concat(subValue.auxiliaryPatterns);\n            }\n        }\n        if (this.settings.arraysToRdfLists) {\n            // Convert array to RDF list\n            // Create chained list structure\n            const firstListNode = this.util.dataFactory.blankNode();\n            let listNode = firstListNode;\n            let remaining = listTerms.length;\n            for (const term of listTerms) {\n                auxiliaryPatterns.push(this.util.operationFactory.createPattern(listNode, this.nodeFirst, term, convertContext.graph));\n                const nextListNode = --remaining === 0 ? this.nodeNil : this.util.dataFactory.blankNode();\n                auxiliaryPatterns.push(this.util.operationFactory.createPattern(listNode, this.nodeRest, nextListNode, convertContext.graph));\n                listNode = nextListNode;\n            }\n            return { terms: [firstListNode], auxiliaryPatterns };\n        }\n        else {\n            // Convert array to multiple terms that will be linked via the same predicate.\n            return { terms: listTerms, auxiliaryPatterns };\n        }\n    }\n}\nexports.NodeValueHandlerList = NodeValueHandlerList;\n//# sourceMappingURL=NodeValueHandlerList.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NodeValueHandlerNull = void 0;\nconst NodeValueHandlerAdapter_1 = require(\"./NodeValueHandlerAdapter\");\n/**\n * Converts GraphQL nulls to RDF nil terms.\n */\nclass NodeValueHandlerNull extends NodeValueHandlerAdapter_1.NodeValueHandlerAdapter {\n    constructor(util, settings) {\n        super('NullValue', util, settings);\n        this.nil = this.util.dataFactory.namedNode('http://www.w3.org/1999/02/22-rdf-syntax-ns#nil');\n    }\n    handle(valueNode, fieldName, convertContext) {\n        return { terms: [this.nil] };\n    }\n}\nexports.NodeValueHandlerNull = NodeValueHandlerNull;\n//# sourceMappingURL=NodeValueHandlerNull.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NodeValueHandlerObject = void 0;\nconst NodeValueHandlerAdapter_1 = require(\"./NodeValueHandlerAdapter\");\n/**\n * Converts GraphQL objects to triple patterns by converting keys to predicates and values to objects.\n */\nclass NodeValueHandlerObject extends NodeValueHandlerAdapter_1.NodeValueHandlerAdapter {\n    constructor(util, settings) {\n        super('ObjectValue', util, settings);\n    }\n    handle(valueNode, fieldName, convertContext) {\n        // Convert object keys to predicates and values to objects, and link them both with a new blank node.\n        const subject = this.util.dataFactory.blankNode();\n        let auxiliaryObjectPatterns = [];\n        for (const field of valueNode.fields) {\n            const subValue = this.util.handleNodeValue(field.value, fieldName, convertContext);\n            for (const term of subValue.terms) {\n                auxiliaryObjectPatterns.push(this.util.createQuadPattern(subject, field.name, term, convertContext.graph, convertContext.context));\n            }\n            if (subValue.auxiliaryPatterns) {\n                auxiliaryObjectPatterns = auxiliaryObjectPatterns.concat(subValue.auxiliaryPatterns);\n            }\n        }\n        return { terms: [subject], auxiliaryPatterns: auxiliaryObjectPatterns };\n    }\n}\nexports.NodeValueHandlerObject = NodeValueHandlerObject;\n//# sourceMappingURL=NodeValueHandlerObject.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NodeValueHandlerString = void 0;\nconst NodeValueHandlerAdapter_1 = require(\"./NodeValueHandlerAdapter\");\n/**\n * Converts GraphQL strings to RDF string terms, which can have a custom language or datatype.\n */\nclass NodeValueHandlerString extends NodeValueHandlerAdapter_1.NodeValueHandlerAdapter {\n    constructor(util, settings) {\n        super('StringValue', util, settings);\n    }\n    handle(valueNode, fieldName, convertContext) {\n        const contextEntry = convertContext.context.getContextRaw()[fieldName];\n        let language;\n        let datatype;\n        if (contextEntry && typeof contextEntry !== 'string') {\n            if (contextEntry['@language']) {\n                language = contextEntry['@language'];\n            }\n            else if (contextEntry['@type']) {\n                datatype = this.util.dataFactory.namedNode(contextEntry['@type']);\n            }\n        }\n        return { terms: [this.util.dataFactory.literal(valueNode.value, language || datatype)] };\n    }\n}\nexports.NodeValueHandlerString = NodeValueHandlerString;\n//# sourceMappingURL=NodeValueHandlerString.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NodeValueHandlerVariable = void 0;\nconst NodeValueHandlerAdapter_1 = require(\"./NodeValueHandlerAdapter\");\n/**\n * Converts GraphQL variables to terms based on the contents of the variablesDict.\n */\nclass NodeValueHandlerVariable extends NodeValueHandlerAdapter_1.NodeValueHandlerAdapter {\n    constructor(util, settings) {\n        super('Variable', util, settings);\n    }\n    handle(valueNode, fieldName, convertContext) {\n        const id = valueNode.name.value;\n        const value = convertContext.variablesDict[id];\n        const meta = convertContext.variablesMetaDict[id];\n        // Handle missing values\n        if (!value) {\n            if (!convertContext.ignoreUnknownVariables && (!meta || meta.mandatory)) {\n                throw new Error(`Undefined variable: ${id}`);\n            }\n            else {\n                const variable = this.util.dataFactory.variable(id);\n                if (convertContext.terminalVariables.map((v) => v.value).indexOf(id) < 0) {\n                    convertContext.terminalVariables.push(variable);\n                }\n                return { terms: [variable] };\n            }\n        }\n        // Don't allow variables that refer to other variables\n        if (value.kind === 'Variable') {\n            throw new Error(`Variable refers to another variable: ${id}`);\n        }\n        if (meta) {\n            // Check the type\n            if (meta.list) {\n                // If we expect a list, check if we got a list.\n                if (value.kind !== 'ListValue') {\n                    throw new Error(`Expected a list, but got ${value.kind} for ${id}`);\n                }\n                // Check the type in the list\n                if (meta.type) {\n                    const listValue = value;\n                    for (const v of listValue.values) {\n                        if (v.kind !== meta.type) {\n                            throw new Error(`Expected ${meta.type}, but got ${v.kind} for ${id}`);\n                        }\n                    }\n                }\n            }\n            else if (meta.type) {\n                // This is allowed to be different (?)\n                /*if (value.kind !== meta.type) {\n                  throw new Error(`Expected ${meta.type}, but got ${value.kind} for ${id}`);\n                }*/\n            }\n        }\n        return this.util.handleNodeValue(value, fieldName, convertContext);\n    }\n}\nexports.NodeValueHandlerVariable = NodeValueHandlerVariable;\n//# sourceMappingURL=NodeValueHandlerVariable.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./NodeValueHandlerAdapter\"), exports);\n__exportStar(require(\"./NodeValueHandlerBoolean\"), exports);\n__exportStar(require(\"./NodeValueHandlerEnum\"), exports);\n__exportStar(require(\"./NodeValueHandlerFloat\"), exports);\n__exportStar(require(\"./NodeValueHandlerInt\"), exports);\n__exportStar(require(\"./NodeValueHandlerList\"), exports);\n__exportStar(require(\"./NodeValueHandlerNull\"), exports);\n__exportStar(require(\"./NodeValueHandlerObject\"), exports);\n__exportStar(require(\"./NodeValueHandlerString\"), exports);\n__exportStar(require(\"./NodeValueHandlerVariable\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.printError = printError;\nexports.GraphQLError = void 0;\n\nvar _isObjectLike = _interopRequireDefault(require(\"../jsutils/isObjectLike.js\"));\n\nvar _symbols = require(\"../polyfills/symbols.js\");\n\nvar _location = require(\"../language/location.js\");\n\nvar _printLocation = require(\"../language/printLocation.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n/**\n * A GraphQLError describes an Error found during the parse, validate, or\n * execute phases of performing a GraphQL operation. In addition to a message\n * and stack trace, it also includes information about the locations in a\n * GraphQL document and/or execution result that correspond to the Error.\n */\nvar GraphQLError = /*#__PURE__*/function (_Error) {\n  _inherits(GraphQLError, _Error);\n\n  var _super = _createSuper(GraphQLError);\n\n  /**\n   * An array of { line, column } locations within the source GraphQL document\n   * which correspond to this error.\n   *\n   * Errors during validation often contain multiple locations, for example to\n   * point out two things with the same name. Errors during execution include a\n   * single location, the field which produced the error.\n   *\n   * Enumerable, and appears in the result of JSON.stringify().\n   */\n\n  /**\n   * An array describing the JSON-path into the execution response which\n   * corresponds to this error. Only included for errors during execution.\n   *\n   * Enumerable, and appears in the result of JSON.stringify().\n   */\n\n  /**\n   * An array of GraphQL AST Nodes corresponding to this error.\n   */\n\n  /**\n   * The source GraphQL document for the first location of this error.\n   *\n   * Note that if this Error represents more than one node, the source may not\n   * represent nodes after the first node.\n   */\n\n  /**\n   * An array of character offsets within the source GraphQL document\n   * which correspond to this error.\n   */\n\n  /**\n   * The original error thrown from a field resolver during execution.\n   */\n\n  /**\n   * Extension fields to add to the formatted error.\n   */\n  function GraphQLError(message, nodes, source, positions, path, originalError, extensions) {\n    var _nodeLocations, _nodeLocations2, _nodeLocations3;\n\n    var _this;\n\n    _classCallCheck(this, GraphQLError);\n\n    _this = _super.call(this, message);\n    _this.name = 'GraphQLError';\n    _this.originalError = originalError !== null && originalError !== void 0 ? originalError : undefined; // Compute list of blame nodes.\n\n    _this.nodes = undefinedIfEmpty(Array.isArray(nodes) ? nodes : nodes ? [nodes] : undefined);\n    var nodeLocations = [];\n\n    for (var _i2 = 0, _ref3 = (_this$nodes = _this.nodes) !== null && _this$nodes !== void 0 ? _this$nodes : []; _i2 < _ref3.length; _i2++) {\n      var _this$nodes;\n\n      var _ref4 = _ref3[_i2];\n      var loc = _ref4.loc;\n\n      if (loc != null) {\n        nodeLocations.push(loc);\n      }\n    }\n\n    nodeLocations = undefinedIfEmpty(nodeLocations); // Compute locations in the source for the given nodes/positions.\n\n    _this.source = source !== null && source !== void 0 ? source : (_nodeLocations = nodeLocations) === null || _nodeLocations === void 0 ? void 0 : _nodeLocations[0].source;\n    _this.positions = positions !== null && positions !== void 0 ? positions : (_nodeLocations2 = nodeLocations) === null || _nodeLocations2 === void 0 ? void 0 : _nodeLocations2.map(function (loc) {\n      return loc.start;\n    });\n    _this.locations = positions && source ? positions.map(function (pos) {\n      return (0, _location.getLocation)(source, pos);\n    }) : (_nodeLocations3 = nodeLocations) === null || _nodeLocations3 === void 0 ? void 0 : _nodeLocations3.map(function (loc) {\n      return (0, _location.getLocation)(loc.source, loc.start);\n    });\n    _this.path = path !== null && path !== void 0 ? path : undefined;\n    var originalExtensions = originalError === null || originalError === void 0 ? void 0 : originalError.extensions;\n\n    if (extensions == null && (0, _isObjectLike.default)(originalExtensions)) {\n      _this.extensions = _objectSpread({}, originalExtensions);\n    } else {\n      _this.extensions = extensions !== null && extensions !== void 0 ? extensions : {};\n    } // By being enumerable, JSON.stringify will include bellow properties in the resulting output.\n    // This ensures that the simplest possible GraphQL service adheres to the spec.\n\n\n    Object.defineProperties(_assertThisInitialized(_this), {\n      message: {\n        enumerable: true\n      },\n      locations: {\n        enumerable: _this.locations != null\n      },\n      path: {\n        enumerable: _this.path != null\n      },\n      extensions: {\n        enumerable: _this.extensions != null && Object.keys(_this.extensions).length > 0\n      },\n      name: {\n        enumerable: false\n      },\n      nodes: {\n        enumerable: false\n      },\n      source: {\n        enumerable: false\n      },\n      positions: {\n        enumerable: false\n      },\n      originalError: {\n        enumerable: false\n      }\n    }); // Include (non-enumerable) stack trace.\n\n    if (originalError !== null && originalError !== void 0 && originalError.stack) {\n      Object.defineProperty(_assertThisInitialized(_this), 'stack', {\n        value: originalError.stack,\n        writable: true,\n        configurable: true\n      });\n      return _possibleConstructorReturn(_this);\n    } // istanbul ignore next (See: 'https://github.com/graphql/graphql-js/issues/2317')\n\n\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(_assertThisInitialized(_this), GraphQLError);\n    } else {\n      Object.defineProperty(_assertThisInitialized(_this), 'stack', {\n        value: Error().stack,\n        writable: true,\n        configurable: true\n      });\n    }\n\n    return _this;\n  }\n\n  _createClass(GraphQLError, [{\n    key: \"toString\",\n    value: function toString() {\n      return printError(this);\n    } // FIXME: workaround to not break chai comparisons, should be remove in v16\n    // $FlowFixMe[unsupported-syntax] Flow doesn't support computed properties yet\n\n  }, {\n    key: _symbols.SYMBOL_TO_STRING_TAG,\n    get: function get() {\n      return 'Object';\n    }\n  }]);\n\n  return GraphQLError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n\nexports.GraphQLError = GraphQLError;\n\nfunction undefinedIfEmpty(array) {\n  return array === undefined || array.length === 0 ? undefined : array;\n}\n/**\n * Prints a GraphQLError to a string, representing useful location information\n * about the error's position in the source.\n */\n\n\nfunction printError(error) {\n  var output = error.message;\n\n  if (error.nodes) {\n    for (var _i4 = 0, _error$nodes2 = error.nodes; _i4 < _error$nodes2.length; _i4++) {\n      var node = _error$nodes2[_i4];\n\n      if (node.loc) {\n        output += '\\n\\n' + (0, _printLocation.printLocation)(node.loc);\n      }\n    }\n  } else if (error.source && error.locations) {\n    for (var _i6 = 0, _error$locations2 = error.locations; _i6 < _error$locations2.length; _i6++) {\n      var location = _error$locations2[_i6];\n      output += '\\n\\n' + (0, _printLocation.printSourceLocation)(error.source, location);\n    }\n  }\n\n  return output;\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.syntaxError = syntaxError;\n\nvar _GraphQLError = require(\"./GraphQLError.js\");\n\n/**\n * Produces a GraphQLError representing a syntax error, containing useful\n * descriptive information about the syntax error's position in the source.\n */\nfunction syntaxError(source, position, description) {\n  return new _GraphQLError.GraphQLError(\"Syntax Error: \".concat(description), undefined, source, [position]);\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = defineInspect;\n\nvar _invariant = _interopRequireDefault(require(\"./invariant.js\"));\n\nvar _nodejsCustomInspectSymbol = _interopRequireDefault(require(\"./nodejsCustomInspectSymbol.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * The `defineInspect()` function defines `inspect()` prototype method as alias of `toJSON`\n */\nfunction defineInspect(classObject) {\n  var fn = classObject.prototype.toJSON;\n  typeof fn === 'function' || (0, _invariant.default)(0);\n  classObject.prototype.inspect = fn; // istanbul ignore else (See: 'https://github.com/graphql/graphql-js/issues/2317')\n\n  if (_nodejsCustomInspectSymbol.default) {\n    classObject.prototype[_nodejsCustomInspectSymbol.default] = fn;\n  }\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = devAssert;\n\nfunction devAssert(condition, message) {\n  var booleanCondition = Boolean(condition); // istanbul ignore else (See transformation done in './resources/inlineInvariant.js')\n\n  if (!booleanCondition) {\n    throw new Error(message);\n  }\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = inspect;\n\nvar _nodejsCustomInspectSymbol = _interopRequireDefault(require(\"./nodejsCustomInspectSymbol.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar MAX_ARRAY_LENGTH = 10;\nvar MAX_RECURSIVE_DEPTH = 2;\n/**\n * Used to print values in error messages.\n */\n\nfunction inspect(value) {\n  return formatValue(value, []);\n}\n\nfunction formatValue(value, seenValues) {\n  switch (_typeof(value)) {\n    case 'string':\n      return JSON.stringify(value);\n\n    case 'function':\n      return value.name ? \"[function \".concat(value.name, \"]\") : '[function]';\n\n    case 'object':\n      if (value === null) {\n        return 'null';\n      }\n\n      return formatObjectValue(value, seenValues);\n\n    default:\n      return String(value);\n  }\n}\n\nfunction formatObjectValue(value, previouslySeenValues) {\n  if (previouslySeenValues.indexOf(value) !== -1) {\n    return '[Circular]';\n  }\n\n  var seenValues = [].concat(previouslySeenValues, [value]);\n  var customInspectFn = getCustomFn(value);\n\n  if (customInspectFn !== undefined) {\n    var customValue = customInspectFn.call(value); // check for infinite recursion\n\n    if (customValue !== value) {\n      return typeof customValue === 'string' ? customValue : formatValue(customValue, seenValues);\n    }\n  } else if (Array.isArray(value)) {\n    return formatArray(value, seenValues);\n  }\n\n  return formatObject(value, seenValues);\n}\n\nfunction formatObject(object, seenValues) {\n  var keys = Object.keys(object);\n\n  if (keys.length === 0) {\n    return '{}';\n  }\n\n  if (seenValues.length > MAX_RECURSIVE_DEPTH) {\n    return '[' + getObjectTag(object) + ']';\n  }\n\n  var properties = keys.map(function (key) {\n    var value = formatValue(object[key], seenValues);\n    return key + ': ' + value;\n  });\n  return '{ ' + properties.join(', ') + ' }';\n}\n\nfunction formatArray(array, seenValues) {\n  if (array.length === 0) {\n    return '[]';\n  }\n\n  if (seenValues.length > MAX_RECURSIVE_DEPTH) {\n    return '[Array]';\n  }\n\n  var len = Math.min(MAX_ARRAY_LENGTH, array.length);\n  var remaining = array.length - len;\n  var items = [];\n\n  for (var i = 0; i < len; ++i) {\n    items.push(formatValue(array[i], seenValues));\n  }\n\n  if (remaining === 1) {\n    items.push('... 1 more item');\n  } else if (remaining > 1) {\n    items.push(\"... \".concat(remaining, \" more items\"));\n  }\n\n  return '[' + items.join(', ') + ']';\n}\n\nfunction getCustomFn(object) {\n  var customInspectFn = object[String(_nodejsCustomInspectSymbol.default)];\n\n  if (typeof customInspectFn === 'function') {\n    return customInspectFn;\n  }\n\n  if (typeof object.inspect === 'function') {\n    return object.inspect;\n  }\n}\n\nfunction getObjectTag(object) {\n  var tag = Object.prototype.toString.call(object).replace(/^\\[object /, '').replace(/]$/, '');\n\n  if (tag === 'Object' && typeof object.constructor === 'function') {\n    var name = object.constructor.name;\n\n    if (typeof name === 'string' && name !== '') {\n      return name;\n    }\n  }\n\n  return tag;\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _inspect = _interopRequireDefault(require(\"./inspect.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n// See: https://expressjs.com/en/advanced/best-practice-performance.html#set-node_env-to-production\n// See: https://webpack.js.org/guides/production/\nvar _default = process.env.NODE_ENV === 'production' ? // istanbul ignore next (See: 'https://github.com/graphql/graphql-js/issues/2317')\n// eslint-disable-next-line no-shadow\nfunction instanceOf(value, constructor) {\n  return value instanceof constructor;\n} : // eslint-disable-next-line no-shadow\nfunction instanceOf(value, constructor) {\n  if (value instanceof constructor) {\n    return true;\n  }\n\n  if (_typeof(value) === 'object' && value !== null) {\n    var _value$constructor;\n\n    var className = constructor.prototype[Symbol.toStringTag];\n    var valueClassName = // We still need to support constructor's name to detect conflicts with older versions of this library.\n    Symbol.toStringTag in value ? value[Symbol.toStringTag] : (_value$constructor = value.constructor) === null || _value$constructor === void 0 ? void 0 : _value$constructor.name;\n\n    if (className === valueClassName) {\n      var stringifiedValue = (0, _inspect.default)(value);\n      throw new Error(\"Cannot use \".concat(className, \" \\\"\").concat(stringifiedValue, \"\\\" from another module or realm.\\n\\nEnsure that there is only one instance of \\\"graphql\\\" in the node_modules\\ndirectory. If different versions of \\\"graphql\\\" are the dependencies of other\\nrelied on modules, use \\\"resolutions\\\" to ensure only one version is installed.\\n\\nhttps://yarnpkg.com/en/docs/selective-version-resolutions\\n\\nDuplicate \\\"graphql\\\" modules cannot be used at the same time since different\\nversions may have different capabilities and behavior. The data from one\\nversion used in the function from another could produce confusing and\\nspurious results.\"));\n    }\n  }\n\n  return false;\n};\n\nexports.default = _default;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = invariant;\n\nfunction invariant(condition, message) {\n  var booleanCondition = Boolean(condition); // istanbul ignore else (See transformation done in './resources/inlineInvariant.js')\n\n  if (!booleanCondition) {\n    throw new Error(message != null ? message : 'Unexpected invariant triggered.');\n  }\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isObjectLike;\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/**\n * Return true if `value` is object-like. A value is object-like if it's not\n * `null` and has a `typeof` result of \"object\".\n */\nfunction isObjectLike(value) {\n  return _typeof(value) == 'object' && value !== null;\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n// istanbul ignore next (See: 'https://github.com/graphql/graphql-js/issues/2317')\nvar nodejsCustomInspectSymbol = typeof Symbol === 'function' && typeof Symbol.for === 'function' ? Symbol.for('nodejs.util.inspect.custom') : undefined;\nvar _default = nodejsCustomInspectSymbol;\nexports.default = _default;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isNode = isNode;\nexports.Token = exports.Location = void 0;\n\nvar _defineInspect = _interopRequireDefault(require(\"../jsutils/defineInspect.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Contains a range of UTF-8 character offsets and token references that\n * identify the region of the source from which the AST derived.\n */\nvar Location = /*#__PURE__*/function () {\n  /**\n   * The character offset at which this Node begins.\n   */\n\n  /**\n   * The character offset at which this Node ends.\n   */\n\n  /**\n   * The Token at which this Node begins.\n   */\n\n  /**\n   * The Token at which this Node ends.\n   */\n\n  /**\n   * The Source document the AST represents.\n   */\n  function Location(startToken, endToken, source) {\n    this.start = startToken.start;\n    this.end = endToken.end;\n    this.startToken = startToken;\n    this.endToken = endToken;\n    this.source = source;\n  }\n\n  var _proto = Location.prototype;\n\n  _proto.toJSON = function toJSON() {\n    return {\n      start: this.start,\n      end: this.end\n    };\n  };\n\n  return Location;\n}(); // Print a simplified form when appearing in `inspect` and `util.inspect`.\n\n\nexports.Location = Location;\n(0, _defineInspect.default)(Location);\n/**\n * Represents a range of characters represented by a lexical token\n * within a Source.\n */\n\nvar Token = /*#__PURE__*/function () {\n  /**\n   * The kind of Token.\n   */\n\n  /**\n   * The character offset at which this Node begins.\n   */\n\n  /**\n   * The character offset at which this Node ends.\n   */\n\n  /**\n   * The 1-indexed line number on which this Token appears.\n   */\n\n  /**\n   * The 1-indexed column number at which this Token begins.\n   */\n\n  /**\n   * For non-punctuation tokens, represents the interpreted value of the token.\n   */\n\n  /**\n   * Tokens exist as nodes in a double-linked-list amongst all tokens\n   * including ignored tokens. <SOF> is always the first node and <EOF>\n   * the last.\n   */\n  function Token(kind, start, end, line, column, prev, value) {\n    this.kind = kind;\n    this.start = start;\n    this.end = end;\n    this.line = line;\n    this.column = column;\n    this.value = value;\n    this.prev = prev;\n    this.next = null;\n  }\n\n  var _proto2 = Token.prototype;\n\n  _proto2.toJSON = function toJSON() {\n    return {\n      kind: this.kind,\n      value: this.value,\n      line: this.line,\n      column: this.column\n    };\n  };\n\n  return Token;\n}(); // Print a simplified form when appearing in `inspect` and `util.inspect`.\n\n\nexports.Token = Token;\n(0, _defineInspect.default)(Token);\n/**\n * @internal\n */\n\nfunction isNode(maybeNode) {\n  return maybeNode != null && typeof maybeNode.kind === 'string';\n}\n/**\n * The list of all possible AST node types.\n */\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.dedentBlockStringValue = dedentBlockStringValue;\nexports.getBlockStringIndentation = getBlockStringIndentation;\nexports.printBlockString = printBlockString;\n\n/**\n * Produces the value of a block string from its parsed raw value, similar to\n * CoffeeScript's block string, Python's docstring trim or Ruby's strip_heredoc.\n *\n * This implements the GraphQL spec's BlockStringValue() static algorithm.\n *\n * @internal\n */\nfunction dedentBlockStringValue(rawString) {\n  // Expand a block string's raw value into independent lines.\n  var lines = rawString.split(/\\r\\n|[\\n\\r]/g); // Remove common indentation from all lines but first.\n\n  var commonIndent = getBlockStringIndentation(rawString);\n\n  if (commonIndent !== 0) {\n    for (var i = 1; i < lines.length; i++) {\n      lines[i] = lines[i].slice(commonIndent);\n    }\n  } // Remove leading and trailing blank lines.\n\n\n  var startLine = 0;\n\n  while (startLine < lines.length && isBlank(lines[startLine])) {\n    ++startLine;\n  }\n\n  var endLine = lines.length;\n\n  while (endLine > startLine && isBlank(lines[endLine - 1])) {\n    --endLine;\n  } // Return a string of the lines joined with U+000A.\n\n\n  return lines.slice(startLine, endLine).join('\\n');\n}\n\nfunction isBlank(str) {\n  for (var i = 0; i < str.length; ++i) {\n    if (str[i] !== ' ' && str[i] !== '\\t') {\n      return false;\n    }\n  }\n\n  return true;\n}\n/**\n * @internal\n */\n\n\nfunction getBlockStringIndentation(value) {\n  var _commonIndent;\n\n  var isFirstLine = true;\n  var isEmptyLine = true;\n  var indent = 0;\n  var commonIndent = null;\n\n  for (var i = 0; i < value.length; ++i) {\n    switch (value.charCodeAt(i)) {\n      case 13:\n        //  \\r\n        if (value.charCodeAt(i + 1) === 10) {\n          ++i; // skip \\r\\n as one symbol\n        }\n\n      // falls through\n\n      case 10:\n        //  \\n\n        isFirstLine = false;\n        isEmptyLine = true;\n        indent = 0;\n        break;\n\n      case 9: //   \\t\n\n      case 32:\n        //  <space>\n        ++indent;\n        break;\n\n      default:\n        if (isEmptyLine && !isFirstLine && (commonIndent === null || indent < commonIndent)) {\n          commonIndent = indent;\n        }\n\n        isEmptyLine = false;\n    }\n  }\n\n  return (_commonIndent = commonIndent) !== null && _commonIndent !== void 0 ? _commonIndent : 0;\n}\n/**\n * Print a block string in the indented block form by adding a leading and\n * trailing blank line. However, if a block string starts with whitespace and is\n * a single-line, adding a leading blank line would strip that whitespace.\n *\n * @internal\n */\n\n\nfunction printBlockString(value) {\n  var indentation = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  var preferMultipleLines = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var isSingleLine = value.indexOf('\\n') === -1;\n  var hasLeadingSpace = value[0] === ' ' || value[0] === '\\t';\n  var hasTrailingQuote = value[value.length - 1] === '\"';\n  var hasTrailingSlash = value[value.length - 1] === '\\\\';\n  var printAsMultipleLines = !isSingleLine || hasTrailingQuote || hasTrailingSlash || preferMultipleLines;\n  var result = ''; // Format a multi-line block quote to account for leading space.\n\n  if (printAsMultipleLines && !(isSingleLine && hasLeadingSpace)) {\n    result += '\\n' + indentation;\n  }\n\n  result += indentation ? value.replace(/\\n/g, '\\n' + indentation) : value;\n\n  if (printAsMultipleLines) {\n    result += '\\n';\n  }\n\n  return '\"\"\"' + result.replace(/\"\"\"/g, '\\\\\"\"\"') + '\"\"\"';\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DirectiveLocation = void 0;\n\n/**\n * The set of allowed directive location values.\n */\nvar DirectiveLocation = Object.freeze({\n  // Request Definitions\n  QUERY: 'QUERY',\n  MUTATION: 'MUTATION',\n  SUBSCRIPTION: 'SUBSCRIPTION',\n  FIELD: 'FIELD',\n  FRAGMENT_DEFINITION: 'FRAGMENT_DEFINITION',\n  FRAGMENT_SPREAD: 'FRAGMENT_SPREAD',\n  INLINE_FRAGMENT: 'INLINE_FRAGMENT',\n  VARIABLE_DEFINITION: 'VARIABLE_DEFINITION',\n  // Type System Definitions\n  SCHEMA: 'SCHEMA',\n  SCALAR: 'SCALAR',\n  OBJECT: 'OBJECT',\n  FIELD_DEFINITION: 'FIELD_DEFINITION',\n  ARGUMENT_DEFINITION: 'ARGUMENT_DEFINITION',\n  INTERFACE: 'INTERFACE',\n  UNION: 'UNION',\n  ENUM: 'ENUM',\n  ENUM_VALUE: 'ENUM_VALUE',\n  INPUT_OBJECT: 'INPUT_OBJECT',\n  INPUT_FIELD_DEFINITION: 'INPUT_FIELD_DEFINITION'\n});\n/**\n * The enum type representing the directive location values.\n */\n\nexports.DirectiveLocation = DirectiveLocation;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"Source\", {\n  enumerable: true,\n  get: function get() {\n    return _source.Source;\n  }\n});\nObject.defineProperty(exports, \"getLocation\", {\n  enumerable: true,\n  get: function get() {\n    return _location.getLocation;\n  }\n});\nObject.defineProperty(exports, \"printLocation\", {\n  enumerable: true,\n  get: function get() {\n    return _printLocation.printLocation;\n  }\n});\nObject.defineProperty(exports, \"printSourceLocation\", {\n  enumerable: true,\n  get: function get() {\n    return _printLocation.printSourceLocation;\n  }\n});\nObject.defineProperty(exports, \"Kind\", {\n  enumerable: true,\n  get: function get() {\n    return _kinds.Kind;\n  }\n});\nObject.defineProperty(exports, \"TokenKind\", {\n  enumerable: true,\n  get: function get() {\n    return _tokenKind.TokenKind;\n  }\n});\nObject.defineProperty(exports, \"Lexer\", {\n  enumerable: true,\n  get: function get() {\n    return _lexer.Lexer;\n  }\n});\nObject.defineProperty(exports, \"parse\", {\n  enumerable: true,\n  get: function get() {\n    return _parser.parse;\n  }\n});\nObject.defineProperty(exports, \"parseValue\", {\n  enumerable: true,\n  get: function get() {\n    return _parser.parseValue;\n  }\n});\nObject.defineProperty(exports, \"parseType\", {\n  enumerable: true,\n  get: function get() {\n    return _parser.parseType;\n  }\n});\nObject.defineProperty(exports, \"print\", {\n  enumerable: true,\n  get: function get() {\n    return _printer.print;\n  }\n});\nObject.defineProperty(exports, \"visit\", {\n  enumerable: true,\n  get: function get() {\n    return _visitor.visit;\n  }\n});\nObject.defineProperty(exports, \"visitInParallel\", {\n  enumerable: true,\n  get: function get() {\n    return _visitor.visitInParallel;\n  }\n});\nObject.defineProperty(exports, \"getVisitFn\", {\n  enumerable: true,\n  get: function get() {\n    return _visitor.getVisitFn;\n  }\n});\nObject.defineProperty(exports, \"BREAK\", {\n  enumerable: true,\n  get: function get() {\n    return _visitor.BREAK;\n  }\n});\nObject.defineProperty(exports, \"Location\", {\n  enumerable: true,\n  get: function get() {\n    return _ast.Location;\n  }\n});\nObject.defineProperty(exports, \"Token\", {\n  enumerable: true,\n  get: function get() {\n    return _ast.Token;\n  }\n});\nObject.defineProperty(exports, \"isDefinitionNode\", {\n  enumerable: true,\n  get: function get() {\n    return _predicates.isDefinitionNode;\n  }\n});\nObject.defineProperty(exports, \"isExecutableDefinitionNode\", {\n  enumerable: true,\n  get: function get() {\n    return _predicates.isExecutableDefinitionNode;\n  }\n});\nObject.defineProperty(exports, \"isSelectionNode\", {\n  enumerable: true,\n  get: function get() {\n    return _predicates.isSelectionNode;\n  }\n});\nObject.defineProperty(exports, \"isValueNode\", {\n  enumerable: true,\n  get: function get() {\n    return _predicates.isValueNode;\n  }\n});\nObject.defineProperty(exports, \"isTypeNode\", {\n  enumerable: true,\n  get: function get() {\n    return _predicates.isTypeNode;\n  }\n});\nObject.defineProperty(exports, \"isTypeSystemDefinitionNode\", {\n  enumerable: true,\n  get: function get() {\n    return _predicates.isTypeSystemDefinitionNode;\n  }\n});\nObject.defineProperty(exports, \"isTypeDefinitionNode\", {\n  enumerable: true,\n  get: function get() {\n    return _predicates.isTypeDefinitionNode;\n  }\n});\nObject.defineProperty(exports, \"isTypeSystemExtensionNode\", {\n  enumerable: true,\n  get: function get() {\n    return _predicates.isTypeSystemExtensionNode;\n  }\n});\nObject.defineProperty(exports, \"isTypeExtensionNode\", {\n  enumerable: true,\n  get: function get() {\n    return _predicates.isTypeExtensionNode;\n  }\n});\nObject.defineProperty(exports, \"DirectiveLocation\", {\n  enumerable: true,\n  get: function get() {\n    return _directiveLocation.DirectiveLocation;\n  }\n});\n\nvar _source = require(\"./source.js\");\n\nvar _location = require(\"./location.js\");\n\nvar _printLocation = require(\"./printLocation.js\");\n\nvar _kinds = require(\"./kinds.js\");\n\nvar _tokenKind = require(\"./tokenKind.js\");\n\nvar _lexer = require(\"./lexer.js\");\n\nvar _parser = require(\"./parser.js\");\n\nvar _printer = require(\"./printer.js\");\n\nvar _visitor = require(\"./visitor.js\");\n\nvar _ast = require(\"./ast.js\");\n\nvar _predicates = require(\"./predicates.js\");\n\nvar _directiveLocation = require(\"./directiveLocation.js\");\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Kind = void 0;\n\n/**\n * The set of allowed kind values for AST nodes.\n */\nvar Kind = Object.freeze({\n  // Name\n  NAME: 'Name',\n  // Document\n  DOCUMENT: 'Document',\n  OPERATION_DEFINITION: 'OperationDefinition',\n  VARIABLE_DEFINITION: 'VariableDefinition',\n  SELECTION_SET: 'SelectionSet',\n  FIELD: 'Field',\n  ARGUMENT: 'Argument',\n  // Fragments\n  FRAGMENT_SPREAD: 'FragmentSpread',\n  INLINE_FRAGMENT: 'InlineFragment',\n  FRAGMENT_DEFINITION: 'FragmentDefinition',\n  // Values\n  VARIABLE: 'Variable',\n  INT: 'IntValue',\n  FLOAT: 'FloatValue',\n  STRING: 'StringValue',\n  BOOLEAN: 'BooleanValue',\n  NULL: 'NullValue',\n  ENUM: 'EnumValue',\n  LIST: 'ListValue',\n  OBJECT: 'ObjectValue',\n  OBJECT_FIELD: 'ObjectField',\n  // Directives\n  DIRECTIVE: 'Directive',\n  // Types\n  NAMED_TYPE: 'NamedType',\n  LIST_TYPE: 'ListType',\n  NON_NULL_TYPE: 'NonNullType',\n  // Type System Definitions\n  SCHEMA_DEFINITION: 'SchemaDefinition',\n  OPERATION_TYPE_DEFINITION: 'OperationTypeDefinition',\n  // Type Definitions\n  SCALAR_TYPE_DEFINITION: 'ScalarTypeDefinition',\n  OBJECT_TYPE_DEFINITION: 'ObjectTypeDefinition',\n  FIELD_DEFINITION: 'FieldDefinition',\n  INPUT_VALUE_DEFINITION: 'InputValueDefinition',\n  INTERFACE_TYPE_DEFINITION: 'InterfaceTypeDefinition',\n  UNION_TYPE_DEFINITION: 'UnionTypeDefinition',\n  ENUM_TYPE_DEFINITION: 'EnumTypeDefinition',\n  ENUM_VALUE_DEFINITION: 'EnumValueDefinition',\n  INPUT_OBJECT_TYPE_DEFINITION: 'InputObjectTypeDefinition',\n  // Directive Definitions\n  DIRECTIVE_DEFINITION: 'DirectiveDefinition',\n  // Type System Extensions\n  SCHEMA_EXTENSION: 'SchemaExtension',\n  // Type Extensions\n  SCALAR_TYPE_EXTENSION: 'ScalarTypeExtension',\n  OBJECT_TYPE_EXTENSION: 'ObjectTypeExtension',\n  INTERFACE_TYPE_EXTENSION: 'InterfaceTypeExtension',\n  UNION_TYPE_EXTENSION: 'UnionTypeExtension',\n  ENUM_TYPE_EXTENSION: 'EnumTypeExtension',\n  INPUT_OBJECT_TYPE_EXTENSION: 'InputObjectTypeExtension'\n});\n/**\n * The enum type representing the possible kind values of AST nodes.\n */\n\nexports.Kind = Kind;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isPunctuatorTokenKind = isPunctuatorTokenKind;\nexports.Lexer = void 0;\n\nvar _syntaxError = require(\"../error/syntaxError.js\");\n\nvar _ast = require(\"./ast.js\");\n\nvar _tokenKind = require(\"./tokenKind.js\");\n\nvar _blockString = require(\"./blockString.js\");\n\n/**\n * Given a Source object, creates a Lexer for that source.\n * A Lexer is a stateful stream generator in that every time\n * it is advanced, it returns the next token in the Source. Assuming the\n * source lexes, the final Token emitted by the lexer will be of kind\n * EOF, after which the lexer will repeatedly return the same EOF token\n * whenever called.\n */\nvar Lexer = /*#__PURE__*/function () {\n  /**\n   * The previously focused non-ignored token.\n   */\n\n  /**\n   * The currently focused non-ignored token.\n   */\n\n  /**\n   * The (1-indexed) line containing the current token.\n   */\n\n  /**\n   * The character offset at which the current line begins.\n   */\n  function Lexer(source) {\n    var startOfFileToken = new _ast.Token(_tokenKind.TokenKind.SOF, 0, 0, 0, 0, null);\n    this.source = source;\n    this.lastToken = startOfFileToken;\n    this.token = startOfFileToken;\n    this.line = 1;\n    this.lineStart = 0;\n  }\n  /**\n   * Advances the token stream to the next non-ignored token.\n   */\n\n\n  var _proto = Lexer.prototype;\n\n  _proto.advance = function advance() {\n    this.lastToken = this.token;\n    var token = this.token = this.lookahead();\n    return token;\n  }\n  /**\n   * Looks ahead and returns the next non-ignored token, but does not change\n   * the state of Lexer.\n   */\n  ;\n\n  _proto.lookahead = function lookahead() {\n    var token = this.token;\n\n    if (token.kind !== _tokenKind.TokenKind.EOF) {\n      do {\n        var _token$next;\n\n        // Note: next is only mutable during parsing, so we cast to allow this.\n        token = (_token$next = token.next) !== null && _token$next !== void 0 ? _token$next : token.next = readToken(this, token);\n      } while (token.kind === _tokenKind.TokenKind.COMMENT);\n    }\n\n    return token;\n  };\n\n  return Lexer;\n}();\n/**\n * @internal\n */\n\n\nexports.Lexer = Lexer;\n\nfunction isPunctuatorTokenKind(kind) {\n  return kind === _tokenKind.TokenKind.BANG || kind === _tokenKind.TokenKind.DOLLAR || kind === _tokenKind.TokenKind.AMP || kind === _tokenKind.TokenKind.PAREN_L || kind === _tokenKind.TokenKind.PAREN_R || kind === _tokenKind.TokenKind.SPREAD || kind === _tokenKind.TokenKind.COLON || kind === _tokenKind.TokenKind.EQUALS || kind === _tokenKind.TokenKind.AT || kind === _tokenKind.TokenKind.BRACKET_L || kind === _tokenKind.TokenKind.BRACKET_R || kind === _tokenKind.TokenKind.BRACE_L || kind === _tokenKind.TokenKind.PIPE || kind === _tokenKind.TokenKind.BRACE_R;\n}\n\nfunction printCharCode(code) {\n  return (// NaN/undefined represents access beyond the end of the file.\n    isNaN(code) ? _tokenKind.TokenKind.EOF : // Trust JSON for ASCII.\n    code < 0x007f ? JSON.stringify(String.fromCharCode(code)) : // Otherwise print the escaped form.\n    \"\\\"\\\\u\".concat(('00' + code.toString(16).toUpperCase()).slice(-4), \"\\\"\")\n  );\n}\n/**\n * Gets the next token from the source starting at the given position.\n *\n * This skips over whitespace until it finds the next lexable token, then lexes\n * punctuators immediately or calls the appropriate helper function for more\n * complicated tokens.\n */\n\n\nfunction readToken(lexer, prev) {\n  var source = lexer.source;\n  var body = source.body;\n  var bodyLength = body.length;\n  var pos = prev.end;\n\n  while (pos < bodyLength) {\n    var code = body.charCodeAt(pos);\n    var _line = lexer.line;\n\n    var _col = 1 + pos - lexer.lineStart; // SourceCharacter\n\n\n    switch (code) {\n      case 0xfeff: // <BOM>\n\n      case 9: //   \\t\n\n      case 32: //  <space>\n\n      case 44:\n        //  ,\n        ++pos;\n        continue;\n\n      case 10:\n        //  \\n\n        ++pos;\n        ++lexer.line;\n        lexer.lineStart = pos;\n        continue;\n\n      case 13:\n        //  \\r\n        if (body.charCodeAt(pos + 1) === 10) {\n          pos += 2;\n        } else {\n          ++pos;\n        }\n\n        ++lexer.line;\n        lexer.lineStart = pos;\n        continue;\n\n      case 33:\n        //  !\n        return new _ast.Token(_tokenKind.TokenKind.BANG, pos, pos + 1, _line, _col, prev);\n\n      case 35:\n        //  #\n        return readComment(source, pos, _line, _col, prev);\n\n      case 36:\n        //  $\n        return new _ast.Token(_tokenKind.TokenKind.DOLLAR, pos, pos + 1, _line, _col, prev);\n\n      case 38:\n        //  &\n        return new _ast.Token(_tokenKind.TokenKind.AMP, pos, pos + 1, _line, _col, prev);\n\n      case 40:\n        //  (\n        return new _ast.Token(_tokenKind.TokenKind.PAREN_L, pos, pos + 1, _line, _col, prev);\n\n      case 41:\n        //  )\n        return new _ast.Token(_tokenKind.TokenKind.PAREN_R, pos, pos + 1, _line, _col, prev);\n\n      case 46:\n        //  .\n        if (body.charCodeAt(pos + 1) === 46 && body.charCodeAt(pos + 2) === 46) {\n          return new _ast.Token(_tokenKind.TokenKind.SPREAD, pos, pos + 3, _line, _col, prev);\n        }\n\n        break;\n\n      case 58:\n        //  :\n        return new _ast.Token(_tokenKind.TokenKind.COLON, pos, pos + 1, _line, _col, prev);\n\n      case 61:\n        //  =\n        return new _ast.Token(_tokenKind.TokenKind.EQUALS, pos, pos + 1, _line, _col, prev);\n\n      case 64:\n        //  @\n        return new _ast.Token(_tokenKind.TokenKind.AT, pos, pos + 1, _line, _col, prev);\n\n      case 91:\n        //  [\n        return new _ast.Token(_tokenKind.TokenKind.BRACKET_L, pos, pos + 1, _line, _col, prev);\n\n      case 93:\n        //  ]\n        return new _ast.Token(_tokenKind.TokenKind.BRACKET_R, pos, pos + 1, _line, _col, prev);\n\n      case 123:\n        // {\n        return new _ast.Token(_tokenKind.TokenKind.BRACE_L, pos, pos + 1, _line, _col, prev);\n\n      case 124:\n        // |\n        return new _ast.Token(_tokenKind.TokenKind.PIPE, pos, pos + 1, _line, _col, prev);\n\n      case 125:\n        // }\n        return new _ast.Token(_tokenKind.TokenKind.BRACE_R, pos, pos + 1, _line, _col, prev);\n\n      case 34:\n        //  \"\n        if (body.charCodeAt(pos + 1) === 34 && body.charCodeAt(pos + 2) === 34) {\n          return readBlockString(source, pos, _line, _col, prev, lexer);\n        }\n\n        return readString(source, pos, _line, _col, prev);\n\n      case 45: //  -\n\n      case 48: //  0\n\n      case 49: //  1\n\n      case 50: //  2\n\n      case 51: //  3\n\n      case 52: //  4\n\n      case 53: //  5\n\n      case 54: //  6\n\n      case 55: //  7\n\n      case 56: //  8\n\n      case 57:\n        //  9\n        return readNumber(source, pos, code, _line, _col, prev);\n\n      case 65: //  A\n\n      case 66: //  B\n\n      case 67: //  C\n\n      case 68: //  D\n\n      case 69: //  E\n\n      case 70: //  F\n\n      case 71: //  G\n\n      case 72: //  H\n\n      case 73: //  I\n\n      case 74: //  J\n\n      case 75: //  K\n\n      case 76: //  L\n\n      case 77: //  M\n\n      case 78: //  N\n\n      case 79: //  O\n\n      case 80: //  P\n\n      case 81: //  Q\n\n      case 82: //  R\n\n      case 83: //  S\n\n      case 84: //  T\n\n      case 85: //  U\n\n      case 86: //  V\n\n      case 87: //  W\n\n      case 88: //  X\n\n      case 89: //  Y\n\n      case 90: //  Z\n\n      case 95: //  _\n\n      case 97: //  a\n\n      case 98: //  b\n\n      case 99: //  c\n\n      case 100: // d\n\n      case 101: // e\n\n      case 102: // f\n\n      case 103: // g\n\n      case 104: // h\n\n      case 105: // i\n\n      case 106: // j\n\n      case 107: // k\n\n      case 108: // l\n\n      case 109: // m\n\n      case 110: // n\n\n      case 111: // o\n\n      case 112: // p\n\n      case 113: // q\n\n      case 114: // r\n\n      case 115: // s\n\n      case 116: // t\n\n      case 117: // u\n\n      case 118: // v\n\n      case 119: // w\n\n      case 120: // x\n\n      case 121: // y\n\n      case 122:\n        // z\n        return readName(source, pos, _line, _col, prev);\n    }\n\n    throw (0, _syntaxError.syntaxError)(source, pos, unexpectedCharacterMessage(code));\n  }\n\n  var line = lexer.line;\n  var col = 1 + pos - lexer.lineStart;\n  return new _ast.Token(_tokenKind.TokenKind.EOF, bodyLength, bodyLength, line, col, prev);\n}\n/**\n * Report a message that an unexpected character was encountered.\n */\n\n\nfunction unexpectedCharacterMessage(code) {\n  if (code < 0x0020 && code !== 0x0009 && code !== 0x000a && code !== 0x000d) {\n    return \"Cannot contain the invalid character \".concat(printCharCode(code), \".\");\n  }\n\n  if (code === 39) {\n    // '\n    return 'Unexpected single quote character (\\'), did you mean to use a double quote (\")?';\n  }\n\n  return \"Cannot parse the unexpected character \".concat(printCharCode(code), \".\");\n}\n/**\n * Reads a comment token from the source file.\n *\n * #[\\u0009\\u0020-\\uFFFF]*\n */\n\n\nfunction readComment(source, start, line, col, prev) {\n  var body = source.body;\n  var code;\n  var position = start;\n\n  do {\n    code = body.charCodeAt(++position);\n  } while (!isNaN(code) && ( // SourceCharacter but not LineTerminator\n  code > 0x001f || code === 0x0009));\n\n  return new _ast.Token(_tokenKind.TokenKind.COMMENT, start, position, line, col, prev, body.slice(start + 1, position));\n}\n/**\n * Reads a number token from the source file, either a float\n * or an int depending on whether a decimal point appears.\n *\n * Int:   -?(0|[1-9][0-9]*)\n * Float: -?(0|[1-9][0-9]*)(\\.[0-9]+)?((E|e)(+|-)?[0-9]+)?\n */\n\n\nfunction readNumber(source, start, firstCode, line, col, prev) {\n  var body = source.body;\n  var code = firstCode;\n  var position = start;\n  var isFloat = false;\n\n  if (code === 45) {\n    // -\n    code = body.charCodeAt(++position);\n  }\n\n  if (code === 48) {\n    // 0\n    code = body.charCodeAt(++position);\n\n    if (code >= 48 && code <= 57) {\n      throw (0, _syntaxError.syntaxError)(source, position, \"Invalid number, unexpected digit after 0: \".concat(printCharCode(code), \".\"));\n    }\n  } else {\n    position = readDigits(source, position, code);\n    code = body.charCodeAt(position);\n  }\n\n  if (code === 46) {\n    // .\n    isFloat = true;\n    code = body.charCodeAt(++position);\n    position = readDigits(source, position, code);\n    code = body.charCodeAt(position);\n  }\n\n  if (code === 69 || code === 101) {\n    // E e\n    isFloat = true;\n    code = body.charCodeAt(++position);\n\n    if (code === 43 || code === 45) {\n      // + -\n      code = body.charCodeAt(++position);\n    }\n\n    position = readDigits(source, position, code);\n    code = body.charCodeAt(position);\n  } // Numbers cannot be followed by . or NameStart\n\n\n  if (code === 46 || isNameStart(code)) {\n    throw (0, _syntaxError.syntaxError)(source, position, \"Invalid number, expected digit but got: \".concat(printCharCode(code), \".\"));\n  }\n\n  return new _ast.Token(isFloat ? _tokenKind.TokenKind.FLOAT : _tokenKind.TokenKind.INT, start, position, line, col, prev, body.slice(start, position));\n}\n/**\n * Returns the new position in the source after reading digits.\n */\n\n\nfunction readDigits(source, start, firstCode) {\n  var body = source.body;\n  var position = start;\n  var code = firstCode;\n\n  if (code >= 48 && code <= 57) {\n    // 0 - 9\n    do {\n      code = body.charCodeAt(++position);\n    } while (code >= 48 && code <= 57); // 0 - 9\n\n\n    return position;\n  }\n\n  throw (0, _syntaxError.syntaxError)(source, position, \"Invalid number, expected digit but got: \".concat(printCharCode(code), \".\"));\n}\n/**\n * Reads a string token from the source file.\n *\n * \"([^\"\\\\\\u000A\\u000D]|(\\\\(u[0-9a-fA-F]{4}|[\"\\\\/bfnrt])))*\"\n */\n\n\nfunction readString(source, start, line, col, prev) {\n  var body = source.body;\n  var position = start + 1;\n  var chunkStart = position;\n  var code = 0;\n  var value = '';\n\n  while (position < body.length && !isNaN(code = body.charCodeAt(position)) && // not LineTerminator\n  code !== 0x000a && code !== 0x000d) {\n    // Closing Quote (\")\n    if (code === 34) {\n      value += body.slice(chunkStart, position);\n      return new _ast.Token(_tokenKind.TokenKind.STRING, start, position + 1, line, col, prev, value);\n    } // SourceCharacter\n\n\n    if (code < 0x0020 && code !== 0x0009) {\n      throw (0, _syntaxError.syntaxError)(source, position, \"Invalid character within String: \".concat(printCharCode(code), \".\"));\n    }\n\n    ++position;\n\n    if (code === 92) {\n      // \\\n      value += body.slice(chunkStart, position - 1);\n      code = body.charCodeAt(position);\n\n      switch (code) {\n        case 34:\n          value += '\"';\n          break;\n\n        case 47:\n          value += '/';\n          break;\n\n        case 92:\n          value += '\\\\';\n          break;\n\n        case 98:\n          value += '\\b';\n          break;\n\n        case 102:\n          value += '\\f';\n          break;\n\n        case 110:\n          value += '\\n';\n          break;\n\n        case 114:\n          value += '\\r';\n          break;\n\n        case 116:\n          value += '\\t';\n          break;\n\n        case 117:\n          {\n            // uXXXX\n            var charCode = uniCharCode(body.charCodeAt(position + 1), body.charCodeAt(position + 2), body.charCodeAt(position + 3), body.charCodeAt(position + 4));\n\n            if (charCode < 0) {\n              var invalidSequence = body.slice(position + 1, position + 5);\n              throw (0, _syntaxError.syntaxError)(source, position, \"Invalid character escape sequence: \\\\u\".concat(invalidSequence, \".\"));\n            }\n\n            value += String.fromCharCode(charCode);\n            position += 4;\n            break;\n          }\n\n        default:\n          throw (0, _syntaxError.syntaxError)(source, position, \"Invalid character escape sequence: \\\\\".concat(String.fromCharCode(code), \".\"));\n      }\n\n      ++position;\n      chunkStart = position;\n    }\n  }\n\n  throw (0, _syntaxError.syntaxError)(source, position, 'Unterminated string.');\n}\n/**\n * Reads a block string token from the source file.\n *\n * \"\"\"(\"?\"?(\\\\\"\"\"|\\\\(?!=\"\"\")|[^\"\\\\]))*\"\"\"\n */\n\n\nfunction readBlockString(source, start, line, col, prev, lexer) {\n  var body = source.body;\n  var position = start + 3;\n  var chunkStart = position;\n  var code = 0;\n  var rawValue = '';\n\n  while (position < body.length && !isNaN(code = body.charCodeAt(position))) {\n    // Closing Triple-Quote (\"\"\")\n    if (code === 34 && body.charCodeAt(position + 1) === 34 && body.charCodeAt(position + 2) === 34) {\n      rawValue += body.slice(chunkStart, position);\n      return new _ast.Token(_tokenKind.TokenKind.BLOCK_STRING, start, position + 3, line, col, prev, (0, _blockString.dedentBlockStringValue)(rawValue));\n    } // SourceCharacter\n\n\n    if (code < 0x0020 && code !== 0x0009 && code !== 0x000a && code !== 0x000d) {\n      throw (0, _syntaxError.syntaxError)(source, position, \"Invalid character within String: \".concat(printCharCode(code), \".\"));\n    }\n\n    if (code === 10) {\n      // new line\n      ++position;\n      ++lexer.line;\n      lexer.lineStart = position;\n    } else if (code === 13) {\n      // carriage return\n      if (body.charCodeAt(position + 1) === 10) {\n        position += 2;\n      } else {\n        ++position;\n      }\n\n      ++lexer.line;\n      lexer.lineStart = position;\n    } else if ( // Escape Triple-Quote (\\\"\"\")\n    code === 92 && body.charCodeAt(position + 1) === 34 && body.charCodeAt(position + 2) === 34 && body.charCodeAt(position + 3) === 34) {\n      rawValue += body.slice(chunkStart, position) + '\"\"\"';\n      position += 4;\n      chunkStart = position;\n    } else {\n      ++position;\n    }\n  }\n\n  throw (0, _syntaxError.syntaxError)(source, position, 'Unterminated string.');\n}\n/**\n * Converts four hexadecimal chars to the integer that the\n * string represents. For example, uniCharCode('0','0','0','f')\n * will return 15, and uniCharCode('0','0','f','f') returns 255.\n *\n * Returns a negative number on error, if a char was invalid.\n *\n * This is implemented by noting that char2hex() returns -1 on error,\n * which means the result of ORing the char2hex() will also be negative.\n */\n\n\nfunction uniCharCode(a, b, c, d) {\n  return char2hex(a) << 12 | char2hex(b) << 8 | char2hex(c) << 4 | char2hex(d);\n}\n/**\n * Converts a hex character to its integer value.\n * '0' becomes 0, '9' becomes 9\n * 'A' becomes 10, 'F' becomes 15\n * 'a' becomes 10, 'f' becomes 15\n *\n * Returns -1 on error.\n */\n\n\nfunction char2hex(a) {\n  return a >= 48 && a <= 57 ? a - 48 // 0-9\n  : a >= 65 && a <= 70 ? a - 55 // A-F\n  : a >= 97 && a <= 102 ? a - 87 // a-f\n  : -1;\n}\n/**\n * Reads an alphanumeric + underscore name from the source.\n *\n * [_A-Za-z][_0-9A-Za-z]*\n */\n\n\nfunction readName(source, start, line, col, prev) {\n  var body = source.body;\n  var bodyLength = body.length;\n  var position = start + 1;\n  var code = 0;\n\n  while (position !== bodyLength && !isNaN(code = body.charCodeAt(position)) && (code === 95 || // _\n  code >= 48 && code <= 57 || // 0-9\n  code >= 65 && code <= 90 || // A-Z\n  code >= 97 && code <= 122) // a-z\n  ) {\n    ++position;\n  }\n\n  return new _ast.Token(_tokenKind.TokenKind.NAME, start, position, line, col, prev, body.slice(start, position));\n} // _ A-Z a-z\n\n\nfunction isNameStart(code) {\n  return code === 95 || code >= 65 && code <= 90 || code >= 97 && code <= 122;\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getLocation = getLocation;\n\n/**\n * Represents a location in a Source.\n */\n\n/**\n * Takes a Source and a UTF-8 character offset, and returns the corresponding\n * line and column as a SourceLocation.\n */\nfunction getLocation(source, position) {\n  var lineRegexp = /\\r\\n|[\\n\\r]/g;\n  var line = 1;\n  var column = position + 1;\n  var match;\n\n  while ((match = lineRegexp.exec(source.body)) && match.index < position) {\n    line += 1;\n    column = position + 1 - (match.index + match[0].length);\n  }\n\n  return {\n    line: line,\n    column: column\n  };\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.parse = parse;\nexports.parseValue = parseValue;\nexports.parseType = parseType;\nexports.Parser = void 0;\n\nvar _syntaxError = require(\"../error/syntaxError.js\");\n\nvar _kinds = require(\"./kinds.js\");\n\nvar _ast = require(\"./ast.js\");\n\nvar _tokenKind = require(\"./tokenKind.js\");\n\nvar _source = require(\"./source.js\");\n\nvar _directiveLocation = require(\"./directiveLocation.js\");\n\nvar _lexer = require(\"./lexer.js\");\n\n/**\n * Given a GraphQL source, parses it into a Document.\n * Throws GraphQLError if a syntax error is encountered.\n */\nfunction parse(source, options) {\n  var parser = new Parser(source, options);\n  return parser.parseDocument();\n}\n/**\n * Given a string containing a GraphQL value (ex. `[42]`), parse the AST for\n * that value.\n * Throws GraphQLError if a syntax error is encountered.\n *\n * This is useful within tools that operate upon GraphQL Values directly and\n * in isolation of complete GraphQL documents.\n *\n * Consider providing the results to the utility function: valueFromAST().\n */\n\n\nfunction parseValue(source, options) {\n  var parser = new Parser(source, options);\n  parser.expectToken(_tokenKind.TokenKind.SOF);\n  var value = parser.parseValueLiteral(false);\n  parser.expectToken(_tokenKind.TokenKind.EOF);\n  return value;\n}\n/**\n * Given a string containing a GraphQL Type (ex. `[Int!]`), parse the AST for\n * that type.\n * Throws GraphQLError if a syntax error is encountered.\n *\n * This is useful within tools that operate upon GraphQL Types directly and\n * in isolation of complete GraphQL documents.\n *\n * Consider providing the results to the utility function: typeFromAST().\n */\n\n\nfunction parseType(source, options) {\n  var parser = new Parser(source, options);\n  parser.expectToken(_tokenKind.TokenKind.SOF);\n  var type = parser.parseTypeReference();\n  parser.expectToken(_tokenKind.TokenKind.EOF);\n  return type;\n}\n/**\n * This class is exported only to assist people in implementing their own parsers\n * without duplicating too much code and should be used only as last resort for cases\n * such as experimental syntax or if certain features could not be contributed upstream.\n *\n * It is still part of the internal API and is versioned, so any changes to it are never\n * considered breaking changes. If you still need to support multiple versions of the\n * library, please use the `versionInfo` variable for version detection.\n *\n * @internal\n */\n\n\nvar Parser = /*#__PURE__*/function () {\n  function Parser(source, options) {\n    var sourceObj = (0, _source.isSource)(source) ? source : new _source.Source(source);\n    this._lexer = new _lexer.Lexer(sourceObj);\n    this._options = options;\n  }\n  /**\n   * Converts a name lex token into a name parse node.\n   */\n\n\n  var _proto = Parser.prototype;\n\n  _proto.parseName = function parseName() {\n    var token = this.expectToken(_tokenKind.TokenKind.NAME);\n    return {\n      kind: _kinds.Kind.NAME,\n      value: token.value,\n      loc: this.loc(token)\n    };\n  } // Implements the parsing rules in the Document section.\n\n  /**\n   * Document : Definition+\n   */\n  ;\n\n  _proto.parseDocument = function parseDocument() {\n    var start = this._lexer.token;\n    return {\n      kind: _kinds.Kind.DOCUMENT,\n      definitions: this.many(_tokenKind.TokenKind.SOF, this.parseDefinition, _tokenKind.TokenKind.EOF),\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * Definition :\n   *   - ExecutableDefinition\n   *   - TypeSystemDefinition\n   *   - TypeSystemExtension\n   *\n   * ExecutableDefinition :\n   *   - OperationDefinition\n   *   - FragmentDefinition\n   */\n  ;\n\n  _proto.parseDefinition = function parseDefinition() {\n    if (this.peek(_tokenKind.TokenKind.NAME)) {\n      switch (this._lexer.token.value) {\n        case 'query':\n        case 'mutation':\n        case 'subscription':\n          return this.parseOperationDefinition();\n\n        case 'fragment':\n          return this.parseFragmentDefinition();\n\n        case 'schema':\n        case 'scalar':\n        case 'type':\n        case 'interface':\n        case 'union':\n        case 'enum':\n        case 'input':\n        case 'directive':\n          return this.parseTypeSystemDefinition();\n\n        case 'extend':\n          return this.parseTypeSystemExtension();\n      }\n    } else if (this.peek(_tokenKind.TokenKind.BRACE_L)) {\n      return this.parseOperationDefinition();\n    } else if (this.peekDescription()) {\n      return this.parseTypeSystemDefinition();\n    }\n\n    throw this.unexpected();\n  } // Implements the parsing rules in the Operations section.\n\n  /**\n   * OperationDefinition :\n   *  - SelectionSet\n   *  - OperationType Name? VariableDefinitions? Directives? SelectionSet\n   */\n  ;\n\n  _proto.parseOperationDefinition = function parseOperationDefinition() {\n    var start = this._lexer.token;\n\n    if (this.peek(_tokenKind.TokenKind.BRACE_L)) {\n      return {\n        kind: _kinds.Kind.OPERATION_DEFINITION,\n        operation: 'query',\n        name: undefined,\n        variableDefinitions: [],\n        directives: [],\n        selectionSet: this.parseSelectionSet(),\n        loc: this.loc(start)\n      };\n    }\n\n    var operation = this.parseOperationType();\n    var name;\n\n    if (this.peek(_tokenKind.TokenKind.NAME)) {\n      name = this.parseName();\n    }\n\n    return {\n      kind: _kinds.Kind.OPERATION_DEFINITION,\n      operation: operation,\n      name: name,\n      variableDefinitions: this.parseVariableDefinitions(),\n      directives: this.parseDirectives(false),\n      selectionSet: this.parseSelectionSet(),\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * OperationType : one of query mutation subscription\n   */\n  ;\n\n  _proto.parseOperationType = function parseOperationType() {\n    var operationToken = this.expectToken(_tokenKind.TokenKind.NAME);\n\n    switch (operationToken.value) {\n      case 'query':\n        return 'query';\n\n      case 'mutation':\n        return 'mutation';\n\n      case 'subscription':\n        return 'subscription';\n    }\n\n    throw this.unexpected(operationToken);\n  }\n  /**\n   * VariableDefinitions : ( VariableDefinition+ )\n   */\n  ;\n\n  _proto.parseVariableDefinitions = function parseVariableDefinitions() {\n    return this.optionalMany(_tokenKind.TokenKind.PAREN_L, this.parseVariableDefinition, _tokenKind.TokenKind.PAREN_R);\n  }\n  /**\n   * VariableDefinition : Variable : Type DefaultValue? Directives[Const]?\n   */\n  ;\n\n  _proto.parseVariableDefinition = function parseVariableDefinition() {\n    var start = this._lexer.token;\n    return {\n      kind: _kinds.Kind.VARIABLE_DEFINITION,\n      variable: this.parseVariable(),\n      type: (this.expectToken(_tokenKind.TokenKind.COLON), this.parseTypeReference()),\n      defaultValue: this.expectOptionalToken(_tokenKind.TokenKind.EQUALS) ? this.parseValueLiteral(true) : undefined,\n      directives: this.parseDirectives(true),\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * Variable : $ Name\n   */\n  ;\n\n  _proto.parseVariable = function parseVariable() {\n    var start = this._lexer.token;\n    this.expectToken(_tokenKind.TokenKind.DOLLAR);\n    return {\n      kind: _kinds.Kind.VARIABLE,\n      name: this.parseName(),\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * SelectionSet : { Selection+ }\n   */\n  ;\n\n  _proto.parseSelectionSet = function parseSelectionSet() {\n    var start = this._lexer.token;\n    return {\n      kind: _kinds.Kind.SELECTION_SET,\n      selections: this.many(_tokenKind.TokenKind.BRACE_L, this.parseSelection, _tokenKind.TokenKind.BRACE_R),\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * Selection :\n   *   - Field\n   *   - FragmentSpread\n   *   - InlineFragment\n   */\n  ;\n\n  _proto.parseSelection = function parseSelection() {\n    return this.peek(_tokenKind.TokenKind.SPREAD) ? this.parseFragment() : this.parseField();\n  }\n  /**\n   * Field : Alias? Name Arguments? Directives? SelectionSet?\n   *\n   * Alias : Name :\n   */\n  ;\n\n  _proto.parseField = function parseField() {\n    var start = this._lexer.token;\n    var nameOrAlias = this.parseName();\n    var alias;\n    var name;\n\n    if (this.expectOptionalToken(_tokenKind.TokenKind.COLON)) {\n      alias = nameOrAlias;\n      name = this.parseName();\n    } else {\n      name = nameOrAlias;\n    }\n\n    return {\n      kind: _kinds.Kind.FIELD,\n      alias: alias,\n      name: name,\n      arguments: this.parseArguments(false),\n      directives: this.parseDirectives(false),\n      selectionSet: this.peek(_tokenKind.TokenKind.BRACE_L) ? this.parseSelectionSet() : undefined,\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * Arguments[Const] : ( Argument[?Const]+ )\n   */\n  ;\n\n  _proto.parseArguments = function parseArguments(isConst) {\n    var item = isConst ? this.parseConstArgument : this.parseArgument;\n    return this.optionalMany(_tokenKind.TokenKind.PAREN_L, item, _tokenKind.TokenKind.PAREN_R);\n  }\n  /**\n   * Argument[Const] : Name : Value[?Const]\n   */\n  ;\n\n  _proto.parseArgument = function parseArgument() {\n    var start = this._lexer.token;\n    var name = this.parseName();\n    this.expectToken(_tokenKind.TokenKind.COLON);\n    return {\n      kind: _kinds.Kind.ARGUMENT,\n      name: name,\n      value: this.parseValueLiteral(false),\n      loc: this.loc(start)\n    };\n  };\n\n  _proto.parseConstArgument = function parseConstArgument() {\n    var start = this._lexer.token;\n    return {\n      kind: _kinds.Kind.ARGUMENT,\n      name: this.parseName(),\n      value: (this.expectToken(_tokenKind.TokenKind.COLON), this.parseValueLiteral(true)),\n      loc: this.loc(start)\n    };\n  } // Implements the parsing rules in the Fragments section.\n\n  /**\n   * Corresponds to both FragmentSpread and InlineFragment in the spec.\n   *\n   * FragmentSpread : ... FragmentName Directives?\n   *\n   * InlineFragment : ... TypeCondition? Directives? SelectionSet\n   */\n  ;\n\n  _proto.parseFragment = function parseFragment() {\n    var start = this._lexer.token;\n    this.expectToken(_tokenKind.TokenKind.SPREAD);\n    var hasTypeCondition = this.expectOptionalKeyword('on');\n\n    if (!hasTypeCondition && this.peek(_tokenKind.TokenKind.NAME)) {\n      return {\n        kind: _kinds.Kind.FRAGMENT_SPREAD,\n        name: this.parseFragmentName(),\n        directives: this.parseDirectives(false),\n        loc: this.loc(start)\n      };\n    }\n\n    return {\n      kind: _kinds.Kind.INLINE_FRAGMENT,\n      typeCondition: hasTypeCondition ? this.parseNamedType() : undefined,\n      directives: this.parseDirectives(false),\n      selectionSet: this.parseSelectionSet(),\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * FragmentDefinition :\n   *   - fragment FragmentName on TypeCondition Directives? SelectionSet\n   *\n   * TypeCondition : NamedType\n   */\n  ;\n\n  _proto.parseFragmentDefinition = function parseFragmentDefinition() {\n    var _this$_options;\n\n    var start = this._lexer.token;\n    this.expectKeyword('fragment'); // Experimental support for defining variables within fragments changes\n    // the grammar of FragmentDefinition:\n    //   - fragment FragmentName VariableDefinitions? on TypeCondition Directives? SelectionSet\n\n    if (((_this$_options = this._options) === null || _this$_options === void 0 ? void 0 : _this$_options.experimentalFragmentVariables) === true) {\n      return {\n        kind: _kinds.Kind.FRAGMENT_DEFINITION,\n        name: this.parseFragmentName(),\n        variableDefinitions: this.parseVariableDefinitions(),\n        typeCondition: (this.expectKeyword('on'), this.parseNamedType()),\n        directives: this.parseDirectives(false),\n        selectionSet: this.parseSelectionSet(),\n        loc: this.loc(start)\n      };\n    }\n\n    return {\n      kind: _kinds.Kind.FRAGMENT_DEFINITION,\n      name: this.parseFragmentName(),\n      typeCondition: (this.expectKeyword('on'), this.parseNamedType()),\n      directives: this.parseDirectives(false),\n      selectionSet: this.parseSelectionSet(),\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * FragmentName : Name but not `on`\n   */\n  ;\n\n  _proto.parseFragmentName = function parseFragmentName() {\n    if (this._lexer.token.value === 'on') {\n      throw this.unexpected();\n    }\n\n    return this.parseName();\n  } // Implements the parsing rules in the Values section.\n\n  /**\n   * Value[Const] :\n   *   - [~Const] Variable\n   *   - IntValue\n   *   - FloatValue\n   *   - StringValue\n   *   - BooleanValue\n   *   - NullValue\n   *   - EnumValue\n   *   - ListValue[?Const]\n   *   - ObjectValue[?Const]\n   *\n   * BooleanValue : one of `true` `false`\n   *\n   * NullValue : `null`\n   *\n   * EnumValue : Name but not `true`, `false` or `null`\n   */\n  ;\n\n  _proto.parseValueLiteral = function parseValueLiteral(isConst) {\n    var token = this._lexer.token;\n\n    switch (token.kind) {\n      case _tokenKind.TokenKind.BRACKET_L:\n        return this.parseList(isConst);\n\n      case _tokenKind.TokenKind.BRACE_L:\n        return this.parseObject(isConst);\n\n      case _tokenKind.TokenKind.INT:\n        this._lexer.advance();\n\n        return {\n          kind: _kinds.Kind.INT,\n          value: token.value,\n          loc: this.loc(token)\n        };\n\n      case _tokenKind.TokenKind.FLOAT:\n        this._lexer.advance();\n\n        return {\n          kind: _kinds.Kind.FLOAT,\n          value: token.value,\n          loc: this.loc(token)\n        };\n\n      case _tokenKind.TokenKind.STRING:\n      case _tokenKind.TokenKind.BLOCK_STRING:\n        return this.parseStringLiteral();\n\n      case _tokenKind.TokenKind.NAME:\n        this._lexer.advance();\n\n        switch (token.value) {\n          case 'true':\n            return {\n              kind: _kinds.Kind.BOOLEAN,\n              value: true,\n              loc: this.loc(token)\n            };\n\n          case 'false':\n            return {\n              kind: _kinds.Kind.BOOLEAN,\n              value: false,\n              loc: this.loc(token)\n            };\n\n          case 'null':\n            return {\n              kind: _kinds.Kind.NULL,\n              loc: this.loc(token)\n            };\n\n          default:\n            return {\n              kind: _kinds.Kind.ENUM,\n              value: token.value,\n              loc: this.loc(token)\n            };\n        }\n\n      case _tokenKind.TokenKind.DOLLAR:\n        if (!isConst) {\n          return this.parseVariable();\n        }\n\n        break;\n    }\n\n    throw this.unexpected();\n  };\n\n  _proto.parseStringLiteral = function parseStringLiteral() {\n    var token = this._lexer.token;\n\n    this._lexer.advance();\n\n    return {\n      kind: _kinds.Kind.STRING,\n      value: token.value,\n      block: token.kind === _tokenKind.TokenKind.BLOCK_STRING,\n      loc: this.loc(token)\n    };\n  }\n  /**\n   * ListValue[Const] :\n   *   - [ ]\n   *   - [ Value[?Const]+ ]\n   */\n  ;\n\n  _proto.parseList = function parseList(isConst) {\n    var _this = this;\n\n    var start = this._lexer.token;\n\n    var item = function item() {\n      return _this.parseValueLiteral(isConst);\n    };\n\n    return {\n      kind: _kinds.Kind.LIST,\n      values: this.any(_tokenKind.TokenKind.BRACKET_L, item, _tokenKind.TokenKind.BRACKET_R),\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * ObjectValue[Const] :\n   *   - { }\n   *   - { ObjectField[?Const]+ }\n   */\n  ;\n\n  _proto.parseObject = function parseObject(isConst) {\n    var _this2 = this;\n\n    var start = this._lexer.token;\n\n    var item = function item() {\n      return _this2.parseObjectField(isConst);\n    };\n\n    return {\n      kind: _kinds.Kind.OBJECT,\n      fields: this.any(_tokenKind.TokenKind.BRACE_L, item, _tokenKind.TokenKind.BRACE_R),\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * ObjectField[Const] : Name : Value[?Const]\n   */\n  ;\n\n  _proto.parseObjectField = function parseObjectField(isConst) {\n    var start = this._lexer.token;\n    var name = this.parseName();\n    this.expectToken(_tokenKind.TokenKind.COLON);\n    return {\n      kind: _kinds.Kind.OBJECT_FIELD,\n      name: name,\n      value: this.parseValueLiteral(isConst),\n      loc: this.loc(start)\n    };\n  } // Implements the parsing rules in the Directives section.\n\n  /**\n   * Directives[Const] : Directive[?Const]+\n   */\n  ;\n\n  _proto.parseDirectives = function parseDirectives(isConst) {\n    var directives = [];\n\n    while (this.peek(_tokenKind.TokenKind.AT)) {\n      directives.push(this.parseDirective(isConst));\n    }\n\n    return directives;\n  }\n  /**\n   * Directive[Const] : @ Name Arguments[?Const]?\n   */\n  ;\n\n  _proto.parseDirective = function parseDirective(isConst) {\n    var start = this._lexer.token;\n    this.expectToken(_tokenKind.TokenKind.AT);\n    return {\n      kind: _kinds.Kind.DIRECTIVE,\n      name: this.parseName(),\n      arguments: this.parseArguments(isConst),\n      loc: this.loc(start)\n    };\n  } // Implements the parsing rules in the Types section.\n\n  /**\n   * Type :\n   *   - NamedType\n   *   - ListType\n   *   - NonNullType\n   */\n  ;\n\n  _proto.parseTypeReference = function parseTypeReference() {\n    var start = this._lexer.token;\n    var type;\n\n    if (this.expectOptionalToken(_tokenKind.TokenKind.BRACKET_L)) {\n      type = this.parseTypeReference();\n      this.expectToken(_tokenKind.TokenKind.BRACKET_R);\n      type = {\n        kind: _kinds.Kind.LIST_TYPE,\n        type: type,\n        loc: this.loc(start)\n      };\n    } else {\n      type = this.parseNamedType();\n    }\n\n    if (this.expectOptionalToken(_tokenKind.TokenKind.BANG)) {\n      return {\n        kind: _kinds.Kind.NON_NULL_TYPE,\n        type: type,\n        loc: this.loc(start)\n      };\n    }\n\n    return type;\n  }\n  /**\n   * NamedType : Name\n   */\n  ;\n\n  _proto.parseNamedType = function parseNamedType() {\n    var start = this._lexer.token;\n    return {\n      kind: _kinds.Kind.NAMED_TYPE,\n      name: this.parseName(),\n      loc: this.loc(start)\n    };\n  } // Implements the parsing rules in the Type Definition section.\n\n  /**\n   * TypeSystemDefinition :\n   *   - SchemaDefinition\n   *   - TypeDefinition\n   *   - DirectiveDefinition\n   *\n   * TypeDefinition :\n   *   - ScalarTypeDefinition\n   *   - ObjectTypeDefinition\n   *   - InterfaceTypeDefinition\n   *   - UnionTypeDefinition\n   *   - EnumTypeDefinition\n   *   - InputObjectTypeDefinition\n   */\n  ;\n\n  _proto.parseTypeSystemDefinition = function parseTypeSystemDefinition() {\n    // Many definitions begin with a description and require a lookahead.\n    var keywordToken = this.peekDescription() ? this._lexer.lookahead() : this._lexer.token;\n\n    if (keywordToken.kind === _tokenKind.TokenKind.NAME) {\n      switch (keywordToken.value) {\n        case 'schema':\n          return this.parseSchemaDefinition();\n\n        case 'scalar':\n          return this.parseScalarTypeDefinition();\n\n        case 'type':\n          return this.parseObjectTypeDefinition();\n\n        case 'interface':\n          return this.parseInterfaceTypeDefinition();\n\n        case 'union':\n          return this.parseUnionTypeDefinition();\n\n        case 'enum':\n          return this.parseEnumTypeDefinition();\n\n        case 'input':\n          return this.parseInputObjectTypeDefinition();\n\n        case 'directive':\n          return this.parseDirectiveDefinition();\n      }\n    }\n\n    throw this.unexpected(keywordToken);\n  };\n\n  _proto.peekDescription = function peekDescription() {\n    return this.peek(_tokenKind.TokenKind.STRING) || this.peek(_tokenKind.TokenKind.BLOCK_STRING);\n  }\n  /**\n   * Description : StringValue\n   */\n  ;\n\n  _proto.parseDescription = function parseDescription() {\n    if (this.peekDescription()) {\n      return this.parseStringLiteral();\n    }\n  }\n  /**\n   * SchemaDefinition : Description? schema Directives[Const]? { OperationTypeDefinition+ }\n   */\n  ;\n\n  _proto.parseSchemaDefinition = function parseSchemaDefinition() {\n    var start = this._lexer.token;\n    var description = this.parseDescription();\n    this.expectKeyword('schema');\n    var directives = this.parseDirectives(true);\n    var operationTypes = this.many(_tokenKind.TokenKind.BRACE_L, this.parseOperationTypeDefinition, _tokenKind.TokenKind.BRACE_R);\n    return {\n      kind: _kinds.Kind.SCHEMA_DEFINITION,\n      description: description,\n      directives: directives,\n      operationTypes: operationTypes,\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * OperationTypeDefinition : OperationType : NamedType\n   */\n  ;\n\n  _proto.parseOperationTypeDefinition = function parseOperationTypeDefinition() {\n    var start = this._lexer.token;\n    var operation = this.parseOperationType();\n    this.expectToken(_tokenKind.TokenKind.COLON);\n    var type = this.parseNamedType();\n    return {\n      kind: _kinds.Kind.OPERATION_TYPE_DEFINITION,\n      operation: operation,\n      type: type,\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * ScalarTypeDefinition : Description? scalar Name Directives[Const]?\n   */\n  ;\n\n  _proto.parseScalarTypeDefinition = function parseScalarTypeDefinition() {\n    var start = this._lexer.token;\n    var description = this.parseDescription();\n    this.expectKeyword('scalar');\n    var name = this.parseName();\n    var directives = this.parseDirectives(true);\n    return {\n      kind: _kinds.Kind.SCALAR_TYPE_DEFINITION,\n      description: description,\n      name: name,\n      directives: directives,\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * ObjectTypeDefinition :\n   *   Description?\n   *   type Name ImplementsInterfaces? Directives[Const]? FieldsDefinition?\n   */\n  ;\n\n  _proto.parseObjectTypeDefinition = function parseObjectTypeDefinition() {\n    var start = this._lexer.token;\n    var description = this.parseDescription();\n    this.expectKeyword('type');\n    var name = this.parseName();\n    var interfaces = this.parseImplementsInterfaces();\n    var directives = this.parseDirectives(true);\n    var fields = this.parseFieldsDefinition();\n    return {\n      kind: _kinds.Kind.OBJECT_TYPE_DEFINITION,\n      description: description,\n      name: name,\n      interfaces: interfaces,\n      directives: directives,\n      fields: fields,\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * ImplementsInterfaces :\n   *   - implements `&`? NamedType\n   *   - ImplementsInterfaces & NamedType\n   */\n  ;\n\n  _proto.parseImplementsInterfaces = function parseImplementsInterfaces() {\n    var _this$_options2;\n\n    if (!this.expectOptionalKeyword('implements')) {\n      return [];\n    }\n\n    if (((_this$_options2 = this._options) === null || _this$_options2 === void 0 ? void 0 : _this$_options2.allowLegacySDLImplementsInterfaces) === true) {\n      var types = []; // Optional leading ampersand\n\n      this.expectOptionalToken(_tokenKind.TokenKind.AMP);\n\n      do {\n        types.push(this.parseNamedType());\n      } while (this.expectOptionalToken(_tokenKind.TokenKind.AMP) || this.peek(_tokenKind.TokenKind.NAME));\n\n      return types;\n    }\n\n    return this.delimitedMany(_tokenKind.TokenKind.AMP, this.parseNamedType);\n  }\n  /**\n   * FieldsDefinition : { FieldDefinition+ }\n   */\n  ;\n\n  _proto.parseFieldsDefinition = function parseFieldsDefinition() {\n    var _this$_options3;\n\n    // Legacy support for the SDL?\n    if (((_this$_options3 = this._options) === null || _this$_options3 === void 0 ? void 0 : _this$_options3.allowLegacySDLEmptyFields) === true && this.peek(_tokenKind.TokenKind.BRACE_L) && this._lexer.lookahead().kind === _tokenKind.TokenKind.BRACE_R) {\n      this._lexer.advance();\n\n      this._lexer.advance();\n\n      return [];\n    }\n\n    return this.optionalMany(_tokenKind.TokenKind.BRACE_L, this.parseFieldDefinition, _tokenKind.TokenKind.BRACE_R);\n  }\n  /**\n   * FieldDefinition :\n   *   - Description? Name ArgumentsDefinition? : Type Directives[Const]?\n   */\n  ;\n\n  _proto.parseFieldDefinition = function parseFieldDefinition() {\n    var start = this._lexer.token;\n    var description = this.parseDescription();\n    var name = this.parseName();\n    var args = this.parseArgumentDefs();\n    this.expectToken(_tokenKind.TokenKind.COLON);\n    var type = this.parseTypeReference();\n    var directives = this.parseDirectives(true);\n    return {\n      kind: _kinds.Kind.FIELD_DEFINITION,\n      description: description,\n      name: name,\n      arguments: args,\n      type: type,\n      directives: directives,\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * ArgumentsDefinition : ( InputValueDefinition+ )\n   */\n  ;\n\n  _proto.parseArgumentDefs = function parseArgumentDefs() {\n    return this.optionalMany(_tokenKind.TokenKind.PAREN_L, this.parseInputValueDef, _tokenKind.TokenKind.PAREN_R);\n  }\n  /**\n   * InputValueDefinition :\n   *   - Description? Name : Type DefaultValue? Directives[Const]?\n   */\n  ;\n\n  _proto.parseInputValueDef = function parseInputValueDef() {\n    var start = this._lexer.token;\n    var description = this.parseDescription();\n    var name = this.parseName();\n    this.expectToken(_tokenKind.TokenKind.COLON);\n    var type = this.parseTypeReference();\n    var defaultValue;\n\n    if (this.expectOptionalToken(_tokenKind.TokenKind.EQUALS)) {\n      defaultValue = this.parseValueLiteral(true);\n    }\n\n    var directives = this.parseDirectives(true);\n    return {\n      kind: _kinds.Kind.INPUT_VALUE_DEFINITION,\n      description: description,\n      name: name,\n      type: type,\n      defaultValue: defaultValue,\n      directives: directives,\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * InterfaceTypeDefinition :\n   *   - Description? interface Name Directives[Const]? FieldsDefinition?\n   */\n  ;\n\n  _proto.parseInterfaceTypeDefinition = function parseInterfaceTypeDefinition() {\n    var start = this._lexer.token;\n    var description = this.parseDescription();\n    this.expectKeyword('interface');\n    var name = this.parseName();\n    var interfaces = this.parseImplementsInterfaces();\n    var directives = this.parseDirectives(true);\n    var fields = this.parseFieldsDefinition();\n    return {\n      kind: _kinds.Kind.INTERFACE_TYPE_DEFINITION,\n      description: description,\n      name: name,\n      interfaces: interfaces,\n      directives: directives,\n      fields: fields,\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * UnionTypeDefinition :\n   *   - Description? union Name Directives[Const]? UnionMemberTypes?\n   */\n  ;\n\n  _proto.parseUnionTypeDefinition = function parseUnionTypeDefinition() {\n    var start = this._lexer.token;\n    var description = this.parseDescription();\n    this.expectKeyword('union');\n    var name = this.parseName();\n    var directives = this.parseDirectives(true);\n    var types = this.parseUnionMemberTypes();\n    return {\n      kind: _kinds.Kind.UNION_TYPE_DEFINITION,\n      description: description,\n      name: name,\n      directives: directives,\n      types: types,\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * UnionMemberTypes :\n   *   - = `|`? NamedType\n   *   - UnionMemberTypes | NamedType\n   */\n  ;\n\n  _proto.parseUnionMemberTypes = function parseUnionMemberTypes() {\n    return this.expectOptionalToken(_tokenKind.TokenKind.EQUALS) ? this.delimitedMany(_tokenKind.TokenKind.PIPE, this.parseNamedType) : [];\n  }\n  /**\n   * EnumTypeDefinition :\n   *   - Description? enum Name Directives[Const]? EnumValuesDefinition?\n   */\n  ;\n\n  _proto.parseEnumTypeDefinition = function parseEnumTypeDefinition() {\n    var start = this._lexer.token;\n    var description = this.parseDescription();\n    this.expectKeyword('enum');\n    var name = this.parseName();\n    var directives = this.parseDirectives(true);\n    var values = this.parseEnumValuesDefinition();\n    return {\n      kind: _kinds.Kind.ENUM_TYPE_DEFINITION,\n      description: description,\n      name: name,\n      directives: directives,\n      values: values,\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * EnumValuesDefinition : { EnumValueDefinition+ }\n   */\n  ;\n\n  _proto.parseEnumValuesDefinition = function parseEnumValuesDefinition() {\n    return this.optionalMany(_tokenKind.TokenKind.BRACE_L, this.parseEnumValueDefinition, _tokenKind.TokenKind.BRACE_R);\n  }\n  /**\n   * EnumValueDefinition : Description? EnumValue Directives[Const]?\n   *\n   * EnumValue : Name\n   */\n  ;\n\n  _proto.parseEnumValueDefinition = function parseEnumValueDefinition() {\n    var start = this._lexer.token;\n    var description = this.parseDescription();\n    var name = this.parseName();\n    var directives = this.parseDirectives(true);\n    return {\n      kind: _kinds.Kind.ENUM_VALUE_DEFINITION,\n      description: description,\n      name: name,\n      directives: directives,\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * InputObjectTypeDefinition :\n   *   - Description? input Name Directives[Const]? InputFieldsDefinition?\n   */\n  ;\n\n  _proto.parseInputObjectTypeDefinition = function parseInputObjectTypeDefinition() {\n    var start = this._lexer.token;\n    var description = this.parseDescription();\n    this.expectKeyword('input');\n    var name = this.parseName();\n    var directives = this.parseDirectives(true);\n    var fields = this.parseInputFieldsDefinition();\n    return {\n      kind: _kinds.Kind.INPUT_OBJECT_TYPE_DEFINITION,\n      description: description,\n      name: name,\n      directives: directives,\n      fields: fields,\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * InputFieldsDefinition : { InputValueDefinition+ }\n   */\n  ;\n\n  _proto.parseInputFieldsDefinition = function parseInputFieldsDefinition() {\n    return this.optionalMany(_tokenKind.TokenKind.BRACE_L, this.parseInputValueDef, _tokenKind.TokenKind.BRACE_R);\n  }\n  /**\n   * TypeSystemExtension :\n   *   - SchemaExtension\n   *   - TypeExtension\n   *\n   * TypeExtension :\n   *   - ScalarTypeExtension\n   *   - ObjectTypeExtension\n   *   - InterfaceTypeExtension\n   *   - UnionTypeExtension\n   *   - EnumTypeExtension\n   *   - InputObjectTypeDefinition\n   */\n  ;\n\n  _proto.parseTypeSystemExtension = function parseTypeSystemExtension() {\n    var keywordToken = this._lexer.lookahead();\n\n    if (keywordToken.kind === _tokenKind.TokenKind.NAME) {\n      switch (keywordToken.value) {\n        case 'schema':\n          return this.parseSchemaExtension();\n\n        case 'scalar':\n          return this.parseScalarTypeExtension();\n\n        case 'type':\n          return this.parseObjectTypeExtension();\n\n        case 'interface':\n          return this.parseInterfaceTypeExtension();\n\n        case 'union':\n          return this.parseUnionTypeExtension();\n\n        case 'enum':\n          return this.parseEnumTypeExtension();\n\n        case 'input':\n          return this.parseInputObjectTypeExtension();\n      }\n    }\n\n    throw this.unexpected(keywordToken);\n  }\n  /**\n   * SchemaExtension :\n   *  - extend schema Directives[Const]? { OperationTypeDefinition+ }\n   *  - extend schema Directives[Const]\n   */\n  ;\n\n  _proto.parseSchemaExtension = function parseSchemaExtension() {\n    var start = this._lexer.token;\n    this.expectKeyword('extend');\n    this.expectKeyword('schema');\n    var directives = this.parseDirectives(true);\n    var operationTypes = this.optionalMany(_tokenKind.TokenKind.BRACE_L, this.parseOperationTypeDefinition, _tokenKind.TokenKind.BRACE_R);\n\n    if (directives.length === 0 && operationTypes.length === 0) {\n      throw this.unexpected();\n    }\n\n    return {\n      kind: _kinds.Kind.SCHEMA_EXTENSION,\n      directives: directives,\n      operationTypes: operationTypes,\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * ScalarTypeExtension :\n   *   - extend scalar Name Directives[Const]\n   */\n  ;\n\n  _proto.parseScalarTypeExtension = function parseScalarTypeExtension() {\n    var start = this._lexer.token;\n    this.expectKeyword('extend');\n    this.expectKeyword('scalar');\n    var name = this.parseName();\n    var directives = this.parseDirectives(true);\n\n    if (directives.length === 0) {\n      throw this.unexpected();\n    }\n\n    return {\n      kind: _kinds.Kind.SCALAR_TYPE_EXTENSION,\n      name: name,\n      directives: directives,\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * ObjectTypeExtension :\n   *  - extend type Name ImplementsInterfaces? Directives[Const]? FieldsDefinition\n   *  - extend type Name ImplementsInterfaces? Directives[Const]\n   *  - extend type Name ImplementsInterfaces\n   */\n  ;\n\n  _proto.parseObjectTypeExtension = function parseObjectTypeExtension() {\n    var start = this._lexer.token;\n    this.expectKeyword('extend');\n    this.expectKeyword('type');\n    var name = this.parseName();\n    var interfaces = this.parseImplementsInterfaces();\n    var directives = this.parseDirectives(true);\n    var fields = this.parseFieldsDefinition();\n\n    if (interfaces.length === 0 && directives.length === 0 && fields.length === 0) {\n      throw this.unexpected();\n    }\n\n    return {\n      kind: _kinds.Kind.OBJECT_TYPE_EXTENSION,\n      name: name,\n      interfaces: interfaces,\n      directives: directives,\n      fields: fields,\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * InterfaceTypeExtension :\n   *  - extend interface Name ImplementsInterfaces? Directives[Const]? FieldsDefinition\n   *  - extend interface Name ImplementsInterfaces? Directives[Const]\n   *  - extend interface Name ImplementsInterfaces\n   */\n  ;\n\n  _proto.parseInterfaceTypeExtension = function parseInterfaceTypeExtension() {\n    var start = this._lexer.token;\n    this.expectKeyword('extend');\n    this.expectKeyword('interface');\n    var name = this.parseName();\n    var interfaces = this.parseImplementsInterfaces();\n    var directives = this.parseDirectives(true);\n    var fields = this.parseFieldsDefinition();\n\n    if (interfaces.length === 0 && directives.length === 0 && fields.length === 0) {\n      throw this.unexpected();\n    }\n\n    return {\n      kind: _kinds.Kind.INTERFACE_TYPE_EXTENSION,\n      name: name,\n      interfaces: interfaces,\n      directives: directives,\n      fields: fields,\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * UnionTypeExtension :\n   *   - extend union Name Directives[Const]? UnionMemberTypes\n   *   - extend union Name Directives[Const]\n   */\n  ;\n\n  _proto.parseUnionTypeExtension = function parseUnionTypeExtension() {\n    var start = this._lexer.token;\n    this.expectKeyword('extend');\n    this.expectKeyword('union');\n    var name = this.parseName();\n    var directives = this.parseDirectives(true);\n    var types = this.parseUnionMemberTypes();\n\n    if (directives.length === 0 && types.length === 0) {\n      throw this.unexpected();\n    }\n\n    return {\n      kind: _kinds.Kind.UNION_TYPE_EXTENSION,\n      name: name,\n      directives: directives,\n      types: types,\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * EnumTypeExtension :\n   *   - extend enum Name Directives[Const]? EnumValuesDefinition\n   *   - extend enum Name Directives[Const]\n   */\n  ;\n\n  _proto.parseEnumTypeExtension = function parseEnumTypeExtension() {\n    var start = this._lexer.token;\n    this.expectKeyword('extend');\n    this.expectKeyword('enum');\n    var name = this.parseName();\n    var directives = this.parseDirectives(true);\n    var values = this.parseEnumValuesDefinition();\n\n    if (directives.length === 0 && values.length === 0) {\n      throw this.unexpected();\n    }\n\n    return {\n      kind: _kinds.Kind.ENUM_TYPE_EXTENSION,\n      name: name,\n      directives: directives,\n      values: values,\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * InputObjectTypeExtension :\n   *   - extend input Name Directives[Const]? InputFieldsDefinition\n   *   - extend input Name Directives[Const]\n   */\n  ;\n\n  _proto.parseInputObjectTypeExtension = function parseInputObjectTypeExtension() {\n    var start = this._lexer.token;\n    this.expectKeyword('extend');\n    this.expectKeyword('input');\n    var name = this.parseName();\n    var directives = this.parseDirectives(true);\n    var fields = this.parseInputFieldsDefinition();\n\n    if (directives.length === 0 && fields.length === 0) {\n      throw this.unexpected();\n    }\n\n    return {\n      kind: _kinds.Kind.INPUT_OBJECT_TYPE_EXTENSION,\n      name: name,\n      directives: directives,\n      fields: fields,\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * DirectiveDefinition :\n   *   - Description? directive @ Name ArgumentsDefinition? `repeatable`? on DirectiveLocations\n   */\n  ;\n\n  _proto.parseDirectiveDefinition = function parseDirectiveDefinition() {\n    var start = this._lexer.token;\n    var description = this.parseDescription();\n    this.expectKeyword('directive');\n    this.expectToken(_tokenKind.TokenKind.AT);\n    var name = this.parseName();\n    var args = this.parseArgumentDefs();\n    var repeatable = this.expectOptionalKeyword('repeatable');\n    this.expectKeyword('on');\n    var locations = this.parseDirectiveLocations();\n    return {\n      kind: _kinds.Kind.DIRECTIVE_DEFINITION,\n      description: description,\n      name: name,\n      arguments: args,\n      repeatable: repeatable,\n      locations: locations,\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * DirectiveLocations :\n   *   - `|`? DirectiveLocation\n   *   - DirectiveLocations | DirectiveLocation\n   */\n  ;\n\n  _proto.parseDirectiveLocations = function parseDirectiveLocations() {\n    return this.delimitedMany(_tokenKind.TokenKind.PIPE, this.parseDirectiveLocation);\n  }\n  /*\n   * DirectiveLocation :\n   *   - ExecutableDirectiveLocation\n   *   - TypeSystemDirectiveLocation\n   *\n   * ExecutableDirectiveLocation : one of\n   *   `QUERY`\n   *   `MUTATION`\n   *   `SUBSCRIPTION`\n   *   `FIELD`\n   *   `FRAGMENT_DEFINITION`\n   *   `FRAGMENT_SPREAD`\n   *   `INLINE_FRAGMENT`\n   *\n   * TypeSystemDirectiveLocation : one of\n   *   `SCHEMA`\n   *   `SCALAR`\n   *   `OBJECT`\n   *   `FIELD_DEFINITION`\n   *   `ARGUMENT_DEFINITION`\n   *   `INTERFACE`\n   *   `UNION`\n   *   `ENUM`\n   *   `ENUM_VALUE`\n   *   `INPUT_OBJECT`\n   *   `INPUT_FIELD_DEFINITION`\n   */\n  ;\n\n  _proto.parseDirectiveLocation = function parseDirectiveLocation() {\n    var start = this._lexer.token;\n    var name = this.parseName();\n\n    if (_directiveLocation.DirectiveLocation[name.value] !== undefined) {\n      return name;\n    }\n\n    throw this.unexpected(start);\n  } // Core parsing utility functions\n\n  /**\n   * Returns a location object, used to identify the place in the source that created a given parsed object.\n   */\n  ;\n\n  _proto.loc = function loc(startToken) {\n    var _this$_options4;\n\n    if (((_this$_options4 = this._options) === null || _this$_options4 === void 0 ? void 0 : _this$_options4.noLocation) !== true) {\n      return new _ast.Location(startToken, this._lexer.lastToken, this._lexer.source);\n    }\n  }\n  /**\n   * Determines if the next token is of a given kind\n   */\n  ;\n\n  _proto.peek = function peek(kind) {\n    return this._lexer.token.kind === kind;\n  }\n  /**\n   * If the next token is of the given kind, return that token after advancing the lexer.\n   * Otherwise, do not change the parser state and throw an error.\n   */\n  ;\n\n  _proto.expectToken = function expectToken(kind) {\n    var token = this._lexer.token;\n\n    if (token.kind === kind) {\n      this._lexer.advance();\n\n      return token;\n    }\n\n    throw (0, _syntaxError.syntaxError)(this._lexer.source, token.start, \"Expected \".concat(getTokenKindDesc(kind), \", found \").concat(getTokenDesc(token), \".\"));\n  }\n  /**\n   * If the next token is of the given kind, return that token after advancing the lexer.\n   * Otherwise, do not change the parser state and return undefined.\n   */\n  ;\n\n  _proto.expectOptionalToken = function expectOptionalToken(kind) {\n    var token = this._lexer.token;\n\n    if (token.kind === kind) {\n      this._lexer.advance();\n\n      return token;\n    }\n\n    return undefined;\n  }\n  /**\n   * If the next token is a given keyword, advance the lexer.\n   * Otherwise, do not change the parser state and throw an error.\n   */\n  ;\n\n  _proto.expectKeyword = function expectKeyword(value) {\n    var token = this._lexer.token;\n\n    if (token.kind === _tokenKind.TokenKind.NAME && token.value === value) {\n      this._lexer.advance();\n    } else {\n      throw (0, _syntaxError.syntaxError)(this._lexer.source, token.start, \"Expected \\\"\".concat(value, \"\\\", found \").concat(getTokenDesc(token), \".\"));\n    }\n  }\n  /**\n   * If the next token is a given keyword, return \"true\" after advancing the lexer.\n   * Otherwise, do not change the parser state and return \"false\".\n   */\n  ;\n\n  _proto.expectOptionalKeyword = function expectOptionalKeyword(value) {\n    var token = this._lexer.token;\n\n    if (token.kind === _tokenKind.TokenKind.NAME && token.value === value) {\n      this._lexer.advance();\n\n      return true;\n    }\n\n    return false;\n  }\n  /**\n   * Helper function for creating an error when an unexpected lexed token is encountered.\n   */\n  ;\n\n  _proto.unexpected = function unexpected(atToken) {\n    var token = atToken !== null && atToken !== void 0 ? atToken : this._lexer.token;\n    return (0, _syntaxError.syntaxError)(this._lexer.source, token.start, \"Unexpected \".concat(getTokenDesc(token), \".\"));\n  }\n  /**\n   * Returns a possibly empty list of parse nodes, determined by the parseFn.\n   * This list begins with a lex token of openKind and ends with a lex token of closeKind.\n   * Advances the parser to the next lex token after the closing token.\n   */\n  ;\n\n  _proto.any = function any(openKind, parseFn, closeKind) {\n    this.expectToken(openKind);\n    var nodes = [];\n\n    while (!this.expectOptionalToken(closeKind)) {\n      nodes.push(parseFn.call(this));\n    }\n\n    return nodes;\n  }\n  /**\n   * Returns a list of parse nodes, determined by the parseFn.\n   * It can be empty only if open token is missing otherwise it will always return non-empty list\n   * that begins with a lex token of openKind and ends with a lex token of closeKind.\n   * Advances the parser to the next lex token after the closing token.\n   */\n  ;\n\n  _proto.optionalMany = function optionalMany(openKind, parseFn, closeKind) {\n    if (this.expectOptionalToken(openKind)) {\n      var nodes = [];\n\n      do {\n        nodes.push(parseFn.call(this));\n      } while (!this.expectOptionalToken(closeKind));\n\n      return nodes;\n    }\n\n    return [];\n  }\n  /**\n   * Returns a non-empty list of parse nodes, determined by the parseFn.\n   * This list begins with a lex token of openKind and ends with a lex token of closeKind.\n   * Advances the parser to the next lex token after the closing token.\n   */\n  ;\n\n  _proto.many = function many(openKind, parseFn, closeKind) {\n    this.expectToken(openKind);\n    var nodes = [];\n\n    do {\n      nodes.push(parseFn.call(this));\n    } while (!this.expectOptionalToken(closeKind));\n\n    return nodes;\n  }\n  /**\n   * Returns a non-empty list of parse nodes, determined by the parseFn.\n   * This list may begin with a lex token of delimiterKind followed by items separated by lex tokens of tokenKind.\n   * Advances the parser to the next lex token after last item in the list.\n   */\n  ;\n\n  _proto.delimitedMany = function delimitedMany(delimiterKind, parseFn) {\n    this.expectOptionalToken(delimiterKind);\n    var nodes = [];\n\n    do {\n      nodes.push(parseFn.call(this));\n    } while (this.expectOptionalToken(delimiterKind));\n\n    return nodes;\n  };\n\n  return Parser;\n}();\n/**\n * A helper function to describe a token as a string for debugging.\n */\n\n\nexports.Parser = Parser;\n\nfunction getTokenDesc(token) {\n  var value = token.value;\n  return getTokenKindDesc(token.kind) + (value != null ? \" \\\"\".concat(value, \"\\\"\") : '');\n}\n/**\n * A helper function to describe a token kind as a string for debugging.\n */\n\n\nfunction getTokenKindDesc(kind) {\n  return (0, _lexer.isPunctuatorTokenKind)(kind) ? \"\\\"\".concat(kind, \"\\\"\") : kind;\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isDefinitionNode = isDefinitionNode;\nexports.isExecutableDefinitionNode = isExecutableDefinitionNode;\nexports.isSelectionNode = isSelectionNode;\nexports.isValueNode = isValueNode;\nexports.isTypeNode = isTypeNode;\nexports.isTypeSystemDefinitionNode = isTypeSystemDefinitionNode;\nexports.isTypeDefinitionNode = isTypeDefinitionNode;\nexports.isTypeSystemExtensionNode = isTypeSystemExtensionNode;\nexports.isTypeExtensionNode = isTypeExtensionNode;\n\nvar _kinds = require(\"./kinds.js\");\n\nfunction isDefinitionNode(node) {\n  return isExecutableDefinitionNode(node) || isTypeSystemDefinitionNode(node) || isTypeSystemExtensionNode(node);\n}\n\nfunction isExecutableDefinitionNode(node) {\n  return node.kind === _kinds.Kind.OPERATION_DEFINITION || node.kind === _kinds.Kind.FRAGMENT_DEFINITION;\n}\n\nfunction isSelectionNode(node) {\n  return node.kind === _kinds.Kind.FIELD || node.kind === _kinds.Kind.FRAGMENT_SPREAD || node.kind === _kinds.Kind.INLINE_FRAGMENT;\n}\n\nfunction isValueNode(node) {\n  return node.kind === _kinds.Kind.VARIABLE || node.kind === _kinds.Kind.INT || node.kind === _kinds.Kind.FLOAT || node.kind === _kinds.Kind.STRING || node.kind === _kinds.Kind.BOOLEAN || node.kind === _kinds.Kind.NULL || node.kind === _kinds.Kind.ENUM || node.kind === _kinds.Kind.LIST || node.kind === _kinds.Kind.OBJECT;\n}\n\nfunction isTypeNode(node) {\n  return node.kind === _kinds.Kind.NAMED_TYPE || node.kind === _kinds.Kind.LIST_TYPE || node.kind === _kinds.Kind.NON_NULL_TYPE;\n}\n\nfunction isTypeSystemDefinitionNode(node) {\n  return node.kind === _kinds.Kind.SCHEMA_DEFINITION || isTypeDefinitionNode(node) || node.kind === _kinds.Kind.DIRECTIVE_DEFINITION;\n}\n\nfunction isTypeDefinitionNode(node) {\n  return node.kind === _kinds.Kind.SCALAR_TYPE_DEFINITION || node.kind === _kinds.Kind.OBJECT_TYPE_DEFINITION || node.kind === _kinds.Kind.INTERFACE_TYPE_DEFINITION || node.kind === _kinds.Kind.UNION_TYPE_DEFINITION || node.kind === _kinds.Kind.ENUM_TYPE_DEFINITION || node.kind === _kinds.Kind.INPUT_OBJECT_TYPE_DEFINITION;\n}\n\nfunction isTypeSystemExtensionNode(node) {\n  return node.kind === _kinds.Kind.SCHEMA_EXTENSION || isTypeExtensionNode(node);\n}\n\nfunction isTypeExtensionNode(node) {\n  return node.kind === _kinds.Kind.SCALAR_TYPE_EXTENSION || node.kind === _kinds.Kind.OBJECT_TYPE_EXTENSION || node.kind === _kinds.Kind.INTERFACE_TYPE_EXTENSION || node.kind === _kinds.Kind.UNION_TYPE_EXTENSION || node.kind === _kinds.Kind.ENUM_TYPE_EXTENSION || node.kind === _kinds.Kind.INPUT_OBJECT_TYPE_EXTENSION;\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.printLocation = printLocation;\nexports.printSourceLocation = printSourceLocation;\n\nvar _location = require(\"./location.js\");\n\n/**\n * Render a helpful description of the location in the GraphQL Source document.\n */\nfunction printLocation(location) {\n  return printSourceLocation(location.source, (0, _location.getLocation)(location.source, location.start));\n}\n/**\n * Render a helpful description of the location in the GraphQL Source document.\n */\n\n\nfunction printSourceLocation(source, sourceLocation) {\n  var firstLineColumnOffset = source.locationOffset.column - 1;\n  var body = whitespace(firstLineColumnOffset) + source.body;\n  var lineIndex = sourceLocation.line - 1;\n  var lineOffset = source.locationOffset.line - 1;\n  var lineNum = sourceLocation.line + lineOffset;\n  var columnOffset = sourceLocation.line === 1 ? firstLineColumnOffset : 0;\n  var columnNum = sourceLocation.column + columnOffset;\n  var locationStr = \"\".concat(source.name, \":\").concat(lineNum, \":\").concat(columnNum, \"\\n\");\n  var lines = body.split(/\\r\\n|[\\n\\r]/g);\n  var locationLine = lines[lineIndex]; // Special case for minified documents\n\n  if (locationLine.length > 120) {\n    var subLineIndex = Math.floor(columnNum / 80);\n    var subLineColumnNum = columnNum % 80;\n    var subLines = [];\n\n    for (var i = 0; i < locationLine.length; i += 80) {\n      subLines.push(locationLine.slice(i, i + 80));\n    }\n\n    return locationStr + printPrefixedLines([[\"\".concat(lineNum), subLines[0]]].concat(subLines.slice(1, subLineIndex + 1).map(function (subLine) {\n      return ['', subLine];\n    }), [[' ', whitespace(subLineColumnNum - 1) + '^'], ['', subLines[subLineIndex + 1]]]));\n  }\n\n  return locationStr + printPrefixedLines([// Lines specified like this: [\"prefix\", \"string\"],\n  [\"\".concat(lineNum - 1), lines[lineIndex - 1]], [\"\".concat(lineNum), locationLine], ['', whitespace(columnNum - 1) + '^'], [\"\".concat(lineNum + 1), lines[lineIndex + 1]]]);\n}\n\nfunction printPrefixedLines(lines) {\n  var existingLines = lines.filter(function (_ref) {\n    var _ = _ref[0],\n        line = _ref[1];\n    return line !== undefined;\n  });\n  var padLen = Math.max.apply(Math, existingLines.map(function (_ref2) {\n    var prefix = _ref2[0];\n    return prefix.length;\n  }));\n  return existingLines.map(function (_ref3) {\n    var prefix = _ref3[0],\n        line = _ref3[1];\n    return leftPad(padLen, prefix) + (line ? ' | ' + line : ' |');\n  }).join('\\n');\n}\n\nfunction whitespace(len) {\n  return Array(len + 1).join(' ');\n}\n\nfunction leftPad(len, str) {\n  return whitespace(len - str.length) + str;\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.print = print;\n\nvar _visitor = require(\"./visitor.js\");\n\nvar _blockString = require(\"./blockString.js\");\n\n/**\n * Converts an AST into a string, using one set of reasonable\n * formatting rules.\n */\nfunction print(ast) {\n  return (0, _visitor.visit)(ast, {\n    leave: printDocASTReducer\n  });\n}\n\nvar MAX_LINE_LENGTH = 80; // TODO: provide better type coverage in future\n\nvar printDocASTReducer = {\n  Name: function Name(node) {\n    return node.value;\n  },\n  Variable: function Variable(node) {\n    return '$' + node.name;\n  },\n  // Document\n  Document: function Document(node) {\n    return join(node.definitions, '\\n\\n') + '\\n';\n  },\n  OperationDefinition: function OperationDefinition(node) {\n    var op = node.operation;\n    var name = node.name;\n    var varDefs = wrap('(', join(node.variableDefinitions, ', '), ')');\n    var directives = join(node.directives, ' ');\n    var selectionSet = node.selectionSet; // Anonymous queries with no directives or variable definitions can use\n    // the query short form.\n\n    return !name && !directives && !varDefs && op === 'query' ? selectionSet : join([op, join([name, varDefs]), directives, selectionSet], ' ');\n  },\n  VariableDefinition: function VariableDefinition(_ref) {\n    var variable = _ref.variable,\n        type = _ref.type,\n        defaultValue = _ref.defaultValue,\n        directives = _ref.directives;\n    return variable + ': ' + type + wrap(' = ', defaultValue) + wrap(' ', join(directives, ' '));\n  },\n  SelectionSet: function SelectionSet(_ref2) {\n    var selections = _ref2.selections;\n    return block(selections);\n  },\n  Field: function Field(_ref3) {\n    var alias = _ref3.alias,\n        name = _ref3.name,\n        args = _ref3.arguments,\n        directives = _ref3.directives,\n        selectionSet = _ref3.selectionSet;\n    var prefix = wrap('', alias, ': ') + name;\n    var argsLine = prefix + wrap('(', join(args, ', '), ')');\n\n    if (argsLine.length > MAX_LINE_LENGTH) {\n      argsLine = prefix + wrap('(\\n', indent(join(args, '\\n')), '\\n)');\n    }\n\n    return join([argsLine, join(directives, ' '), selectionSet], ' ');\n  },\n  Argument: function Argument(_ref4) {\n    var name = _ref4.name,\n        value = _ref4.value;\n    return name + ': ' + value;\n  },\n  // Fragments\n  FragmentSpread: function FragmentSpread(_ref5) {\n    var name = _ref5.name,\n        directives = _ref5.directives;\n    return '...' + name + wrap(' ', join(directives, ' '));\n  },\n  InlineFragment: function InlineFragment(_ref6) {\n    var typeCondition = _ref6.typeCondition,\n        directives = _ref6.directives,\n        selectionSet = _ref6.selectionSet;\n    return join(['...', wrap('on ', typeCondition), join(directives, ' '), selectionSet], ' ');\n  },\n  FragmentDefinition: function FragmentDefinition(_ref7) {\n    var name = _ref7.name,\n        typeCondition = _ref7.typeCondition,\n        variableDefinitions = _ref7.variableDefinitions,\n        directives = _ref7.directives,\n        selectionSet = _ref7.selectionSet;\n    return (// Note: fragment variable definitions are experimental and may be changed\n      // or removed in the future.\n      \"fragment \".concat(name).concat(wrap('(', join(variableDefinitions, ', '), ')'), \" \") + \"on \".concat(typeCondition, \" \").concat(wrap('', join(directives, ' '), ' ')) + selectionSet\n    );\n  },\n  // Value\n  IntValue: function IntValue(_ref8) {\n    var value = _ref8.value;\n    return value;\n  },\n  FloatValue: function FloatValue(_ref9) {\n    var value = _ref9.value;\n    return value;\n  },\n  StringValue: function StringValue(_ref10, key) {\n    var value = _ref10.value,\n        isBlockString = _ref10.block;\n    return isBlockString ? (0, _blockString.printBlockString)(value, key === 'description' ? '' : '  ') : JSON.stringify(value);\n  },\n  BooleanValue: function BooleanValue(_ref11) {\n    var value = _ref11.value;\n    return value ? 'true' : 'false';\n  },\n  NullValue: function NullValue() {\n    return 'null';\n  },\n  EnumValue: function EnumValue(_ref12) {\n    var value = _ref12.value;\n    return value;\n  },\n  ListValue: function ListValue(_ref13) {\n    var values = _ref13.values;\n    return '[' + join(values, ', ') + ']';\n  },\n  ObjectValue: function ObjectValue(_ref14) {\n    var fields = _ref14.fields;\n    return '{' + join(fields, ', ') + '}';\n  },\n  ObjectField: function ObjectField(_ref15) {\n    var name = _ref15.name,\n        value = _ref15.value;\n    return name + ': ' + value;\n  },\n  // Directive\n  Directive: function Directive(_ref16) {\n    var name = _ref16.name,\n        args = _ref16.arguments;\n    return '@' + name + wrap('(', join(args, ', '), ')');\n  },\n  // Type\n  NamedType: function NamedType(_ref17) {\n    var name = _ref17.name;\n    return name;\n  },\n  ListType: function ListType(_ref18) {\n    var type = _ref18.type;\n    return '[' + type + ']';\n  },\n  NonNullType: function NonNullType(_ref19) {\n    var type = _ref19.type;\n    return type + '!';\n  },\n  // Type System Definitions\n  SchemaDefinition: addDescription(function (_ref20) {\n    var directives = _ref20.directives,\n        operationTypes = _ref20.operationTypes;\n    return join(['schema', join(directives, ' '), block(operationTypes)], ' ');\n  }),\n  OperationTypeDefinition: function OperationTypeDefinition(_ref21) {\n    var operation = _ref21.operation,\n        type = _ref21.type;\n    return operation + ': ' + type;\n  },\n  ScalarTypeDefinition: addDescription(function (_ref22) {\n    var name = _ref22.name,\n        directives = _ref22.directives;\n    return join(['scalar', name, join(directives, ' ')], ' ');\n  }),\n  ObjectTypeDefinition: addDescription(function (_ref23) {\n    var name = _ref23.name,\n        interfaces = _ref23.interfaces,\n        directives = _ref23.directives,\n        fields = _ref23.fields;\n    return join(['type', name, wrap('implements ', join(interfaces, ' & ')), join(directives, ' '), block(fields)], ' ');\n  }),\n  FieldDefinition: addDescription(function (_ref24) {\n    var name = _ref24.name,\n        args = _ref24.arguments,\n        type = _ref24.type,\n        directives = _ref24.directives;\n    return name + (hasMultilineItems(args) ? wrap('(\\n', indent(join(args, '\\n')), '\\n)') : wrap('(', join(args, ', '), ')')) + ': ' + type + wrap(' ', join(directives, ' '));\n  }),\n  InputValueDefinition: addDescription(function (_ref25) {\n    var name = _ref25.name,\n        type = _ref25.type,\n        defaultValue = _ref25.defaultValue,\n        directives = _ref25.directives;\n    return join([name + ': ' + type, wrap('= ', defaultValue), join(directives, ' ')], ' ');\n  }),\n  InterfaceTypeDefinition: addDescription(function (_ref26) {\n    var name = _ref26.name,\n        interfaces = _ref26.interfaces,\n        directives = _ref26.directives,\n        fields = _ref26.fields;\n    return join(['interface', name, wrap('implements ', join(interfaces, ' & ')), join(directives, ' '), block(fields)], ' ');\n  }),\n  UnionTypeDefinition: addDescription(function (_ref27) {\n    var name = _ref27.name,\n        directives = _ref27.directives,\n        types = _ref27.types;\n    return join(['union', name, join(directives, ' '), types && types.length !== 0 ? '= ' + join(types, ' | ') : ''], ' ');\n  }),\n  EnumTypeDefinition: addDescription(function (_ref28) {\n    var name = _ref28.name,\n        directives = _ref28.directives,\n        values = _ref28.values;\n    return join(['enum', name, join(directives, ' '), block(values)], ' ');\n  }),\n  EnumValueDefinition: addDescription(function (_ref29) {\n    var name = _ref29.name,\n        directives = _ref29.directives;\n    return join([name, join(directives, ' ')], ' ');\n  }),\n  InputObjectTypeDefinition: addDescription(function (_ref30) {\n    var name = _ref30.name,\n        directives = _ref30.directives,\n        fields = _ref30.fields;\n    return join(['input', name, join(directives, ' '), block(fields)], ' ');\n  }),\n  DirectiveDefinition: addDescription(function (_ref31) {\n    var name = _ref31.name,\n        args = _ref31.arguments,\n        repeatable = _ref31.repeatable,\n        locations = _ref31.locations;\n    return 'directive @' + name + (hasMultilineItems(args) ? wrap('(\\n', indent(join(args, '\\n')), '\\n)') : wrap('(', join(args, ', '), ')')) + (repeatable ? ' repeatable' : '') + ' on ' + join(locations, ' | ');\n  }),\n  SchemaExtension: function SchemaExtension(_ref32) {\n    var directives = _ref32.directives,\n        operationTypes = _ref32.operationTypes;\n    return join(['extend schema', join(directives, ' '), block(operationTypes)], ' ');\n  },\n  ScalarTypeExtension: function ScalarTypeExtension(_ref33) {\n    var name = _ref33.name,\n        directives = _ref33.directives;\n    return join(['extend scalar', name, join(directives, ' ')], ' ');\n  },\n  ObjectTypeExtension: function ObjectTypeExtension(_ref34) {\n    var name = _ref34.name,\n        interfaces = _ref34.interfaces,\n        directives = _ref34.directives,\n        fields = _ref34.fields;\n    return join(['extend type', name, wrap('implements ', join(interfaces, ' & ')), join(directives, ' '), block(fields)], ' ');\n  },\n  InterfaceTypeExtension: function InterfaceTypeExtension(_ref35) {\n    var name = _ref35.name,\n        interfaces = _ref35.interfaces,\n        directives = _ref35.directives,\n        fields = _ref35.fields;\n    return join(['extend interface', name, wrap('implements ', join(interfaces, ' & ')), join(directives, ' '), block(fields)], ' ');\n  },\n  UnionTypeExtension: function UnionTypeExtension(_ref36) {\n    var name = _ref36.name,\n        directives = _ref36.directives,\n        types = _ref36.types;\n    return join(['extend union', name, join(directives, ' '), types && types.length !== 0 ? '= ' + join(types, ' | ') : ''], ' ');\n  },\n  EnumTypeExtension: function EnumTypeExtension(_ref37) {\n    var name = _ref37.name,\n        directives = _ref37.directives,\n        values = _ref37.values;\n    return join(['extend enum', name, join(directives, ' '), block(values)], ' ');\n  },\n  InputObjectTypeExtension: function InputObjectTypeExtension(_ref38) {\n    var name = _ref38.name,\n        directives = _ref38.directives,\n        fields = _ref38.fields;\n    return join(['extend input', name, join(directives, ' '), block(fields)], ' ');\n  }\n};\n\nfunction addDescription(cb) {\n  return function (node) {\n    return join([node.description, cb(node)], '\\n');\n  };\n}\n/**\n * Given maybeArray, print an empty string if it is null or empty, otherwise\n * print all items together separated by separator if provided\n */\n\n\nfunction join(maybeArray) {\n  var _maybeArray$filter$jo;\n\n  var separator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  return (_maybeArray$filter$jo = maybeArray === null || maybeArray === void 0 ? void 0 : maybeArray.filter(function (x) {\n    return x;\n  }).join(separator)) !== null && _maybeArray$filter$jo !== void 0 ? _maybeArray$filter$jo : '';\n}\n/**\n * Given array, print each item on its own line, wrapped in an\n * indented \"{ }\" block.\n */\n\n\nfunction block(array) {\n  return wrap('{\\n', indent(join(array, '\\n')), '\\n}');\n}\n/**\n * If maybeString is not null or empty, then wrap with start and end, otherwise print an empty string.\n */\n\n\nfunction wrap(start, maybeString) {\n  var end = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n  return maybeString != null && maybeString !== '' ? start + maybeString + end : '';\n}\n\nfunction indent(str) {\n  return wrap('  ', str.replace(/\\n/g, '\\n  '));\n}\n\nfunction isMultiline(str) {\n  return str.indexOf('\\n') !== -1;\n}\n\nfunction hasMultilineItems(maybeArray) {\n  return maybeArray != null && maybeArray.some(isMultiline);\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isSource = isSource;\nexports.Source = void 0;\n\nvar _symbols = require(\"../polyfills/symbols.js\");\n\nvar _inspect = _interopRequireDefault(require(\"../jsutils/inspect.js\"));\n\nvar _devAssert = _interopRequireDefault(require(\"../jsutils/devAssert.js\"));\n\nvar _instanceOf = _interopRequireDefault(require(\"../jsutils/instanceOf.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/**\n * A representation of source input to GraphQL. The `name` and `locationOffset` parameters are\n * optional, but they are useful for clients who store GraphQL documents in source files.\n * For example, if the GraphQL input starts at line 40 in a file named `Foo.graphql`, it might\n * be useful for `name` to be `\"Foo.graphql\"` and location to be `{ line: 40, column: 1 }`.\n * The `line` and `column` properties in `locationOffset` are 1-indexed.\n */\nvar Source = /*#__PURE__*/function () {\n  function Source(body) {\n    var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'GraphQL request';\n    var locationOffset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {\n      line: 1,\n      column: 1\n    };\n    typeof body === 'string' || (0, _devAssert.default)(0, \"Body must be a string. Received: \".concat((0, _inspect.default)(body), \".\"));\n    this.body = body;\n    this.name = name;\n    this.locationOffset = locationOffset;\n    this.locationOffset.line > 0 || (0, _devAssert.default)(0, 'line in locationOffset is 1-indexed and must be positive.');\n    this.locationOffset.column > 0 || (0, _devAssert.default)(0, 'column in locationOffset is 1-indexed and must be positive.');\n  } // $FlowFixMe[unsupported-syntax] Flow doesn't support computed properties yet\n\n\n  _createClass(Source, [{\n    key: _symbols.SYMBOL_TO_STRING_TAG,\n    get: function get() {\n      return 'Source';\n    }\n  }]);\n\n  return Source;\n}();\n/**\n * Test if the given value is a Source object.\n *\n * @internal\n */\n\n\nexports.Source = Source;\n\n// eslint-disable-next-line no-redeclare\nfunction isSource(source) {\n  return (0, _instanceOf.default)(source, Source);\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TokenKind = void 0;\n\n/**\n * An exported enum describing the different kinds of tokens that the\n * lexer emits.\n */\nvar TokenKind = Object.freeze({\n  SOF: '<SOF>',\n  EOF: '<EOF>',\n  BANG: '!',\n  DOLLAR: '$',\n  AMP: '&',\n  PAREN_L: '(',\n  PAREN_R: ')',\n  SPREAD: '...',\n  COLON: ':',\n  EQUALS: '=',\n  AT: '@',\n  BRACKET_L: '[',\n  BRACKET_R: ']',\n  BRACE_L: '{',\n  PIPE: '|',\n  BRACE_R: '}',\n  NAME: 'Name',\n  INT: 'Int',\n  FLOAT: 'Float',\n  STRING: 'String',\n  BLOCK_STRING: 'BlockString',\n  COMMENT: 'Comment'\n});\n/**\n * The enum type representing the token kinds values.\n */\n\nexports.TokenKind = TokenKind;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.visit = visit;\nexports.visitInParallel = visitInParallel;\nexports.getVisitFn = getVisitFn;\nexports.BREAK = exports.QueryDocumentKeys = void 0;\n\nvar _inspect = _interopRequireDefault(require(\"../jsutils/inspect.js\"));\n\nvar _ast = require(\"./ast.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar QueryDocumentKeys = {\n  Name: [],\n  Document: ['definitions'],\n  OperationDefinition: ['name', 'variableDefinitions', 'directives', 'selectionSet'],\n  VariableDefinition: ['variable', 'type', 'defaultValue', 'directives'],\n  Variable: ['name'],\n  SelectionSet: ['selections'],\n  Field: ['alias', 'name', 'arguments', 'directives', 'selectionSet'],\n  Argument: ['name', 'value'],\n  FragmentSpread: ['name', 'directives'],\n  InlineFragment: ['typeCondition', 'directives', 'selectionSet'],\n  FragmentDefinition: ['name', // Note: fragment variable definitions are experimental and may be changed\n  // or removed in the future.\n  'variableDefinitions', 'typeCondition', 'directives', 'selectionSet'],\n  IntValue: [],\n  FloatValue: [],\n  StringValue: [],\n  BooleanValue: [],\n  NullValue: [],\n  EnumValue: [],\n  ListValue: ['values'],\n  ObjectValue: ['fields'],\n  ObjectField: ['name', 'value'],\n  Directive: ['name', 'arguments'],\n  NamedType: ['name'],\n  ListType: ['type'],\n  NonNullType: ['type'],\n  SchemaDefinition: ['description', 'directives', 'operationTypes'],\n  OperationTypeDefinition: ['type'],\n  ScalarTypeDefinition: ['description', 'name', 'directives'],\n  ObjectTypeDefinition: ['description', 'name', 'interfaces', 'directives', 'fields'],\n  FieldDefinition: ['description', 'name', 'arguments', 'type', 'directives'],\n  InputValueDefinition: ['description', 'name', 'type', 'defaultValue', 'directives'],\n  InterfaceTypeDefinition: ['description', 'name', 'interfaces', 'directives', 'fields'],\n  UnionTypeDefinition: ['description', 'name', 'directives', 'types'],\n  EnumTypeDefinition: ['description', 'name', 'directives', 'values'],\n  EnumValueDefinition: ['description', 'name', 'directives'],\n  InputObjectTypeDefinition: ['description', 'name', 'directives', 'fields'],\n  DirectiveDefinition: ['description', 'name', 'arguments', 'locations'],\n  SchemaExtension: ['directives', 'operationTypes'],\n  ScalarTypeExtension: ['name', 'directives'],\n  ObjectTypeExtension: ['name', 'interfaces', 'directives', 'fields'],\n  InterfaceTypeExtension: ['name', 'interfaces', 'directives', 'fields'],\n  UnionTypeExtension: ['name', 'directives', 'types'],\n  EnumTypeExtension: ['name', 'directives', 'values'],\n  InputObjectTypeExtension: ['name', 'directives', 'fields']\n};\nexports.QueryDocumentKeys = QueryDocumentKeys;\nvar BREAK = Object.freeze({});\n/**\n * visit() will walk through an AST using a depth-first traversal, calling\n * the visitor's enter function at each node in the traversal, and calling the\n * leave function after visiting that node and all of its child nodes.\n *\n * By returning different values from the enter and leave functions, the\n * behavior of the visitor can be altered, including skipping over a sub-tree of\n * the AST (by returning false), editing the AST by returning a value or null\n * to remove the value, or to stop the whole traversal by returning BREAK.\n *\n * When using visit() to edit an AST, the original AST will not be modified, and\n * a new version of the AST with the changes applied will be returned from the\n * visit function.\n *\n *     const editedAST = visit(ast, {\n *       enter(node, key, parent, path, ancestors) {\n *         // @return\n *         //   undefined: no action\n *         //   false: skip visiting this node\n *         //   visitor.BREAK: stop visiting altogether\n *         //   null: delete this node\n *         //   any value: replace this node with the returned value\n *       },\n *       leave(node, key, parent, path, ancestors) {\n *         // @return\n *         //   undefined: no action\n *         //   false: no action\n *         //   visitor.BREAK: stop visiting altogether\n *         //   null: delete this node\n *         //   any value: replace this node with the returned value\n *       }\n *     });\n *\n * Alternatively to providing enter() and leave() functions, a visitor can\n * instead provide functions named the same as the kinds of AST nodes, or\n * enter/leave visitors at a named key, leading to four permutations of the\n * visitor API:\n *\n * 1) Named visitors triggered when entering a node of a specific kind.\n *\n *     visit(ast, {\n *       Kind(node) {\n *         // enter the \"Kind\" node\n *       }\n *     })\n *\n * 2) Named visitors that trigger upon entering and leaving a node of\n *    a specific kind.\n *\n *     visit(ast, {\n *       Kind: {\n *         enter(node) {\n *           // enter the \"Kind\" node\n *         }\n *         leave(node) {\n *           // leave the \"Kind\" node\n *         }\n *       }\n *     })\n *\n * 3) Generic visitors that trigger upon entering and leaving any node.\n *\n *     visit(ast, {\n *       enter(node) {\n *         // enter any node\n *       },\n *       leave(node) {\n *         // leave any node\n *       }\n *     })\n *\n * 4) Parallel visitors for entering and leaving nodes of a specific kind.\n *\n *     visit(ast, {\n *       enter: {\n *         Kind(node) {\n *           // enter the \"Kind\" node\n *         }\n *       },\n *       leave: {\n *         Kind(node) {\n *           // leave the \"Kind\" node\n *         }\n *       }\n *     })\n */\n\nexports.BREAK = BREAK;\n\nfunction visit(root, visitor) {\n  var visitorKeys = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : QueryDocumentKeys;\n\n  /* eslint-disable no-undef-init */\n  var stack = undefined;\n  var inArray = Array.isArray(root);\n  var keys = [root];\n  var index = -1;\n  var edits = [];\n  var node = undefined;\n  var key = undefined;\n  var parent = undefined;\n  var path = [];\n  var ancestors = [];\n  var newRoot = root;\n  /* eslint-enable no-undef-init */\n\n  do {\n    index++;\n    var isLeaving = index === keys.length;\n    var isEdited = isLeaving && edits.length !== 0;\n\n    if (isLeaving) {\n      key = ancestors.length === 0 ? undefined : path[path.length - 1];\n      node = parent;\n      parent = ancestors.pop();\n\n      if (isEdited) {\n        if (inArray) {\n          node = node.slice();\n        } else {\n          var clone = {};\n\n          for (var _i2 = 0, _Object$keys2 = Object.keys(node); _i2 < _Object$keys2.length; _i2++) {\n            var k = _Object$keys2[_i2];\n            clone[k] = node[k];\n          }\n\n          node = clone;\n        }\n\n        var editOffset = 0;\n\n        for (var ii = 0; ii < edits.length; ii++) {\n          var editKey = edits[ii][0];\n          var editValue = edits[ii][1];\n\n          if (inArray) {\n            editKey -= editOffset;\n          }\n\n          if (inArray && editValue === null) {\n            node.splice(editKey, 1);\n            editOffset++;\n          } else {\n            node[editKey] = editValue;\n          }\n        }\n      }\n\n      index = stack.index;\n      keys = stack.keys;\n      edits = stack.edits;\n      inArray = stack.inArray;\n      stack = stack.prev;\n    } else {\n      key = parent ? inArray ? index : keys[index] : undefined;\n      node = parent ? parent[key] : newRoot;\n\n      if (node === null || node === undefined) {\n        continue;\n      }\n\n      if (parent) {\n        path.push(key);\n      }\n    }\n\n    var result = void 0;\n\n    if (!Array.isArray(node)) {\n      if (!(0, _ast.isNode)(node)) {\n        throw new Error(\"Invalid AST Node: \".concat((0, _inspect.default)(node), \".\"));\n      }\n\n      var visitFn = getVisitFn(visitor, node.kind, isLeaving);\n\n      if (visitFn) {\n        result = visitFn.call(visitor, node, key, parent, path, ancestors);\n\n        if (result === BREAK) {\n          break;\n        }\n\n        if (result === false) {\n          if (!isLeaving) {\n            path.pop();\n            continue;\n          }\n        } else if (result !== undefined) {\n          edits.push([key, result]);\n\n          if (!isLeaving) {\n            if ((0, _ast.isNode)(result)) {\n              node = result;\n            } else {\n              path.pop();\n              continue;\n            }\n          }\n        }\n      }\n    }\n\n    if (result === undefined && isEdited) {\n      edits.push([key, node]);\n    }\n\n    if (isLeaving) {\n      path.pop();\n    } else {\n      var _visitorKeys$node$kin;\n\n      stack = {\n        inArray: inArray,\n        index: index,\n        keys: keys,\n        edits: edits,\n        prev: stack\n      };\n      inArray = Array.isArray(node);\n      keys = inArray ? node : (_visitorKeys$node$kin = visitorKeys[node.kind]) !== null && _visitorKeys$node$kin !== void 0 ? _visitorKeys$node$kin : [];\n      index = -1;\n      edits = [];\n\n      if (parent) {\n        ancestors.push(parent);\n      }\n\n      parent = node;\n    }\n  } while (stack !== undefined);\n\n  if (edits.length !== 0) {\n    newRoot = edits[edits.length - 1][1];\n  }\n\n  return newRoot;\n}\n/**\n * Creates a new visitor instance which delegates to many visitors to run in\n * parallel. Each visitor will be visited for each node before moving on.\n *\n * If a prior visitor edits a node, no following visitors will see that node.\n */\n\n\nfunction visitInParallel(visitors) {\n  var skipping = new Array(visitors.length);\n  return {\n    enter: function enter(node) {\n      for (var i = 0; i < visitors.length; i++) {\n        if (skipping[i] == null) {\n          var fn = getVisitFn(visitors[i], node.kind,\n          /* isLeaving */\n          false);\n\n          if (fn) {\n            var result = fn.apply(visitors[i], arguments);\n\n            if (result === false) {\n              skipping[i] = node;\n            } else if (result === BREAK) {\n              skipping[i] = BREAK;\n            } else if (result !== undefined) {\n              return result;\n            }\n          }\n        }\n      }\n    },\n    leave: function leave(node) {\n      for (var i = 0; i < visitors.length; i++) {\n        if (skipping[i] == null) {\n          var fn = getVisitFn(visitors[i], node.kind,\n          /* isLeaving */\n          true);\n\n          if (fn) {\n            var result = fn.apply(visitors[i], arguments);\n\n            if (result === BREAK) {\n              skipping[i] = BREAK;\n            } else if (result !== undefined && result !== false) {\n              return result;\n            }\n          }\n        } else if (skipping[i] === node) {\n          skipping[i] = null;\n        }\n      }\n    }\n  };\n}\n/**\n * Given a visitor instance, if it is leaving or not, and a node kind, return\n * the function the visitor runtime should call.\n */\n\n\nfunction getVisitFn(visitor, kind, isLeaving) {\n  var kindVisitor = visitor[kind];\n\n  if (kindVisitor) {\n    if (!isLeaving && typeof kindVisitor === 'function') {\n      // { Kind() {} }\n      return kindVisitor;\n    }\n\n    var kindSpecificVisitor = isLeaving ? kindVisitor.leave : kindVisitor.enter;\n\n    if (typeof kindSpecificVisitor === 'function') {\n      // { Kind: { enter() {}, leave() {} } }\n      return kindSpecificVisitor;\n    }\n  } else {\n    var specificVisitor = isLeaving ? visitor.leave : visitor.enter;\n\n    if (specificVisitor) {\n      if (typeof specificVisitor === 'function') {\n        // { enter() {}, leave() {} }\n        return specificVisitor;\n      }\n\n      var specificKindVisitor = specificVisitor[kind];\n\n      if (typeof specificKindVisitor === 'function') {\n        // { enter: { Kind() {} }, leave: { Kind() {} } }\n        return specificKindVisitor;\n      }\n    }\n  }\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SYMBOL_TO_STRING_TAG = exports.SYMBOL_ASYNC_ITERATOR = exports.SYMBOL_ITERATOR = void 0;\n// In ES2015 (or a polyfilled) environment, this will be Symbol.iterator\n// istanbul ignore next (See: 'https://github.com/graphql/graphql-js/issues/2317')\nvar SYMBOL_ITERATOR = typeof Symbol === 'function' && Symbol.iterator != null ? Symbol.iterator : '@@iterator'; // In ES2017 (or a polyfilled) environment, this will be Symbol.asyncIterator\n// istanbul ignore next (See: 'https://github.com/graphql/graphql-js/issues/2317')\n\nexports.SYMBOL_ITERATOR = SYMBOL_ITERATOR;\nvar SYMBOL_ASYNC_ITERATOR = typeof Symbol === 'function' && Symbol.asyncIterator != null ? Symbol.asyncIterator : '@@asyncIterator'; // istanbul ignore next (See: 'https://github.com/graphql/graphql-js/issues/2317')\n\nexports.SYMBOL_ASYNC_ITERATOR = SYMBOL_ASYNC_ITERATOR;\nvar SYMBOL_TO_STRING_TAG = typeof Symbol === 'function' && Symbol.toStringTag != null ? Symbol.toStringTag : '@@toStringTag';\nexports.SYMBOL_TO_STRING_TAG = SYMBOL_TO_STRING_TAG;\n","var hash = exports;\n\nhash.utils = require('./hash/utils');\nhash.common = require('./hash/common');\nhash.sha = require('./hash/sha');\nhash.ripemd = require('./hash/ripemd');\nhash.hmac = require('./hash/hmac');\n\n// Proxy hash functions to the main object\nhash.sha1 = hash.sha.sha1;\nhash.sha256 = hash.sha.sha256;\nhash.sha224 = hash.sha.sha224;\nhash.sha384 = hash.sha.sha384;\nhash.sha512 = hash.sha.sha512;\nhash.ripemd160 = hash.ripemd.ripemd160;\n","'use strict';\n\nvar utils = require('./utils');\nvar assert = require('minimalistic-assert');\n\nfunction BlockHash() {\n  this.pending = null;\n  this.pendingTotal = 0;\n  this.blockSize = this.constructor.blockSize;\n  this.outSize = this.constructor.outSize;\n  this.hmacStrength = this.constructor.hmacStrength;\n  this.padLength = this.constructor.padLength / 8;\n  this.endian = 'big';\n\n  this._delta8 = this.blockSize / 8;\n  this._delta32 = this.blockSize / 32;\n}\nexports.BlockHash = BlockHash;\n\nBlockHash.prototype.update = function update(msg, enc) {\n  // Convert message to array, pad it, and join into 32bit blocks\n  msg = utils.toArray(msg, enc);\n  if (!this.pending)\n    this.pending = msg;\n  else\n    this.pending = this.pending.concat(msg);\n  this.pendingTotal += msg.length;\n\n  // Enough data, try updating\n  if (this.pending.length >= this._delta8) {\n    msg = this.pending;\n\n    // Process pending data in blocks\n    var r = msg.length % this._delta8;\n    this.pending = msg.slice(msg.length - r, msg.length);\n    if (this.pending.length === 0)\n      this.pending = null;\n\n    msg = utils.join32(msg, 0, msg.length - r, this.endian);\n    for (var i = 0; i < msg.length; i += this._delta32)\n      this._update(msg, i, i + this._delta32);\n  }\n\n  return this;\n};\n\nBlockHash.prototype.digest = function digest(enc) {\n  this.update(this._pad());\n  assert(this.pending === null);\n\n  return this._digest(enc);\n};\n\nBlockHash.prototype._pad = function pad() {\n  var len = this.pendingTotal;\n  var bytes = this._delta8;\n  var k = bytes - ((len + this.padLength) % bytes);\n  var res = new Array(k + this.padLength);\n  res[0] = 0x80;\n  for (var i = 1; i < k; i++)\n    res[i] = 0;\n\n  // Append length\n  len <<= 3;\n  if (this.endian === 'big') {\n    for (var t = 8; t < this.padLength; t++)\n      res[i++] = 0;\n\n    res[i++] = 0;\n    res[i++] = 0;\n    res[i++] = 0;\n    res[i++] = 0;\n    res[i++] = (len >>> 24) & 0xff;\n    res[i++] = (len >>> 16) & 0xff;\n    res[i++] = (len >>> 8) & 0xff;\n    res[i++] = len & 0xff;\n  } else {\n    res[i++] = len & 0xff;\n    res[i++] = (len >>> 8) & 0xff;\n    res[i++] = (len >>> 16) & 0xff;\n    res[i++] = (len >>> 24) & 0xff;\n    res[i++] = 0;\n    res[i++] = 0;\n    res[i++] = 0;\n    res[i++] = 0;\n\n    for (t = 8; t < this.padLength; t++)\n      res[i++] = 0;\n  }\n\n  return res;\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar assert = require('minimalistic-assert');\n\nfunction Hmac(hash, key, enc) {\n  if (!(this instanceof Hmac))\n    return new Hmac(hash, key, enc);\n  this.Hash = hash;\n  this.blockSize = hash.blockSize / 8;\n  this.outSize = hash.outSize / 8;\n  this.inner = null;\n  this.outer = null;\n\n  this._init(utils.toArray(key, enc));\n}\nmodule.exports = Hmac;\n\nHmac.prototype._init = function init(key) {\n  // Shorten key, if needed\n  if (key.length > this.blockSize)\n    key = new this.Hash().update(key).digest();\n  assert(key.length <= this.blockSize);\n\n  // Add padding to key\n  for (var i = key.length; i < this.blockSize; i++)\n    key.push(0);\n\n  for (i = 0; i < key.length; i++)\n    key[i] ^= 0x36;\n  this.inner = new this.Hash().update(key);\n\n  // 0x36 ^ 0x5c = 0x6a\n  for (i = 0; i < key.length; i++)\n    key[i] ^= 0x6a;\n  this.outer = new this.Hash().update(key);\n};\n\nHmac.prototype.update = function update(msg, enc) {\n  this.inner.update(msg, enc);\n  return this;\n};\n\nHmac.prototype.digest = function digest(enc) {\n  this.outer.update(this.inner.digest());\n  return this.outer.digest(enc);\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar common = require('./common');\n\nvar rotl32 = utils.rotl32;\nvar sum32 = utils.sum32;\nvar sum32_3 = utils.sum32_3;\nvar sum32_4 = utils.sum32_4;\nvar BlockHash = common.BlockHash;\n\nfunction RIPEMD160() {\n  if (!(this instanceof RIPEMD160))\n    return new RIPEMD160();\n\n  BlockHash.call(this);\n\n  this.h = [ 0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0 ];\n  this.endian = 'little';\n}\nutils.inherits(RIPEMD160, BlockHash);\nexports.ripemd160 = RIPEMD160;\n\nRIPEMD160.blockSize = 512;\nRIPEMD160.outSize = 160;\nRIPEMD160.hmacStrength = 192;\nRIPEMD160.padLength = 64;\n\nRIPEMD160.prototype._update = function update(msg, start) {\n  var A = this.h[0];\n  var B = this.h[1];\n  var C = this.h[2];\n  var D = this.h[3];\n  var E = this.h[4];\n  var Ah = A;\n  var Bh = B;\n  var Ch = C;\n  var Dh = D;\n  var Eh = E;\n  for (var j = 0; j < 80; j++) {\n    var T = sum32(\n      rotl32(\n        sum32_4(A, f(j, B, C, D), msg[r[j] + start], K(j)),\n        s[j]),\n      E);\n    A = E;\n    E = D;\n    D = rotl32(C, 10);\n    C = B;\n    B = T;\n    T = sum32(\n      rotl32(\n        sum32_4(Ah, f(79 - j, Bh, Ch, Dh), msg[rh[j] + start], Kh(j)),\n        sh[j]),\n      Eh);\n    Ah = Eh;\n    Eh = Dh;\n    Dh = rotl32(Ch, 10);\n    Ch = Bh;\n    Bh = T;\n  }\n  T = sum32_3(this.h[1], C, Dh);\n  this.h[1] = sum32_3(this.h[2], D, Eh);\n  this.h[2] = sum32_3(this.h[3], E, Ah);\n  this.h[3] = sum32_3(this.h[4], A, Bh);\n  this.h[4] = sum32_3(this.h[0], B, Ch);\n  this.h[0] = T;\n};\n\nRIPEMD160.prototype._digest = function digest(enc) {\n  if (enc === 'hex')\n    return utils.toHex32(this.h, 'little');\n  else\n    return utils.split32(this.h, 'little');\n};\n\nfunction f(j, x, y, z) {\n  if (j <= 15)\n    return x ^ y ^ z;\n  else if (j <= 31)\n    return (x & y) | ((~x) & z);\n  else if (j <= 47)\n    return (x | (~y)) ^ z;\n  else if (j <= 63)\n    return (x & z) | (y & (~z));\n  else\n    return x ^ (y | (~z));\n}\n\nfunction K(j) {\n  if (j <= 15)\n    return 0x00000000;\n  else if (j <= 31)\n    return 0x5a827999;\n  else if (j <= 47)\n    return 0x6ed9eba1;\n  else if (j <= 63)\n    return 0x8f1bbcdc;\n  else\n    return 0xa953fd4e;\n}\n\nfunction Kh(j) {\n  if (j <= 15)\n    return 0x50a28be6;\n  else if (j <= 31)\n    return 0x5c4dd124;\n  else if (j <= 47)\n    return 0x6d703ef3;\n  else if (j <= 63)\n    return 0x7a6d76e9;\n  else\n    return 0x00000000;\n}\n\nvar r = [\n  0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15,\n  7, 4, 13, 1, 10, 6, 15, 3, 12, 0, 9, 5, 2, 14, 11, 8,\n  3, 10, 14, 4, 9, 15, 8, 1, 2, 7, 0, 6, 13, 11, 5, 12,\n  1, 9, 11, 10, 0, 8, 12, 4, 13, 3, 7, 15, 14, 5, 6, 2,\n  4, 0, 5, 9, 7, 12, 2, 10, 14, 1, 3, 8, 11, 6, 15, 13\n];\n\nvar rh = [\n  5, 14, 7, 0, 9, 2, 11, 4, 13, 6, 15, 8, 1, 10, 3, 12,\n  6, 11, 3, 7, 0, 13, 5, 10, 14, 15, 8, 12, 4, 9, 1, 2,\n  15, 5, 1, 3, 7, 14, 6, 9, 11, 8, 12, 2, 10, 0, 4, 13,\n  8, 6, 4, 1, 3, 11, 15, 0, 5, 12, 2, 13, 9, 7, 10, 14,\n  12, 15, 10, 4, 1, 5, 8, 7, 6, 2, 13, 14, 0, 3, 9, 11\n];\n\nvar s = [\n  11, 14, 15, 12, 5, 8, 7, 9, 11, 13, 14, 15, 6, 7, 9, 8,\n  7, 6, 8, 13, 11, 9, 7, 15, 7, 12, 15, 9, 11, 7, 13, 12,\n  11, 13, 6, 7, 14, 9, 13, 15, 14, 8, 13, 6, 5, 12, 7, 5,\n  11, 12, 14, 15, 14, 15, 9, 8, 9, 14, 5, 6, 8, 6, 5, 12,\n  9, 15, 5, 11, 6, 8, 13, 12, 5, 12, 13, 14, 11, 8, 5, 6\n];\n\nvar sh = [\n  8, 9, 9, 11, 13, 15, 15, 5, 7, 7, 8, 11, 14, 14, 12, 6,\n  9, 13, 15, 7, 12, 8, 9, 11, 7, 7, 12, 7, 6, 15, 13, 11,\n  9, 7, 15, 11, 8, 6, 6, 14, 12, 13, 5, 14, 13, 13, 7, 5,\n  15, 5, 8, 11, 14, 14, 6, 14, 6, 9, 12, 9, 12, 5, 15, 8,\n  8, 5, 12, 9, 12, 5, 14, 6, 8, 13, 6, 5, 15, 13, 11, 11\n];\n","'use strict';\n\nexports.sha1 = require('./sha/1');\nexports.sha224 = require('./sha/224');\nexports.sha256 = require('./sha/256');\nexports.sha384 = require('./sha/384');\nexports.sha512 = require('./sha/512');\n","'use strict';\n\nvar utils = require('../utils');\nvar common = require('../common');\nvar shaCommon = require('./common');\n\nvar rotl32 = utils.rotl32;\nvar sum32 = utils.sum32;\nvar sum32_5 = utils.sum32_5;\nvar ft_1 = shaCommon.ft_1;\nvar BlockHash = common.BlockHash;\n\nvar sha1_K = [\n  0x5A827999, 0x6ED9EBA1,\n  0x8F1BBCDC, 0xCA62C1D6\n];\n\nfunction SHA1() {\n  if (!(this instanceof SHA1))\n    return new SHA1();\n\n  BlockHash.call(this);\n  this.h = [\n    0x67452301, 0xefcdab89, 0x98badcfe,\n    0x10325476, 0xc3d2e1f0 ];\n  this.W = new Array(80);\n}\n\nutils.inherits(SHA1, BlockHash);\nmodule.exports = SHA1;\n\nSHA1.blockSize = 512;\nSHA1.outSize = 160;\nSHA1.hmacStrength = 80;\nSHA1.padLength = 64;\n\nSHA1.prototype._update = function _update(msg, start) {\n  var W = this.W;\n\n  for (var i = 0; i < 16; i++)\n    W[i] = msg[start + i];\n\n  for(; i < W.length; i++)\n    W[i] = rotl32(W[i - 3] ^ W[i - 8] ^ W[i - 14] ^ W[i - 16], 1);\n\n  var a = this.h[0];\n  var b = this.h[1];\n  var c = this.h[2];\n  var d = this.h[3];\n  var e = this.h[4];\n\n  for (i = 0; i < W.length; i++) {\n    var s = ~~(i / 20);\n    var t = sum32_5(rotl32(a, 5), ft_1(s, b, c, d), e, W[i], sha1_K[s]);\n    e = d;\n    d = c;\n    c = rotl32(b, 30);\n    b = a;\n    a = t;\n  }\n\n  this.h[0] = sum32(this.h[0], a);\n  this.h[1] = sum32(this.h[1], b);\n  this.h[2] = sum32(this.h[2], c);\n  this.h[3] = sum32(this.h[3], d);\n  this.h[4] = sum32(this.h[4], e);\n};\n\nSHA1.prototype._digest = function digest(enc) {\n  if (enc === 'hex')\n    return utils.toHex32(this.h, 'big');\n  else\n    return utils.split32(this.h, 'big');\n};\n","'use strict';\n\nvar utils = require('../utils');\nvar SHA256 = require('./256');\n\nfunction SHA224() {\n  if (!(this instanceof SHA224))\n    return new SHA224();\n\n  SHA256.call(this);\n  this.h = [\n    0xc1059ed8, 0x367cd507, 0x3070dd17, 0xf70e5939,\n    0xffc00b31, 0x68581511, 0x64f98fa7, 0xbefa4fa4 ];\n}\nutils.inherits(SHA224, SHA256);\nmodule.exports = SHA224;\n\nSHA224.blockSize = 512;\nSHA224.outSize = 224;\nSHA224.hmacStrength = 192;\nSHA224.padLength = 64;\n\nSHA224.prototype._digest = function digest(enc) {\n  // Just truncate output\n  if (enc === 'hex')\n    return utils.toHex32(this.h.slice(0, 7), 'big');\n  else\n    return utils.split32(this.h.slice(0, 7), 'big');\n};\n\n","'use strict';\n\nvar utils = require('../utils');\nvar common = require('../common');\nvar shaCommon = require('./common');\nvar assert = require('minimalistic-assert');\n\nvar sum32 = utils.sum32;\nvar sum32_4 = utils.sum32_4;\nvar sum32_5 = utils.sum32_5;\nvar ch32 = shaCommon.ch32;\nvar maj32 = shaCommon.maj32;\nvar s0_256 = shaCommon.s0_256;\nvar s1_256 = shaCommon.s1_256;\nvar g0_256 = shaCommon.g0_256;\nvar g1_256 = shaCommon.g1_256;\n\nvar BlockHash = common.BlockHash;\n\nvar sha256_K = [\n  0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5,\n  0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,\n  0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3,\n  0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,\n  0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc,\n  0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\n  0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7,\n  0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,\n  0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13,\n  0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n  0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3,\n  0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\n  0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5,\n  0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,\n  0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208,\n  0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n];\n\nfunction SHA256() {\n  if (!(this instanceof SHA256))\n    return new SHA256();\n\n  BlockHash.call(this);\n  this.h = [\n    0x6a09e667, 0xbb67ae85, 0x3c6ef372, 0xa54ff53a,\n    0x510e527f, 0x9b05688c, 0x1f83d9ab, 0x5be0cd19\n  ];\n  this.k = sha256_K;\n  this.W = new Array(64);\n}\nutils.inherits(SHA256, BlockHash);\nmodule.exports = SHA256;\n\nSHA256.blockSize = 512;\nSHA256.outSize = 256;\nSHA256.hmacStrength = 192;\nSHA256.padLength = 64;\n\nSHA256.prototype._update = function _update(msg, start) {\n  var W = this.W;\n\n  for (var i = 0; i < 16; i++)\n    W[i] = msg[start + i];\n  for (; i < W.length; i++)\n    W[i] = sum32_4(g1_256(W[i - 2]), W[i - 7], g0_256(W[i - 15]), W[i - 16]);\n\n  var a = this.h[0];\n  var b = this.h[1];\n  var c = this.h[2];\n  var d = this.h[3];\n  var e = this.h[4];\n  var f = this.h[5];\n  var g = this.h[6];\n  var h = this.h[7];\n\n  assert(this.k.length === W.length);\n  for (i = 0; i < W.length; i++) {\n    var T1 = sum32_5(h, s1_256(e), ch32(e, f, g), this.k[i], W[i]);\n    var T2 = sum32(s0_256(a), maj32(a, b, c));\n    h = g;\n    g = f;\n    f = e;\n    e = sum32(d, T1);\n    d = c;\n    c = b;\n    b = a;\n    a = sum32(T1, T2);\n  }\n\n  this.h[0] = sum32(this.h[0], a);\n  this.h[1] = sum32(this.h[1], b);\n  this.h[2] = sum32(this.h[2], c);\n  this.h[3] = sum32(this.h[3], d);\n  this.h[4] = sum32(this.h[4], e);\n  this.h[5] = sum32(this.h[5], f);\n  this.h[6] = sum32(this.h[6], g);\n  this.h[7] = sum32(this.h[7], h);\n};\n\nSHA256.prototype._digest = function digest(enc) {\n  if (enc === 'hex')\n    return utils.toHex32(this.h, 'big');\n  else\n    return utils.split32(this.h, 'big');\n};\n","'use strict';\n\nvar utils = require('../utils');\n\nvar SHA512 = require('./512');\n\nfunction SHA384() {\n  if (!(this instanceof SHA384))\n    return new SHA384();\n\n  SHA512.call(this);\n  this.h = [\n    0xcbbb9d5d, 0xc1059ed8,\n    0x629a292a, 0x367cd507,\n    0x9159015a, 0x3070dd17,\n    0x152fecd8, 0xf70e5939,\n    0x67332667, 0xffc00b31,\n    0x8eb44a87, 0x68581511,\n    0xdb0c2e0d, 0x64f98fa7,\n    0x47b5481d, 0xbefa4fa4 ];\n}\nutils.inherits(SHA384, SHA512);\nmodule.exports = SHA384;\n\nSHA384.blockSize = 1024;\nSHA384.outSize = 384;\nSHA384.hmacStrength = 192;\nSHA384.padLength = 128;\n\nSHA384.prototype._digest = function digest(enc) {\n  if (enc === 'hex')\n    return utils.toHex32(this.h.slice(0, 12), 'big');\n  else\n    return utils.split32(this.h.slice(0, 12), 'big');\n};\n","'use strict';\n\nvar utils = require('../utils');\nvar common = require('../common');\nvar assert = require('minimalistic-assert');\n\nvar rotr64_hi = utils.rotr64_hi;\nvar rotr64_lo = utils.rotr64_lo;\nvar shr64_hi = utils.shr64_hi;\nvar shr64_lo = utils.shr64_lo;\nvar sum64 = utils.sum64;\nvar sum64_hi = utils.sum64_hi;\nvar sum64_lo = utils.sum64_lo;\nvar sum64_4_hi = utils.sum64_4_hi;\nvar sum64_4_lo = utils.sum64_4_lo;\nvar sum64_5_hi = utils.sum64_5_hi;\nvar sum64_5_lo = utils.sum64_5_lo;\n\nvar BlockHash = common.BlockHash;\n\nvar sha512_K = [\n  0x428a2f98, 0xd728ae22, 0x71374491, 0x23ef65cd,\n  0xb5c0fbcf, 0xec4d3b2f, 0xe9b5dba5, 0x8189dbbc,\n  0x3956c25b, 0xf348b538, 0x59f111f1, 0xb605d019,\n  0x923f82a4, 0xaf194f9b, 0xab1c5ed5, 0xda6d8118,\n  0xd807aa98, 0xa3030242, 0x12835b01, 0x45706fbe,\n  0x243185be, 0x4ee4b28c, 0x550c7dc3, 0xd5ffb4e2,\n  0x72be5d74, 0xf27b896f, 0x80deb1fe, 0x3b1696b1,\n  0x9bdc06a7, 0x25c71235, 0xc19bf174, 0xcf692694,\n  0xe49b69c1, 0x9ef14ad2, 0xefbe4786, 0x384f25e3,\n  0x0fc19dc6, 0x8b8cd5b5, 0x240ca1cc, 0x77ac9c65,\n  0x2de92c6f, 0x592b0275, 0x4a7484aa, 0x6ea6e483,\n  0x5cb0a9dc, 0xbd41fbd4, 0x76f988da, 0x831153b5,\n  0x983e5152, 0xee66dfab, 0xa831c66d, 0x2db43210,\n  0xb00327c8, 0x98fb213f, 0xbf597fc7, 0xbeef0ee4,\n  0xc6e00bf3, 0x3da88fc2, 0xd5a79147, 0x930aa725,\n  0x06ca6351, 0xe003826f, 0x14292967, 0x0a0e6e70,\n  0x27b70a85, 0x46d22ffc, 0x2e1b2138, 0x5c26c926,\n  0x4d2c6dfc, 0x5ac42aed, 0x53380d13, 0x9d95b3df,\n  0x650a7354, 0x8baf63de, 0x766a0abb, 0x3c77b2a8,\n  0x81c2c92e, 0x47edaee6, 0x92722c85, 0x1482353b,\n  0xa2bfe8a1, 0x4cf10364, 0xa81a664b, 0xbc423001,\n  0xc24b8b70, 0xd0f89791, 0xc76c51a3, 0x0654be30,\n  0xd192e819, 0xd6ef5218, 0xd6990624, 0x5565a910,\n  0xf40e3585, 0x5771202a, 0x106aa070, 0x32bbd1b8,\n  0x19a4c116, 0xb8d2d0c8, 0x1e376c08, 0x5141ab53,\n  0x2748774c, 0xdf8eeb99, 0x34b0bcb5, 0xe19b48a8,\n  0x391c0cb3, 0xc5c95a63, 0x4ed8aa4a, 0xe3418acb,\n  0x5b9cca4f, 0x7763e373, 0x682e6ff3, 0xd6b2b8a3,\n  0x748f82ee, 0x5defb2fc, 0x78a5636f, 0x43172f60,\n  0x84c87814, 0xa1f0ab72, 0x8cc70208, 0x1a6439ec,\n  0x90befffa, 0x23631e28, 0xa4506ceb, 0xde82bde9,\n  0xbef9a3f7, 0xb2c67915, 0xc67178f2, 0xe372532b,\n  0xca273ece, 0xea26619c, 0xd186b8c7, 0x21c0c207,\n  0xeada7dd6, 0xcde0eb1e, 0xf57d4f7f, 0xee6ed178,\n  0x06f067aa, 0x72176fba, 0x0a637dc5, 0xa2c898a6,\n  0x113f9804, 0xbef90dae, 0x1b710b35, 0x131c471b,\n  0x28db77f5, 0x23047d84, 0x32caab7b, 0x40c72493,\n  0x3c9ebe0a, 0x15c9bebc, 0x431d67c4, 0x9c100d4c,\n  0x4cc5d4be, 0xcb3e42b6, 0x597f299c, 0xfc657e2a,\n  0x5fcb6fab, 0x3ad6faec, 0x6c44198c, 0x4a475817\n];\n\nfunction SHA512() {\n  if (!(this instanceof SHA512))\n    return new SHA512();\n\n  BlockHash.call(this);\n  this.h = [\n    0x6a09e667, 0xf3bcc908,\n    0xbb67ae85, 0x84caa73b,\n    0x3c6ef372, 0xfe94f82b,\n    0xa54ff53a, 0x5f1d36f1,\n    0x510e527f, 0xade682d1,\n    0x9b05688c, 0x2b3e6c1f,\n    0x1f83d9ab, 0xfb41bd6b,\n    0x5be0cd19, 0x137e2179 ];\n  this.k = sha512_K;\n  this.W = new Array(160);\n}\nutils.inherits(SHA512, BlockHash);\nmodule.exports = SHA512;\n\nSHA512.blockSize = 1024;\nSHA512.outSize = 512;\nSHA512.hmacStrength = 192;\nSHA512.padLength = 128;\n\nSHA512.prototype._prepareBlock = function _prepareBlock(msg, start) {\n  var W = this.W;\n\n  // 32 x 32bit words\n  for (var i = 0; i < 32; i++)\n    W[i] = msg[start + i];\n  for (; i < W.length; i += 2) {\n    var c0_hi = g1_512_hi(W[i - 4], W[i - 3]);  // i - 2\n    var c0_lo = g1_512_lo(W[i - 4], W[i - 3]);\n    var c1_hi = W[i - 14];  // i - 7\n    var c1_lo = W[i - 13];\n    var c2_hi = g0_512_hi(W[i - 30], W[i - 29]);  // i - 15\n    var c2_lo = g0_512_lo(W[i - 30], W[i - 29]);\n    var c3_hi = W[i - 32];  // i - 16\n    var c3_lo = W[i - 31];\n\n    W[i] = sum64_4_hi(\n      c0_hi, c0_lo,\n      c1_hi, c1_lo,\n      c2_hi, c2_lo,\n      c3_hi, c3_lo);\n    W[i + 1] = sum64_4_lo(\n      c0_hi, c0_lo,\n      c1_hi, c1_lo,\n      c2_hi, c2_lo,\n      c3_hi, c3_lo);\n  }\n};\n\nSHA512.prototype._update = function _update(msg, start) {\n  this._prepareBlock(msg, start);\n\n  var W = this.W;\n\n  var ah = this.h[0];\n  var al = this.h[1];\n  var bh = this.h[2];\n  var bl = this.h[3];\n  var ch = this.h[4];\n  var cl = this.h[5];\n  var dh = this.h[6];\n  var dl = this.h[7];\n  var eh = this.h[8];\n  var el = this.h[9];\n  var fh = this.h[10];\n  var fl = this.h[11];\n  var gh = this.h[12];\n  var gl = this.h[13];\n  var hh = this.h[14];\n  var hl = this.h[15];\n\n  assert(this.k.length === W.length);\n  for (var i = 0; i < W.length; i += 2) {\n    var c0_hi = hh;\n    var c0_lo = hl;\n    var c1_hi = s1_512_hi(eh, el);\n    var c1_lo = s1_512_lo(eh, el);\n    var c2_hi = ch64_hi(eh, el, fh, fl, gh, gl);\n    var c2_lo = ch64_lo(eh, el, fh, fl, gh, gl);\n    var c3_hi = this.k[i];\n    var c3_lo = this.k[i + 1];\n    var c4_hi = W[i];\n    var c4_lo = W[i + 1];\n\n    var T1_hi = sum64_5_hi(\n      c0_hi, c0_lo,\n      c1_hi, c1_lo,\n      c2_hi, c2_lo,\n      c3_hi, c3_lo,\n      c4_hi, c4_lo);\n    var T1_lo = sum64_5_lo(\n      c0_hi, c0_lo,\n      c1_hi, c1_lo,\n      c2_hi, c2_lo,\n      c3_hi, c3_lo,\n      c4_hi, c4_lo);\n\n    c0_hi = s0_512_hi(ah, al);\n    c0_lo = s0_512_lo(ah, al);\n    c1_hi = maj64_hi(ah, al, bh, bl, ch, cl);\n    c1_lo = maj64_lo(ah, al, bh, bl, ch, cl);\n\n    var T2_hi = sum64_hi(c0_hi, c0_lo, c1_hi, c1_lo);\n    var T2_lo = sum64_lo(c0_hi, c0_lo, c1_hi, c1_lo);\n\n    hh = gh;\n    hl = gl;\n\n    gh = fh;\n    gl = fl;\n\n    fh = eh;\n    fl = el;\n\n    eh = sum64_hi(dh, dl, T1_hi, T1_lo);\n    el = sum64_lo(dl, dl, T1_hi, T1_lo);\n\n    dh = ch;\n    dl = cl;\n\n    ch = bh;\n    cl = bl;\n\n    bh = ah;\n    bl = al;\n\n    ah = sum64_hi(T1_hi, T1_lo, T2_hi, T2_lo);\n    al = sum64_lo(T1_hi, T1_lo, T2_hi, T2_lo);\n  }\n\n  sum64(this.h, 0, ah, al);\n  sum64(this.h, 2, bh, bl);\n  sum64(this.h, 4, ch, cl);\n  sum64(this.h, 6, dh, dl);\n  sum64(this.h, 8, eh, el);\n  sum64(this.h, 10, fh, fl);\n  sum64(this.h, 12, gh, gl);\n  sum64(this.h, 14, hh, hl);\n};\n\nSHA512.prototype._digest = function digest(enc) {\n  if (enc === 'hex')\n    return utils.toHex32(this.h, 'big');\n  else\n    return utils.split32(this.h, 'big');\n};\n\nfunction ch64_hi(xh, xl, yh, yl, zh) {\n  var r = (xh & yh) ^ ((~xh) & zh);\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction ch64_lo(xh, xl, yh, yl, zh, zl) {\n  var r = (xl & yl) ^ ((~xl) & zl);\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction maj64_hi(xh, xl, yh, yl, zh) {\n  var r = (xh & yh) ^ (xh & zh) ^ (yh & zh);\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction maj64_lo(xh, xl, yh, yl, zh, zl) {\n  var r = (xl & yl) ^ (xl & zl) ^ (yl & zl);\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction s0_512_hi(xh, xl) {\n  var c0_hi = rotr64_hi(xh, xl, 28);\n  var c1_hi = rotr64_hi(xl, xh, 2);  // 34\n  var c2_hi = rotr64_hi(xl, xh, 7);  // 39\n\n  var r = c0_hi ^ c1_hi ^ c2_hi;\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction s0_512_lo(xh, xl) {\n  var c0_lo = rotr64_lo(xh, xl, 28);\n  var c1_lo = rotr64_lo(xl, xh, 2);  // 34\n  var c2_lo = rotr64_lo(xl, xh, 7);  // 39\n\n  var r = c0_lo ^ c1_lo ^ c2_lo;\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction s1_512_hi(xh, xl) {\n  var c0_hi = rotr64_hi(xh, xl, 14);\n  var c1_hi = rotr64_hi(xh, xl, 18);\n  var c2_hi = rotr64_hi(xl, xh, 9);  // 41\n\n  var r = c0_hi ^ c1_hi ^ c2_hi;\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction s1_512_lo(xh, xl) {\n  var c0_lo = rotr64_lo(xh, xl, 14);\n  var c1_lo = rotr64_lo(xh, xl, 18);\n  var c2_lo = rotr64_lo(xl, xh, 9);  // 41\n\n  var r = c0_lo ^ c1_lo ^ c2_lo;\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction g0_512_hi(xh, xl) {\n  var c0_hi = rotr64_hi(xh, xl, 1);\n  var c1_hi = rotr64_hi(xh, xl, 8);\n  var c2_hi = shr64_hi(xh, xl, 7);\n\n  var r = c0_hi ^ c1_hi ^ c2_hi;\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction g0_512_lo(xh, xl) {\n  var c0_lo = rotr64_lo(xh, xl, 1);\n  var c1_lo = rotr64_lo(xh, xl, 8);\n  var c2_lo = shr64_lo(xh, xl, 7);\n\n  var r = c0_lo ^ c1_lo ^ c2_lo;\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction g1_512_hi(xh, xl) {\n  var c0_hi = rotr64_hi(xh, xl, 19);\n  var c1_hi = rotr64_hi(xl, xh, 29);  // 61\n  var c2_hi = shr64_hi(xh, xl, 6);\n\n  var r = c0_hi ^ c1_hi ^ c2_hi;\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction g1_512_lo(xh, xl) {\n  var c0_lo = rotr64_lo(xh, xl, 19);\n  var c1_lo = rotr64_lo(xl, xh, 29);  // 61\n  var c2_lo = shr64_lo(xh, xl, 6);\n\n  var r = c0_lo ^ c1_lo ^ c2_lo;\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n","'use strict';\n\nvar utils = require('../utils');\nvar rotr32 = utils.rotr32;\n\nfunction ft_1(s, x, y, z) {\n  if (s === 0)\n    return ch32(x, y, z);\n  if (s === 1 || s === 3)\n    return p32(x, y, z);\n  if (s === 2)\n    return maj32(x, y, z);\n}\nexports.ft_1 = ft_1;\n\nfunction ch32(x, y, z) {\n  return (x & y) ^ ((~x) & z);\n}\nexports.ch32 = ch32;\n\nfunction maj32(x, y, z) {\n  return (x & y) ^ (x & z) ^ (y & z);\n}\nexports.maj32 = maj32;\n\nfunction p32(x, y, z) {\n  return x ^ y ^ z;\n}\nexports.p32 = p32;\n\nfunction s0_256(x) {\n  return rotr32(x, 2) ^ rotr32(x, 13) ^ rotr32(x, 22);\n}\nexports.s0_256 = s0_256;\n\nfunction s1_256(x) {\n  return rotr32(x, 6) ^ rotr32(x, 11) ^ rotr32(x, 25);\n}\nexports.s1_256 = s1_256;\n\nfunction g0_256(x) {\n  return rotr32(x, 7) ^ rotr32(x, 18) ^ (x >>> 3);\n}\nexports.g0_256 = g0_256;\n\nfunction g1_256(x) {\n  return rotr32(x, 17) ^ rotr32(x, 19) ^ (x >>> 10);\n}\nexports.g1_256 = g1_256;\n","'use strict';\n\nvar assert = require('minimalistic-assert');\nvar inherits = require('inherits');\n\nexports.inherits = inherits;\n\nfunction isSurrogatePair(msg, i) {\n  if ((msg.charCodeAt(i) & 0xFC00) !== 0xD800) {\n    return false;\n  }\n  if (i < 0 || i + 1 >= msg.length) {\n    return false;\n  }\n  return (msg.charCodeAt(i + 1) & 0xFC00) === 0xDC00;\n}\n\nfunction toArray(msg, enc) {\n  if (Array.isArray(msg))\n    return msg.slice();\n  if (!msg)\n    return [];\n  var res = [];\n  if (typeof msg === 'string') {\n    if (!enc) {\n      // Inspired by stringToUtf8ByteArray() in closure-library by Google\n      // https://github.com/google/closure-library/blob/8598d87242af59aac233270742c8984e2b2bdbe0/closure/goog/crypt/crypt.js#L117-L143\n      // Apache License 2.0\n      // https://github.com/google/closure-library/blob/master/LICENSE\n      var p = 0;\n      for (var i = 0; i < msg.length; i++) {\n        var c = msg.charCodeAt(i);\n        if (c < 128) {\n          res[p++] = c;\n        } else if (c < 2048) {\n          res[p++] = (c >> 6) | 192;\n          res[p++] = (c & 63) | 128;\n        } else if (isSurrogatePair(msg, i)) {\n          c = 0x10000 + ((c & 0x03FF) << 10) + (msg.charCodeAt(++i) & 0x03FF);\n          res[p++] = (c >> 18) | 240;\n          res[p++] = ((c >> 12) & 63) | 128;\n          res[p++] = ((c >> 6) & 63) | 128;\n          res[p++] = (c & 63) | 128;\n        } else {\n          res[p++] = (c >> 12) | 224;\n          res[p++] = ((c >> 6) & 63) | 128;\n          res[p++] = (c & 63) | 128;\n        }\n      }\n    } else if (enc === 'hex') {\n      msg = msg.replace(/[^a-z0-9]+/ig, '');\n      if (msg.length % 2 !== 0)\n        msg = '0' + msg;\n      for (i = 0; i < msg.length; i += 2)\n        res.push(parseInt(msg[i] + msg[i + 1], 16));\n    }\n  } else {\n    for (i = 0; i < msg.length; i++)\n      res[i] = msg[i] | 0;\n  }\n  return res;\n}\nexports.toArray = toArray;\n\nfunction toHex(msg) {\n  var res = '';\n  for (var i = 0; i < msg.length; i++)\n    res += zero2(msg[i].toString(16));\n  return res;\n}\nexports.toHex = toHex;\n\nfunction htonl(w) {\n  var res = (w >>> 24) |\n            ((w >>> 8) & 0xff00) |\n            ((w << 8) & 0xff0000) |\n            ((w & 0xff) << 24);\n  return res >>> 0;\n}\nexports.htonl = htonl;\n\nfunction toHex32(msg, endian) {\n  var res = '';\n  for (var i = 0; i < msg.length; i++) {\n    var w = msg[i];\n    if (endian === 'little')\n      w = htonl(w);\n    res += zero8(w.toString(16));\n  }\n  return res;\n}\nexports.toHex32 = toHex32;\n\nfunction zero2(word) {\n  if (word.length === 1)\n    return '0' + word;\n  else\n    return word;\n}\nexports.zero2 = zero2;\n\nfunction zero8(word) {\n  if (word.length === 7)\n    return '0' + word;\n  else if (word.length === 6)\n    return '00' + word;\n  else if (word.length === 5)\n    return '000' + word;\n  else if (word.length === 4)\n    return '0000' + word;\n  else if (word.length === 3)\n    return '00000' + word;\n  else if (word.length === 2)\n    return '000000' + word;\n  else if (word.length === 1)\n    return '0000000' + word;\n  else\n    return word;\n}\nexports.zero8 = zero8;\n\nfunction join32(msg, start, end, endian) {\n  var len = end - start;\n  assert(len % 4 === 0);\n  var res = new Array(len / 4);\n  for (var i = 0, k = start; i < res.length; i++, k += 4) {\n    var w;\n    if (endian === 'big')\n      w = (msg[k] << 24) | (msg[k + 1] << 16) | (msg[k + 2] << 8) | msg[k + 3];\n    else\n      w = (msg[k + 3] << 24) | (msg[k + 2] << 16) | (msg[k + 1] << 8) | msg[k];\n    res[i] = w >>> 0;\n  }\n  return res;\n}\nexports.join32 = join32;\n\nfunction split32(msg, endian) {\n  var res = new Array(msg.length * 4);\n  for (var i = 0, k = 0; i < msg.length; i++, k += 4) {\n    var m = msg[i];\n    if (endian === 'big') {\n      res[k] = m >>> 24;\n      res[k + 1] = (m >>> 16) & 0xff;\n      res[k + 2] = (m >>> 8) & 0xff;\n      res[k + 3] = m & 0xff;\n    } else {\n      res[k + 3] = m >>> 24;\n      res[k + 2] = (m >>> 16) & 0xff;\n      res[k + 1] = (m >>> 8) & 0xff;\n      res[k] = m & 0xff;\n    }\n  }\n  return res;\n}\nexports.split32 = split32;\n\nfunction rotr32(w, b) {\n  return (w >>> b) | (w << (32 - b));\n}\nexports.rotr32 = rotr32;\n\nfunction rotl32(w, b) {\n  return (w << b) | (w >>> (32 - b));\n}\nexports.rotl32 = rotl32;\n\nfunction sum32(a, b) {\n  return (a + b) >>> 0;\n}\nexports.sum32 = sum32;\n\nfunction sum32_3(a, b, c) {\n  return (a + b + c) >>> 0;\n}\nexports.sum32_3 = sum32_3;\n\nfunction sum32_4(a, b, c, d) {\n  return (a + b + c + d) >>> 0;\n}\nexports.sum32_4 = sum32_4;\n\nfunction sum32_5(a, b, c, d, e) {\n  return (a + b + c + d + e) >>> 0;\n}\nexports.sum32_5 = sum32_5;\n\nfunction sum64(buf, pos, ah, al) {\n  var bh = buf[pos];\n  var bl = buf[pos + 1];\n\n  var lo = (al + bl) >>> 0;\n  var hi = (lo < al ? 1 : 0) + ah + bh;\n  buf[pos] = hi >>> 0;\n  buf[pos + 1] = lo;\n}\nexports.sum64 = sum64;\n\nfunction sum64_hi(ah, al, bh, bl) {\n  var lo = (al + bl) >>> 0;\n  var hi = (lo < al ? 1 : 0) + ah + bh;\n  return hi >>> 0;\n}\nexports.sum64_hi = sum64_hi;\n\nfunction sum64_lo(ah, al, bh, bl) {\n  var lo = al + bl;\n  return lo >>> 0;\n}\nexports.sum64_lo = sum64_lo;\n\nfunction sum64_4_hi(ah, al, bh, bl, ch, cl, dh, dl) {\n  var carry = 0;\n  var lo = al;\n  lo = (lo + bl) >>> 0;\n  carry += lo < al ? 1 : 0;\n  lo = (lo + cl) >>> 0;\n  carry += lo < cl ? 1 : 0;\n  lo = (lo + dl) >>> 0;\n  carry += lo < dl ? 1 : 0;\n\n  var hi = ah + bh + ch + dh + carry;\n  return hi >>> 0;\n}\nexports.sum64_4_hi = sum64_4_hi;\n\nfunction sum64_4_lo(ah, al, bh, bl, ch, cl, dh, dl) {\n  var lo = al + bl + cl + dl;\n  return lo >>> 0;\n}\nexports.sum64_4_lo = sum64_4_lo;\n\nfunction sum64_5_hi(ah, al, bh, bl, ch, cl, dh, dl, eh, el) {\n  var carry = 0;\n  var lo = al;\n  lo = (lo + bl) >>> 0;\n  carry += lo < al ? 1 : 0;\n  lo = (lo + cl) >>> 0;\n  carry += lo < cl ? 1 : 0;\n  lo = (lo + dl) >>> 0;\n  carry += lo < dl ? 1 : 0;\n  lo = (lo + el) >>> 0;\n  carry += lo < el ? 1 : 0;\n\n  var hi = ah + bh + ch + dh + eh + carry;\n  return hi >>> 0;\n}\nexports.sum64_5_hi = sum64_5_hi;\n\nfunction sum64_5_lo(ah, al, bh, bl, ch, cl, dh, dl, eh, el) {\n  var lo = al + bl + cl + dl + el;\n\n  return lo >>> 0;\n}\nexports.sum64_5_lo = sum64_5_lo;\n\nfunction rotr64_hi(ah, al, num) {\n  var r = (al << (32 - num)) | (ah >>> num);\n  return r >>> 0;\n}\nexports.rotr64_hi = rotr64_hi;\n\nfunction rotr64_lo(ah, al, num) {\n  var r = (ah << (32 - num)) | (al >>> num);\n  return r >>> 0;\n}\nexports.rotr64_lo = rotr64_lo;\n\nfunction shr64_hi(ah, al, num) {\n  return ah >>> num;\n}\nexports.shr64_hi = shr64_hi;\n\nfunction shr64_lo(ah, al, num) {\n  var r = (ah << (32 - num)) | (al >>> num);\n  return r >>> 0;\n}\nexports.shr64_lo = shr64_lo;\n","'use strict'\n\nvar COMPATIBLE_ENCODING_PATTERN = /^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i\nvar WS_TRIM_PATTERN = /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g\nvar WS_CHAR_PATTERN = /\\s|\\uFEFF|\\xA0/\nvar WS_FOLD_PATTERN = /\\r?\\n[\\x20\\x09]+/g\nvar DELIMITER_PATTERN = /[;,\"]/\nvar WS_DELIMITER_PATTERN = /[;,\"]|\\s/\n\n/**\n * Token character pattern\n * @type {RegExp}\n * @see https://tools.ietf.org/html/rfc7230#section-3.2.6\n */\nvar TOKEN_PATTERN = /^[!#$%&'*+\\-\\.^_`|~\\da-zA-Z]+$/\n\nvar STATE = {\n  IDLE: 1 << 0,\n  URI: 1 << 1,\n  ATTR: 1 << 2,\n}\n\nfunction trim( value ) {\n  return value.replace( WS_TRIM_PATTERN, '' )\n}\n\nfunction hasWhitespace( value ) {\n  return WS_CHAR_PATTERN.test( value )\n}\n\nfunction skipWhitespace( value, offset ) {\n  while( hasWhitespace( value[offset] ) ) {\n    offset++\n  }\n  return offset\n}\n\nfunction needsQuotes( value ) {\n  return WS_DELIMITER_PATTERN.test( value ) ||\n    !TOKEN_PATTERN.test( value )\n}\n\nclass Link {\n\n  /**\n   * Link\n   * @constructor\n   * @param {String} [value]\n   * @returns {Link}\n   */\n  constructor( value ) {\n\n    /** @type {Array} URI references */\n    this.refs = []\n\n    if( value ) {\n      this.parse( value )\n    }\n\n  }\n\n  /**\n   * Get refs with given relation type\n   * @param {String} value\n   * @returns {Array<Object>}\n   */\n  rel( value ) {\n\n    var links = []\n    var type = value.toLowerCase()\n\n    for( var i = 0; i < this.refs.length; i++ ) {\n      if( this.refs[ i ].rel.toLowerCase() === type ) {\n        links.push( this.refs[ i ] )\n      }\n    }\n\n    return links\n\n  }\n\n  /**\n   * Get refs where given attribute has a given value\n   * @param {String} attr\n   * @param {String} value\n   * @returns {Array<Object>}\n   */\n  get( attr, value ) {\n\n    attr = attr.toLowerCase()\n\n    var links = []\n\n    for( var i = 0; i < this.refs.length; i++ ) {\n      if( this.refs[ i ][ attr ] === value ) {\n        links.push( this.refs[ i ] )\n      }\n    }\n\n    return links\n\n  }\n\n  set( link ) {\n    this.refs.push( link )\n    return this\n  }\n\n  has( attr, value ) {\n\n    attr = attr.toLowerCase()\n\n    for( var i = 0; i < this.refs.length; i++ ) {\n      if( this.refs[ i ][ attr ] === value ) {\n        return true\n      }\n    }\n\n    return false\n\n  }\n\n  parse( value, offset ) {\n\n    offset = offset || 0\n    value = offset ? value.slice( offset ) : value\n\n    // Trim & unfold folded lines\n    value = trim( value ).replace( WS_FOLD_PATTERN, '' )\n\n    var state = STATE.IDLE\n    var length = value.length\n    var offset = 0\n    var ref = null\n\n    while( offset < length ) {\n      if( state === STATE.IDLE ) {\n        if( hasWhitespace( value[offset] ) ) {\n          offset++\n          continue\n        } else if( value[offset] === '<' ) {\n          if( ref != null ) {\n            ref.rel != null ?\n              this.refs.push( ...Link.expandRelations( ref ) ) :\n              this.refs.push( ref )\n          }\n          var end = value.indexOf( '>', offset )\n          if( end === -1 ) throw new Error( 'Expected end of URI delimiter at offset ' + offset )\n          ref = { uri: value.slice( offset + 1, end ) }\n          // this.refs.push( ref )\n          offset = end\n          state = STATE.URI\n        } else {\n          throw new Error( 'Unexpected character \"' + value[offset] + '\" at offset ' + offset )\n        }\n        offset++\n      } else if( state === STATE.URI ) {\n        if( hasWhitespace( value[offset] ) ) {\n          offset++\n          continue\n        } else if( value[offset] === ';' ) {\n          state = STATE.ATTR\n          offset++\n        } else if( value[offset] === ',' ) {\n          state = STATE.IDLE\n          offset++\n        } else {\n          throw new Error( 'Unexpected character \"' + value[offset] + '\" at offset ' + offset )\n        }\n      } else if( state === STATE.ATTR ) {\n        if( value[offset] ===';' || hasWhitespace( value[offset] ) ) {\n          offset++\n          continue\n        }\n        var end = value.indexOf( '=', offset )\n        if( end === -1 ) throw new Error( 'Expected attribute delimiter at offset ' + offset )\n        var attr = trim( value.slice( offset, end ) ).toLowerCase()\n        var attrValue = ''\n        offset = end + 1\n        offset = skipWhitespace( value, offset )\n        if( value[offset] === '\"' ) {\n          offset++\n          while( offset < length ) {\n            if( value[offset] === '\"' ) {\n              offset++; break\n            }\n            if( value[offset] === '\\\\' ) {\n              offset++\n            }\n            attrValue += value[offset]\n            offset++\n          }\n        } else {\n          var end = offset + 1\n          while( !DELIMITER_PATTERN.test( value[end] ) && end < length ) {\n            end++\n          }\n          attrValue = value.slice( offset, end )\n          offset = end\n        }\n        if( ref[ attr ] && Link.isSingleOccurenceAttr( attr ) ) {\n          // Ignore multiples of attributes which may only appear once\n        } else if( attr[ attr.length - 1 ] === '*' ) {\n          ref[ attr ] = Link.parseExtendedValue( attrValue )\n        } else {\n          attrValue = attr === 'type' ?\n            attrValue.toLowerCase() : attrValue\n          if( ref[ attr ] != null ) {\n            if( Array.isArray( ref[ attr ] ) ) {\n              ref[ attr ].push( attrValue )\n            } else {\n              ref[ attr ] = [ ref[ attr ], attrValue ]\n            }\n          } else {\n            ref[ attr ] = attrValue\n          }\n        }\n        switch( value[offset] ) {\n          case ',': state = STATE.IDLE; break\n          case ';': state = STATE.ATTR; break\n        }\n        offset++\n      } else {\n        throw new Error( 'Unknown parser state \"' + state + '\"' )\n      }\n    }\n\n    if( ref != null ) {\n      ref.rel != null ?\n        this.refs.push( ...Link.expandRelations( ref ) ) :\n        this.refs.push( ref )\n    }\n\n    ref = null\n\n    return this\n\n  }\n\n  toString() {\n\n    var refs = []\n    var link = ''\n    var ref = null\n\n    for( var i = 0; i < this.refs.length; i++ ) {\n      ref = this.refs[i]\n      link = Object.keys( this.refs[i] ).reduce( function( link, attr ) {\n        if( attr === 'uri' ) return link\n        return link + '; ' + Link.formatAttribute( attr, ref[ attr ] )\n      }, '<' + ref.uri + '>' )\n      refs.push( link )\n    }\n\n    return refs.join( ', ' )\n\n  }\n\n}\n\n/**\n * Determines whether an encoding can be\n * natively handled with a `Buffer`\n * @param {String} value\n * @returns {Boolean}\n */\nLink.isCompatibleEncoding = function( value ) {\n  return COMPATIBLE_ENCODING_PATTERN.test( value )\n}\n\nLink.parse = function( value, offset ) {\n  return new Link().parse( value, offset )\n}\n\nLink.isSingleOccurenceAttr = function( attr ) {\n  return attr === 'rel' || attr === 'type' || attr === 'media' ||\n    attr === 'title' || attr === 'title*'\n}\n\nLink.isTokenAttr = function( attr ) {\n  return attr === 'rel' || attr === 'type' || attr === 'anchor'\n}\n\nLink.escapeQuotes = function( value ) {\n  return value.replace( /\"/g, '\\\\\"' )\n}\n\nLink.expandRelations = function( ref ) {\n  var rels = ref.rel.split( ' ' )\n  return rels.map( function( rel ) {\n    var value = Object.assign( {}, ref )\n    value.rel = rel\n    return value\n  })\n}\n\n/**\n * Parses an extended value and attempts to decode it\n * @internal\n * @param {String} value\n * @return {Object}\n */\nLink.parseExtendedValue = function( value ) {\n  var parts = /([^']+)?(?:'([^']+)')?(.+)/.exec( value )\n  return {\n    language: parts[2].toLowerCase(),\n    encoding: Link.isCompatibleEncoding( parts[1] ) ?\n      null : parts[1].toLowerCase(),\n    value: Link.isCompatibleEncoding( parts[1] ) ?\n      decodeURIComponent( parts[3] ) : parts[3]\n  }\n}\n\n/**\n * Format a given extended attribute and it's value\n * @param {String} attr\n * @param {Object} data\n * @return {String}\n */\nLink.formatExtendedAttribute = function( attr, data ) {\n\n  var encoding = ( data.encoding || 'utf-8' ).toUpperCase()\n  var language = data.language || 'en'\n\n  var encodedValue = ''\n\n  if( Buffer.isBuffer( data.value ) && Link.isCompatibleEncoding( encoding ) ) {\n    encodedValue = data.value.toString( encoding )\n  } else if( Buffer.isBuffer( data.value ) ) {\n    encodedValue = data.value.toString( 'hex' )\n      .replace( /[0-9a-f]{2}/gi, '%$1' )\n  } else {\n    encodedValue = encodeURIComponent( data.value )\n  }\n\n  return attr + '=' + encoding + '\\'' +\n    language + '\\'' + encodedValue\n\n}\n\n/**\n * Format a given attribute and it's value\n * @param {String} attr\n * @param {String|Object} value\n * @return {String}\n */\nLink.formatAttribute = function( attr, value ) {\n\n  if( Array.isArray( value ) ) {\n    return value.map(( item ) => {\n      return Link.formatAttribute( attr, item )\n    }).join( '; ' )\n  }\n\n  if( attr[ attr.length - 1 ] === '*' || typeof value !== 'string' ) {\n    return Link.formatExtendedAttribute( attr, value )\n  }\n\n  if( Link.isTokenAttr( attr ) ) {\n    value = needsQuotes( value ) ?\n      '\"' + Link.escapeQuotes( value ) + '\"' :\n      Link.escapeQuotes( value )\n  } else if( needsQuotes( value ) ) {\n    value = encodeURIComponent( value )\n    // We don't need to escape <SP> <,> <;> within quotes\n    value = value\n      .replace( /%20/g, ' ' )\n      .replace( /%2C/g, ',' )\n      .replace( /%3B/g, ';' )\n\n    value = '\"' + value + '\"'\n  }\n\n  return attr + '=' + value\n\n}\n\nmodule.exports = Link\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","/**\n * MIT License\n * \n * Copyright (c) 2014-present, Lee Byron and other contributors.\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nvar DELETE = 'delete';\n\n// Constants describing the size of trie nodes.\nvar SHIFT = 5; // Resulted in best performance after ______?\nvar SIZE = 1 << SHIFT;\nvar MASK = SIZE - 1;\n\n// A consistent shared value representing \"not set\" which equals nothing other\n// than itself, and nothing that could be provided externally.\nvar NOT_SET = {};\n\n// Boolean references, Rough equivalent of `bool &`.\nfunction MakeRef() {\n  return { value: false };\n}\n\nfunction SetRef(ref) {\n  if (ref) {\n    ref.value = true;\n  }\n}\n\n// A function which returns a value representing an \"owner\" for transient writes\n// to tries. The return value will only ever equal itself, and will not equal\n// the return of any subsequent call of this function.\nfunction OwnerID() {}\n\nfunction ensureSize(iter) {\n  if (iter.size === undefined) {\n    iter.size = iter.__iterate(returnTrue);\n  }\n  return iter.size;\n}\n\nfunction wrapIndex(iter, index) {\n  // This implements \"is array index\" which the ECMAString spec defines as:\n  //\n  //     A String property name P is an array index if and only if\n  //     ToString(ToUint32(P)) is equal to P and ToUint32(P) is not equal\n  //     to 2^321.\n  //\n  // http://www.ecma-international.org/ecma-262/6.0/#sec-array-exotic-objects\n  if (typeof index !== 'number') {\n    var uint32Index = index >>> 0; // N >>> 0 is shorthand for ToUint32\n    if ('' + uint32Index !== index || uint32Index === 4294967295) {\n      return NaN;\n    }\n    index = uint32Index;\n  }\n  return index < 0 ? ensureSize(iter) + index : index;\n}\n\nfunction returnTrue() {\n  return true;\n}\n\nfunction wholeSlice(begin, end, size) {\n  return (\n    ((begin === 0 && !isNeg(begin)) ||\n      (size !== undefined && begin <= -size)) &&\n    (end === undefined || (size !== undefined && end >= size))\n  );\n}\n\nfunction resolveBegin(begin, size) {\n  return resolveIndex(begin, size, 0);\n}\n\nfunction resolveEnd(end, size) {\n  return resolveIndex(end, size, size);\n}\n\nfunction resolveIndex(index, size, defaultIndex) {\n  // Sanitize indices using this shorthand for ToInt32(argument)\n  // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n  return index === undefined\n    ? defaultIndex\n    : isNeg(index)\n    ? size === Infinity\n      ? size\n      : Math.max(0, size + index) | 0\n    : size === undefined || size === index\n    ? index\n    : Math.min(size, index) | 0;\n}\n\nfunction isNeg(value) {\n  // Account for -0 which is negative, but not less than 0.\n  return value < 0 || (value === 0 && 1 / value === -Infinity);\n}\n\nvar IS_COLLECTION_SYMBOL = '@@__IMMUTABLE_ITERABLE__@@';\n\nfunction isCollection(maybeCollection) {\n  return Boolean(maybeCollection && maybeCollection[IS_COLLECTION_SYMBOL]);\n}\n\nvar IS_KEYED_SYMBOL = '@@__IMMUTABLE_KEYED__@@';\n\nfunction isKeyed(maybeKeyed) {\n  return Boolean(maybeKeyed && maybeKeyed[IS_KEYED_SYMBOL]);\n}\n\nvar IS_INDEXED_SYMBOL = '@@__IMMUTABLE_INDEXED__@@';\n\nfunction isIndexed(maybeIndexed) {\n  return Boolean(maybeIndexed && maybeIndexed[IS_INDEXED_SYMBOL]);\n}\n\nfunction isAssociative(maybeAssociative) {\n  return isKeyed(maybeAssociative) || isIndexed(maybeAssociative);\n}\n\nvar Collection = function Collection(value) {\n  return isCollection(value) ? value : Seq(value);\n};\n\nvar KeyedCollection = /*@__PURE__*/(function (Collection) {\n  function KeyedCollection(value) {\n    return isKeyed(value) ? value : KeyedSeq(value);\n  }\n\n  if ( Collection ) KeyedCollection.__proto__ = Collection;\n  KeyedCollection.prototype = Object.create( Collection && Collection.prototype );\n  KeyedCollection.prototype.constructor = KeyedCollection;\n\n  return KeyedCollection;\n}(Collection));\n\nvar IndexedCollection = /*@__PURE__*/(function (Collection) {\n  function IndexedCollection(value) {\n    return isIndexed(value) ? value : IndexedSeq(value);\n  }\n\n  if ( Collection ) IndexedCollection.__proto__ = Collection;\n  IndexedCollection.prototype = Object.create( Collection && Collection.prototype );\n  IndexedCollection.prototype.constructor = IndexedCollection;\n\n  return IndexedCollection;\n}(Collection));\n\nvar SetCollection = /*@__PURE__*/(function (Collection) {\n  function SetCollection(value) {\n    return isCollection(value) && !isAssociative(value) ? value : SetSeq(value);\n  }\n\n  if ( Collection ) SetCollection.__proto__ = Collection;\n  SetCollection.prototype = Object.create( Collection && Collection.prototype );\n  SetCollection.prototype.constructor = SetCollection;\n\n  return SetCollection;\n}(Collection));\n\nCollection.Keyed = KeyedCollection;\nCollection.Indexed = IndexedCollection;\nCollection.Set = SetCollection;\n\nvar IS_SEQ_SYMBOL = '@@__IMMUTABLE_SEQ__@@';\n\nfunction isSeq(maybeSeq) {\n  return Boolean(maybeSeq && maybeSeq[IS_SEQ_SYMBOL]);\n}\n\nvar IS_RECORD_SYMBOL = '@@__IMMUTABLE_RECORD__@@';\n\nfunction isRecord(maybeRecord) {\n  return Boolean(maybeRecord && maybeRecord[IS_RECORD_SYMBOL]);\n}\n\nfunction isImmutable(maybeImmutable) {\n  return isCollection(maybeImmutable) || isRecord(maybeImmutable);\n}\n\nvar IS_ORDERED_SYMBOL = '@@__IMMUTABLE_ORDERED__@@';\n\nfunction isOrdered(maybeOrdered) {\n  return Boolean(maybeOrdered && maybeOrdered[IS_ORDERED_SYMBOL]);\n}\n\nvar ITERATE_KEYS = 0;\nvar ITERATE_VALUES = 1;\nvar ITERATE_ENTRIES = 2;\n\nvar REAL_ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\nvar FAUX_ITERATOR_SYMBOL = '@@iterator';\n\nvar ITERATOR_SYMBOL = REAL_ITERATOR_SYMBOL || FAUX_ITERATOR_SYMBOL;\n\nvar Iterator = function Iterator(next) {\n  this.next = next;\n};\n\nIterator.prototype.toString = function toString () {\n  return '[Iterator]';\n};\n\nIterator.KEYS = ITERATE_KEYS;\nIterator.VALUES = ITERATE_VALUES;\nIterator.ENTRIES = ITERATE_ENTRIES;\n\nIterator.prototype.inspect = Iterator.prototype.toSource = function () {\n  return this.toString();\n};\nIterator.prototype[ITERATOR_SYMBOL] = function () {\n  return this;\n};\n\nfunction iteratorValue(type, k, v, iteratorResult) {\n  var value = type === 0 ? k : type === 1 ? v : [k, v];\n  iteratorResult\n    ? (iteratorResult.value = value)\n    : (iteratorResult = {\n        value: value,\n        done: false,\n      });\n  return iteratorResult;\n}\n\nfunction iteratorDone() {\n  return { value: undefined, done: true };\n}\n\nfunction hasIterator(maybeIterable) {\n  if (Array.isArray(maybeIterable)) {\n    // IE11 trick as it does not support `Symbol.iterator`\n    return true;\n  }\n\n  return !!getIteratorFn(maybeIterable);\n}\n\nfunction isIterator(maybeIterator) {\n  return maybeIterator && typeof maybeIterator.next === 'function';\n}\n\nfunction getIterator(iterable) {\n  var iteratorFn = getIteratorFn(iterable);\n  return iteratorFn && iteratorFn.call(iterable);\n}\n\nfunction getIteratorFn(iterable) {\n  var iteratorFn =\n    iterable &&\n    ((REAL_ITERATOR_SYMBOL && iterable[REAL_ITERATOR_SYMBOL]) ||\n      iterable[FAUX_ITERATOR_SYMBOL]);\n  if (typeof iteratorFn === 'function') {\n    return iteratorFn;\n  }\n}\n\nfunction isEntriesIterable(maybeIterable) {\n  var iteratorFn = getIteratorFn(maybeIterable);\n  return iteratorFn && iteratorFn === maybeIterable.entries;\n}\n\nfunction isKeysIterable(maybeIterable) {\n  var iteratorFn = getIteratorFn(maybeIterable);\n  return iteratorFn && iteratorFn === maybeIterable.keys;\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction isArrayLike(value) {\n  if (Array.isArray(value) || typeof value === 'string') {\n    return true;\n  }\n\n  return (\n    value &&\n    typeof value === 'object' &&\n    Number.isInteger(value.length) &&\n    value.length >= 0 &&\n    (value.length === 0\n      ? // Only {length: 0} is considered Array-like.\n        Object.keys(value).length === 1\n      : // An object is only Array-like if it has a property where the last value\n        // in the array-like may be found (which could be undefined).\n        value.hasOwnProperty(value.length - 1))\n  );\n}\n\nvar Seq = /*@__PURE__*/(function (Collection) {\n  function Seq(value) {\n    return value === undefined || value === null\n      ? emptySequence()\n      : isImmutable(value)\n      ? value.toSeq()\n      : seqFromValue(value);\n  }\n\n  if ( Collection ) Seq.__proto__ = Collection;\n  Seq.prototype = Object.create( Collection && Collection.prototype );\n  Seq.prototype.constructor = Seq;\n\n  Seq.prototype.toSeq = function toSeq () {\n    return this;\n  };\n\n  Seq.prototype.toString = function toString () {\n    return this.__toString('Seq {', '}');\n  };\n\n  Seq.prototype.cacheResult = function cacheResult () {\n    if (!this._cache && this.__iterateUncached) {\n      this._cache = this.entrySeq().toArray();\n      this.size = this._cache.length;\n    }\n    return this;\n  };\n\n  // abstract __iterateUncached(fn, reverse)\n\n  Seq.prototype.__iterate = function __iterate (fn, reverse) {\n    var cache = this._cache;\n    if (cache) {\n      var size = cache.length;\n      var i = 0;\n      while (i !== size) {\n        var entry = cache[reverse ? size - ++i : i++];\n        if (fn(entry[1], entry[0], this) === false) {\n          break;\n        }\n      }\n      return i;\n    }\n    return this.__iterateUncached(fn, reverse);\n  };\n\n  // abstract __iteratorUncached(type, reverse)\n\n  Seq.prototype.__iterator = function __iterator (type, reverse) {\n    var cache = this._cache;\n    if (cache) {\n      var size = cache.length;\n      var i = 0;\n      return new Iterator(function () {\n        if (i === size) {\n          return iteratorDone();\n        }\n        var entry = cache[reverse ? size - ++i : i++];\n        return iteratorValue(type, entry[0], entry[1]);\n      });\n    }\n    return this.__iteratorUncached(type, reverse);\n  };\n\n  return Seq;\n}(Collection));\n\nvar KeyedSeq = /*@__PURE__*/(function (Seq) {\n  function KeyedSeq(value) {\n    return value === undefined || value === null\n      ? emptySequence().toKeyedSeq()\n      : isCollection(value)\n      ? isKeyed(value)\n        ? value.toSeq()\n        : value.fromEntrySeq()\n      : isRecord(value)\n      ? value.toSeq()\n      : keyedSeqFromValue(value);\n  }\n\n  if ( Seq ) KeyedSeq.__proto__ = Seq;\n  KeyedSeq.prototype = Object.create( Seq && Seq.prototype );\n  KeyedSeq.prototype.constructor = KeyedSeq;\n\n  KeyedSeq.prototype.toKeyedSeq = function toKeyedSeq () {\n    return this;\n  };\n\n  return KeyedSeq;\n}(Seq));\n\nvar IndexedSeq = /*@__PURE__*/(function (Seq) {\n  function IndexedSeq(value) {\n    return value === undefined || value === null\n      ? emptySequence()\n      : isCollection(value)\n      ? isKeyed(value)\n        ? value.entrySeq()\n        : value.toIndexedSeq()\n      : isRecord(value)\n      ? value.toSeq().entrySeq()\n      : indexedSeqFromValue(value);\n  }\n\n  if ( Seq ) IndexedSeq.__proto__ = Seq;\n  IndexedSeq.prototype = Object.create( Seq && Seq.prototype );\n  IndexedSeq.prototype.constructor = IndexedSeq;\n\n  IndexedSeq.of = function of (/*...values*/) {\n    return IndexedSeq(arguments);\n  };\n\n  IndexedSeq.prototype.toIndexedSeq = function toIndexedSeq () {\n    return this;\n  };\n\n  IndexedSeq.prototype.toString = function toString () {\n    return this.__toString('Seq [', ']');\n  };\n\n  return IndexedSeq;\n}(Seq));\n\nvar SetSeq = /*@__PURE__*/(function (Seq) {\n  function SetSeq(value) {\n    return (\n      isCollection(value) && !isAssociative(value) ? value : IndexedSeq(value)\n    ).toSetSeq();\n  }\n\n  if ( Seq ) SetSeq.__proto__ = Seq;\n  SetSeq.prototype = Object.create( Seq && Seq.prototype );\n  SetSeq.prototype.constructor = SetSeq;\n\n  SetSeq.of = function of (/*...values*/) {\n    return SetSeq(arguments);\n  };\n\n  SetSeq.prototype.toSetSeq = function toSetSeq () {\n    return this;\n  };\n\n  return SetSeq;\n}(Seq));\n\nSeq.isSeq = isSeq;\nSeq.Keyed = KeyedSeq;\nSeq.Set = SetSeq;\nSeq.Indexed = IndexedSeq;\n\nSeq.prototype[IS_SEQ_SYMBOL] = true;\n\n// #pragma Root Sequences\n\nvar ArraySeq = /*@__PURE__*/(function (IndexedSeq) {\n  function ArraySeq(array) {\n    this._array = array;\n    this.size = array.length;\n  }\n\n  if ( IndexedSeq ) ArraySeq.__proto__ = IndexedSeq;\n  ArraySeq.prototype = Object.create( IndexedSeq && IndexedSeq.prototype );\n  ArraySeq.prototype.constructor = ArraySeq;\n\n  ArraySeq.prototype.get = function get (index, notSetValue) {\n    return this.has(index) ? this._array[wrapIndex(this, index)] : notSetValue;\n  };\n\n  ArraySeq.prototype.__iterate = function __iterate (fn, reverse) {\n    var array = this._array;\n    var size = array.length;\n    var i = 0;\n    while (i !== size) {\n      var ii = reverse ? size - ++i : i++;\n      if (fn(array[ii], ii, this) === false) {\n        break;\n      }\n    }\n    return i;\n  };\n\n  ArraySeq.prototype.__iterator = function __iterator (type, reverse) {\n    var array = this._array;\n    var size = array.length;\n    var i = 0;\n    return new Iterator(function () {\n      if (i === size) {\n        return iteratorDone();\n      }\n      var ii = reverse ? size - ++i : i++;\n      return iteratorValue(type, ii, array[ii]);\n    });\n  };\n\n  return ArraySeq;\n}(IndexedSeq));\n\nvar ObjectSeq = /*@__PURE__*/(function (KeyedSeq) {\n  function ObjectSeq(object) {\n    var keys = Object.keys(object).concat(\n      Object.getOwnPropertySymbols ? Object.getOwnPropertySymbols(object) : []\n    );\n    this._object = object;\n    this._keys = keys;\n    this.size = keys.length;\n  }\n\n  if ( KeyedSeq ) ObjectSeq.__proto__ = KeyedSeq;\n  ObjectSeq.prototype = Object.create( KeyedSeq && KeyedSeq.prototype );\n  ObjectSeq.prototype.constructor = ObjectSeq;\n\n  ObjectSeq.prototype.get = function get (key, notSetValue) {\n    if (notSetValue !== undefined && !this.has(key)) {\n      return notSetValue;\n    }\n    return this._object[key];\n  };\n\n  ObjectSeq.prototype.has = function has (key) {\n    return hasOwnProperty.call(this._object, key);\n  };\n\n  ObjectSeq.prototype.__iterate = function __iterate (fn, reverse) {\n    var object = this._object;\n    var keys = this._keys;\n    var size = keys.length;\n    var i = 0;\n    while (i !== size) {\n      var key = keys[reverse ? size - ++i : i++];\n      if (fn(object[key], key, this) === false) {\n        break;\n      }\n    }\n    return i;\n  };\n\n  ObjectSeq.prototype.__iterator = function __iterator (type, reverse) {\n    var object = this._object;\n    var keys = this._keys;\n    var size = keys.length;\n    var i = 0;\n    return new Iterator(function () {\n      if (i === size) {\n        return iteratorDone();\n      }\n      var key = keys[reverse ? size - ++i : i++];\n      return iteratorValue(type, key, object[key]);\n    });\n  };\n\n  return ObjectSeq;\n}(KeyedSeq));\nObjectSeq.prototype[IS_ORDERED_SYMBOL] = true;\n\nvar CollectionSeq = /*@__PURE__*/(function (IndexedSeq) {\n  function CollectionSeq(collection) {\n    this._collection = collection;\n    this.size = collection.length || collection.size;\n  }\n\n  if ( IndexedSeq ) CollectionSeq.__proto__ = IndexedSeq;\n  CollectionSeq.prototype = Object.create( IndexedSeq && IndexedSeq.prototype );\n  CollectionSeq.prototype.constructor = CollectionSeq;\n\n  CollectionSeq.prototype.__iterateUncached = function __iterateUncached (fn, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var collection = this._collection;\n    var iterator = getIterator(collection);\n    var iterations = 0;\n    if (isIterator(iterator)) {\n      var step;\n      while (!(step = iterator.next()).done) {\n        if (fn(step.value, iterations++, this) === false) {\n          break;\n        }\n      }\n    }\n    return iterations;\n  };\n\n  CollectionSeq.prototype.__iteratorUncached = function __iteratorUncached (type, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var collection = this._collection;\n    var iterator = getIterator(collection);\n    if (!isIterator(iterator)) {\n      return new Iterator(iteratorDone);\n    }\n    var iterations = 0;\n    return new Iterator(function () {\n      var step = iterator.next();\n      return step.done ? step : iteratorValue(type, iterations++, step.value);\n    });\n  };\n\n  return CollectionSeq;\n}(IndexedSeq));\n\n// # pragma Helper functions\n\nvar EMPTY_SEQ;\n\nfunction emptySequence() {\n  return EMPTY_SEQ || (EMPTY_SEQ = new ArraySeq([]));\n}\n\nfunction keyedSeqFromValue(value) {\n  var seq = maybeIndexedSeqFromValue(value);\n  if (seq) {\n    return seq.fromEntrySeq();\n  }\n  if (typeof value === 'object') {\n    return new ObjectSeq(value);\n  }\n  throw new TypeError(\n    'Expected Array or collection object of [k, v] entries, or keyed object: ' +\n      value\n  );\n}\n\nfunction indexedSeqFromValue(value) {\n  var seq = maybeIndexedSeqFromValue(value);\n  if (seq) {\n    return seq;\n  }\n  throw new TypeError(\n    'Expected Array or collection object of values: ' + value\n  );\n}\n\nfunction seqFromValue(value) {\n  var seq = maybeIndexedSeqFromValue(value);\n  if (seq) {\n    return isEntriesIterable(value)\n      ? seq.fromEntrySeq()\n      : isKeysIterable(value)\n      ? seq.toSetSeq()\n      : seq;\n  }\n  if (typeof value === 'object') {\n    return new ObjectSeq(value);\n  }\n  throw new TypeError(\n    'Expected Array or collection object of values, or keyed object: ' + value\n  );\n}\n\nfunction maybeIndexedSeqFromValue(value) {\n  return isArrayLike(value)\n    ? new ArraySeq(value)\n    : hasIterator(value)\n    ? new CollectionSeq(value)\n    : undefined;\n}\n\nvar IS_MAP_SYMBOL = '@@__IMMUTABLE_MAP__@@';\n\nfunction isMap(maybeMap) {\n  return Boolean(maybeMap && maybeMap[IS_MAP_SYMBOL]);\n}\n\nfunction isOrderedMap(maybeOrderedMap) {\n  return isMap(maybeOrderedMap) && isOrdered(maybeOrderedMap);\n}\n\nfunction isValueObject(maybeValue) {\n  return Boolean(\n    maybeValue &&\n      typeof maybeValue.equals === 'function' &&\n      typeof maybeValue.hashCode === 'function'\n  );\n}\n\n/**\n * An extension of the \"same-value\" algorithm as [described for use by ES6 Map\n * and Set](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map#Key_equality)\n *\n * NaN is considered the same as NaN, however -0 and 0 are considered the same\n * value, which is different from the algorithm described by\n * [`Object.is`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is).\n *\n * This is extended further to allow Objects to describe the values they\n * represent, by way of `valueOf` or `equals` (and `hashCode`).\n *\n * Note: because of this extension, the key equality of Immutable.Map and the\n * value equality of Immutable.Set will differ from ES6 Map and Set.\n *\n * ### Defining custom values\n *\n * The easiest way to describe the value an object represents is by implementing\n * `valueOf`. For example, `Date` represents a value by returning a unix\n * timestamp for `valueOf`:\n *\n *     var date1 = new Date(1234567890000); // Fri Feb 13 2009 ...\n *     var date2 = new Date(1234567890000);\n *     date1.valueOf(); // 1234567890000\n *     assert( date1 !== date2 );\n *     assert( Immutable.is( date1, date2 ) );\n *\n * Note: overriding `valueOf` may have other implications if you use this object\n * where JavaScript expects a primitive, such as implicit string coercion.\n *\n * For more complex types, especially collections, implementing `valueOf` may\n * not be performant. An alternative is to implement `equals` and `hashCode`.\n *\n * `equals` takes another object, presumably of similar type, and returns true\n * if it is equal. Equality is symmetrical, so the same result should be\n * returned if this and the argument are flipped.\n *\n *     assert( a.equals(b) === b.equals(a) );\n *\n * `hashCode` returns a 32bit integer number representing the object which will\n * be used to determine how to store the value object in a Map or Set. You must\n * provide both or neither methods, one must not exist without the other.\n *\n * Also, an important relationship between these methods must be upheld: if two\n * values are equal, they *must* return the same hashCode. If the values are not\n * equal, they might have the same hashCode; this is called a hash collision,\n * and while undesirable for performance reasons, it is acceptable.\n *\n *     if (a.equals(b)) {\n *       assert( a.hashCode() === b.hashCode() );\n *     }\n *\n * All Immutable collections are Value Objects: they implement `equals()`\n * and `hashCode()`.\n */\nfunction is(valueA, valueB) {\n  if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {\n    return true;\n  }\n  if (!valueA || !valueB) {\n    return false;\n  }\n  if (\n    typeof valueA.valueOf === 'function' &&\n    typeof valueB.valueOf === 'function'\n  ) {\n    valueA = valueA.valueOf();\n    valueB = valueB.valueOf();\n    if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {\n      return true;\n    }\n    if (!valueA || !valueB) {\n      return false;\n    }\n  }\n  return !!(\n    isValueObject(valueA) &&\n    isValueObject(valueB) &&\n    valueA.equals(valueB)\n  );\n}\n\nvar imul =\n  typeof Math.imul === 'function' && Math.imul(0xffffffff, 2) === -2\n    ? Math.imul\n    : function imul(a, b) {\n        a |= 0; // int\n        b |= 0; // int\n        var c = a & 0xffff;\n        var d = b & 0xffff;\n        // Shift by 0 fixes the sign on the high part.\n        return (c * d + ((((a >>> 16) * d + c * (b >>> 16)) << 16) >>> 0)) | 0; // int\n      };\n\n// v8 has an optimization for storing 31-bit signed numbers.\n// Values which have either 00 or 11 as the high order bits qualify.\n// This function drops the highest order bit in a signed number, maintaining\n// the sign bit.\nfunction smi(i32) {\n  return ((i32 >>> 1) & 0x40000000) | (i32 & 0xbfffffff);\n}\n\nvar defaultValueOf = Object.prototype.valueOf;\n\nfunction hash(o) {\n  if (o == null) {\n    return hashNullish(o);\n  }\n\n  if (typeof o.hashCode === 'function') {\n    // Drop any high bits from accidentally long hash codes.\n    return smi(o.hashCode(o));\n  }\n\n  var v = valueOf(o);\n\n  if (v == null) {\n    return hashNullish(v);\n  }\n\n  switch (typeof v) {\n    case 'boolean':\n      // The hash values for built-in constants are a 1 value for each 5-byte\n      // shift region expect for the first, which encodes the value. This\n      // reduces the odds of a hash collision for these common values.\n      return v ? 0x42108421 : 0x42108420;\n    case 'number':\n      return hashNumber(v);\n    case 'string':\n      return v.length > STRING_HASH_CACHE_MIN_STRLEN\n        ? cachedHashString(v)\n        : hashString(v);\n    case 'object':\n    case 'function':\n      return hashJSObj(v);\n    case 'symbol':\n      return hashSymbol(v);\n    default:\n      if (typeof v.toString === 'function') {\n        return hashString(v.toString());\n      }\n      throw new Error('Value type ' + typeof v + ' cannot be hashed.');\n  }\n}\n\nfunction hashNullish(nullish) {\n  return nullish === null ? 0x42108422 : /* undefined */ 0x42108423;\n}\n\n// Compress arbitrarily large numbers into smi hashes.\nfunction hashNumber(n) {\n  if (n !== n || n === Infinity) {\n    return 0;\n  }\n  var hash = n | 0;\n  if (hash !== n) {\n    hash ^= n * 0xffffffff;\n  }\n  while (n > 0xffffffff) {\n    n /= 0xffffffff;\n    hash ^= n;\n  }\n  return smi(hash);\n}\n\nfunction cachedHashString(string) {\n  var hashed = stringHashCache[string];\n  if (hashed === undefined) {\n    hashed = hashString(string);\n    if (STRING_HASH_CACHE_SIZE === STRING_HASH_CACHE_MAX_SIZE) {\n      STRING_HASH_CACHE_SIZE = 0;\n      stringHashCache = {};\n    }\n    STRING_HASH_CACHE_SIZE++;\n    stringHashCache[string] = hashed;\n  }\n  return hashed;\n}\n\n// http://jsperf.com/hashing-strings\nfunction hashString(string) {\n  // This is the hash from JVM\n  // The hash code for a string is computed as\n  // s[0] * 31 ^ (n - 1) + s[1] * 31 ^ (n - 2) + ... + s[n - 1],\n  // where s[i] is the ith character of the string and n is the length of\n  // the string. We \"mod\" the result to make it between 0 (inclusive) and 2^31\n  // (exclusive) by dropping high bits.\n  var hashed = 0;\n  for (var ii = 0; ii < string.length; ii++) {\n    hashed = (31 * hashed + string.charCodeAt(ii)) | 0;\n  }\n  return smi(hashed);\n}\n\nfunction hashSymbol(sym) {\n  var hashed = symbolMap[sym];\n  if (hashed !== undefined) {\n    return hashed;\n  }\n\n  hashed = nextHash();\n\n  symbolMap[sym] = hashed;\n\n  return hashed;\n}\n\nfunction hashJSObj(obj) {\n  var hashed;\n  if (usingWeakMap) {\n    hashed = weakMap.get(obj);\n    if (hashed !== undefined) {\n      return hashed;\n    }\n  }\n\n  hashed = obj[UID_HASH_KEY];\n  if (hashed !== undefined) {\n    return hashed;\n  }\n\n  if (!canDefineProperty) {\n    hashed = obj.propertyIsEnumerable && obj.propertyIsEnumerable[UID_HASH_KEY];\n    if (hashed !== undefined) {\n      return hashed;\n    }\n\n    hashed = getIENodeHash(obj);\n    if (hashed !== undefined) {\n      return hashed;\n    }\n  }\n\n  hashed = nextHash();\n\n  if (usingWeakMap) {\n    weakMap.set(obj, hashed);\n  } else if (isExtensible !== undefined && isExtensible(obj) === false) {\n    throw new Error('Non-extensible objects are not allowed as keys.');\n  } else if (canDefineProperty) {\n    Object.defineProperty(obj, UID_HASH_KEY, {\n      enumerable: false,\n      configurable: false,\n      writable: false,\n      value: hashed,\n    });\n  } else if (\n    obj.propertyIsEnumerable !== undefined &&\n    obj.propertyIsEnumerable === obj.constructor.prototype.propertyIsEnumerable\n  ) {\n    // Since we can't define a non-enumerable property on the object\n    // we'll hijack one of the less-used non-enumerable properties to\n    // save our hash on it. Since this is a function it will not show up in\n    // `JSON.stringify` which is what we want.\n    obj.propertyIsEnumerable = function () {\n      return this.constructor.prototype.propertyIsEnumerable.apply(\n        this,\n        arguments\n      );\n    };\n    obj.propertyIsEnumerable[UID_HASH_KEY] = hashed;\n  } else if (obj.nodeType !== undefined) {\n    // At this point we couldn't get the IE `uniqueID` to use as a hash\n    // and we couldn't use a non-enumerable property to exploit the\n    // dontEnum bug so we simply add the `UID_HASH_KEY` on the node\n    // itself.\n    obj[UID_HASH_KEY] = hashed;\n  } else {\n    throw new Error('Unable to set a non-enumerable property on object.');\n  }\n\n  return hashed;\n}\n\n// Get references to ES5 object methods.\nvar isExtensible = Object.isExtensible;\n\n// True if Object.defineProperty works as expected. IE8 fails this test.\nvar canDefineProperty = (function () {\n  try {\n    Object.defineProperty({}, '@', {});\n    return true;\n  } catch (e) {\n    return false;\n  }\n})();\n\n// IE has a `uniqueID` property on DOM nodes. We can construct the hash from it\n// and avoid memory leaks from the IE cloneNode bug.\nfunction getIENodeHash(node) {\n  if (node && node.nodeType > 0) {\n    switch (node.nodeType) {\n      case 1: // Element\n        return node.uniqueID;\n      case 9: // Document\n        return node.documentElement && node.documentElement.uniqueID;\n    }\n  }\n}\n\nfunction valueOf(obj) {\n  return obj.valueOf !== defaultValueOf && typeof obj.valueOf === 'function'\n    ? obj.valueOf(obj)\n    : obj;\n}\n\nfunction nextHash() {\n  var nextHash = ++_objHashUID;\n  if (_objHashUID & 0x40000000) {\n    _objHashUID = 0;\n  }\n  return nextHash;\n}\n\n// If possible, use a WeakMap.\nvar usingWeakMap = typeof WeakMap === 'function';\nvar weakMap;\nif (usingWeakMap) {\n  weakMap = new WeakMap();\n}\n\nvar symbolMap = Object.create(null);\n\nvar _objHashUID = 0;\n\nvar UID_HASH_KEY = '__immutablehash__';\nif (typeof Symbol === 'function') {\n  UID_HASH_KEY = Symbol(UID_HASH_KEY);\n}\n\nvar STRING_HASH_CACHE_MIN_STRLEN = 16;\nvar STRING_HASH_CACHE_MAX_SIZE = 255;\nvar STRING_HASH_CACHE_SIZE = 0;\nvar stringHashCache = {};\n\nvar ToKeyedSequence = /*@__PURE__*/(function (KeyedSeq) {\n  function ToKeyedSequence(indexed, useKeys) {\n    this._iter = indexed;\n    this._useKeys = useKeys;\n    this.size = indexed.size;\n  }\n\n  if ( KeyedSeq ) ToKeyedSequence.__proto__ = KeyedSeq;\n  ToKeyedSequence.prototype = Object.create( KeyedSeq && KeyedSeq.prototype );\n  ToKeyedSequence.prototype.constructor = ToKeyedSequence;\n\n  ToKeyedSequence.prototype.get = function get (key, notSetValue) {\n    return this._iter.get(key, notSetValue);\n  };\n\n  ToKeyedSequence.prototype.has = function has (key) {\n    return this._iter.has(key);\n  };\n\n  ToKeyedSequence.prototype.valueSeq = function valueSeq () {\n    return this._iter.valueSeq();\n  };\n\n  ToKeyedSequence.prototype.reverse = function reverse () {\n    var this$1$1 = this;\n\n    var reversedSequence = reverseFactory(this, true);\n    if (!this._useKeys) {\n      reversedSequence.valueSeq = function () { return this$1$1._iter.toSeq().reverse(); };\n    }\n    return reversedSequence;\n  };\n\n  ToKeyedSequence.prototype.map = function map (mapper, context) {\n    var this$1$1 = this;\n\n    var mappedSequence = mapFactory(this, mapper, context);\n    if (!this._useKeys) {\n      mappedSequence.valueSeq = function () { return this$1$1._iter.toSeq().map(mapper, context); };\n    }\n    return mappedSequence;\n  };\n\n  ToKeyedSequence.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1$1 = this;\n\n    return this._iter.__iterate(function (v, k) { return fn(v, k, this$1$1); }, reverse);\n  };\n\n  ToKeyedSequence.prototype.__iterator = function __iterator (type, reverse) {\n    return this._iter.__iterator(type, reverse);\n  };\n\n  return ToKeyedSequence;\n}(KeyedSeq));\nToKeyedSequence.prototype[IS_ORDERED_SYMBOL] = true;\n\nvar ToIndexedSequence = /*@__PURE__*/(function (IndexedSeq) {\n  function ToIndexedSequence(iter) {\n    this._iter = iter;\n    this.size = iter.size;\n  }\n\n  if ( IndexedSeq ) ToIndexedSequence.__proto__ = IndexedSeq;\n  ToIndexedSequence.prototype = Object.create( IndexedSeq && IndexedSeq.prototype );\n  ToIndexedSequence.prototype.constructor = ToIndexedSequence;\n\n  ToIndexedSequence.prototype.includes = function includes (value) {\n    return this._iter.includes(value);\n  };\n\n  ToIndexedSequence.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1$1 = this;\n\n    var i = 0;\n    reverse && ensureSize(this);\n    return this._iter.__iterate(\n      function (v) { return fn(v, reverse ? this$1$1.size - ++i : i++, this$1$1); },\n      reverse\n    );\n  };\n\n  ToIndexedSequence.prototype.__iterator = function __iterator (type, reverse) {\n    var this$1$1 = this;\n\n    var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n    var i = 0;\n    reverse && ensureSize(this);\n    return new Iterator(function () {\n      var step = iterator.next();\n      return step.done\n        ? step\n        : iteratorValue(\n            type,\n            reverse ? this$1$1.size - ++i : i++,\n            step.value,\n            step\n          );\n    });\n  };\n\n  return ToIndexedSequence;\n}(IndexedSeq));\n\nvar ToSetSequence = /*@__PURE__*/(function (SetSeq) {\n  function ToSetSequence(iter) {\n    this._iter = iter;\n    this.size = iter.size;\n  }\n\n  if ( SetSeq ) ToSetSequence.__proto__ = SetSeq;\n  ToSetSequence.prototype = Object.create( SetSeq && SetSeq.prototype );\n  ToSetSequence.prototype.constructor = ToSetSequence;\n\n  ToSetSequence.prototype.has = function has (key) {\n    return this._iter.includes(key);\n  };\n\n  ToSetSequence.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1$1 = this;\n\n    return this._iter.__iterate(function (v) { return fn(v, v, this$1$1); }, reverse);\n  };\n\n  ToSetSequence.prototype.__iterator = function __iterator (type, reverse) {\n    var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n    return new Iterator(function () {\n      var step = iterator.next();\n      return step.done\n        ? step\n        : iteratorValue(type, step.value, step.value, step);\n    });\n  };\n\n  return ToSetSequence;\n}(SetSeq));\n\nvar FromEntriesSequence = /*@__PURE__*/(function (KeyedSeq) {\n  function FromEntriesSequence(entries) {\n    this._iter = entries;\n    this.size = entries.size;\n  }\n\n  if ( KeyedSeq ) FromEntriesSequence.__proto__ = KeyedSeq;\n  FromEntriesSequence.prototype = Object.create( KeyedSeq && KeyedSeq.prototype );\n  FromEntriesSequence.prototype.constructor = FromEntriesSequence;\n\n  FromEntriesSequence.prototype.entrySeq = function entrySeq () {\n    return this._iter.toSeq();\n  };\n\n  FromEntriesSequence.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1$1 = this;\n\n    return this._iter.__iterate(function (entry) {\n      // Check if entry exists first so array access doesn't throw for holes\n      // in the parent iteration.\n      if (entry) {\n        validateEntry(entry);\n        var indexedCollection = isCollection(entry);\n        return fn(\n          indexedCollection ? entry.get(1) : entry[1],\n          indexedCollection ? entry.get(0) : entry[0],\n          this$1$1\n        );\n      }\n    }, reverse);\n  };\n\n  FromEntriesSequence.prototype.__iterator = function __iterator (type, reverse) {\n    var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n    return new Iterator(function () {\n      while (true) {\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        // Check if entry exists first so array access doesn't throw for holes\n        // in the parent iteration.\n        if (entry) {\n          validateEntry(entry);\n          var indexedCollection = isCollection(entry);\n          return iteratorValue(\n            type,\n            indexedCollection ? entry.get(0) : entry[0],\n            indexedCollection ? entry.get(1) : entry[1],\n            step\n          );\n        }\n      }\n    });\n  };\n\n  return FromEntriesSequence;\n}(KeyedSeq));\n\nToIndexedSequence.prototype.cacheResult =\n  ToKeyedSequence.prototype.cacheResult =\n  ToSetSequence.prototype.cacheResult =\n  FromEntriesSequence.prototype.cacheResult =\n    cacheResultThrough;\n\nfunction flipFactory(collection) {\n  var flipSequence = makeSequence(collection);\n  flipSequence._iter = collection;\n  flipSequence.size = collection.size;\n  flipSequence.flip = function () { return collection; };\n  flipSequence.reverse = function () {\n    var reversedSequence = collection.reverse.apply(this); // super.reverse()\n    reversedSequence.flip = function () { return collection.reverse(); };\n    return reversedSequence;\n  };\n  flipSequence.has = function (key) { return collection.includes(key); };\n  flipSequence.includes = function (key) { return collection.has(key); };\n  flipSequence.cacheResult = cacheResultThrough;\n  flipSequence.__iterateUncached = function (fn, reverse) {\n    var this$1$1 = this;\n\n    return collection.__iterate(function (v, k) { return fn(k, v, this$1$1) !== false; }, reverse);\n  };\n  flipSequence.__iteratorUncached = function (type, reverse) {\n    if (type === ITERATE_ENTRIES) {\n      var iterator = collection.__iterator(type, reverse);\n      return new Iterator(function () {\n        var step = iterator.next();\n        if (!step.done) {\n          var k = step.value[0];\n          step.value[0] = step.value[1];\n          step.value[1] = k;\n        }\n        return step;\n      });\n    }\n    return collection.__iterator(\n      type === ITERATE_VALUES ? ITERATE_KEYS : ITERATE_VALUES,\n      reverse\n    );\n  };\n  return flipSequence;\n}\n\nfunction mapFactory(collection, mapper, context) {\n  var mappedSequence = makeSequence(collection);\n  mappedSequence.size = collection.size;\n  mappedSequence.has = function (key) { return collection.has(key); };\n  mappedSequence.get = function (key, notSetValue) {\n    var v = collection.get(key, NOT_SET);\n    return v === NOT_SET\n      ? notSetValue\n      : mapper.call(context, v, key, collection);\n  };\n  mappedSequence.__iterateUncached = function (fn, reverse) {\n    var this$1$1 = this;\n\n    return collection.__iterate(\n      function (v, k, c) { return fn(mapper.call(context, v, k, c), k, this$1$1) !== false; },\n      reverse\n    );\n  };\n  mappedSequence.__iteratorUncached = function (type, reverse) {\n    var iterator = collection.__iterator(ITERATE_ENTRIES, reverse);\n    return new Iterator(function () {\n      var step = iterator.next();\n      if (step.done) {\n        return step;\n      }\n      var entry = step.value;\n      var key = entry[0];\n      return iteratorValue(\n        type,\n        key,\n        mapper.call(context, entry[1], key, collection),\n        step\n      );\n    });\n  };\n  return mappedSequence;\n}\n\nfunction reverseFactory(collection, useKeys) {\n  var this$1$1 = this;\n\n  var reversedSequence = makeSequence(collection);\n  reversedSequence._iter = collection;\n  reversedSequence.size = collection.size;\n  reversedSequence.reverse = function () { return collection; };\n  if (collection.flip) {\n    reversedSequence.flip = function () {\n      var flipSequence = flipFactory(collection);\n      flipSequence.reverse = function () { return collection.flip(); };\n      return flipSequence;\n    };\n  }\n  reversedSequence.get = function (key, notSetValue) { return collection.get(useKeys ? key : -1 - key, notSetValue); };\n  reversedSequence.has = function (key) { return collection.has(useKeys ? key : -1 - key); };\n  reversedSequence.includes = function (value) { return collection.includes(value); };\n  reversedSequence.cacheResult = cacheResultThrough;\n  reversedSequence.__iterate = function (fn, reverse) {\n    var this$1$1 = this;\n\n    var i = 0;\n    reverse && ensureSize(collection);\n    return collection.__iterate(\n      function (v, k) { return fn(v, useKeys ? k : reverse ? this$1$1.size - ++i : i++, this$1$1); },\n      !reverse\n    );\n  };\n  reversedSequence.__iterator = function (type, reverse) {\n    var i = 0;\n    reverse && ensureSize(collection);\n    var iterator = collection.__iterator(ITERATE_ENTRIES, !reverse);\n    return new Iterator(function () {\n      var step = iterator.next();\n      if (step.done) {\n        return step;\n      }\n      var entry = step.value;\n      return iteratorValue(\n        type,\n        useKeys ? entry[0] : reverse ? this$1$1.size - ++i : i++,\n        entry[1],\n        step\n      );\n    });\n  };\n  return reversedSequence;\n}\n\nfunction filterFactory(collection, predicate, context, useKeys) {\n  var filterSequence = makeSequence(collection);\n  if (useKeys) {\n    filterSequence.has = function (key) {\n      var v = collection.get(key, NOT_SET);\n      return v !== NOT_SET && !!predicate.call(context, v, key, collection);\n    };\n    filterSequence.get = function (key, notSetValue) {\n      var v = collection.get(key, NOT_SET);\n      return v !== NOT_SET && predicate.call(context, v, key, collection)\n        ? v\n        : notSetValue;\n    };\n  }\n  filterSequence.__iterateUncached = function (fn, reverse) {\n    var this$1$1 = this;\n\n    var iterations = 0;\n    collection.__iterate(function (v, k, c) {\n      if (predicate.call(context, v, k, c)) {\n        iterations++;\n        return fn(v, useKeys ? k : iterations - 1, this$1$1);\n      }\n    }, reverse);\n    return iterations;\n  };\n  filterSequence.__iteratorUncached = function (type, reverse) {\n    var iterator = collection.__iterator(ITERATE_ENTRIES, reverse);\n    var iterations = 0;\n    return new Iterator(function () {\n      while (true) {\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        var key = entry[0];\n        var value = entry[1];\n        if (predicate.call(context, value, key, collection)) {\n          return iteratorValue(type, useKeys ? key : iterations++, value, step);\n        }\n      }\n    });\n  };\n  return filterSequence;\n}\n\nfunction countByFactory(collection, grouper, context) {\n  var groups = Map().asMutable();\n  collection.__iterate(function (v, k) {\n    groups.update(grouper.call(context, v, k, collection), 0, function (a) { return a + 1; });\n  });\n  return groups.asImmutable();\n}\n\nfunction groupByFactory(collection, grouper, context) {\n  var isKeyedIter = isKeyed(collection);\n  var groups = (isOrdered(collection) ? OrderedMap() : Map()).asMutable();\n  collection.__iterate(function (v, k) {\n    groups.update(\n      grouper.call(context, v, k, collection),\n      function (a) { return ((a = a || []), a.push(isKeyedIter ? [k, v] : v), a); }\n    );\n  });\n  var coerce = collectionClass(collection);\n  return groups.map(function (arr) { return reify(collection, coerce(arr)); }).asImmutable();\n}\n\nfunction sliceFactory(collection, begin, end, useKeys) {\n  var originalSize = collection.size;\n\n  if (wholeSlice(begin, end, originalSize)) {\n    return collection;\n  }\n\n  var resolvedBegin = resolveBegin(begin, originalSize);\n  var resolvedEnd = resolveEnd(end, originalSize);\n\n  // begin or end will be NaN if they were provided as negative numbers and\n  // this collection's size is unknown. In that case, cache first so there is\n  // a known size and these do not resolve to NaN.\n  if (resolvedBegin !== resolvedBegin || resolvedEnd !== resolvedEnd) {\n    return sliceFactory(collection.toSeq().cacheResult(), begin, end, useKeys);\n  }\n\n  // Note: resolvedEnd is undefined when the original sequence's length is\n  // unknown and this slice did not supply an end and should contain all\n  // elements after resolvedBegin.\n  // In that case, resolvedSize will be NaN and sliceSize will remain undefined.\n  var resolvedSize = resolvedEnd - resolvedBegin;\n  var sliceSize;\n  if (resolvedSize === resolvedSize) {\n    sliceSize = resolvedSize < 0 ? 0 : resolvedSize;\n  }\n\n  var sliceSeq = makeSequence(collection);\n\n  // If collection.size is undefined, the size of the realized sliceSeq is\n  // unknown at this point unless the number of items to slice is 0\n  sliceSeq.size =\n    sliceSize === 0 ? sliceSize : (collection.size && sliceSize) || undefined;\n\n  if (!useKeys && isSeq(collection) && sliceSize >= 0) {\n    sliceSeq.get = function (index, notSetValue) {\n      index = wrapIndex(this, index);\n      return index >= 0 && index < sliceSize\n        ? collection.get(index + resolvedBegin, notSetValue)\n        : notSetValue;\n    };\n  }\n\n  sliceSeq.__iterateUncached = function (fn, reverse) {\n    var this$1$1 = this;\n\n    if (sliceSize === 0) {\n      return 0;\n    }\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var skipped = 0;\n    var isSkipping = true;\n    var iterations = 0;\n    collection.__iterate(function (v, k) {\n      if (!(isSkipping && (isSkipping = skipped++ < resolvedBegin))) {\n        iterations++;\n        return (\n          fn(v, useKeys ? k : iterations - 1, this$1$1) !== false &&\n          iterations !== sliceSize\n        );\n      }\n    });\n    return iterations;\n  };\n\n  sliceSeq.__iteratorUncached = function (type, reverse) {\n    if (sliceSize !== 0 && reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    // Don't bother instantiating parent iterator if taking 0.\n    if (sliceSize === 0) {\n      return new Iterator(iteratorDone);\n    }\n    var iterator = collection.__iterator(type, reverse);\n    var skipped = 0;\n    var iterations = 0;\n    return new Iterator(function () {\n      while (skipped++ < resolvedBegin) {\n        iterator.next();\n      }\n      if (++iterations > sliceSize) {\n        return iteratorDone();\n      }\n      var step = iterator.next();\n      if (useKeys || type === ITERATE_VALUES || step.done) {\n        return step;\n      }\n      if (type === ITERATE_KEYS) {\n        return iteratorValue(type, iterations - 1, undefined, step);\n      }\n      return iteratorValue(type, iterations - 1, step.value[1], step);\n    });\n  };\n\n  return sliceSeq;\n}\n\nfunction takeWhileFactory(collection, predicate, context) {\n  var takeSequence = makeSequence(collection);\n  takeSequence.__iterateUncached = function (fn, reverse) {\n    var this$1$1 = this;\n\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var iterations = 0;\n    collection.__iterate(\n      function (v, k, c) { return predicate.call(context, v, k, c) && ++iterations && fn(v, k, this$1$1); }\n    );\n    return iterations;\n  };\n  takeSequence.__iteratorUncached = function (type, reverse) {\n    var this$1$1 = this;\n\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var iterator = collection.__iterator(ITERATE_ENTRIES, reverse);\n    var iterating = true;\n    return new Iterator(function () {\n      if (!iterating) {\n        return iteratorDone();\n      }\n      var step = iterator.next();\n      if (step.done) {\n        return step;\n      }\n      var entry = step.value;\n      var k = entry[0];\n      var v = entry[1];\n      if (!predicate.call(context, v, k, this$1$1)) {\n        iterating = false;\n        return iteratorDone();\n      }\n      return type === ITERATE_ENTRIES ? step : iteratorValue(type, k, v, step);\n    });\n  };\n  return takeSequence;\n}\n\nfunction skipWhileFactory(collection, predicate, context, useKeys) {\n  var skipSequence = makeSequence(collection);\n  skipSequence.__iterateUncached = function (fn, reverse) {\n    var this$1$1 = this;\n\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var isSkipping = true;\n    var iterations = 0;\n    collection.__iterate(function (v, k, c) {\n      if (!(isSkipping && (isSkipping = predicate.call(context, v, k, c)))) {\n        iterations++;\n        return fn(v, useKeys ? k : iterations - 1, this$1$1);\n      }\n    });\n    return iterations;\n  };\n  skipSequence.__iteratorUncached = function (type, reverse) {\n    var this$1$1 = this;\n\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var iterator = collection.__iterator(ITERATE_ENTRIES, reverse);\n    var skipping = true;\n    var iterations = 0;\n    return new Iterator(function () {\n      var step;\n      var k;\n      var v;\n      do {\n        step = iterator.next();\n        if (step.done) {\n          if (useKeys || type === ITERATE_VALUES) {\n            return step;\n          }\n          if (type === ITERATE_KEYS) {\n            return iteratorValue(type, iterations++, undefined, step);\n          }\n          return iteratorValue(type, iterations++, step.value[1], step);\n        }\n        var entry = step.value;\n        k = entry[0];\n        v = entry[1];\n        skipping && (skipping = predicate.call(context, v, k, this$1$1));\n      } while (skipping);\n      return type === ITERATE_ENTRIES ? step : iteratorValue(type, k, v, step);\n    });\n  };\n  return skipSequence;\n}\n\nfunction concatFactory(collection, values) {\n  var isKeyedCollection = isKeyed(collection);\n  var iters = [collection]\n    .concat(values)\n    .map(function (v) {\n      if (!isCollection(v)) {\n        v = isKeyedCollection\n          ? keyedSeqFromValue(v)\n          : indexedSeqFromValue(Array.isArray(v) ? v : [v]);\n      } else if (isKeyedCollection) {\n        v = KeyedCollection(v);\n      }\n      return v;\n    })\n    .filter(function (v) { return v.size !== 0; });\n\n  if (iters.length === 0) {\n    return collection;\n  }\n\n  if (iters.length === 1) {\n    var singleton = iters[0];\n    if (\n      singleton === collection ||\n      (isKeyedCollection && isKeyed(singleton)) ||\n      (isIndexed(collection) && isIndexed(singleton))\n    ) {\n      return singleton;\n    }\n  }\n\n  var concatSeq = new ArraySeq(iters);\n  if (isKeyedCollection) {\n    concatSeq = concatSeq.toKeyedSeq();\n  } else if (!isIndexed(collection)) {\n    concatSeq = concatSeq.toSetSeq();\n  }\n  concatSeq = concatSeq.flatten(true);\n  concatSeq.size = iters.reduce(function (sum, seq) {\n    if (sum !== undefined) {\n      var size = seq.size;\n      if (size !== undefined) {\n        return sum + size;\n      }\n    }\n  }, 0);\n  return concatSeq;\n}\n\nfunction flattenFactory(collection, depth, useKeys) {\n  var flatSequence = makeSequence(collection);\n  flatSequence.__iterateUncached = function (fn, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var iterations = 0;\n    var stopped = false;\n    function flatDeep(iter, currentDepth) {\n      iter.__iterate(function (v, k) {\n        if ((!depth || currentDepth < depth) && isCollection(v)) {\n          flatDeep(v, currentDepth + 1);\n        } else {\n          iterations++;\n          if (fn(v, useKeys ? k : iterations - 1, flatSequence) === false) {\n            stopped = true;\n          }\n        }\n        return !stopped;\n      }, reverse);\n    }\n    flatDeep(collection, 0);\n    return iterations;\n  };\n  flatSequence.__iteratorUncached = function (type, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var iterator = collection.__iterator(type, reverse);\n    var stack = [];\n    var iterations = 0;\n    return new Iterator(function () {\n      while (iterator) {\n        var step = iterator.next();\n        if (step.done !== false) {\n          iterator = stack.pop();\n          continue;\n        }\n        var v = step.value;\n        if (type === ITERATE_ENTRIES) {\n          v = v[1];\n        }\n        if ((!depth || stack.length < depth) && isCollection(v)) {\n          stack.push(iterator);\n          iterator = v.__iterator(type, reverse);\n        } else {\n          return useKeys ? step : iteratorValue(type, iterations++, v, step);\n        }\n      }\n      return iteratorDone();\n    });\n  };\n  return flatSequence;\n}\n\nfunction flatMapFactory(collection, mapper, context) {\n  var coerce = collectionClass(collection);\n  return collection\n    .toSeq()\n    .map(function (v, k) { return coerce(mapper.call(context, v, k, collection)); })\n    .flatten(true);\n}\n\nfunction interposeFactory(collection, separator) {\n  var interposedSequence = makeSequence(collection);\n  interposedSequence.size = collection.size && collection.size * 2 - 1;\n  interposedSequence.__iterateUncached = function (fn, reverse) {\n    var this$1$1 = this;\n\n    var iterations = 0;\n    collection.__iterate(\n      function (v) { return (!iterations || fn(separator, iterations++, this$1$1) !== false) &&\n        fn(v, iterations++, this$1$1) !== false; },\n      reverse\n    );\n    return iterations;\n  };\n  interposedSequence.__iteratorUncached = function (type, reverse) {\n    var iterator = collection.__iterator(ITERATE_VALUES, reverse);\n    var iterations = 0;\n    var step;\n    return new Iterator(function () {\n      if (!step || iterations % 2) {\n        step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n      }\n      return iterations % 2\n        ? iteratorValue(type, iterations++, separator)\n        : iteratorValue(type, iterations++, step.value, step);\n    });\n  };\n  return interposedSequence;\n}\n\nfunction sortFactory(collection, comparator, mapper) {\n  if (!comparator) {\n    comparator = defaultComparator;\n  }\n  var isKeyedCollection = isKeyed(collection);\n  var index = 0;\n  var entries = collection\n    .toSeq()\n    .map(function (v, k) { return [k, v, index++, mapper ? mapper(v, k, collection) : v]; })\n    .valueSeq()\n    .toArray();\n  entries\n    .sort(function (a, b) { return comparator(a[3], b[3]) || a[2] - b[2]; })\n    .forEach(\n      isKeyedCollection\n        ? function (v, i) {\n            entries[i].length = 2;\n          }\n        : function (v, i) {\n            entries[i] = v[1];\n          }\n    );\n  return isKeyedCollection\n    ? KeyedSeq(entries)\n    : isIndexed(collection)\n    ? IndexedSeq(entries)\n    : SetSeq(entries);\n}\n\nfunction maxFactory(collection, comparator, mapper) {\n  if (!comparator) {\n    comparator = defaultComparator;\n  }\n  if (mapper) {\n    var entry = collection\n      .toSeq()\n      .map(function (v, k) { return [v, mapper(v, k, collection)]; })\n      .reduce(function (a, b) { return (maxCompare(comparator, a[1], b[1]) ? b : a); });\n    return entry && entry[0];\n  }\n  return collection.reduce(function (a, b) { return (maxCompare(comparator, a, b) ? b : a); });\n}\n\nfunction maxCompare(comparator, a, b) {\n  var comp = comparator(b, a);\n  // b is considered the new max if the comparator declares them equal, but\n  // they are not equal and b is in fact a nullish value.\n  return (\n    (comp === 0 && b !== a && (b === undefined || b === null || b !== b)) ||\n    comp > 0\n  );\n}\n\nfunction zipWithFactory(keyIter, zipper, iters, zipAll) {\n  var zipSequence = makeSequence(keyIter);\n  var sizes = new ArraySeq(iters).map(function (i) { return i.size; });\n  zipSequence.size = zipAll ? sizes.max() : sizes.min();\n  // Note: this a generic base implementation of __iterate in terms of\n  // __iterator which may be more generically useful in the future.\n  zipSequence.__iterate = function (fn, reverse) {\n    /* generic:\n    var iterator = this.__iterator(ITERATE_ENTRIES, reverse);\n    var step;\n    var iterations = 0;\n    while (!(step = iterator.next()).done) {\n      iterations++;\n      if (fn(step.value[1], step.value[0], this) === false) {\n        break;\n      }\n    }\n    return iterations;\n    */\n    // indexed:\n    var iterator = this.__iterator(ITERATE_VALUES, reverse);\n    var step;\n    var iterations = 0;\n    while (!(step = iterator.next()).done) {\n      if (fn(step.value, iterations++, this) === false) {\n        break;\n      }\n    }\n    return iterations;\n  };\n  zipSequence.__iteratorUncached = function (type, reverse) {\n    var iterators = iters.map(\n      function (i) { return ((i = Collection(i)), getIterator(reverse ? i.reverse() : i)); }\n    );\n    var iterations = 0;\n    var isDone = false;\n    return new Iterator(function () {\n      var steps;\n      if (!isDone) {\n        steps = iterators.map(function (i) { return i.next(); });\n        isDone = zipAll ? steps.every(function (s) { return s.done; }) : steps.some(function (s) { return s.done; });\n      }\n      if (isDone) {\n        return iteratorDone();\n      }\n      return iteratorValue(\n        type,\n        iterations++,\n        zipper.apply(\n          null,\n          steps.map(function (s) { return s.value; })\n        )\n      );\n    });\n  };\n  return zipSequence;\n}\n\n// #pragma Helper Functions\n\nfunction reify(iter, seq) {\n  return iter === seq ? iter : isSeq(iter) ? seq : iter.constructor(seq);\n}\n\nfunction validateEntry(entry) {\n  if (entry !== Object(entry)) {\n    throw new TypeError('Expected [K, V] tuple: ' + entry);\n  }\n}\n\nfunction collectionClass(collection) {\n  return isKeyed(collection)\n    ? KeyedCollection\n    : isIndexed(collection)\n    ? IndexedCollection\n    : SetCollection;\n}\n\nfunction makeSequence(collection) {\n  return Object.create(\n    (isKeyed(collection)\n      ? KeyedSeq\n      : isIndexed(collection)\n      ? IndexedSeq\n      : SetSeq\n    ).prototype\n  );\n}\n\nfunction cacheResultThrough() {\n  if (this._iter.cacheResult) {\n    this._iter.cacheResult();\n    this.size = this._iter.size;\n    return this;\n  }\n  return Seq.prototype.cacheResult.call(this);\n}\n\nfunction defaultComparator(a, b) {\n  if (a === undefined && b === undefined) {\n    return 0;\n  }\n\n  if (a === undefined) {\n    return 1;\n  }\n\n  if (b === undefined) {\n    return -1;\n  }\n\n  return a > b ? 1 : a < b ? -1 : 0;\n}\n\nfunction arrCopy(arr, offset) {\n  offset = offset || 0;\n  var len = Math.max(0, arr.length - offset);\n  var newArr = new Array(len);\n  for (var ii = 0; ii < len; ii++) {\n    newArr[ii] = arr[ii + offset];\n  }\n  return newArr;\n}\n\nfunction invariant(condition, error) {\n  if (!condition) { throw new Error(error); }\n}\n\nfunction assertNotInfinite(size) {\n  invariant(\n    size !== Infinity,\n    'Cannot perform this action with an infinite size.'\n  );\n}\n\nfunction coerceKeyPath(keyPath) {\n  if (isArrayLike(keyPath) && typeof keyPath !== 'string') {\n    return keyPath;\n  }\n  if (isOrdered(keyPath)) {\n    return keyPath.toArray();\n  }\n  throw new TypeError(\n    'Invalid keyPath: expected Ordered Collection or Array: ' + keyPath\n  );\n}\n\nvar toString = Object.prototype.toString;\n\nfunction isPlainObject(value) {\n  // The base prototype's toString deals with Argument objects and native namespaces like Math\n  if (\n    !value ||\n    typeof value !== 'object' ||\n    toString.call(value) !== '[object Object]'\n  ) {\n    return false;\n  }\n\n  var proto = Object.getPrototypeOf(value);\n  if (proto === null) {\n    return true;\n  }\n\n  // Iteratively going up the prototype chain is needed for cross-realm environments (differing contexts, iframes, etc)\n  var parentProto = proto;\n  var nextProto = Object.getPrototypeOf(proto);\n  while (nextProto !== null) {\n    parentProto = nextProto;\n    nextProto = Object.getPrototypeOf(parentProto);\n  }\n  return parentProto === proto;\n}\n\n/**\n * Returns true if the value is a potentially-persistent data structure, either\n * provided by Immutable.js or a plain Array or Object.\n */\nfunction isDataStructure(value) {\n  return (\n    typeof value === 'object' &&\n    (isImmutable(value) || Array.isArray(value) || isPlainObject(value))\n  );\n}\n\nfunction quoteString(value) {\n  try {\n    return typeof value === 'string' ? JSON.stringify(value) : String(value);\n  } catch (_ignoreError) {\n    return JSON.stringify(value);\n  }\n}\n\nfunction has(collection, key) {\n  return isImmutable(collection)\n    ? collection.has(key)\n    : isDataStructure(collection) && hasOwnProperty.call(collection, key);\n}\n\nfunction get(collection, key, notSetValue) {\n  return isImmutable(collection)\n    ? collection.get(key, notSetValue)\n    : !has(collection, key)\n    ? notSetValue\n    : typeof collection.get === 'function'\n    ? collection.get(key)\n    : collection[key];\n}\n\nfunction shallowCopy(from) {\n  if (Array.isArray(from)) {\n    return arrCopy(from);\n  }\n  var to = {};\n  for (var key in from) {\n    if (hasOwnProperty.call(from, key)) {\n      to[key] = from[key];\n    }\n  }\n  return to;\n}\n\nfunction remove(collection, key) {\n  if (!isDataStructure(collection)) {\n    throw new TypeError(\n      'Cannot update non-data-structure value: ' + collection\n    );\n  }\n  if (isImmutable(collection)) {\n    if (!collection.remove) {\n      throw new TypeError(\n        'Cannot update immutable value without .remove() method: ' + collection\n      );\n    }\n    return collection.remove(key);\n  }\n  if (!hasOwnProperty.call(collection, key)) {\n    return collection;\n  }\n  var collectionCopy = shallowCopy(collection);\n  if (Array.isArray(collectionCopy)) {\n    collectionCopy.splice(key, 1);\n  } else {\n    delete collectionCopy[key];\n  }\n  return collectionCopy;\n}\n\nfunction set(collection, key, value) {\n  if (!isDataStructure(collection)) {\n    throw new TypeError(\n      'Cannot update non-data-structure value: ' + collection\n    );\n  }\n  if (isImmutable(collection)) {\n    if (!collection.set) {\n      throw new TypeError(\n        'Cannot update immutable value without .set() method: ' + collection\n      );\n    }\n    return collection.set(key, value);\n  }\n  if (hasOwnProperty.call(collection, key) && value === collection[key]) {\n    return collection;\n  }\n  var collectionCopy = shallowCopy(collection);\n  collectionCopy[key] = value;\n  return collectionCopy;\n}\n\nfunction updateIn$1(collection, keyPath, notSetValue, updater) {\n  if (!updater) {\n    updater = notSetValue;\n    notSetValue = undefined;\n  }\n  var updatedValue = updateInDeeply(\n    isImmutable(collection),\n    collection,\n    coerceKeyPath(keyPath),\n    0,\n    notSetValue,\n    updater\n  );\n  return updatedValue === NOT_SET ? notSetValue : updatedValue;\n}\n\nfunction updateInDeeply(\n  inImmutable,\n  existing,\n  keyPath,\n  i,\n  notSetValue,\n  updater\n) {\n  var wasNotSet = existing === NOT_SET;\n  if (i === keyPath.length) {\n    var existingValue = wasNotSet ? notSetValue : existing;\n    var newValue = updater(existingValue);\n    return newValue === existingValue ? existing : newValue;\n  }\n  if (!wasNotSet && !isDataStructure(existing)) {\n    throw new TypeError(\n      'Cannot update within non-data-structure value in path [' +\n        keyPath.slice(0, i).map(quoteString) +\n        ']: ' +\n        existing\n    );\n  }\n  var key = keyPath[i];\n  var nextExisting = wasNotSet ? NOT_SET : get(existing, key, NOT_SET);\n  var nextUpdated = updateInDeeply(\n    nextExisting === NOT_SET ? inImmutable : isImmutable(nextExisting),\n    nextExisting,\n    keyPath,\n    i + 1,\n    notSetValue,\n    updater\n  );\n  return nextUpdated === nextExisting\n    ? existing\n    : nextUpdated === NOT_SET\n    ? remove(existing, key)\n    : set(\n        wasNotSet ? (inImmutable ? emptyMap() : {}) : existing,\n        key,\n        nextUpdated\n      );\n}\n\nfunction setIn$1(collection, keyPath, value) {\n  return updateIn$1(collection, keyPath, NOT_SET, function () { return value; });\n}\n\nfunction setIn(keyPath, v) {\n  return setIn$1(this, keyPath, v);\n}\n\nfunction removeIn(collection, keyPath) {\n  return updateIn$1(collection, keyPath, function () { return NOT_SET; });\n}\n\nfunction deleteIn(keyPath) {\n  return removeIn(this, keyPath);\n}\n\nfunction update$1(collection, key, notSetValue, updater) {\n  return updateIn$1(collection, [key], notSetValue, updater);\n}\n\nfunction update(key, notSetValue, updater) {\n  return arguments.length === 1\n    ? key(this)\n    : update$1(this, key, notSetValue, updater);\n}\n\nfunction updateIn(keyPath, notSetValue, updater) {\n  return updateIn$1(this, keyPath, notSetValue, updater);\n}\n\nfunction merge$1() {\n  var iters = [], len = arguments.length;\n  while ( len-- ) iters[ len ] = arguments[ len ];\n\n  return mergeIntoKeyedWith(this, iters);\n}\n\nfunction mergeWith$1(merger) {\n  var iters = [], len = arguments.length - 1;\n  while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n  if (typeof merger !== 'function') {\n    throw new TypeError('Invalid merger function: ' + merger);\n  }\n  return mergeIntoKeyedWith(this, iters, merger);\n}\n\nfunction mergeIntoKeyedWith(collection, collections, merger) {\n  var iters = [];\n  for (var ii = 0; ii < collections.length; ii++) {\n    var collection$1 = KeyedCollection(collections[ii]);\n    if (collection$1.size !== 0) {\n      iters.push(collection$1);\n    }\n  }\n  if (iters.length === 0) {\n    return collection;\n  }\n  if (\n    collection.toSeq().size === 0 &&\n    !collection.__ownerID &&\n    iters.length === 1\n  ) {\n    return collection.constructor(iters[0]);\n  }\n  return collection.withMutations(function (collection) {\n    var mergeIntoCollection = merger\n      ? function (value, key) {\n          update$1(collection, key, NOT_SET, function (oldVal) { return oldVal === NOT_SET ? value : merger(oldVal, value, key); }\n          );\n        }\n      : function (value, key) {\n          collection.set(key, value);\n        };\n    for (var ii = 0; ii < iters.length; ii++) {\n      iters[ii].forEach(mergeIntoCollection);\n    }\n  });\n}\n\nfunction merge(collection) {\n  var sources = [], len = arguments.length - 1;\n  while ( len-- > 0 ) sources[ len ] = arguments[ len + 1 ];\n\n  return mergeWithSources(collection, sources);\n}\n\nfunction mergeWith(merger, collection) {\n  var sources = [], len = arguments.length - 2;\n  while ( len-- > 0 ) sources[ len ] = arguments[ len + 2 ];\n\n  return mergeWithSources(collection, sources, merger);\n}\n\nfunction mergeDeep$1(collection) {\n  var sources = [], len = arguments.length - 1;\n  while ( len-- > 0 ) sources[ len ] = arguments[ len + 1 ];\n\n  return mergeDeepWithSources(collection, sources);\n}\n\nfunction mergeDeepWith$1(merger, collection) {\n  var sources = [], len = arguments.length - 2;\n  while ( len-- > 0 ) sources[ len ] = arguments[ len + 2 ];\n\n  return mergeDeepWithSources(collection, sources, merger);\n}\n\nfunction mergeDeepWithSources(collection, sources, merger) {\n  return mergeWithSources(collection, sources, deepMergerWith(merger));\n}\n\nfunction mergeWithSources(collection, sources, merger) {\n  if (!isDataStructure(collection)) {\n    throw new TypeError(\n      'Cannot merge into non-data-structure value: ' + collection\n    );\n  }\n  if (isImmutable(collection)) {\n    return typeof merger === 'function' && collection.mergeWith\n      ? collection.mergeWith.apply(collection, [ merger ].concat( sources ))\n      : collection.merge\n      ? collection.merge.apply(collection, sources)\n      : collection.concat.apply(collection, sources);\n  }\n  var isArray = Array.isArray(collection);\n  var merged = collection;\n  var Collection = isArray ? IndexedCollection : KeyedCollection;\n  var mergeItem = isArray\n    ? function (value) {\n        // Copy on write\n        if (merged === collection) {\n          merged = shallowCopy(merged);\n        }\n        merged.push(value);\n      }\n    : function (value, key) {\n        var hasVal = hasOwnProperty.call(merged, key);\n        var nextVal =\n          hasVal && merger ? merger(merged[key], value, key) : value;\n        if (!hasVal || nextVal !== merged[key]) {\n          // Copy on write\n          if (merged === collection) {\n            merged = shallowCopy(merged);\n          }\n          merged[key] = nextVal;\n        }\n      };\n  for (var i = 0; i < sources.length; i++) {\n    Collection(sources[i]).forEach(mergeItem);\n  }\n  return merged;\n}\n\nfunction deepMergerWith(merger) {\n  function deepMerger(oldValue, newValue, key) {\n    return isDataStructure(oldValue) &&\n      isDataStructure(newValue) &&\n      areMergeable(oldValue, newValue)\n      ? mergeWithSources(oldValue, [newValue], deepMerger)\n      : merger\n      ? merger(oldValue, newValue, key)\n      : newValue;\n  }\n  return deepMerger;\n}\n\n/**\n * It's unclear what the desired behavior is for merging two collections that\n * fall into separate categories between keyed, indexed, or set-like, so we only\n * consider them mergeable if they fall into the same category.\n */\nfunction areMergeable(oldDataStructure, newDataStructure) {\n  var oldSeq = Seq(oldDataStructure);\n  var newSeq = Seq(newDataStructure);\n  // This logic assumes that a sequence can only fall into one of the three\n  // categories mentioned above (since there's no `isSetLike()` method).\n  return (\n    isIndexed(oldSeq) === isIndexed(newSeq) &&\n    isKeyed(oldSeq) === isKeyed(newSeq)\n  );\n}\n\nfunction mergeDeep() {\n  var iters = [], len = arguments.length;\n  while ( len-- ) iters[ len ] = arguments[ len ];\n\n  return mergeDeepWithSources(this, iters);\n}\n\nfunction mergeDeepWith(merger) {\n  var iters = [], len = arguments.length - 1;\n  while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n  return mergeDeepWithSources(this, iters, merger);\n}\n\nfunction mergeIn(keyPath) {\n  var iters = [], len = arguments.length - 1;\n  while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n  return updateIn$1(this, keyPath, emptyMap(), function (m) { return mergeWithSources(m, iters); });\n}\n\nfunction mergeDeepIn(keyPath) {\n  var iters = [], len = arguments.length - 1;\n  while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n  return updateIn$1(this, keyPath, emptyMap(), function (m) { return mergeDeepWithSources(m, iters); }\n  );\n}\n\nfunction withMutations(fn) {\n  var mutable = this.asMutable();\n  fn(mutable);\n  return mutable.wasAltered() ? mutable.__ensureOwner(this.__ownerID) : this;\n}\n\nfunction asMutable() {\n  return this.__ownerID ? this : this.__ensureOwner(new OwnerID());\n}\n\nfunction asImmutable() {\n  return this.__ensureOwner();\n}\n\nfunction wasAltered() {\n  return this.__altered;\n}\n\nvar Map = /*@__PURE__*/(function (KeyedCollection) {\n  function Map(value) {\n    return value === undefined || value === null\n      ? emptyMap()\n      : isMap(value) && !isOrdered(value)\n      ? value\n      : emptyMap().withMutations(function (map) {\n          var iter = KeyedCollection(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function (v, k) { return map.set(k, v); });\n        });\n  }\n\n  if ( KeyedCollection ) Map.__proto__ = KeyedCollection;\n  Map.prototype = Object.create( KeyedCollection && KeyedCollection.prototype );\n  Map.prototype.constructor = Map;\n\n  Map.of = function of () {\n    var keyValues = [], len = arguments.length;\n    while ( len-- ) keyValues[ len ] = arguments[ len ];\n\n    return emptyMap().withMutations(function (map) {\n      for (var i = 0; i < keyValues.length; i += 2) {\n        if (i + 1 >= keyValues.length) {\n          throw new Error('Missing value for key: ' + keyValues[i]);\n        }\n        map.set(keyValues[i], keyValues[i + 1]);\n      }\n    });\n  };\n\n  Map.prototype.toString = function toString () {\n    return this.__toString('Map {', '}');\n  };\n\n  // @pragma Access\n\n  Map.prototype.get = function get (k, notSetValue) {\n    return this._root\n      ? this._root.get(0, undefined, k, notSetValue)\n      : notSetValue;\n  };\n\n  // @pragma Modification\n\n  Map.prototype.set = function set (k, v) {\n    return updateMap(this, k, v);\n  };\n\n  Map.prototype.remove = function remove (k) {\n    return updateMap(this, k, NOT_SET);\n  };\n\n  Map.prototype.deleteAll = function deleteAll (keys) {\n    var collection = Collection(keys);\n\n    if (collection.size === 0) {\n      return this;\n    }\n\n    return this.withMutations(function (map) {\n      collection.forEach(function (key) { return map.remove(key); });\n    });\n  };\n\n  Map.prototype.clear = function clear () {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = 0;\n      this._root = null;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return emptyMap();\n  };\n\n  // @pragma Composition\n\n  Map.prototype.sort = function sort (comparator) {\n    // Late binding\n    return OrderedMap(sortFactory(this, comparator));\n  };\n\n  Map.prototype.sortBy = function sortBy (mapper, comparator) {\n    // Late binding\n    return OrderedMap(sortFactory(this, comparator, mapper));\n  };\n\n  Map.prototype.map = function map (mapper, context) {\n    var this$1$1 = this;\n\n    return this.withMutations(function (map) {\n      map.forEach(function (value, key) {\n        map.set(key, mapper.call(context, value, key, this$1$1));\n      });\n    });\n  };\n\n  // @pragma Mutability\n\n  Map.prototype.__iterator = function __iterator (type, reverse) {\n    return new MapIterator(this, type, reverse);\n  };\n\n  Map.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1$1 = this;\n\n    var iterations = 0;\n    this._root &&\n      this._root.iterate(function (entry) {\n        iterations++;\n        return fn(entry[1], entry[0], this$1$1);\n      }, reverse);\n    return iterations;\n  };\n\n  Map.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    if (!ownerID) {\n      if (this.size === 0) {\n        return emptyMap();\n      }\n      this.__ownerID = ownerID;\n      this.__altered = false;\n      return this;\n    }\n    return makeMap(this.size, this._root, ownerID, this.__hash);\n  };\n\n  return Map;\n}(KeyedCollection));\n\nMap.isMap = isMap;\n\nvar MapPrototype = Map.prototype;\nMapPrototype[IS_MAP_SYMBOL] = true;\nMapPrototype[DELETE] = MapPrototype.remove;\nMapPrototype.removeAll = MapPrototype.deleteAll;\nMapPrototype.setIn = setIn;\nMapPrototype.removeIn = MapPrototype.deleteIn = deleteIn;\nMapPrototype.update = update;\nMapPrototype.updateIn = updateIn;\nMapPrototype.merge = MapPrototype.concat = merge$1;\nMapPrototype.mergeWith = mergeWith$1;\nMapPrototype.mergeDeep = mergeDeep;\nMapPrototype.mergeDeepWith = mergeDeepWith;\nMapPrototype.mergeIn = mergeIn;\nMapPrototype.mergeDeepIn = mergeDeepIn;\nMapPrototype.withMutations = withMutations;\nMapPrototype.wasAltered = wasAltered;\nMapPrototype.asImmutable = asImmutable;\nMapPrototype['@@transducer/init'] = MapPrototype.asMutable = asMutable;\nMapPrototype['@@transducer/step'] = function (result, arr) {\n  return result.set(arr[0], arr[1]);\n};\nMapPrototype['@@transducer/result'] = function (obj) {\n  return obj.asImmutable();\n};\n\n// #pragma Trie Nodes\n\nvar ArrayMapNode = function ArrayMapNode(ownerID, entries) {\n  this.ownerID = ownerID;\n  this.entries = entries;\n};\n\nArrayMapNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  var entries = this.entries;\n  for (var ii = 0, len = entries.length; ii < len; ii++) {\n    if (is(key, entries[ii][0])) {\n      return entries[ii][1];\n    }\n  }\n  return notSetValue;\n};\n\nArrayMapNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  var removed = value === NOT_SET;\n\n  var entries = this.entries;\n  var idx = 0;\n  var len = entries.length;\n  for (; idx < len; idx++) {\n    if (is(key, entries[idx][0])) {\n      break;\n    }\n  }\n  var exists = idx < len;\n\n  if (exists ? entries[idx][1] === value : removed) {\n    return this;\n  }\n\n  SetRef(didAlter);\n  (removed || !exists) && SetRef(didChangeSize);\n\n  if (removed && entries.length === 1) {\n    return; // undefined\n  }\n\n  if (!exists && !removed && entries.length >= MAX_ARRAY_MAP_SIZE) {\n    return createNodes(ownerID, entries, key, value);\n  }\n\n  var isEditable = ownerID && ownerID === this.ownerID;\n  var newEntries = isEditable ? entries : arrCopy(entries);\n\n  if (exists) {\n    if (removed) {\n      idx === len - 1\n        ? newEntries.pop()\n        : (newEntries[idx] = newEntries.pop());\n    } else {\n      newEntries[idx] = [key, value];\n    }\n  } else {\n    newEntries.push([key, value]);\n  }\n\n  if (isEditable) {\n    this.entries = newEntries;\n    return this;\n  }\n\n  return new ArrayMapNode(ownerID, newEntries);\n};\n\nvar BitmapIndexedNode = function BitmapIndexedNode(ownerID, bitmap, nodes) {\n  this.ownerID = ownerID;\n  this.bitmap = bitmap;\n  this.nodes = nodes;\n};\n\nBitmapIndexedNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n  var bit = 1 << ((shift === 0 ? keyHash : keyHash >>> shift) & MASK);\n  var bitmap = this.bitmap;\n  return (bitmap & bit) === 0\n    ? notSetValue\n    : this.nodes[popCount(bitmap & (bit - 1))].get(\n        shift + SHIFT,\n        keyHash,\n        key,\n        notSetValue\n      );\n};\n\nBitmapIndexedNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n  var keyHashFrag = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n  var bit = 1 << keyHashFrag;\n  var bitmap = this.bitmap;\n  var exists = (bitmap & bit) !== 0;\n\n  if (!exists && value === NOT_SET) {\n    return this;\n  }\n\n  var idx = popCount(bitmap & (bit - 1));\n  var nodes = this.nodes;\n  var node = exists ? nodes[idx] : undefined;\n  var newNode = updateNode(\n    node,\n    ownerID,\n    shift + SHIFT,\n    keyHash,\n    key,\n    value,\n    didChangeSize,\n    didAlter\n  );\n\n  if (newNode === node) {\n    return this;\n  }\n\n  if (!exists && newNode && nodes.length >= MAX_BITMAP_INDEXED_SIZE) {\n    return expandNodes(ownerID, nodes, bitmap, keyHashFrag, newNode);\n  }\n\n  if (\n    exists &&\n    !newNode &&\n    nodes.length === 2 &&\n    isLeafNode(nodes[idx ^ 1])\n  ) {\n    return nodes[idx ^ 1];\n  }\n\n  if (exists && newNode && nodes.length === 1 && isLeafNode(newNode)) {\n    return newNode;\n  }\n\n  var isEditable = ownerID && ownerID === this.ownerID;\n  var newBitmap = exists ? (newNode ? bitmap : bitmap ^ bit) : bitmap | bit;\n  var newNodes = exists\n    ? newNode\n      ? setAt(nodes, idx, newNode, isEditable)\n      : spliceOut(nodes, idx, isEditable)\n    : spliceIn(nodes, idx, newNode, isEditable);\n\n  if (isEditable) {\n    this.bitmap = newBitmap;\n    this.nodes = newNodes;\n    return this;\n  }\n\n  return new BitmapIndexedNode(ownerID, newBitmap, newNodes);\n};\n\nvar HashArrayMapNode = function HashArrayMapNode(ownerID, count, nodes) {\n  this.ownerID = ownerID;\n  this.count = count;\n  this.nodes = nodes;\n};\n\nHashArrayMapNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n  var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n  var node = this.nodes[idx];\n  return node\n    ? node.get(shift + SHIFT, keyHash, key, notSetValue)\n    : notSetValue;\n};\n\nHashArrayMapNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n  var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n  var removed = value === NOT_SET;\n  var nodes = this.nodes;\n  var node = nodes[idx];\n\n  if (removed && !node) {\n    return this;\n  }\n\n  var newNode = updateNode(\n    node,\n    ownerID,\n    shift + SHIFT,\n    keyHash,\n    key,\n    value,\n    didChangeSize,\n    didAlter\n  );\n  if (newNode === node) {\n    return this;\n  }\n\n  var newCount = this.count;\n  if (!node) {\n    newCount++;\n  } else if (!newNode) {\n    newCount--;\n    if (newCount < MIN_HASH_ARRAY_MAP_SIZE) {\n      return packNodes(ownerID, nodes, newCount, idx);\n    }\n  }\n\n  var isEditable = ownerID && ownerID === this.ownerID;\n  var newNodes = setAt(nodes, idx, newNode, isEditable);\n\n  if (isEditable) {\n    this.count = newCount;\n    this.nodes = newNodes;\n    return this;\n  }\n\n  return new HashArrayMapNode(ownerID, newCount, newNodes);\n};\n\nvar HashCollisionNode = function HashCollisionNode(ownerID, keyHash, entries) {\n  this.ownerID = ownerID;\n  this.keyHash = keyHash;\n  this.entries = entries;\n};\n\nHashCollisionNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  var entries = this.entries;\n  for (var ii = 0, len = entries.length; ii < len; ii++) {\n    if (is(key, entries[ii][0])) {\n      return entries[ii][1];\n    }\n  }\n  return notSetValue;\n};\n\nHashCollisionNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n\n  var removed = value === NOT_SET;\n\n  if (keyHash !== this.keyHash) {\n    if (removed) {\n      return this;\n    }\n    SetRef(didAlter);\n    SetRef(didChangeSize);\n    return mergeIntoNode(this, ownerID, shift, keyHash, [key, value]);\n  }\n\n  var entries = this.entries;\n  var idx = 0;\n  var len = entries.length;\n  for (; idx < len; idx++) {\n    if (is(key, entries[idx][0])) {\n      break;\n    }\n  }\n  var exists = idx < len;\n\n  if (exists ? entries[idx][1] === value : removed) {\n    return this;\n  }\n\n  SetRef(didAlter);\n  (removed || !exists) && SetRef(didChangeSize);\n\n  if (removed && len === 2) {\n    return new ValueNode(ownerID, this.keyHash, entries[idx ^ 1]);\n  }\n\n  var isEditable = ownerID && ownerID === this.ownerID;\n  var newEntries = isEditable ? entries : arrCopy(entries);\n\n  if (exists) {\n    if (removed) {\n      idx === len - 1\n        ? newEntries.pop()\n        : (newEntries[idx] = newEntries.pop());\n    } else {\n      newEntries[idx] = [key, value];\n    }\n  } else {\n    newEntries.push([key, value]);\n  }\n\n  if (isEditable) {\n    this.entries = newEntries;\n    return this;\n  }\n\n  return new HashCollisionNode(ownerID, this.keyHash, newEntries);\n};\n\nvar ValueNode = function ValueNode(ownerID, keyHash, entry) {\n  this.ownerID = ownerID;\n  this.keyHash = keyHash;\n  this.entry = entry;\n};\n\nValueNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  return is(key, this.entry[0]) ? this.entry[1] : notSetValue;\n};\n\nValueNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  var removed = value === NOT_SET;\n  var keyMatch = is(key, this.entry[0]);\n  if (keyMatch ? value === this.entry[1] : removed) {\n    return this;\n  }\n\n  SetRef(didAlter);\n\n  if (removed) {\n    SetRef(didChangeSize);\n    return; // undefined\n  }\n\n  if (keyMatch) {\n    if (ownerID && ownerID === this.ownerID) {\n      this.entry[1] = value;\n      return this;\n    }\n    return new ValueNode(ownerID, this.keyHash, [key, value]);\n  }\n\n  SetRef(didChangeSize);\n  return mergeIntoNode(this, ownerID, shift, hash(key), [key, value]);\n};\n\n// #pragma Iterators\n\nArrayMapNode.prototype.iterate = HashCollisionNode.prototype.iterate =\n  function (fn, reverse) {\n    var entries = this.entries;\n    for (var ii = 0, maxIndex = entries.length - 1; ii <= maxIndex; ii++) {\n      if (fn(entries[reverse ? maxIndex - ii : ii]) === false) {\n        return false;\n      }\n    }\n  };\n\nBitmapIndexedNode.prototype.iterate = HashArrayMapNode.prototype.iterate =\n  function (fn, reverse) {\n    var nodes = this.nodes;\n    for (var ii = 0, maxIndex = nodes.length - 1; ii <= maxIndex; ii++) {\n      var node = nodes[reverse ? maxIndex - ii : ii];\n      if (node && node.iterate(fn, reverse) === false) {\n        return false;\n      }\n    }\n  };\n\n// eslint-disable-next-line no-unused-vars\nValueNode.prototype.iterate = function (fn, reverse) {\n  return fn(this.entry);\n};\n\nvar MapIterator = /*@__PURE__*/(function (Iterator) {\n  function MapIterator(map, type, reverse) {\n    this._type = type;\n    this._reverse = reverse;\n    this._stack = map._root && mapIteratorFrame(map._root);\n  }\n\n  if ( Iterator ) MapIterator.__proto__ = Iterator;\n  MapIterator.prototype = Object.create( Iterator && Iterator.prototype );\n  MapIterator.prototype.constructor = MapIterator;\n\n  MapIterator.prototype.next = function next () {\n    var type = this._type;\n    var stack = this._stack;\n    while (stack) {\n      var node = stack.node;\n      var index = stack.index++;\n      var maxIndex = (void 0);\n      if (node.entry) {\n        if (index === 0) {\n          return mapIteratorValue(type, node.entry);\n        }\n      } else if (node.entries) {\n        maxIndex = node.entries.length - 1;\n        if (index <= maxIndex) {\n          return mapIteratorValue(\n            type,\n            node.entries[this._reverse ? maxIndex - index : index]\n          );\n        }\n      } else {\n        maxIndex = node.nodes.length - 1;\n        if (index <= maxIndex) {\n          var subNode = node.nodes[this._reverse ? maxIndex - index : index];\n          if (subNode) {\n            if (subNode.entry) {\n              return mapIteratorValue(type, subNode.entry);\n            }\n            stack = this._stack = mapIteratorFrame(subNode, stack);\n          }\n          continue;\n        }\n      }\n      stack = this._stack = this._stack.__prev;\n    }\n    return iteratorDone();\n  };\n\n  return MapIterator;\n}(Iterator));\n\nfunction mapIteratorValue(type, entry) {\n  return iteratorValue(type, entry[0], entry[1]);\n}\n\nfunction mapIteratorFrame(node, prev) {\n  return {\n    node: node,\n    index: 0,\n    __prev: prev,\n  };\n}\n\nfunction makeMap(size, root, ownerID, hash) {\n  var map = Object.create(MapPrototype);\n  map.size = size;\n  map._root = root;\n  map.__ownerID = ownerID;\n  map.__hash = hash;\n  map.__altered = false;\n  return map;\n}\n\nvar EMPTY_MAP;\nfunction emptyMap() {\n  return EMPTY_MAP || (EMPTY_MAP = makeMap(0));\n}\n\nfunction updateMap(map, k, v) {\n  var newRoot;\n  var newSize;\n  if (!map._root) {\n    if (v === NOT_SET) {\n      return map;\n    }\n    newSize = 1;\n    newRoot = new ArrayMapNode(map.__ownerID, [[k, v]]);\n  } else {\n    var didChangeSize = MakeRef();\n    var didAlter = MakeRef();\n    newRoot = updateNode(\n      map._root,\n      map.__ownerID,\n      0,\n      undefined,\n      k,\n      v,\n      didChangeSize,\n      didAlter\n    );\n    if (!didAlter.value) {\n      return map;\n    }\n    newSize = map.size + (didChangeSize.value ? (v === NOT_SET ? -1 : 1) : 0);\n  }\n  if (map.__ownerID) {\n    map.size = newSize;\n    map._root = newRoot;\n    map.__hash = undefined;\n    map.__altered = true;\n    return map;\n  }\n  return newRoot ? makeMap(newSize, newRoot) : emptyMap();\n}\n\nfunction updateNode(\n  node,\n  ownerID,\n  shift,\n  keyHash,\n  key,\n  value,\n  didChangeSize,\n  didAlter\n) {\n  if (!node) {\n    if (value === NOT_SET) {\n      return node;\n    }\n    SetRef(didAlter);\n    SetRef(didChangeSize);\n    return new ValueNode(ownerID, keyHash, [key, value]);\n  }\n  return node.update(\n    ownerID,\n    shift,\n    keyHash,\n    key,\n    value,\n    didChangeSize,\n    didAlter\n  );\n}\n\nfunction isLeafNode(node) {\n  return (\n    node.constructor === ValueNode || node.constructor === HashCollisionNode\n  );\n}\n\nfunction mergeIntoNode(node, ownerID, shift, keyHash, entry) {\n  if (node.keyHash === keyHash) {\n    return new HashCollisionNode(ownerID, keyHash, [node.entry, entry]);\n  }\n\n  var idx1 = (shift === 0 ? node.keyHash : node.keyHash >>> shift) & MASK;\n  var idx2 = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n\n  var newNode;\n  var nodes =\n    idx1 === idx2\n      ? [mergeIntoNode(node, ownerID, shift + SHIFT, keyHash, entry)]\n      : ((newNode = new ValueNode(ownerID, keyHash, entry)),\n        idx1 < idx2 ? [node, newNode] : [newNode, node]);\n\n  return new BitmapIndexedNode(ownerID, (1 << idx1) | (1 << idx2), nodes);\n}\n\nfunction createNodes(ownerID, entries, key, value) {\n  if (!ownerID) {\n    ownerID = new OwnerID();\n  }\n  var node = new ValueNode(ownerID, hash(key), [key, value]);\n  for (var ii = 0; ii < entries.length; ii++) {\n    var entry = entries[ii];\n    node = node.update(ownerID, 0, undefined, entry[0], entry[1]);\n  }\n  return node;\n}\n\nfunction packNodes(ownerID, nodes, count, excluding) {\n  var bitmap = 0;\n  var packedII = 0;\n  var packedNodes = new Array(count);\n  for (var ii = 0, bit = 1, len = nodes.length; ii < len; ii++, bit <<= 1) {\n    var node = nodes[ii];\n    if (node !== undefined && ii !== excluding) {\n      bitmap |= bit;\n      packedNodes[packedII++] = node;\n    }\n  }\n  return new BitmapIndexedNode(ownerID, bitmap, packedNodes);\n}\n\nfunction expandNodes(ownerID, nodes, bitmap, including, node) {\n  var count = 0;\n  var expandedNodes = new Array(SIZE);\n  for (var ii = 0; bitmap !== 0; ii++, bitmap >>>= 1) {\n    expandedNodes[ii] = bitmap & 1 ? nodes[count++] : undefined;\n  }\n  expandedNodes[including] = node;\n  return new HashArrayMapNode(ownerID, count + 1, expandedNodes);\n}\n\nfunction popCount(x) {\n  x -= (x >> 1) & 0x55555555;\n  x = (x & 0x33333333) + ((x >> 2) & 0x33333333);\n  x = (x + (x >> 4)) & 0x0f0f0f0f;\n  x += x >> 8;\n  x += x >> 16;\n  return x & 0x7f;\n}\n\nfunction setAt(array, idx, val, canEdit) {\n  var newArray = canEdit ? array : arrCopy(array);\n  newArray[idx] = val;\n  return newArray;\n}\n\nfunction spliceIn(array, idx, val, canEdit) {\n  var newLen = array.length + 1;\n  if (canEdit && idx + 1 === newLen) {\n    array[idx] = val;\n    return array;\n  }\n  var newArray = new Array(newLen);\n  var after = 0;\n  for (var ii = 0; ii < newLen; ii++) {\n    if (ii === idx) {\n      newArray[ii] = val;\n      after = -1;\n    } else {\n      newArray[ii] = array[ii + after];\n    }\n  }\n  return newArray;\n}\n\nfunction spliceOut(array, idx, canEdit) {\n  var newLen = array.length - 1;\n  if (canEdit && idx === newLen) {\n    array.pop();\n    return array;\n  }\n  var newArray = new Array(newLen);\n  var after = 0;\n  for (var ii = 0; ii < newLen; ii++) {\n    if (ii === idx) {\n      after = 1;\n    }\n    newArray[ii] = array[ii + after];\n  }\n  return newArray;\n}\n\nvar MAX_ARRAY_MAP_SIZE = SIZE / 4;\nvar MAX_BITMAP_INDEXED_SIZE = SIZE / 2;\nvar MIN_HASH_ARRAY_MAP_SIZE = SIZE / 4;\n\nvar IS_LIST_SYMBOL = '@@__IMMUTABLE_LIST__@@';\n\nfunction isList(maybeList) {\n  return Boolean(maybeList && maybeList[IS_LIST_SYMBOL]);\n}\n\nvar List = /*@__PURE__*/(function (IndexedCollection) {\n  function List(value) {\n    var empty = emptyList();\n    if (value === undefined || value === null) {\n      return empty;\n    }\n    if (isList(value)) {\n      return value;\n    }\n    var iter = IndexedCollection(value);\n    var size = iter.size;\n    if (size === 0) {\n      return empty;\n    }\n    assertNotInfinite(size);\n    if (size > 0 && size < SIZE) {\n      return makeList(0, size, SHIFT, null, new VNode(iter.toArray()));\n    }\n    return empty.withMutations(function (list) {\n      list.setSize(size);\n      iter.forEach(function (v, i) { return list.set(i, v); });\n    });\n  }\n\n  if ( IndexedCollection ) List.__proto__ = IndexedCollection;\n  List.prototype = Object.create( IndexedCollection && IndexedCollection.prototype );\n  List.prototype.constructor = List;\n\n  List.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  List.prototype.toString = function toString () {\n    return this.__toString('List [', ']');\n  };\n\n  // @pragma Access\n\n  List.prototype.get = function get (index, notSetValue) {\n    index = wrapIndex(this, index);\n    if (index >= 0 && index < this.size) {\n      index += this._origin;\n      var node = listNodeFor(this, index);\n      return node && node.array[index & MASK];\n    }\n    return notSetValue;\n  };\n\n  // @pragma Modification\n\n  List.prototype.set = function set (index, value) {\n    return updateList(this, index, value);\n  };\n\n  List.prototype.remove = function remove (index) {\n    return !this.has(index)\n      ? this\n      : index === 0\n      ? this.shift()\n      : index === this.size - 1\n      ? this.pop()\n      : this.splice(index, 1);\n  };\n\n  List.prototype.insert = function insert (index, value) {\n    return this.splice(index, 0, value);\n  };\n\n  List.prototype.clear = function clear () {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = this._origin = this._capacity = 0;\n      this._level = SHIFT;\n      this._root = this._tail = this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return emptyList();\n  };\n\n  List.prototype.push = function push (/*...values*/) {\n    var values = arguments;\n    var oldSize = this.size;\n    return this.withMutations(function (list) {\n      setListBounds(list, 0, oldSize + values.length);\n      for (var ii = 0; ii < values.length; ii++) {\n        list.set(oldSize + ii, values[ii]);\n      }\n    });\n  };\n\n  List.prototype.pop = function pop () {\n    return setListBounds(this, 0, -1);\n  };\n\n  List.prototype.unshift = function unshift (/*...values*/) {\n    var values = arguments;\n    return this.withMutations(function (list) {\n      setListBounds(list, -values.length);\n      for (var ii = 0; ii < values.length; ii++) {\n        list.set(ii, values[ii]);\n      }\n    });\n  };\n\n  List.prototype.shift = function shift () {\n    return setListBounds(this, 1);\n  };\n\n  // @pragma Composition\n\n  List.prototype.concat = function concat (/*...collections*/) {\n    var arguments$1 = arguments;\n\n    var seqs = [];\n    for (var i = 0; i < arguments.length; i++) {\n      var argument = arguments$1[i];\n      var seq = IndexedCollection(\n        typeof argument !== 'string' && hasIterator(argument)\n          ? argument\n          : [argument]\n      );\n      if (seq.size !== 0) {\n        seqs.push(seq);\n      }\n    }\n    if (seqs.length === 0) {\n      return this;\n    }\n    if (this.size === 0 && !this.__ownerID && seqs.length === 1) {\n      return this.constructor(seqs[0]);\n    }\n    return this.withMutations(function (list) {\n      seqs.forEach(function (seq) { return seq.forEach(function (value) { return list.push(value); }); });\n    });\n  };\n\n  List.prototype.setSize = function setSize (size) {\n    return setListBounds(this, 0, size);\n  };\n\n  List.prototype.map = function map (mapper, context) {\n    var this$1$1 = this;\n\n    return this.withMutations(function (list) {\n      for (var i = 0; i < this$1$1.size; i++) {\n        list.set(i, mapper.call(context, list.get(i), i, this$1$1));\n      }\n    });\n  };\n\n  // @pragma Iteration\n\n  List.prototype.slice = function slice (begin, end) {\n    var size = this.size;\n    if (wholeSlice(begin, end, size)) {\n      return this;\n    }\n    return setListBounds(\n      this,\n      resolveBegin(begin, size),\n      resolveEnd(end, size)\n    );\n  };\n\n  List.prototype.__iterator = function __iterator (type, reverse) {\n    var index = reverse ? this.size : 0;\n    var values = iterateList(this, reverse);\n    return new Iterator(function () {\n      var value = values();\n      return value === DONE\n        ? iteratorDone()\n        : iteratorValue(type, reverse ? --index : index++, value);\n    });\n  };\n\n  List.prototype.__iterate = function __iterate (fn, reverse) {\n    var index = reverse ? this.size : 0;\n    var values = iterateList(this, reverse);\n    var value;\n    while ((value = values()) !== DONE) {\n      if (fn(value, reverse ? --index : index++, this) === false) {\n        break;\n      }\n    }\n    return index;\n  };\n\n  List.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    if (!ownerID) {\n      if (this.size === 0) {\n        return emptyList();\n      }\n      this.__ownerID = ownerID;\n      this.__altered = false;\n      return this;\n    }\n    return makeList(\n      this._origin,\n      this._capacity,\n      this._level,\n      this._root,\n      this._tail,\n      ownerID,\n      this.__hash\n    );\n  };\n\n  return List;\n}(IndexedCollection));\n\nList.isList = isList;\n\nvar ListPrototype = List.prototype;\nListPrototype[IS_LIST_SYMBOL] = true;\nListPrototype[DELETE] = ListPrototype.remove;\nListPrototype.merge = ListPrototype.concat;\nListPrototype.setIn = setIn;\nListPrototype.deleteIn = ListPrototype.removeIn = deleteIn;\nListPrototype.update = update;\nListPrototype.updateIn = updateIn;\nListPrototype.mergeIn = mergeIn;\nListPrototype.mergeDeepIn = mergeDeepIn;\nListPrototype.withMutations = withMutations;\nListPrototype.wasAltered = wasAltered;\nListPrototype.asImmutable = asImmutable;\nListPrototype['@@transducer/init'] = ListPrototype.asMutable = asMutable;\nListPrototype['@@transducer/step'] = function (result, arr) {\n  return result.push(arr);\n};\nListPrototype['@@transducer/result'] = function (obj) {\n  return obj.asImmutable();\n};\n\nvar VNode = function VNode(array, ownerID) {\n  this.array = array;\n  this.ownerID = ownerID;\n};\n\n// TODO: seems like these methods are very similar\n\nVNode.prototype.removeBefore = function removeBefore (ownerID, level, index) {\n  if (index === level ? 1 << level : this.array.length === 0) {\n    return this;\n  }\n  var originIndex = (index >>> level) & MASK;\n  if (originIndex >= this.array.length) {\n    return new VNode([], ownerID);\n  }\n  var removingFirst = originIndex === 0;\n  var newChild;\n  if (level > 0) {\n    var oldChild = this.array[originIndex];\n    newChild =\n      oldChild && oldChild.removeBefore(ownerID, level - SHIFT, index);\n    if (newChild === oldChild && removingFirst) {\n      return this;\n    }\n  }\n  if (removingFirst && !newChild) {\n    return this;\n  }\n  var editable = editableVNode(this, ownerID);\n  if (!removingFirst) {\n    for (var ii = 0; ii < originIndex; ii++) {\n      editable.array[ii] = undefined;\n    }\n  }\n  if (newChild) {\n    editable.array[originIndex] = newChild;\n  }\n  return editable;\n};\n\nVNode.prototype.removeAfter = function removeAfter (ownerID, level, index) {\n  if (index === (level ? 1 << level : 0) || this.array.length === 0) {\n    return this;\n  }\n  var sizeIndex = ((index - 1) >>> level) & MASK;\n  if (sizeIndex >= this.array.length) {\n    return this;\n  }\n\n  var newChild;\n  if (level > 0) {\n    var oldChild = this.array[sizeIndex];\n    newChild =\n      oldChild && oldChild.removeAfter(ownerID, level - SHIFT, index);\n    if (newChild === oldChild && sizeIndex === this.array.length - 1) {\n      return this;\n    }\n  }\n\n  var editable = editableVNode(this, ownerID);\n  editable.array.splice(sizeIndex + 1);\n  if (newChild) {\n    editable.array[sizeIndex] = newChild;\n  }\n  return editable;\n};\n\nvar DONE = {};\n\nfunction iterateList(list, reverse) {\n  var left = list._origin;\n  var right = list._capacity;\n  var tailPos = getTailOffset(right);\n  var tail = list._tail;\n\n  return iterateNodeOrLeaf(list._root, list._level, 0);\n\n  function iterateNodeOrLeaf(node, level, offset) {\n    return level === 0\n      ? iterateLeaf(node, offset)\n      : iterateNode(node, level, offset);\n  }\n\n  function iterateLeaf(node, offset) {\n    var array = offset === tailPos ? tail && tail.array : node && node.array;\n    var from = offset > left ? 0 : left - offset;\n    var to = right - offset;\n    if (to > SIZE) {\n      to = SIZE;\n    }\n    return function () {\n      if (from === to) {\n        return DONE;\n      }\n      var idx = reverse ? --to : from++;\n      return array && array[idx];\n    };\n  }\n\n  function iterateNode(node, level, offset) {\n    var values;\n    var array = node && node.array;\n    var from = offset > left ? 0 : (left - offset) >> level;\n    var to = ((right - offset) >> level) + 1;\n    if (to > SIZE) {\n      to = SIZE;\n    }\n    return function () {\n      while (true) {\n        if (values) {\n          var value = values();\n          if (value !== DONE) {\n            return value;\n          }\n          values = null;\n        }\n        if (from === to) {\n          return DONE;\n        }\n        var idx = reverse ? --to : from++;\n        values = iterateNodeOrLeaf(\n          array && array[idx],\n          level - SHIFT,\n          offset + (idx << level)\n        );\n      }\n    };\n  }\n}\n\nfunction makeList(origin, capacity, level, root, tail, ownerID, hash) {\n  var list = Object.create(ListPrototype);\n  list.size = capacity - origin;\n  list._origin = origin;\n  list._capacity = capacity;\n  list._level = level;\n  list._root = root;\n  list._tail = tail;\n  list.__ownerID = ownerID;\n  list.__hash = hash;\n  list.__altered = false;\n  return list;\n}\n\nvar EMPTY_LIST;\nfunction emptyList() {\n  return EMPTY_LIST || (EMPTY_LIST = makeList(0, 0, SHIFT));\n}\n\nfunction updateList(list, index, value) {\n  index = wrapIndex(list, index);\n\n  if (index !== index) {\n    return list;\n  }\n\n  if (index >= list.size || index < 0) {\n    return list.withMutations(function (list) {\n      index < 0\n        ? setListBounds(list, index).set(0, value)\n        : setListBounds(list, 0, index + 1).set(index, value);\n    });\n  }\n\n  index += list._origin;\n\n  var newTail = list._tail;\n  var newRoot = list._root;\n  var didAlter = MakeRef();\n  if (index >= getTailOffset(list._capacity)) {\n    newTail = updateVNode(newTail, list.__ownerID, 0, index, value, didAlter);\n  } else {\n    newRoot = updateVNode(\n      newRoot,\n      list.__ownerID,\n      list._level,\n      index,\n      value,\n      didAlter\n    );\n  }\n\n  if (!didAlter.value) {\n    return list;\n  }\n\n  if (list.__ownerID) {\n    list._root = newRoot;\n    list._tail = newTail;\n    list.__hash = undefined;\n    list.__altered = true;\n    return list;\n  }\n  return makeList(list._origin, list._capacity, list._level, newRoot, newTail);\n}\n\nfunction updateVNode(node, ownerID, level, index, value, didAlter) {\n  var idx = (index >>> level) & MASK;\n  var nodeHas = node && idx < node.array.length;\n  if (!nodeHas && value === undefined) {\n    return node;\n  }\n\n  var newNode;\n\n  if (level > 0) {\n    var lowerNode = node && node.array[idx];\n    var newLowerNode = updateVNode(\n      lowerNode,\n      ownerID,\n      level - SHIFT,\n      index,\n      value,\n      didAlter\n    );\n    if (newLowerNode === lowerNode) {\n      return node;\n    }\n    newNode = editableVNode(node, ownerID);\n    newNode.array[idx] = newLowerNode;\n    return newNode;\n  }\n\n  if (nodeHas && node.array[idx] === value) {\n    return node;\n  }\n\n  if (didAlter) {\n    SetRef(didAlter);\n  }\n\n  newNode = editableVNode(node, ownerID);\n  if (value === undefined && idx === newNode.array.length - 1) {\n    newNode.array.pop();\n  } else {\n    newNode.array[idx] = value;\n  }\n  return newNode;\n}\n\nfunction editableVNode(node, ownerID) {\n  if (ownerID && node && ownerID === node.ownerID) {\n    return node;\n  }\n  return new VNode(node ? node.array.slice() : [], ownerID);\n}\n\nfunction listNodeFor(list, rawIndex) {\n  if (rawIndex >= getTailOffset(list._capacity)) {\n    return list._tail;\n  }\n  if (rawIndex < 1 << (list._level + SHIFT)) {\n    var node = list._root;\n    var level = list._level;\n    while (node && level > 0) {\n      node = node.array[(rawIndex >>> level) & MASK];\n      level -= SHIFT;\n    }\n    return node;\n  }\n}\n\nfunction setListBounds(list, begin, end) {\n  // Sanitize begin & end using this shorthand for ToInt32(argument)\n  // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n  if (begin !== undefined) {\n    begin |= 0;\n  }\n  if (end !== undefined) {\n    end |= 0;\n  }\n  var owner = list.__ownerID || new OwnerID();\n  var oldOrigin = list._origin;\n  var oldCapacity = list._capacity;\n  var newOrigin = oldOrigin + begin;\n  var newCapacity =\n    end === undefined\n      ? oldCapacity\n      : end < 0\n      ? oldCapacity + end\n      : oldOrigin + end;\n  if (newOrigin === oldOrigin && newCapacity === oldCapacity) {\n    return list;\n  }\n\n  // If it's going to end after it starts, it's empty.\n  if (newOrigin >= newCapacity) {\n    return list.clear();\n  }\n\n  var newLevel = list._level;\n  var newRoot = list._root;\n\n  // New origin might need creating a higher root.\n  var offsetShift = 0;\n  while (newOrigin + offsetShift < 0) {\n    newRoot = new VNode(\n      newRoot && newRoot.array.length ? [undefined, newRoot] : [],\n      owner\n    );\n    newLevel += SHIFT;\n    offsetShift += 1 << newLevel;\n  }\n  if (offsetShift) {\n    newOrigin += offsetShift;\n    oldOrigin += offsetShift;\n    newCapacity += offsetShift;\n    oldCapacity += offsetShift;\n  }\n\n  var oldTailOffset = getTailOffset(oldCapacity);\n  var newTailOffset = getTailOffset(newCapacity);\n\n  // New size might need creating a higher root.\n  while (newTailOffset >= 1 << (newLevel + SHIFT)) {\n    newRoot = new VNode(\n      newRoot && newRoot.array.length ? [newRoot] : [],\n      owner\n    );\n    newLevel += SHIFT;\n  }\n\n  // Locate or create the new tail.\n  var oldTail = list._tail;\n  var newTail =\n    newTailOffset < oldTailOffset\n      ? listNodeFor(list, newCapacity - 1)\n      : newTailOffset > oldTailOffset\n      ? new VNode([], owner)\n      : oldTail;\n\n  // Merge Tail into tree.\n  if (\n    oldTail &&\n    newTailOffset > oldTailOffset &&\n    newOrigin < oldCapacity &&\n    oldTail.array.length\n  ) {\n    newRoot = editableVNode(newRoot, owner);\n    var node = newRoot;\n    for (var level = newLevel; level > SHIFT; level -= SHIFT) {\n      var idx = (oldTailOffset >>> level) & MASK;\n      node = node.array[idx] = editableVNode(node.array[idx], owner);\n    }\n    node.array[(oldTailOffset >>> SHIFT) & MASK] = oldTail;\n  }\n\n  // If the size has been reduced, there's a chance the tail needs to be trimmed.\n  if (newCapacity < oldCapacity) {\n    newTail = newTail && newTail.removeAfter(owner, 0, newCapacity);\n  }\n\n  // If the new origin is within the tail, then we do not need a root.\n  if (newOrigin >= newTailOffset) {\n    newOrigin -= newTailOffset;\n    newCapacity -= newTailOffset;\n    newLevel = SHIFT;\n    newRoot = null;\n    newTail = newTail && newTail.removeBefore(owner, 0, newOrigin);\n\n    // Otherwise, if the root has been trimmed, garbage collect.\n  } else if (newOrigin > oldOrigin || newTailOffset < oldTailOffset) {\n    offsetShift = 0;\n\n    // Identify the new top root node of the subtree of the old root.\n    while (newRoot) {\n      var beginIndex = (newOrigin >>> newLevel) & MASK;\n      if ((beginIndex !== newTailOffset >>> newLevel) & MASK) {\n        break;\n      }\n      if (beginIndex) {\n        offsetShift += (1 << newLevel) * beginIndex;\n      }\n      newLevel -= SHIFT;\n      newRoot = newRoot.array[beginIndex];\n    }\n\n    // Trim the new sides of the new root.\n    if (newRoot && newOrigin > oldOrigin) {\n      newRoot = newRoot.removeBefore(owner, newLevel, newOrigin - offsetShift);\n    }\n    if (newRoot && newTailOffset < oldTailOffset) {\n      newRoot = newRoot.removeAfter(\n        owner,\n        newLevel,\n        newTailOffset - offsetShift\n      );\n    }\n    if (offsetShift) {\n      newOrigin -= offsetShift;\n      newCapacity -= offsetShift;\n    }\n  }\n\n  if (list.__ownerID) {\n    list.size = newCapacity - newOrigin;\n    list._origin = newOrigin;\n    list._capacity = newCapacity;\n    list._level = newLevel;\n    list._root = newRoot;\n    list._tail = newTail;\n    list.__hash = undefined;\n    list.__altered = true;\n    return list;\n  }\n  return makeList(newOrigin, newCapacity, newLevel, newRoot, newTail);\n}\n\nfunction getTailOffset(size) {\n  return size < SIZE ? 0 : ((size - 1) >>> SHIFT) << SHIFT;\n}\n\nvar OrderedMap = /*@__PURE__*/(function (Map) {\n  function OrderedMap(value) {\n    return value === undefined || value === null\n      ? emptyOrderedMap()\n      : isOrderedMap(value)\n      ? value\n      : emptyOrderedMap().withMutations(function (map) {\n          var iter = KeyedCollection(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function (v, k) { return map.set(k, v); });\n        });\n  }\n\n  if ( Map ) OrderedMap.__proto__ = Map;\n  OrderedMap.prototype = Object.create( Map && Map.prototype );\n  OrderedMap.prototype.constructor = OrderedMap;\n\n  OrderedMap.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  OrderedMap.prototype.toString = function toString () {\n    return this.__toString('OrderedMap {', '}');\n  };\n\n  // @pragma Access\n\n  OrderedMap.prototype.get = function get (k, notSetValue) {\n    var index = this._map.get(k);\n    return index !== undefined ? this._list.get(index)[1] : notSetValue;\n  };\n\n  // @pragma Modification\n\n  OrderedMap.prototype.clear = function clear () {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = 0;\n      this._map.clear();\n      this._list.clear();\n      this.__altered = true;\n      return this;\n    }\n    return emptyOrderedMap();\n  };\n\n  OrderedMap.prototype.set = function set (k, v) {\n    return updateOrderedMap(this, k, v);\n  };\n\n  OrderedMap.prototype.remove = function remove (k) {\n    return updateOrderedMap(this, k, NOT_SET);\n  };\n\n  OrderedMap.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1$1 = this;\n\n    return this._list.__iterate(\n      function (entry) { return entry && fn(entry[1], entry[0], this$1$1); },\n      reverse\n    );\n  };\n\n  OrderedMap.prototype.__iterator = function __iterator (type, reverse) {\n    return this._list.fromEntrySeq().__iterator(type, reverse);\n  };\n\n  OrderedMap.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    var newMap = this._map.__ensureOwner(ownerID);\n    var newList = this._list.__ensureOwner(ownerID);\n    if (!ownerID) {\n      if (this.size === 0) {\n        return emptyOrderedMap();\n      }\n      this.__ownerID = ownerID;\n      this.__altered = false;\n      this._map = newMap;\n      this._list = newList;\n      return this;\n    }\n    return makeOrderedMap(newMap, newList, ownerID, this.__hash);\n  };\n\n  return OrderedMap;\n}(Map));\n\nOrderedMap.isOrderedMap = isOrderedMap;\n\nOrderedMap.prototype[IS_ORDERED_SYMBOL] = true;\nOrderedMap.prototype[DELETE] = OrderedMap.prototype.remove;\n\nfunction makeOrderedMap(map, list, ownerID, hash) {\n  var omap = Object.create(OrderedMap.prototype);\n  omap.size = map ? map.size : 0;\n  omap._map = map;\n  omap._list = list;\n  omap.__ownerID = ownerID;\n  omap.__hash = hash;\n  omap.__altered = false;\n  return omap;\n}\n\nvar EMPTY_ORDERED_MAP;\nfunction emptyOrderedMap() {\n  return (\n    EMPTY_ORDERED_MAP ||\n    (EMPTY_ORDERED_MAP = makeOrderedMap(emptyMap(), emptyList()))\n  );\n}\n\nfunction updateOrderedMap(omap, k, v) {\n  var map = omap._map;\n  var list = omap._list;\n  var i = map.get(k);\n  var has = i !== undefined;\n  var newMap;\n  var newList;\n  if (v === NOT_SET) {\n    // removed\n    if (!has) {\n      return omap;\n    }\n    if (list.size >= SIZE && list.size >= map.size * 2) {\n      newList = list.filter(function (entry, idx) { return entry !== undefined && i !== idx; });\n      newMap = newList\n        .toKeyedSeq()\n        .map(function (entry) { return entry[0]; })\n        .flip()\n        .toMap();\n      if (omap.__ownerID) {\n        newMap.__ownerID = newList.__ownerID = omap.__ownerID;\n      }\n    } else {\n      newMap = map.remove(k);\n      newList = i === list.size - 1 ? list.pop() : list.set(i, undefined);\n    }\n  } else if (has) {\n    if (v === list.get(i)[1]) {\n      return omap;\n    }\n    newMap = map;\n    newList = list.set(i, [k, v]);\n  } else {\n    newMap = map.set(k, list.size);\n    newList = list.set(list.size, [k, v]);\n  }\n  if (omap.__ownerID) {\n    omap.size = newMap.size;\n    omap._map = newMap;\n    omap._list = newList;\n    omap.__hash = undefined;\n    omap.__altered = true;\n    return omap;\n  }\n  return makeOrderedMap(newMap, newList);\n}\n\nvar IS_STACK_SYMBOL = '@@__IMMUTABLE_STACK__@@';\n\nfunction isStack(maybeStack) {\n  return Boolean(maybeStack && maybeStack[IS_STACK_SYMBOL]);\n}\n\nvar Stack = /*@__PURE__*/(function (IndexedCollection) {\n  function Stack(value) {\n    return value === undefined || value === null\n      ? emptyStack()\n      : isStack(value)\n      ? value\n      : emptyStack().pushAll(value);\n  }\n\n  if ( IndexedCollection ) Stack.__proto__ = IndexedCollection;\n  Stack.prototype = Object.create( IndexedCollection && IndexedCollection.prototype );\n  Stack.prototype.constructor = Stack;\n\n  Stack.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  Stack.prototype.toString = function toString () {\n    return this.__toString('Stack [', ']');\n  };\n\n  // @pragma Access\n\n  Stack.prototype.get = function get (index, notSetValue) {\n    var head = this._head;\n    index = wrapIndex(this, index);\n    while (head && index--) {\n      head = head.next;\n    }\n    return head ? head.value : notSetValue;\n  };\n\n  Stack.prototype.peek = function peek () {\n    return this._head && this._head.value;\n  };\n\n  // @pragma Modification\n\n  Stack.prototype.push = function push (/*...values*/) {\n    var arguments$1 = arguments;\n\n    if (arguments.length === 0) {\n      return this;\n    }\n    var newSize = this.size + arguments.length;\n    var head = this._head;\n    for (var ii = arguments.length - 1; ii >= 0; ii--) {\n      head = {\n        value: arguments$1[ii],\n        next: head,\n      };\n    }\n    if (this.__ownerID) {\n      this.size = newSize;\n      this._head = head;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return makeStack(newSize, head);\n  };\n\n  Stack.prototype.pushAll = function pushAll (iter) {\n    iter = IndexedCollection(iter);\n    if (iter.size === 0) {\n      return this;\n    }\n    if (this.size === 0 && isStack(iter)) {\n      return iter;\n    }\n    assertNotInfinite(iter.size);\n    var newSize = this.size;\n    var head = this._head;\n    iter.__iterate(function (value) {\n      newSize++;\n      head = {\n        value: value,\n        next: head,\n      };\n    }, /* reverse */ true);\n    if (this.__ownerID) {\n      this.size = newSize;\n      this._head = head;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return makeStack(newSize, head);\n  };\n\n  Stack.prototype.pop = function pop () {\n    return this.slice(1);\n  };\n\n  Stack.prototype.clear = function clear () {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = 0;\n      this._head = undefined;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return emptyStack();\n  };\n\n  Stack.prototype.slice = function slice (begin, end) {\n    if (wholeSlice(begin, end, this.size)) {\n      return this;\n    }\n    var resolvedBegin = resolveBegin(begin, this.size);\n    var resolvedEnd = resolveEnd(end, this.size);\n    if (resolvedEnd !== this.size) {\n      // super.slice(begin, end);\n      return IndexedCollection.prototype.slice.call(this, begin, end);\n    }\n    var newSize = this.size - resolvedBegin;\n    var head = this._head;\n    while (resolvedBegin--) {\n      head = head.next;\n    }\n    if (this.__ownerID) {\n      this.size = newSize;\n      this._head = head;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return makeStack(newSize, head);\n  };\n\n  // @pragma Mutability\n\n  Stack.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    if (!ownerID) {\n      if (this.size === 0) {\n        return emptyStack();\n      }\n      this.__ownerID = ownerID;\n      this.__altered = false;\n      return this;\n    }\n    return makeStack(this.size, this._head, ownerID, this.__hash);\n  };\n\n  // @pragma Iteration\n\n  Stack.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1$1 = this;\n\n    if (reverse) {\n      return new ArraySeq(this.toArray()).__iterate(\n        function (v, k) { return fn(v, k, this$1$1); },\n        reverse\n      );\n    }\n    var iterations = 0;\n    var node = this._head;\n    while (node) {\n      if (fn(node.value, iterations++, this) === false) {\n        break;\n      }\n      node = node.next;\n    }\n    return iterations;\n  };\n\n  Stack.prototype.__iterator = function __iterator (type, reverse) {\n    if (reverse) {\n      return new ArraySeq(this.toArray()).__iterator(type, reverse);\n    }\n    var iterations = 0;\n    var node = this._head;\n    return new Iterator(function () {\n      if (node) {\n        var value = node.value;\n        node = node.next;\n        return iteratorValue(type, iterations++, value);\n      }\n      return iteratorDone();\n    });\n  };\n\n  return Stack;\n}(IndexedCollection));\n\nStack.isStack = isStack;\n\nvar StackPrototype = Stack.prototype;\nStackPrototype[IS_STACK_SYMBOL] = true;\nStackPrototype.shift = StackPrototype.pop;\nStackPrototype.unshift = StackPrototype.push;\nStackPrototype.unshiftAll = StackPrototype.pushAll;\nStackPrototype.withMutations = withMutations;\nStackPrototype.wasAltered = wasAltered;\nStackPrototype.asImmutable = asImmutable;\nStackPrototype['@@transducer/init'] = StackPrototype.asMutable = asMutable;\nStackPrototype['@@transducer/step'] = function (result, arr) {\n  return result.unshift(arr);\n};\nStackPrototype['@@transducer/result'] = function (obj) {\n  return obj.asImmutable();\n};\n\nfunction makeStack(size, head, ownerID, hash) {\n  var map = Object.create(StackPrototype);\n  map.size = size;\n  map._head = head;\n  map.__ownerID = ownerID;\n  map.__hash = hash;\n  map.__altered = false;\n  return map;\n}\n\nvar EMPTY_STACK;\nfunction emptyStack() {\n  return EMPTY_STACK || (EMPTY_STACK = makeStack(0));\n}\n\nvar IS_SET_SYMBOL = '@@__IMMUTABLE_SET__@@';\n\nfunction isSet(maybeSet) {\n  return Boolean(maybeSet && maybeSet[IS_SET_SYMBOL]);\n}\n\nfunction isOrderedSet(maybeOrderedSet) {\n  return isSet(maybeOrderedSet) && isOrdered(maybeOrderedSet);\n}\n\nfunction deepEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  if (\n    !isCollection(b) ||\n    (a.size !== undefined && b.size !== undefined && a.size !== b.size) ||\n    (a.__hash !== undefined &&\n      b.__hash !== undefined &&\n      a.__hash !== b.__hash) ||\n    isKeyed(a) !== isKeyed(b) ||\n    isIndexed(a) !== isIndexed(b) ||\n    isOrdered(a) !== isOrdered(b)\n  ) {\n    return false;\n  }\n\n  if (a.size === 0 && b.size === 0) {\n    return true;\n  }\n\n  var notAssociative = !isAssociative(a);\n\n  if (isOrdered(a)) {\n    var entries = a.entries();\n    return (\n      b.every(function (v, k) {\n        var entry = entries.next().value;\n        return entry && is(entry[1], v) && (notAssociative || is(entry[0], k));\n      }) && entries.next().done\n    );\n  }\n\n  var flipped = false;\n\n  if (a.size === undefined) {\n    if (b.size === undefined) {\n      if (typeof a.cacheResult === 'function') {\n        a.cacheResult();\n      }\n    } else {\n      flipped = true;\n      var _ = a;\n      a = b;\n      b = _;\n    }\n  }\n\n  var allEqual = true;\n  var bSize = b.__iterate(function (v, k) {\n    if (\n      notAssociative\n        ? !a.has(v)\n        : flipped\n        ? !is(v, a.get(k, NOT_SET))\n        : !is(a.get(k, NOT_SET), v)\n    ) {\n      allEqual = false;\n      return false;\n    }\n  });\n\n  return allEqual && a.size === bSize;\n}\n\nfunction mixin(ctor, methods) {\n  var keyCopier = function (key) {\n    ctor.prototype[key] = methods[key];\n  };\n  Object.keys(methods).forEach(keyCopier);\n  Object.getOwnPropertySymbols &&\n    Object.getOwnPropertySymbols(methods).forEach(keyCopier);\n  return ctor;\n}\n\nfunction toJS(value) {\n  if (!value || typeof value !== 'object') {\n    return value;\n  }\n  if (!isCollection(value)) {\n    if (!isDataStructure(value)) {\n      return value;\n    }\n    value = Seq(value);\n  }\n  if (isKeyed(value)) {\n    var result$1 = {};\n    value.__iterate(function (v, k) {\n      result$1[k] = toJS(v);\n    });\n    return result$1;\n  }\n  var result = [];\n  value.__iterate(function (v) {\n    result.push(toJS(v));\n  });\n  return result;\n}\n\nvar Set = /*@__PURE__*/(function (SetCollection) {\n  function Set(value) {\n    return value === undefined || value === null\n      ? emptySet()\n      : isSet(value) && !isOrdered(value)\n      ? value\n      : emptySet().withMutations(function (set) {\n          var iter = SetCollection(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function (v) { return set.add(v); });\n        });\n  }\n\n  if ( SetCollection ) Set.__proto__ = SetCollection;\n  Set.prototype = Object.create( SetCollection && SetCollection.prototype );\n  Set.prototype.constructor = Set;\n\n  Set.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  Set.fromKeys = function fromKeys (value) {\n    return this(KeyedCollection(value).keySeq());\n  };\n\n  Set.intersect = function intersect (sets) {\n    sets = Collection(sets).toArray();\n    return sets.length\n      ? SetPrototype.intersect.apply(Set(sets.pop()), sets)\n      : emptySet();\n  };\n\n  Set.union = function union (sets) {\n    sets = Collection(sets).toArray();\n    return sets.length\n      ? SetPrototype.union.apply(Set(sets.pop()), sets)\n      : emptySet();\n  };\n\n  Set.prototype.toString = function toString () {\n    return this.__toString('Set {', '}');\n  };\n\n  // @pragma Access\n\n  Set.prototype.has = function has (value) {\n    return this._map.has(value);\n  };\n\n  // @pragma Modification\n\n  Set.prototype.add = function add (value) {\n    return updateSet(this, this._map.set(value, value));\n  };\n\n  Set.prototype.remove = function remove (value) {\n    return updateSet(this, this._map.remove(value));\n  };\n\n  Set.prototype.clear = function clear () {\n    return updateSet(this, this._map.clear());\n  };\n\n  // @pragma Composition\n\n  Set.prototype.map = function map (mapper, context) {\n    var this$1$1 = this;\n\n    // keep track if the set is altered by the map function\n    var didChanges = false;\n\n    var newMap = updateSet(\n      this,\n      this._map.mapEntries(function (ref) {\n        var v = ref[1];\n\n        var mapped = mapper.call(context, v, v, this$1$1);\n\n        if (mapped !== v) {\n          didChanges = true;\n        }\n\n        return [mapped, mapped];\n      }, context)\n    );\n\n    return didChanges ? newMap : this;\n  };\n\n  Set.prototype.union = function union () {\n    var iters = [], len = arguments.length;\n    while ( len-- ) iters[ len ] = arguments[ len ];\n\n    iters = iters.filter(function (x) { return x.size !== 0; });\n    if (iters.length === 0) {\n      return this;\n    }\n    if (this.size === 0 && !this.__ownerID && iters.length === 1) {\n      return this.constructor(iters[0]);\n    }\n    return this.withMutations(function (set) {\n      for (var ii = 0; ii < iters.length; ii++) {\n        SetCollection(iters[ii]).forEach(function (value) { return set.add(value); });\n      }\n    });\n  };\n\n  Set.prototype.intersect = function intersect () {\n    var iters = [], len = arguments.length;\n    while ( len-- ) iters[ len ] = arguments[ len ];\n\n    if (iters.length === 0) {\n      return this;\n    }\n    iters = iters.map(function (iter) { return SetCollection(iter); });\n    var toRemove = [];\n    this.forEach(function (value) {\n      if (!iters.every(function (iter) { return iter.includes(value); })) {\n        toRemove.push(value);\n      }\n    });\n    return this.withMutations(function (set) {\n      toRemove.forEach(function (value) {\n        set.remove(value);\n      });\n    });\n  };\n\n  Set.prototype.subtract = function subtract () {\n    var iters = [], len = arguments.length;\n    while ( len-- ) iters[ len ] = arguments[ len ];\n\n    if (iters.length === 0) {\n      return this;\n    }\n    iters = iters.map(function (iter) { return SetCollection(iter); });\n    var toRemove = [];\n    this.forEach(function (value) {\n      if (iters.some(function (iter) { return iter.includes(value); })) {\n        toRemove.push(value);\n      }\n    });\n    return this.withMutations(function (set) {\n      toRemove.forEach(function (value) {\n        set.remove(value);\n      });\n    });\n  };\n\n  Set.prototype.sort = function sort (comparator) {\n    // Late binding\n    return OrderedSet(sortFactory(this, comparator));\n  };\n\n  Set.prototype.sortBy = function sortBy (mapper, comparator) {\n    // Late binding\n    return OrderedSet(sortFactory(this, comparator, mapper));\n  };\n\n  Set.prototype.wasAltered = function wasAltered () {\n    return this._map.wasAltered();\n  };\n\n  Set.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1$1 = this;\n\n    return this._map.__iterate(function (k) { return fn(k, k, this$1$1); }, reverse);\n  };\n\n  Set.prototype.__iterator = function __iterator (type, reverse) {\n    return this._map.__iterator(type, reverse);\n  };\n\n  Set.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    var newMap = this._map.__ensureOwner(ownerID);\n    if (!ownerID) {\n      if (this.size === 0) {\n        return this.__empty();\n      }\n      this.__ownerID = ownerID;\n      this._map = newMap;\n      return this;\n    }\n    return this.__make(newMap, ownerID);\n  };\n\n  return Set;\n}(SetCollection));\n\nSet.isSet = isSet;\n\nvar SetPrototype = Set.prototype;\nSetPrototype[IS_SET_SYMBOL] = true;\nSetPrototype[DELETE] = SetPrototype.remove;\nSetPrototype.merge = SetPrototype.concat = SetPrototype.union;\nSetPrototype.withMutations = withMutations;\nSetPrototype.asImmutable = asImmutable;\nSetPrototype['@@transducer/init'] = SetPrototype.asMutable = asMutable;\nSetPrototype['@@transducer/step'] = function (result, arr) {\n  return result.add(arr);\n};\nSetPrototype['@@transducer/result'] = function (obj) {\n  return obj.asImmutable();\n};\n\nSetPrototype.__empty = emptySet;\nSetPrototype.__make = makeSet;\n\nfunction updateSet(set, newMap) {\n  if (set.__ownerID) {\n    set.size = newMap.size;\n    set._map = newMap;\n    return set;\n  }\n  return newMap === set._map\n    ? set\n    : newMap.size === 0\n    ? set.__empty()\n    : set.__make(newMap);\n}\n\nfunction makeSet(map, ownerID) {\n  var set = Object.create(SetPrototype);\n  set.size = map ? map.size : 0;\n  set._map = map;\n  set.__ownerID = ownerID;\n  return set;\n}\n\nvar EMPTY_SET;\nfunction emptySet() {\n  return EMPTY_SET || (EMPTY_SET = makeSet(emptyMap()));\n}\n\n/**\n * Returns a lazy seq of nums from start (inclusive) to end\n * (exclusive), by step, where start defaults to 0, step to 1, and end to\n * infinity. When start is equal to end, returns empty list.\n */\nvar Range = /*@__PURE__*/(function (IndexedSeq) {\n  function Range(start, end, step) {\n    if (!(this instanceof Range)) {\n      return new Range(start, end, step);\n    }\n    invariant(step !== 0, 'Cannot step a Range by 0');\n    start = start || 0;\n    if (end === undefined) {\n      end = Infinity;\n    }\n    step = step === undefined ? 1 : Math.abs(step);\n    if (end < start) {\n      step = -step;\n    }\n    this._start = start;\n    this._end = end;\n    this._step = step;\n    this.size = Math.max(0, Math.ceil((end - start) / step - 1) + 1);\n    if (this.size === 0) {\n      if (EMPTY_RANGE) {\n        return EMPTY_RANGE;\n      }\n      EMPTY_RANGE = this;\n    }\n  }\n\n  if ( IndexedSeq ) Range.__proto__ = IndexedSeq;\n  Range.prototype = Object.create( IndexedSeq && IndexedSeq.prototype );\n  Range.prototype.constructor = Range;\n\n  Range.prototype.toString = function toString () {\n    if (this.size === 0) {\n      return 'Range []';\n    }\n    return (\n      'Range [ ' +\n      this._start +\n      '...' +\n      this._end +\n      (this._step !== 1 ? ' by ' + this._step : '') +\n      ' ]'\n    );\n  };\n\n  Range.prototype.get = function get (index, notSetValue) {\n    return this.has(index)\n      ? this._start + wrapIndex(this, index) * this._step\n      : notSetValue;\n  };\n\n  Range.prototype.includes = function includes (searchValue) {\n    var possibleIndex = (searchValue - this._start) / this._step;\n    return (\n      possibleIndex >= 0 &&\n      possibleIndex < this.size &&\n      possibleIndex === Math.floor(possibleIndex)\n    );\n  };\n\n  Range.prototype.slice = function slice (begin, end) {\n    if (wholeSlice(begin, end, this.size)) {\n      return this;\n    }\n    begin = resolveBegin(begin, this.size);\n    end = resolveEnd(end, this.size);\n    if (end <= begin) {\n      return new Range(0, 0);\n    }\n    return new Range(\n      this.get(begin, this._end),\n      this.get(end, this._end),\n      this._step\n    );\n  };\n\n  Range.prototype.indexOf = function indexOf (searchValue) {\n    var offsetValue = searchValue - this._start;\n    if (offsetValue % this._step === 0) {\n      var index = offsetValue / this._step;\n      if (index >= 0 && index < this.size) {\n        return index;\n      }\n    }\n    return -1;\n  };\n\n  Range.prototype.lastIndexOf = function lastIndexOf (searchValue) {\n    return this.indexOf(searchValue);\n  };\n\n  Range.prototype.__iterate = function __iterate (fn, reverse) {\n    var size = this.size;\n    var step = this._step;\n    var value = reverse ? this._start + (size - 1) * step : this._start;\n    var i = 0;\n    while (i !== size) {\n      if (fn(value, reverse ? size - ++i : i++, this) === false) {\n        break;\n      }\n      value += reverse ? -step : step;\n    }\n    return i;\n  };\n\n  Range.prototype.__iterator = function __iterator (type, reverse) {\n    var size = this.size;\n    var step = this._step;\n    var value = reverse ? this._start + (size - 1) * step : this._start;\n    var i = 0;\n    return new Iterator(function () {\n      if (i === size) {\n        return iteratorDone();\n      }\n      var v = value;\n      value += reverse ? -step : step;\n      return iteratorValue(type, reverse ? size - ++i : i++, v);\n    });\n  };\n\n  Range.prototype.equals = function equals (other) {\n    return other instanceof Range\n      ? this._start === other._start &&\n          this._end === other._end &&\n          this._step === other._step\n      : deepEqual(this, other);\n  };\n\n  return Range;\n}(IndexedSeq));\n\nvar EMPTY_RANGE;\n\nfunction getIn$1(collection, searchKeyPath, notSetValue) {\n  var keyPath = coerceKeyPath(searchKeyPath);\n  var i = 0;\n  while (i !== keyPath.length) {\n    collection = get(collection, keyPath[i++], NOT_SET);\n    if (collection === NOT_SET) {\n      return notSetValue;\n    }\n  }\n  return collection;\n}\n\nfunction getIn(searchKeyPath, notSetValue) {\n  return getIn$1(this, searchKeyPath, notSetValue);\n}\n\nfunction hasIn$1(collection, keyPath) {\n  return getIn$1(collection, keyPath, NOT_SET) !== NOT_SET;\n}\n\nfunction hasIn(searchKeyPath) {\n  return hasIn$1(this, searchKeyPath);\n}\n\nfunction toObject() {\n  assertNotInfinite(this.size);\n  var object = {};\n  this.__iterate(function (v, k) {\n    object[k] = v;\n  });\n  return object;\n}\n\n// Note: all of these methods are deprecated.\nCollection.isIterable = isCollection;\nCollection.isKeyed = isKeyed;\nCollection.isIndexed = isIndexed;\nCollection.isAssociative = isAssociative;\nCollection.isOrdered = isOrdered;\n\nCollection.Iterator = Iterator;\n\nmixin(Collection, {\n  // ### Conversion to other types\n\n  toArray: function toArray() {\n    assertNotInfinite(this.size);\n    var array = new Array(this.size || 0);\n    var useTuples = isKeyed(this);\n    var i = 0;\n    this.__iterate(function (v, k) {\n      // Keyed collections produce an array of tuples.\n      array[i++] = useTuples ? [k, v] : v;\n    });\n    return array;\n  },\n\n  toIndexedSeq: function toIndexedSeq() {\n    return new ToIndexedSequence(this);\n  },\n\n  toJS: function toJS$1() {\n    return toJS(this);\n  },\n\n  toKeyedSeq: function toKeyedSeq() {\n    return new ToKeyedSequence(this, true);\n  },\n\n  toMap: function toMap() {\n    // Use Late Binding here to solve the circular dependency.\n    return Map(this.toKeyedSeq());\n  },\n\n  toObject: toObject,\n\n  toOrderedMap: function toOrderedMap() {\n    // Use Late Binding here to solve the circular dependency.\n    return OrderedMap(this.toKeyedSeq());\n  },\n\n  toOrderedSet: function toOrderedSet() {\n    // Use Late Binding here to solve the circular dependency.\n    return OrderedSet(isKeyed(this) ? this.valueSeq() : this);\n  },\n\n  toSet: function toSet() {\n    // Use Late Binding here to solve the circular dependency.\n    return Set(isKeyed(this) ? this.valueSeq() : this);\n  },\n\n  toSetSeq: function toSetSeq() {\n    return new ToSetSequence(this);\n  },\n\n  toSeq: function toSeq() {\n    return isIndexed(this)\n      ? this.toIndexedSeq()\n      : isKeyed(this)\n      ? this.toKeyedSeq()\n      : this.toSetSeq();\n  },\n\n  toStack: function toStack() {\n    // Use Late Binding here to solve the circular dependency.\n    return Stack(isKeyed(this) ? this.valueSeq() : this);\n  },\n\n  toList: function toList() {\n    // Use Late Binding here to solve the circular dependency.\n    return List(isKeyed(this) ? this.valueSeq() : this);\n  },\n\n  // ### Common JavaScript methods and properties\n\n  toString: function toString() {\n    return '[Collection]';\n  },\n\n  __toString: function __toString(head, tail) {\n    if (this.size === 0) {\n      return head + tail;\n    }\n    return (\n      head +\n      ' ' +\n      this.toSeq().map(this.__toStringMapper).join(', ') +\n      ' ' +\n      tail\n    );\n  },\n\n  // ### ES6 Collection methods (ES6 Array and Map)\n\n  concat: function concat() {\n    var values = [], len = arguments.length;\n    while ( len-- ) values[ len ] = arguments[ len ];\n\n    return reify(this, concatFactory(this, values));\n  },\n\n  includes: function includes(searchValue) {\n    return this.some(function (value) { return is(value, searchValue); });\n  },\n\n  entries: function entries() {\n    return this.__iterator(ITERATE_ENTRIES);\n  },\n\n  every: function every(predicate, context) {\n    assertNotInfinite(this.size);\n    var returnValue = true;\n    this.__iterate(function (v, k, c) {\n      if (!predicate.call(context, v, k, c)) {\n        returnValue = false;\n        return false;\n      }\n    });\n    return returnValue;\n  },\n\n  filter: function filter(predicate, context) {\n    return reify(this, filterFactory(this, predicate, context, true));\n  },\n\n  find: function find(predicate, context, notSetValue) {\n    var entry = this.findEntry(predicate, context);\n    return entry ? entry[1] : notSetValue;\n  },\n\n  forEach: function forEach(sideEffect, context) {\n    assertNotInfinite(this.size);\n    return this.__iterate(context ? sideEffect.bind(context) : sideEffect);\n  },\n\n  join: function join(separator) {\n    assertNotInfinite(this.size);\n    separator = separator !== undefined ? '' + separator : ',';\n    var joined = '';\n    var isFirst = true;\n    this.__iterate(function (v) {\n      isFirst ? (isFirst = false) : (joined += separator);\n      joined += v !== null && v !== undefined ? v.toString() : '';\n    });\n    return joined;\n  },\n\n  keys: function keys() {\n    return this.__iterator(ITERATE_KEYS);\n  },\n\n  map: function map(mapper, context) {\n    return reify(this, mapFactory(this, mapper, context));\n  },\n\n  reduce: function reduce$1(reducer, initialReduction, context) {\n    return reduce(\n      this,\n      reducer,\n      initialReduction,\n      context,\n      arguments.length < 2,\n      false\n    );\n  },\n\n  reduceRight: function reduceRight(reducer, initialReduction, context) {\n    return reduce(\n      this,\n      reducer,\n      initialReduction,\n      context,\n      arguments.length < 2,\n      true\n    );\n  },\n\n  reverse: function reverse() {\n    return reify(this, reverseFactory(this, true));\n  },\n\n  slice: function slice(begin, end) {\n    return reify(this, sliceFactory(this, begin, end, true));\n  },\n\n  some: function some(predicate, context) {\n    return !this.every(not(predicate), context);\n  },\n\n  sort: function sort(comparator) {\n    return reify(this, sortFactory(this, comparator));\n  },\n\n  values: function values() {\n    return this.__iterator(ITERATE_VALUES);\n  },\n\n  // ### More sequential methods\n\n  butLast: function butLast() {\n    return this.slice(0, -1);\n  },\n\n  isEmpty: function isEmpty() {\n    return this.size !== undefined ? this.size === 0 : !this.some(function () { return true; });\n  },\n\n  count: function count(predicate, context) {\n    return ensureSize(\n      predicate ? this.toSeq().filter(predicate, context) : this\n    );\n  },\n\n  countBy: function countBy(grouper, context) {\n    return countByFactory(this, grouper, context);\n  },\n\n  equals: function equals(other) {\n    return deepEqual(this, other);\n  },\n\n  entrySeq: function entrySeq() {\n    var collection = this;\n    if (collection._cache) {\n      // We cache as an entries array, so we can just return the cache!\n      return new ArraySeq(collection._cache);\n    }\n    var entriesSequence = collection.toSeq().map(entryMapper).toIndexedSeq();\n    entriesSequence.fromEntrySeq = function () { return collection.toSeq(); };\n    return entriesSequence;\n  },\n\n  filterNot: function filterNot(predicate, context) {\n    return this.filter(not(predicate), context);\n  },\n\n  findEntry: function findEntry(predicate, context, notSetValue) {\n    var found = notSetValue;\n    this.__iterate(function (v, k, c) {\n      if (predicate.call(context, v, k, c)) {\n        found = [k, v];\n        return false;\n      }\n    });\n    return found;\n  },\n\n  findKey: function findKey(predicate, context) {\n    var entry = this.findEntry(predicate, context);\n    return entry && entry[0];\n  },\n\n  findLast: function findLast(predicate, context, notSetValue) {\n    return this.toKeyedSeq().reverse().find(predicate, context, notSetValue);\n  },\n\n  findLastEntry: function findLastEntry(predicate, context, notSetValue) {\n    return this.toKeyedSeq()\n      .reverse()\n      .findEntry(predicate, context, notSetValue);\n  },\n\n  findLastKey: function findLastKey(predicate, context) {\n    return this.toKeyedSeq().reverse().findKey(predicate, context);\n  },\n\n  first: function first(notSetValue) {\n    return this.find(returnTrue, null, notSetValue);\n  },\n\n  flatMap: function flatMap(mapper, context) {\n    return reify(this, flatMapFactory(this, mapper, context));\n  },\n\n  flatten: function flatten(depth) {\n    return reify(this, flattenFactory(this, depth, true));\n  },\n\n  fromEntrySeq: function fromEntrySeq() {\n    return new FromEntriesSequence(this);\n  },\n\n  get: function get(searchKey, notSetValue) {\n    return this.find(function (_, key) { return is(key, searchKey); }, undefined, notSetValue);\n  },\n\n  getIn: getIn,\n\n  groupBy: function groupBy(grouper, context) {\n    return groupByFactory(this, grouper, context);\n  },\n\n  has: function has(searchKey) {\n    return this.get(searchKey, NOT_SET) !== NOT_SET;\n  },\n\n  hasIn: hasIn,\n\n  isSubset: function isSubset(iter) {\n    iter = typeof iter.includes === 'function' ? iter : Collection(iter);\n    return this.every(function (value) { return iter.includes(value); });\n  },\n\n  isSuperset: function isSuperset(iter) {\n    iter = typeof iter.isSubset === 'function' ? iter : Collection(iter);\n    return iter.isSubset(this);\n  },\n\n  keyOf: function keyOf(searchValue) {\n    return this.findKey(function (value) { return is(value, searchValue); });\n  },\n\n  keySeq: function keySeq() {\n    return this.toSeq().map(keyMapper).toIndexedSeq();\n  },\n\n  last: function last(notSetValue) {\n    return this.toSeq().reverse().first(notSetValue);\n  },\n\n  lastKeyOf: function lastKeyOf(searchValue) {\n    return this.toKeyedSeq().reverse().keyOf(searchValue);\n  },\n\n  max: function max(comparator) {\n    return maxFactory(this, comparator);\n  },\n\n  maxBy: function maxBy(mapper, comparator) {\n    return maxFactory(this, comparator, mapper);\n  },\n\n  min: function min(comparator) {\n    return maxFactory(\n      this,\n      comparator ? neg(comparator) : defaultNegComparator\n    );\n  },\n\n  minBy: function minBy(mapper, comparator) {\n    return maxFactory(\n      this,\n      comparator ? neg(comparator) : defaultNegComparator,\n      mapper\n    );\n  },\n\n  rest: function rest() {\n    return this.slice(1);\n  },\n\n  skip: function skip(amount) {\n    return amount === 0 ? this : this.slice(Math.max(0, amount));\n  },\n\n  skipLast: function skipLast(amount) {\n    return amount === 0 ? this : this.slice(0, -Math.max(0, amount));\n  },\n\n  skipWhile: function skipWhile(predicate, context) {\n    return reify(this, skipWhileFactory(this, predicate, context, true));\n  },\n\n  skipUntil: function skipUntil(predicate, context) {\n    return this.skipWhile(not(predicate), context);\n  },\n\n  sortBy: function sortBy(mapper, comparator) {\n    return reify(this, sortFactory(this, comparator, mapper));\n  },\n\n  take: function take(amount) {\n    return this.slice(0, Math.max(0, amount));\n  },\n\n  takeLast: function takeLast(amount) {\n    return this.slice(-Math.max(0, amount));\n  },\n\n  takeWhile: function takeWhile(predicate, context) {\n    return reify(this, takeWhileFactory(this, predicate, context));\n  },\n\n  takeUntil: function takeUntil(predicate, context) {\n    return this.takeWhile(not(predicate), context);\n  },\n\n  update: function update(fn) {\n    return fn(this);\n  },\n\n  valueSeq: function valueSeq() {\n    return this.toIndexedSeq();\n  },\n\n  // ### Hashable Object\n\n  hashCode: function hashCode() {\n    return this.__hash || (this.__hash = hashCollection(this));\n  },\n\n  // ### Internal\n\n  // abstract __iterate(fn, reverse)\n\n  // abstract __iterator(type, reverse)\n});\n\nvar CollectionPrototype = Collection.prototype;\nCollectionPrototype[IS_COLLECTION_SYMBOL] = true;\nCollectionPrototype[ITERATOR_SYMBOL] = CollectionPrototype.values;\nCollectionPrototype.toJSON = CollectionPrototype.toArray;\nCollectionPrototype.__toStringMapper = quoteString;\nCollectionPrototype.inspect = CollectionPrototype.toSource = function () {\n  return this.toString();\n};\nCollectionPrototype.chain = CollectionPrototype.flatMap;\nCollectionPrototype.contains = CollectionPrototype.includes;\n\nmixin(KeyedCollection, {\n  // ### More sequential methods\n\n  flip: function flip() {\n    return reify(this, flipFactory(this));\n  },\n\n  mapEntries: function mapEntries(mapper, context) {\n    var this$1$1 = this;\n\n    var iterations = 0;\n    return reify(\n      this,\n      this.toSeq()\n        .map(function (v, k) { return mapper.call(context, [k, v], iterations++, this$1$1); })\n        .fromEntrySeq()\n    );\n  },\n\n  mapKeys: function mapKeys(mapper, context) {\n    var this$1$1 = this;\n\n    return reify(\n      this,\n      this.toSeq()\n        .flip()\n        .map(function (k, v) { return mapper.call(context, k, v, this$1$1); })\n        .flip()\n    );\n  },\n});\n\nvar KeyedCollectionPrototype = KeyedCollection.prototype;\nKeyedCollectionPrototype[IS_KEYED_SYMBOL] = true;\nKeyedCollectionPrototype[ITERATOR_SYMBOL] = CollectionPrototype.entries;\nKeyedCollectionPrototype.toJSON = toObject;\nKeyedCollectionPrototype.__toStringMapper = function (v, k) { return quoteString(k) + ': ' + quoteString(v); };\n\nmixin(IndexedCollection, {\n  // ### Conversion to other types\n\n  toKeyedSeq: function toKeyedSeq() {\n    return new ToKeyedSequence(this, false);\n  },\n\n  // ### ES6 Collection methods (ES6 Array and Map)\n\n  filter: function filter(predicate, context) {\n    return reify(this, filterFactory(this, predicate, context, false));\n  },\n\n  findIndex: function findIndex(predicate, context) {\n    var entry = this.findEntry(predicate, context);\n    return entry ? entry[0] : -1;\n  },\n\n  indexOf: function indexOf(searchValue) {\n    var key = this.keyOf(searchValue);\n    return key === undefined ? -1 : key;\n  },\n\n  lastIndexOf: function lastIndexOf(searchValue) {\n    var key = this.lastKeyOf(searchValue);\n    return key === undefined ? -1 : key;\n  },\n\n  reverse: function reverse() {\n    return reify(this, reverseFactory(this, false));\n  },\n\n  slice: function slice(begin, end) {\n    return reify(this, sliceFactory(this, begin, end, false));\n  },\n\n  splice: function splice(index, removeNum /*, ...values*/) {\n    var numArgs = arguments.length;\n    removeNum = Math.max(removeNum || 0, 0);\n    if (numArgs === 0 || (numArgs === 2 && !removeNum)) {\n      return this;\n    }\n    // If index is negative, it should resolve relative to the size of the\n    // collection. However size may be expensive to compute if not cached, so\n    // only call count() if the number is in fact negative.\n    index = resolveBegin(index, index < 0 ? this.count() : this.size);\n    var spliced = this.slice(0, index);\n    return reify(\n      this,\n      numArgs === 1\n        ? spliced\n        : spliced.concat(arrCopy(arguments, 2), this.slice(index + removeNum))\n    );\n  },\n\n  // ### More collection methods\n\n  findLastIndex: function findLastIndex(predicate, context) {\n    var entry = this.findLastEntry(predicate, context);\n    return entry ? entry[0] : -1;\n  },\n\n  first: function first(notSetValue) {\n    return this.get(0, notSetValue);\n  },\n\n  flatten: function flatten(depth) {\n    return reify(this, flattenFactory(this, depth, false));\n  },\n\n  get: function get(index, notSetValue) {\n    index = wrapIndex(this, index);\n    return index < 0 ||\n      this.size === Infinity ||\n      (this.size !== undefined && index > this.size)\n      ? notSetValue\n      : this.find(function (_, key) { return key === index; }, undefined, notSetValue);\n  },\n\n  has: function has(index) {\n    index = wrapIndex(this, index);\n    return (\n      index >= 0 &&\n      (this.size !== undefined\n        ? this.size === Infinity || index < this.size\n        : this.indexOf(index) !== -1)\n    );\n  },\n\n  interpose: function interpose(separator) {\n    return reify(this, interposeFactory(this, separator));\n  },\n\n  interleave: function interleave(/*...collections*/) {\n    var collections = [this].concat(arrCopy(arguments));\n    var zipped = zipWithFactory(this.toSeq(), IndexedSeq.of, collections);\n    var interleaved = zipped.flatten(true);\n    if (zipped.size) {\n      interleaved.size = zipped.size * collections.length;\n    }\n    return reify(this, interleaved);\n  },\n\n  keySeq: function keySeq() {\n    return Range(0, this.size);\n  },\n\n  last: function last(notSetValue) {\n    return this.get(-1, notSetValue);\n  },\n\n  skipWhile: function skipWhile(predicate, context) {\n    return reify(this, skipWhileFactory(this, predicate, context, false));\n  },\n\n  zip: function zip(/*, ...collections */) {\n    var collections = [this].concat(arrCopy(arguments));\n    return reify(this, zipWithFactory(this, defaultZipper, collections));\n  },\n\n  zipAll: function zipAll(/*, ...collections */) {\n    var collections = [this].concat(arrCopy(arguments));\n    return reify(this, zipWithFactory(this, defaultZipper, collections, true));\n  },\n\n  zipWith: function zipWith(zipper /*, ...collections */) {\n    var collections = arrCopy(arguments);\n    collections[0] = this;\n    return reify(this, zipWithFactory(this, zipper, collections));\n  },\n});\n\nvar IndexedCollectionPrototype = IndexedCollection.prototype;\nIndexedCollectionPrototype[IS_INDEXED_SYMBOL] = true;\nIndexedCollectionPrototype[IS_ORDERED_SYMBOL] = true;\n\nmixin(SetCollection, {\n  // ### ES6 Collection methods (ES6 Array and Map)\n\n  get: function get(value, notSetValue) {\n    return this.has(value) ? value : notSetValue;\n  },\n\n  includes: function includes(value) {\n    return this.has(value);\n  },\n\n  // ### More sequential methods\n\n  keySeq: function keySeq() {\n    return this.valueSeq();\n  },\n});\n\nvar SetCollectionPrototype = SetCollection.prototype;\nSetCollectionPrototype.has = CollectionPrototype.includes;\nSetCollectionPrototype.contains = SetCollectionPrototype.includes;\nSetCollectionPrototype.keys = SetCollectionPrototype.values;\n\n// Mixin subclasses\n\nmixin(KeyedSeq, KeyedCollectionPrototype);\nmixin(IndexedSeq, IndexedCollectionPrototype);\nmixin(SetSeq, SetCollectionPrototype);\n\n// #pragma Helper functions\n\nfunction reduce(collection, reducer, reduction, context, useFirst, reverse) {\n  assertNotInfinite(collection.size);\n  collection.__iterate(function (v, k, c) {\n    if (useFirst) {\n      useFirst = false;\n      reduction = v;\n    } else {\n      reduction = reducer.call(context, reduction, v, k, c);\n    }\n  }, reverse);\n  return reduction;\n}\n\nfunction keyMapper(v, k) {\n  return k;\n}\n\nfunction entryMapper(v, k) {\n  return [k, v];\n}\n\nfunction not(predicate) {\n  return function () {\n    return !predicate.apply(this, arguments);\n  };\n}\n\nfunction neg(predicate) {\n  return function () {\n    return -predicate.apply(this, arguments);\n  };\n}\n\nfunction defaultZipper() {\n  return arrCopy(arguments);\n}\n\nfunction defaultNegComparator(a, b) {\n  return a < b ? 1 : a > b ? -1 : 0;\n}\n\nfunction hashCollection(collection) {\n  if (collection.size === Infinity) {\n    return 0;\n  }\n  var ordered = isOrdered(collection);\n  var keyed = isKeyed(collection);\n  var h = ordered ? 1 : 0;\n  var size = collection.__iterate(\n    keyed\n      ? ordered\n        ? function (v, k) {\n            h = (31 * h + hashMerge(hash(v), hash(k))) | 0;\n          }\n        : function (v, k) {\n            h = (h + hashMerge(hash(v), hash(k))) | 0;\n          }\n      : ordered\n      ? function (v) {\n          h = (31 * h + hash(v)) | 0;\n        }\n      : function (v) {\n          h = (h + hash(v)) | 0;\n        }\n  );\n  return murmurHashOfSize(size, h);\n}\n\nfunction murmurHashOfSize(size, h) {\n  h = imul(h, 0xcc9e2d51);\n  h = imul((h << 15) | (h >>> -15), 0x1b873593);\n  h = imul((h << 13) | (h >>> -13), 5);\n  h = ((h + 0xe6546b64) | 0) ^ size;\n  h = imul(h ^ (h >>> 16), 0x85ebca6b);\n  h = imul(h ^ (h >>> 13), 0xc2b2ae35);\n  h = smi(h ^ (h >>> 16));\n  return h;\n}\n\nfunction hashMerge(a, b) {\n  return (a ^ (b + 0x9e3779b9 + (a << 6) + (a >> 2))) | 0; // int\n}\n\nvar OrderedSet = /*@__PURE__*/(function (Set) {\n  function OrderedSet(value) {\n    return value === undefined || value === null\n      ? emptyOrderedSet()\n      : isOrderedSet(value)\n      ? value\n      : emptyOrderedSet().withMutations(function (set) {\n          var iter = SetCollection(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function (v) { return set.add(v); });\n        });\n  }\n\n  if ( Set ) OrderedSet.__proto__ = Set;\n  OrderedSet.prototype = Object.create( Set && Set.prototype );\n  OrderedSet.prototype.constructor = OrderedSet;\n\n  OrderedSet.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  OrderedSet.fromKeys = function fromKeys (value) {\n    return this(KeyedCollection(value).keySeq());\n  };\n\n  OrderedSet.prototype.toString = function toString () {\n    return this.__toString('OrderedSet {', '}');\n  };\n\n  return OrderedSet;\n}(Set));\n\nOrderedSet.isOrderedSet = isOrderedSet;\n\nvar OrderedSetPrototype = OrderedSet.prototype;\nOrderedSetPrototype[IS_ORDERED_SYMBOL] = true;\nOrderedSetPrototype.zip = IndexedCollectionPrototype.zip;\nOrderedSetPrototype.zipWith = IndexedCollectionPrototype.zipWith;\nOrderedSetPrototype.zipAll = IndexedCollectionPrototype.zipAll;\n\nOrderedSetPrototype.__empty = emptyOrderedSet;\nOrderedSetPrototype.__make = makeOrderedSet;\n\nfunction makeOrderedSet(map, ownerID) {\n  var set = Object.create(OrderedSetPrototype);\n  set.size = map ? map.size : 0;\n  set._map = map;\n  set.__ownerID = ownerID;\n  return set;\n}\n\nvar EMPTY_ORDERED_SET;\nfunction emptyOrderedSet() {\n  return (\n    EMPTY_ORDERED_SET || (EMPTY_ORDERED_SET = makeOrderedSet(emptyOrderedMap()))\n  );\n}\n\nfunction throwOnInvalidDefaultValues(defaultValues) {\n  if (isRecord(defaultValues)) {\n    throw new Error(\n      'Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.'\n    );\n  }\n\n  if (isImmutable(defaultValues)) {\n    throw new Error(\n      'Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.'\n    );\n  }\n\n  if (defaultValues === null || typeof defaultValues !== 'object') {\n    throw new Error(\n      'Can not call `Record` with a non-object as default values. Use a plain javascript object instead.'\n    );\n  }\n}\n\nvar Record = function Record(defaultValues, name) {\n  var hasInitialized;\n\n  throwOnInvalidDefaultValues(defaultValues);\n\n  var RecordType = function Record(values) {\n    var this$1$1 = this;\n\n    if (values instanceof RecordType) {\n      return values;\n    }\n    if (!(this instanceof RecordType)) {\n      return new RecordType(values);\n    }\n    if (!hasInitialized) {\n      hasInitialized = true;\n      var keys = Object.keys(defaultValues);\n      var indices = (RecordTypePrototype._indices = {});\n      // Deprecated: left to attempt not to break any external code which\n      // relies on a ._name property existing on record instances.\n      // Use Record.getDescriptiveName() instead\n      RecordTypePrototype._name = name;\n      RecordTypePrototype._keys = keys;\n      RecordTypePrototype._defaultValues = defaultValues;\n      for (var i = 0; i < keys.length; i++) {\n        var propName = keys[i];\n        indices[propName] = i;\n        if (RecordTypePrototype[propName]) {\n          /* eslint-disable no-console */\n          typeof console === 'object' &&\n            console.warn &&\n            console.warn(\n              'Cannot define ' +\n                recordName(this) +\n                ' with property \"' +\n                propName +\n                '\" since that property name is part of the Record API.'\n            );\n          /* eslint-enable no-console */\n        } else {\n          setProp(RecordTypePrototype, propName);\n        }\n      }\n    }\n    this.__ownerID = undefined;\n    this._values = List().withMutations(function (l) {\n      l.setSize(this$1$1._keys.length);\n      KeyedCollection(values).forEach(function (v, k) {\n        l.set(this$1$1._indices[k], v === this$1$1._defaultValues[k] ? undefined : v);\n      });\n    });\n    return this;\n  };\n\n  var RecordTypePrototype = (RecordType.prototype =\n    Object.create(RecordPrototype));\n  RecordTypePrototype.constructor = RecordType;\n\n  if (name) {\n    RecordType.displayName = name;\n  }\n\n  return RecordType;\n};\n\nRecord.prototype.toString = function toString () {\n  var str = recordName(this) + ' { ';\n  var keys = this._keys;\n  var k;\n  for (var i = 0, l = keys.length; i !== l; i++) {\n    k = keys[i];\n    str += (i ? ', ' : '') + k + ': ' + quoteString(this.get(k));\n  }\n  return str + ' }';\n};\n\nRecord.prototype.equals = function equals (other) {\n  return (\n    this === other ||\n    (isRecord(other) && recordSeq(this).equals(recordSeq(other)))\n  );\n};\n\nRecord.prototype.hashCode = function hashCode () {\n  return recordSeq(this).hashCode();\n};\n\n// @pragma Access\n\nRecord.prototype.has = function has (k) {\n  return this._indices.hasOwnProperty(k);\n};\n\nRecord.prototype.get = function get (k, notSetValue) {\n  if (!this.has(k)) {\n    return notSetValue;\n  }\n  var index = this._indices[k];\n  var value = this._values.get(index);\n  return value === undefined ? this._defaultValues[k] : value;\n};\n\n// @pragma Modification\n\nRecord.prototype.set = function set (k, v) {\n  if (this.has(k)) {\n    var newValues = this._values.set(\n      this._indices[k],\n      v === this._defaultValues[k] ? undefined : v\n    );\n    if (newValues !== this._values && !this.__ownerID) {\n      return makeRecord(this, newValues);\n    }\n  }\n  return this;\n};\n\nRecord.prototype.remove = function remove (k) {\n  return this.set(k);\n};\n\nRecord.prototype.clear = function clear () {\n  var newValues = this._values.clear().setSize(this._keys.length);\n\n  return this.__ownerID ? this : makeRecord(this, newValues);\n};\n\nRecord.prototype.wasAltered = function wasAltered () {\n  return this._values.wasAltered();\n};\n\nRecord.prototype.toSeq = function toSeq () {\n  return recordSeq(this);\n};\n\nRecord.prototype.toJS = function toJS$1 () {\n  return toJS(this);\n};\n\nRecord.prototype.entries = function entries () {\n  return this.__iterator(ITERATE_ENTRIES);\n};\n\nRecord.prototype.__iterator = function __iterator (type, reverse) {\n  return recordSeq(this).__iterator(type, reverse);\n};\n\nRecord.prototype.__iterate = function __iterate (fn, reverse) {\n  return recordSeq(this).__iterate(fn, reverse);\n};\n\nRecord.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n  if (ownerID === this.__ownerID) {\n    return this;\n  }\n  var newValues = this._values.__ensureOwner(ownerID);\n  if (!ownerID) {\n    this.__ownerID = ownerID;\n    this._values = newValues;\n    return this;\n  }\n  return makeRecord(this, newValues, ownerID);\n};\n\nRecord.isRecord = isRecord;\nRecord.getDescriptiveName = recordName;\nvar RecordPrototype = Record.prototype;\nRecordPrototype[IS_RECORD_SYMBOL] = true;\nRecordPrototype[DELETE] = RecordPrototype.remove;\nRecordPrototype.deleteIn = RecordPrototype.removeIn = deleteIn;\nRecordPrototype.getIn = getIn;\nRecordPrototype.hasIn = CollectionPrototype.hasIn;\nRecordPrototype.merge = merge$1;\nRecordPrototype.mergeWith = mergeWith$1;\nRecordPrototype.mergeIn = mergeIn;\nRecordPrototype.mergeDeep = mergeDeep;\nRecordPrototype.mergeDeepWith = mergeDeepWith;\nRecordPrototype.mergeDeepIn = mergeDeepIn;\nRecordPrototype.setIn = setIn;\nRecordPrototype.update = update;\nRecordPrototype.updateIn = updateIn;\nRecordPrototype.withMutations = withMutations;\nRecordPrototype.asMutable = asMutable;\nRecordPrototype.asImmutable = asImmutable;\nRecordPrototype[ITERATOR_SYMBOL] = RecordPrototype.entries;\nRecordPrototype.toJSON = RecordPrototype.toObject =\n  CollectionPrototype.toObject;\nRecordPrototype.inspect = RecordPrototype.toSource = function () {\n  return this.toString();\n};\n\nfunction makeRecord(likeRecord, values, ownerID) {\n  var record = Object.create(Object.getPrototypeOf(likeRecord));\n  record._values = values;\n  record.__ownerID = ownerID;\n  return record;\n}\n\nfunction recordName(record) {\n  return record.constructor.displayName || record.constructor.name || 'Record';\n}\n\nfunction recordSeq(record) {\n  return keyedSeqFromValue(record._keys.map(function (k) { return [k, record.get(k)]; }));\n}\n\nfunction setProp(prototype, name) {\n  try {\n    Object.defineProperty(prototype, name, {\n      get: function () {\n        return this.get(name);\n      },\n      set: function (value) {\n        invariant(this.__ownerID, 'Cannot set on an immutable record.');\n        this.set(name, value);\n      },\n    });\n  } catch (error) {\n    // Object.defineProperty failed. Probably IE8.\n  }\n}\n\n/**\n * Returns a lazy Seq of `value` repeated `times` times. When `times` is\n * undefined, returns an infinite sequence of `value`.\n */\nvar Repeat = /*@__PURE__*/(function (IndexedSeq) {\n  function Repeat(value, times) {\n    if (!(this instanceof Repeat)) {\n      return new Repeat(value, times);\n    }\n    this._value = value;\n    this.size = times === undefined ? Infinity : Math.max(0, times);\n    if (this.size === 0) {\n      if (EMPTY_REPEAT) {\n        return EMPTY_REPEAT;\n      }\n      EMPTY_REPEAT = this;\n    }\n  }\n\n  if ( IndexedSeq ) Repeat.__proto__ = IndexedSeq;\n  Repeat.prototype = Object.create( IndexedSeq && IndexedSeq.prototype );\n  Repeat.prototype.constructor = Repeat;\n\n  Repeat.prototype.toString = function toString () {\n    if (this.size === 0) {\n      return 'Repeat []';\n    }\n    return 'Repeat [ ' + this._value + ' ' + this.size + ' times ]';\n  };\n\n  Repeat.prototype.get = function get (index, notSetValue) {\n    return this.has(index) ? this._value : notSetValue;\n  };\n\n  Repeat.prototype.includes = function includes (searchValue) {\n    return is(this._value, searchValue);\n  };\n\n  Repeat.prototype.slice = function slice (begin, end) {\n    var size = this.size;\n    return wholeSlice(begin, end, size)\n      ? this\n      : new Repeat(\n          this._value,\n          resolveEnd(end, size) - resolveBegin(begin, size)\n        );\n  };\n\n  Repeat.prototype.reverse = function reverse () {\n    return this;\n  };\n\n  Repeat.prototype.indexOf = function indexOf (searchValue) {\n    if (is(this._value, searchValue)) {\n      return 0;\n    }\n    return -1;\n  };\n\n  Repeat.prototype.lastIndexOf = function lastIndexOf (searchValue) {\n    if (is(this._value, searchValue)) {\n      return this.size;\n    }\n    return -1;\n  };\n\n  Repeat.prototype.__iterate = function __iterate (fn, reverse) {\n    var size = this.size;\n    var i = 0;\n    while (i !== size) {\n      if (fn(this._value, reverse ? size - ++i : i++, this) === false) {\n        break;\n      }\n    }\n    return i;\n  };\n\n  Repeat.prototype.__iterator = function __iterator (type, reverse) {\n    var this$1$1 = this;\n\n    var size = this.size;\n    var i = 0;\n    return new Iterator(function () { return i === size\n        ? iteratorDone()\n        : iteratorValue(type, reverse ? size - ++i : i++, this$1$1._value); }\n    );\n  };\n\n  Repeat.prototype.equals = function equals (other) {\n    return other instanceof Repeat\n      ? is(this._value, other._value)\n      : deepEqual(other);\n  };\n\n  return Repeat;\n}(IndexedSeq));\n\nvar EMPTY_REPEAT;\n\nfunction fromJS(value, converter) {\n  return fromJSWith(\n    [],\n    converter || defaultConverter,\n    value,\n    '',\n    converter && converter.length > 2 ? [] : undefined,\n    { '': value }\n  );\n}\n\nfunction fromJSWith(stack, converter, value, key, keyPath, parentValue) {\n  if (\n    typeof value !== 'string' &&\n    !isImmutable(value) &&\n    (isArrayLike(value) || hasIterator(value) || isPlainObject(value))\n  ) {\n    if (~stack.indexOf(value)) {\n      throw new TypeError('Cannot convert circular structure to Immutable');\n    }\n    stack.push(value);\n    keyPath && key !== '' && keyPath.push(key);\n    var converted = converter.call(\n      parentValue,\n      key,\n      Seq(value).map(function (v, k) { return fromJSWith(stack, converter, v, k, keyPath, value); }\n      ),\n      keyPath && keyPath.slice()\n    );\n    stack.pop();\n    keyPath && keyPath.pop();\n    return converted;\n  }\n  return value;\n}\n\nfunction defaultConverter(k, v) {\n  // Effectively the opposite of \"Collection.toSeq()\"\n  return isIndexed(v) ? v.toList() : isKeyed(v) ? v.toMap() : v.toSet();\n}\n\nvar version = \"4.1.0\";\n\nvar Immutable = {\n  version: version,\n\n  Collection: Collection,\n  // Note: Iterable is deprecated\n  Iterable: Collection,\n\n  Seq: Seq,\n  Map: Map,\n  OrderedMap: OrderedMap,\n  List: List,\n  Stack: Stack,\n  Set: Set,\n  OrderedSet: OrderedSet,\n\n  Record: Record,\n  Range: Range,\n  Repeat: Repeat,\n\n  is: is,\n  fromJS: fromJS,\n  hash: hash,\n\n  isImmutable: isImmutable,\n  isCollection: isCollection,\n  isKeyed: isKeyed,\n  isIndexed: isIndexed,\n  isAssociative: isAssociative,\n  isOrdered: isOrdered,\n  isValueObject: isValueObject,\n  isPlainObject: isPlainObject,\n  isSeq: isSeq,\n  isList: isList,\n  isMap: isMap,\n  isOrderedMap: isOrderedMap,\n  isStack: isStack,\n  isSet: isSet,\n  isOrderedSet: isOrderedSet,\n  isRecord: isRecord,\n\n  get: get,\n  getIn: getIn$1,\n  has: has,\n  hasIn: hasIn$1,\n  merge: merge,\n  mergeDeep: mergeDeep$1,\n  mergeWith: mergeWith,\n  mergeDeepWith: mergeDeepWith$1,\n  remove: remove,\n  removeIn: removeIn,\n  set: set,\n  setIn: setIn$1,\n  update: update$1,\n  updateIn: updateIn$1,\n};\n\n// Note: Iterable is deprecated\nvar Iterable = Collection;\n\nexport default Immutable;\nexport { Collection, Iterable, List, Map, OrderedMap, OrderedSet, Range, Record, Repeat, Seq, Set, Stack, fromJS, get, getIn$1 as getIn, has, hasIn$1 as hasIn, hash, is, isAssociative, isCollection, isImmutable, isIndexed, isKeyed, isList, isMap, isOrdered, isOrderedMap, isOrderedSet, isPlainObject, isRecord, isSeq, isSet, isStack, isValueObject, merge, mergeDeep$1 as mergeDeep, mergeDeepWith$1 as mergeDeepWith, mergeWith, remove, removeIn, set, setIn$1 as setIn, update$1 as update, updateIn$1 as updateIn, version };\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","'use strict';\n\nconst isStream = stream =>\n\tstream !== null &&\n\ttypeof stream === 'object' &&\n\ttypeof stream.pipe === 'function';\n\nisStream.writable = stream =>\n\tisStream(stream) &&\n\tstream.writable !== false &&\n\ttypeof stream._write === 'function' &&\n\ttypeof stream._writableState === 'object';\n\nisStream.readable = stream =>\n\tisStream(stream) &&\n\tstream.readable !== false &&\n\ttypeof stream._read === 'function' &&\n\ttypeof stream._readableState === 'object';\n\nisStream.duplex = stream =>\n\tisStream.writable(stream) &&\n\tisStream.readable(stream);\n\nisStream.transform = stream =>\n\tisStream.duplex(stream) &&\n\ttypeof stream._transform === 'function';\n\nmodule.exports = isStream;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./lib/ContextParser\"), exports);\n__exportStar(require(\"./lib/ErrorCoded\"), exports);\n__exportStar(require(\"./lib/FetchDocumentLoader\"), exports);\n__exportStar(require(\"./lib/IDocumentLoader\"), exports);\n__exportStar(require(\"./lib/JsonLdContext\"), exports);\n__exportStar(require(\"./lib/JsonLdContextNormalized\"), exports);\n__exportStar(require(\"./lib/Util\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.defaultExpandOptions = exports.ContextParser = void 0;\nrequire(\"cross-fetch/polyfill\");\nconst relative_to_absolute_iri_1 = require(\"relative-to-absolute-iri\");\nconst ErrorCoded_1 = require(\"./ErrorCoded\");\nconst FetchDocumentLoader_1 = require(\"./FetchDocumentLoader\");\nconst JsonLdContextNormalized_1 = require(\"./JsonLdContextNormalized\");\nconst Util_1 = require(\"./Util\");\n// tslint:disable-next-line:no-var-requires\nconst canonicalizeJson = require('canonicalize');\n/**\n * Parses JSON-LD contexts.\n */\nclass ContextParser {\n    constructor(options) {\n        options = options || {};\n        this.documentLoader = options.documentLoader || new FetchDocumentLoader_1.FetchDocumentLoader();\n        this.documentCache = {};\n        this.validateContext = !options.skipValidation;\n        this.expandContentTypeToBase = !!options.expandContentTypeToBase;\n        this.remoteContextsDepthLimit = options.remoteContextsDepthLimit || 32;\n        this.redirectSchemaOrgHttps = 'redirectSchemaOrgHttps' in options ? !!options.redirectSchemaOrgHttps : true;\n    }\n    /**\n     * Validate the given @language value.\n     * An error will be thrown if it is invalid.\n     * @param value An @language value.\n     * @param {boolean} strictRange If the string value should be strictly checked against a regex.\n     * @param {string} errorCode The error code to emit on errors.\n     * @return {boolean} If validation passed.\n     *                   Can only be false if strictRange is false and the string value did not pass the regex.\n     */\n    static validateLanguage(value, strictRange, errorCode) {\n        if (typeof value !== 'string') {\n            throw new ErrorCoded_1.ErrorCoded(`The value of an '@language' must be a string, got '${JSON.stringify(value)}'`, errorCode);\n        }\n        if (!Util_1.Util.REGEX_LANGUAGE_TAG.test(value)) {\n            if (strictRange) {\n                throw new ErrorCoded_1.ErrorCoded(`The value of an '@language' must be a valid language tag, got '${JSON.stringify(value)}'`, errorCode);\n            }\n            else {\n                return false;\n            }\n        }\n        return true;\n    }\n    /**\n     * Validate the given @direction value.\n     * An error will be thrown if it is invalid.\n     * @param value An @direction value.\n     * @param {boolean} strictValues If the string value should be strictly checked against a regex.\n     * @return {boolean} If validation passed.\n     *                   Can only be false if strictRange is false and the string value did not pass the regex.\n     */\n    static validateDirection(value, strictValues) {\n        if (typeof value !== 'string') {\n            throw new ErrorCoded_1.ErrorCoded(`The value of an '@direction' must be a string, got '${JSON.stringify(value)}'`, ErrorCoded_1.ERROR_CODES.INVALID_BASE_DIRECTION);\n        }\n        if (!Util_1.Util.REGEX_DIRECTION_TAG.test(value)) {\n            if (strictValues) {\n                throw new ErrorCoded_1.ErrorCoded(`The value of an '@direction' must be 'ltr' or 'rtl', got '${JSON.stringify(value)}'`, ErrorCoded_1.ERROR_CODES.INVALID_BASE_DIRECTION);\n            }\n            else {\n                return false;\n            }\n        }\n        return true;\n    }\n    /**\n     * Add an @id term for all @reverse terms.\n     * @param {IJsonLdContextNormalizedRaw} context A context.\n     * @return {IJsonLdContextNormalizedRaw} The mutated input context.\n     */\n    idifyReverseTerms(context) {\n        for (const key of Object.keys(context)) {\n            const value = context[key];\n            if (value && typeof value === 'object') {\n                if (value['@reverse'] && !value['@id']) {\n                    if (typeof value['@reverse'] !== 'string' || Util_1.Util.isValidKeyword(value['@reverse'])) {\n                        throw new ErrorCoded_1.ErrorCoded(`Invalid @reverse value, must be absolute IRI or blank node: '${value['@reverse']}'`, ErrorCoded_1.ERROR_CODES.INVALID_IRI_MAPPING);\n                    }\n                    value['@id'] = value['@reverse'];\n                    if (Util_1.Util.isPotentialKeyword(value['@reverse'])) {\n                        delete value['@reverse'];\n                    }\n                    else {\n                        value['@reverse'] = true;\n                    }\n                }\n            }\n        }\n        return context;\n    }\n    /**\n     * Expand all prefixed terms in the given context.\n     * @param {IJsonLdContextNormalizedRaw} context A context.\n     * @param {boolean} expandContentTypeToBase If @type inside the context may be expanded\n     *                                          via @base if @vocab is set to null.\n     */\n    expandPrefixedTerms(context, expandContentTypeToBase) {\n        const contextRaw = context.getContextRaw();\n        for (const key of Object.keys(contextRaw)) {\n            // Only expand allowed keys\n            if (Util_1.Util.EXPAND_KEYS_BLACKLIST.indexOf(key) < 0 && !Util_1.Util.isReservedInternalKeyword(key)) {\n                // Error if we try to alias a keyword to something else.\n                const keyValue = contextRaw[key];\n                if (Util_1.Util.isPotentialKeyword(key) && Util_1.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(key) >= 0) {\n                    if (key !== '@type' || typeof contextRaw[key] === 'object'\n                        && !(contextRaw[key]['@protected'] || contextRaw[key]['@container'] === '@set')) {\n                        throw new ErrorCoded_1.ErrorCoded(`Keywords can not be aliased to something else.\nTried mapping ${key} to ${JSON.stringify(keyValue)}`, ErrorCoded_1.ERROR_CODES.KEYWORD_REDEFINITION);\n                    }\n                }\n                // Error if we try to alias to an illegal keyword\n                if (Util_1.Util.ALIAS_RANGE_BLACKLIST.indexOf(Util_1.Util.getContextValueId(keyValue)) >= 0) {\n                    throw new ErrorCoded_1.ErrorCoded(`Aliasing to certain keywords is not allowed.\nTried mapping ${key} to ${JSON.stringify(keyValue)}`, ErrorCoded_1.ERROR_CODES.INVALID_KEYWORD_ALIAS);\n                }\n                // Error if this term was marked as prefix as well\n                if (keyValue && Util_1.Util.isPotentialKeyword(Util_1.Util.getContextValueId(keyValue))\n                    && keyValue['@prefix'] === true) {\n                    throw new ErrorCoded_1.ErrorCoded(`Tried to use keyword aliases as prefix: '${key}': '${JSON.stringify(keyValue)}'`, ErrorCoded_1.ERROR_CODES.INVALID_TERM_DEFINITION);\n                }\n                // Loop because prefixes might be nested\n                while (Util_1.Util.isPrefixValue(contextRaw[key])) {\n                    const value = contextRaw[key];\n                    let changed = false;\n                    if (typeof value === 'string') {\n                        contextRaw[key] = context.expandTerm(value, true);\n                        changed = changed || value !== contextRaw[key];\n                    }\n                    else {\n                        const id = value['@id'];\n                        const type = value['@type'];\n                        // If @id is missing, don't allow @id to be added if @prefix: true and key not being a valid IRI.\n                        const canAddIdEntry = !('@prefix' in value) || Util_1.Util.isValidIri(key);\n                        if ('@id' in value) {\n                            // Use @id value for expansion\n                            if (id !== undefined && id !== null && typeof id === 'string') {\n                                contextRaw[key]['@id'] = context.expandTerm(id, true);\n                                changed = changed || id !== contextRaw[key]['@id'];\n                            }\n                        }\n                        else if (!Util_1.Util.isPotentialKeyword(key) && canAddIdEntry) {\n                            // Add an explicit @id value based on the expanded key value\n                            const newId = context.expandTerm(key, true);\n                            if (newId !== key) {\n                                // Don't set @id if expansion failed\n                                contextRaw[key]['@id'] = newId;\n                                changed = true;\n                            }\n                        }\n                        if (type && typeof type === 'string' && type !== '@vocab'\n                            && (!value['@container'] || !value['@container']['@type'])\n                            && canAddIdEntry) {\n                            // First check @vocab, then fallback to @base\n                            contextRaw[key]['@type'] = context.expandTerm(type, true);\n                            if (expandContentTypeToBase && type === contextRaw[key]['@type']) {\n                                contextRaw[key]['@type'] = context.expandTerm(type, false);\n                            }\n                            changed = changed || type !== contextRaw[key]['@type'];\n                        }\n                    }\n                    if (!changed) {\n                        break;\n                    }\n                }\n            }\n        }\n    }\n    /**\n     * Normalize the @language entries in the given context to lowercase.\n     * @param {IJsonLdContextNormalizedRaw} context A context.\n     * @param {IParseOptions} parseOptions The parsing options.\n     */\n    normalize(context, { processingMode, normalizeLanguageTags }) {\n        // Lowercase language keys in 1.0\n        if (normalizeLanguageTags || processingMode === 1.0) {\n            for (const key of Object.keys(context)) {\n                if (key === '@language' && typeof context[key] === 'string') {\n                    context[key] = context[key].toLowerCase();\n                }\n                else {\n                    const value = context[key];\n                    if (value && typeof value === 'object') {\n                        if (typeof value['@language'] === 'string') {\n                            value['@language'] = value['@language'].toLowerCase();\n                        }\n                    }\n                }\n            }\n        }\n    }\n    /**\n     * Convert all @container strings and array values to hash-based values.\n     * @param {IJsonLdContextNormalizedRaw} context A context.\n     */\n    containersToHash(context) {\n        for (const key of Object.keys(context)) {\n            const value = context[key];\n            if (value && typeof value === 'object') {\n                if (typeof value['@container'] === 'string') {\n                    value['@container'] = { [value['@container']]: true };\n                }\n                else if (Array.isArray(value['@container'])) {\n                    const newValue = {};\n                    for (const containerValue of value['@container']) {\n                        newValue[containerValue] = true;\n                    }\n                    value['@container'] = newValue;\n                }\n            }\n        }\n    }\n    /**\n     * Normalize and apply context-levevl @protected terms onto each term separately.\n     * @param {IJsonLdContextNormalizedRaw} context A context.\n     * @param {number} processingMode The processing mode.\n     */\n    applyScopedProtected(context, { processingMode }) {\n        if (processingMode && processingMode >= 1.1) {\n            if (context['@protected']) {\n                for (const key of Object.keys(context)) {\n                    if (Util_1.Util.isReservedInternalKeyword(key)) {\n                        continue;\n                    }\n                    if (!Util_1.Util.isPotentialKeyword(key) && !Util_1.Util.isTermProtected(context, key)) {\n                        const value = context[key];\n                        if (value && typeof value === 'object') {\n                            if (!('@protected' in context[key])) {\n                                // Mark terms with object values as protected if they don't have an @protected: false annotation\n                                context[key]['@protected'] = true;\n                            }\n                        }\n                        else {\n                            // Convert string-based term values to object-based values with @protected: true\n                            context[key] = {\n                                '@id': value,\n                                '@protected': true,\n                            };\n                        }\n                    }\n                }\n                delete context['@protected'];\n            }\n        }\n    }\n    /**\n     * Check if the given context inheritance does not contain any overrides of protected terms.\n     * @param {IJsonLdContextNormalizedRaw} contextBefore The context that may contain some protected terms.\n     * @param {IJsonLdContextNormalizedRaw} contextAfter A new context that is being applied on the first one.\n     * @param {IExpandOptions} expandOptions Options that are needed for any expansions during this validation.\n     */\n    validateKeywordRedefinitions(contextBefore, contextAfter, expandOptions) {\n        for (const key of Object.keys(contextAfter)) {\n            if (Util_1.Util.isTermProtected(contextBefore, key)) {\n                // The entry in the context before will always be in object-mode\n                // If the new entry is in string-mode, convert it to object-mode\n                // before checking if it is identical.\n                if (typeof contextAfter[key] === 'string') {\n                    const isPrefix = Util_1.Util.isSimpleTermDefinitionPrefix(contextAfter[key], expandOptions);\n                    contextAfter[key] = { '@id': contextAfter[key] };\n                    // If the simple term def was a prefix, explicitly mark the term as a prefix in the expanded term definition,\n                    // because otherwise we loose this information due to JSON-LD interpreting prefixes differently\n                    // in simple vs expanded term definitions.\n                    if (isPrefix) {\n                        contextAfter[key]['@prefix'] = true;\n                        contextBefore[key]['@prefix'] = true; // Also on before, to make sure the next step still considers them ==\n                    }\n                }\n                // Convert term values to strings for each comparison\n                const valueBefore = canonicalizeJson(contextBefore[key]);\n                // We modify this deliberately,\n                // as we need it for the value comparison (they must be identical modulo '@protected')),\n                // and for the fact that this new value will override the first one.\n                contextAfter[key]['@protected'] = true;\n                const valueAfter = canonicalizeJson(contextAfter[key]);\n                // Error if they are not identical\n                if (valueBefore !== valueAfter) {\n                    throw new ErrorCoded_1.ErrorCoded(`Attempted to override the protected keyword ${key} from ${JSON.stringify(Util_1.Util.getContextValueId(contextBefore[key]))} to ${JSON.stringify(Util_1.Util.getContextValueId(contextAfter[key]))}`, ErrorCoded_1.ERROR_CODES.PROTECTED_TERM_REDEFINITION);\n                }\n            }\n        }\n    }\n    /**\n     * Validate the entries of the given context.\n     * @param {IJsonLdContextNormalizedRaw} context A context.\n     * @param {IParseOptions} options The parse options.\n     */\n    validate(context, { processingMode }) {\n        for (const key of Object.keys(context)) {\n            // Ignore reserved internal keywords.\n            if (Util_1.Util.isReservedInternalKeyword(key)) {\n                continue;\n            }\n            // Do not allow empty term\n            if (key === '') {\n                throw new ErrorCoded_1.ErrorCoded(`The empty term is not allowed, got: '${key}': '${JSON.stringify(context[key])}'`, ErrorCoded_1.ERROR_CODES.INVALID_TERM_DEFINITION);\n            }\n            const value = context[key];\n            const valueType = typeof value;\n            // First check if the key is a keyword\n            if (Util_1.Util.isPotentialKeyword(key)) {\n                switch (key.substr(1)) {\n                    case 'vocab':\n                        if (value !== null && valueType !== 'string') {\n                            throw new ErrorCoded_1.ErrorCoded(`Found an invalid @vocab IRI: ${value}`, ErrorCoded_1.ERROR_CODES.INVALID_VOCAB_MAPPING);\n                        }\n                        break;\n                    case 'base':\n                        if (value !== null && valueType !== 'string') {\n                            throw new ErrorCoded_1.ErrorCoded(`Found an invalid @base IRI: ${context[key]}`, ErrorCoded_1.ERROR_CODES.INVALID_BASE_IRI);\n                        }\n                        break;\n                    case 'language':\n                        if (value !== null) {\n                            ContextParser.validateLanguage(value, true, ErrorCoded_1.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);\n                        }\n                        break;\n                    case 'version':\n                        if (value !== null && valueType !== 'number') {\n                            throw new ErrorCoded_1.ErrorCoded(`Found an invalid @version number: ${value}`, ErrorCoded_1.ERROR_CODES.INVALID_VERSION_VALUE);\n                        }\n                        break;\n                    case 'direction':\n                        if (value !== null) {\n                            ContextParser.validateDirection(value, true);\n                        }\n                        break;\n                    case 'propagate':\n                        if (processingMode === 1.0) {\n                            throw new ErrorCoded_1.ErrorCoded(`Found an illegal @propagate keyword: ${value}`, ErrorCoded_1.ERROR_CODES.INVALID_CONTEXT_ENTRY);\n                        }\n                        if (value !== null && valueType !== 'boolean') {\n                            throw new ErrorCoded_1.ErrorCoded(`Found an invalid @propagate value: ${value}`, ErrorCoded_1.ERROR_CODES.INVALID_PROPAGATE_VALUE);\n                        }\n                        break;\n                }\n                // Don't allow keywords to be overridden\n                if (Util_1.Util.isValidKeyword(key) && Util_1.Util.isValidKeyword(Util_1.Util.getContextValueId(value))) {\n                    throw new ErrorCoded_1.ErrorCoded(`Illegal keyword alias in term value, found: '${key}': '${Util_1.Util\n                        .getContextValueId(value)}'`, ErrorCoded_1.ERROR_CODES.KEYWORD_REDEFINITION);\n                }\n                continue;\n            }\n            // Otherwise, consider the key a term\n            if (value !== null) {\n                switch (valueType) {\n                    case 'string':\n                        if (Util_1.Util.getPrefix(value, context) === key) {\n                            throw new ErrorCoded_1.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${key}': '${JSON\n                                .stringify(value)}'`, ErrorCoded_1.ERROR_CODES.CYCLIC_IRI_MAPPING);\n                        }\n                        if (Util_1.Util.isValidIriWeak(key)) {\n                            if (value === '@type') {\n                                throw new ErrorCoded_1.ErrorCoded(`IRIs can not be mapped to @type, found: '${key}': '${value}'`, ErrorCoded_1.ERROR_CODES.INVALID_IRI_MAPPING);\n                            }\n                            else if (Util_1.Util.isValidIri(value) && value !== new JsonLdContextNormalized_1.JsonLdContextNormalized(context).expandTerm(key)) {\n                                throw new ErrorCoded_1.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${key}': '${value}'`, ErrorCoded_1.ERROR_CODES.INVALID_IRI_MAPPING);\n                            }\n                        }\n                        break;\n                    case 'object':\n                        if (!Util_1.Util.isCompactIri(key) && !('@id' in value)\n                            && (value['@type'] === '@id' ? !context['@base'] : !context['@vocab'])) {\n                            throw new ErrorCoded_1.ErrorCoded(`Missing @id in context entry: '${key}': '${JSON.stringify(value)}'`, ErrorCoded_1.ERROR_CODES.INVALID_IRI_MAPPING);\n                        }\n                        for (const objectKey of Object.keys(value)) {\n                            const objectValue = value[objectKey];\n                            if (!objectValue) {\n                                continue;\n                            }\n                            switch (objectKey) {\n                                case '@id':\n                                    if (Util_1.Util.isValidKeyword(objectValue)\n                                        && objectValue !== '@type' && objectValue !== '@id' && objectValue !== '@graph') {\n                                        throw new ErrorCoded_1.ErrorCoded(`Illegal keyword alias in term value, found: '${key}': '${JSON.stringify(value)}'`, ErrorCoded_1.ERROR_CODES.INVALID_IRI_MAPPING);\n                                    }\n                                    if (Util_1.Util.isValidIriWeak(key)) {\n                                        if (objectValue === '@type') {\n                                            throw new ErrorCoded_1.ErrorCoded(`IRIs can not be mapped to @type, found: '${key}': '${JSON.stringify(value)}'`, ErrorCoded_1.ERROR_CODES.INVALID_IRI_MAPPING);\n                                        }\n                                        else if (Util_1.Util.isValidIri(objectValue)\n                                            && objectValue !== new JsonLdContextNormalized_1.JsonLdContextNormalized(context).expandTerm(key)) {\n                                            throw new ErrorCoded_1.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${key}': '${JSON.stringify(value)}'`, ErrorCoded_1.ERROR_CODES.INVALID_IRI_MAPPING);\n                                        }\n                                    }\n                                    if (typeof objectValue !== 'string') {\n                                        throw new ErrorCoded_1.ErrorCoded(`Detected non-string @id in context entry: '${key}': '${JSON.stringify(value)}'`, ErrorCoded_1.ERROR_CODES.INVALID_IRI_MAPPING);\n                                    }\n                                    if (Util_1.Util.getPrefix(objectValue, context) === key) {\n                                        throw new ErrorCoded_1.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${key}': '${JSON\n                                            .stringify(value)}'`, ErrorCoded_1.ERROR_CODES.CYCLIC_IRI_MAPPING);\n                                    }\n                                    break;\n                                case '@type':\n                                    if (value['@container'] === '@type' && objectValue !== '@id' && objectValue !== '@vocab') {\n                                        throw new ErrorCoded_1.ErrorCoded(`@container: @type only allows @type: @id or @vocab, but got: '${key}': '${objectValue}'`, ErrorCoded_1.ERROR_CODES.INVALID_TYPE_MAPPING);\n                                    }\n                                    if (typeof objectValue !== 'string') {\n                                        throw new ErrorCoded_1.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(valueType)}'`, ErrorCoded_1.ERROR_CODES.INVALID_TYPE_MAPPING);\n                                    }\n                                    if (objectValue !== '@id' && objectValue !== '@vocab'\n                                        && (processingMode === 1.0 || objectValue !== '@json')\n                                        && (processingMode === 1.0 || objectValue !== '@none')\n                                        && (objectValue[0] === '_' || !Util_1.Util.isValidIri(objectValue))) {\n                                        throw new ErrorCoded_1.ErrorCoded(`A context @type must be an absolute IRI, found: '${key}': '${objectValue}'`, ErrorCoded_1.ERROR_CODES.INVALID_TYPE_MAPPING);\n                                    }\n                                    break;\n                                case '@reverse':\n                                    if (typeof objectValue === 'string' && value['@id'] && value['@id'] !== objectValue) {\n                                        throw new ErrorCoded_1.ErrorCoded(`Found non-matching @id and @reverse term values in '${key}':\\\n'${objectValue}' and '${value['@id']}'`, ErrorCoded_1.ERROR_CODES.INVALID_REVERSE_PROPERTY);\n                                    }\n                                    if ('@nest' in value) {\n                                        throw new ErrorCoded_1.ErrorCoded(`@nest is not allowed in the reverse property '${key}'`, ErrorCoded_1.ERROR_CODES.INVALID_REVERSE_PROPERTY);\n                                    }\n                                    break;\n                                case '@container':\n                                    if (processingMode === 1.0) {\n                                        if (Object.keys(objectValue).length > 1\n                                            || Util_1.Util.CONTAINERS_1_0.indexOf(Object.keys(objectValue)[0]) < 0) {\n                                            throw new ErrorCoded_1.ErrorCoded(`Invalid term @container for '${key}' ('${Object.keys(objectValue)}') in 1.0, \\\nmust be only one of ${Util_1.Util.CONTAINERS_1_0.join(', ')}`, ErrorCoded_1.ERROR_CODES.INVALID_CONTAINER_MAPPING);\n                                        }\n                                    }\n                                    for (const containerValue of Object.keys(objectValue)) {\n                                        if (containerValue === '@list' && value['@reverse']) {\n                                            throw new ErrorCoded_1.ErrorCoded(`Term value can not be @container: @list and @reverse at the same time on '${key}'`, ErrorCoded_1.ERROR_CODES.INVALID_REVERSE_PROPERTY);\n                                        }\n                                        if (Util_1.Util.CONTAINERS.indexOf(containerValue) < 0) {\n                                            throw new ErrorCoded_1.ErrorCoded(`Invalid term @container for '${key}' ('${containerValue}'), \\\nmust be one of ${Util_1.Util.CONTAINERS.join(', ')}`, ErrorCoded_1.ERROR_CODES.INVALID_CONTAINER_MAPPING);\n                                        }\n                                    }\n                                    break;\n                                case '@language':\n                                    ContextParser.validateLanguage(objectValue, true, ErrorCoded_1.ERROR_CODES.INVALID_LANGUAGE_MAPPING);\n                                    break;\n                                case '@direction':\n                                    ContextParser.validateDirection(objectValue, true);\n                                    break;\n                                case '@prefix':\n                                    if (objectValue !== null && typeof objectValue !== 'boolean') {\n                                        throw new ErrorCoded_1.ErrorCoded(`Found an invalid term @prefix boolean in: '${key}': '${JSON.stringify(value)}'`, ErrorCoded_1.ERROR_CODES.INVALID_PREFIX_VALUE);\n                                    }\n                                    if (!('@id' in value) && !Util_1.Util.isValidIri(key)) {\n                                        throw new ErrorCoded_1.ErrorCoded(`Invalid @prefix definition for '${key}' ('${JSON.stringify(value)}'`, ErrorCoded_1.ERROR_CODES.INVALID_TERM_DEFINITION);\n                                    }\n                                    break;\n                                case '@index':\n                                    if (processingMode === 1.0 || !value['@container'] || !value['@container']['@index']) {\n                                        throw new ErrorCoded_1.ErrorCoded(`Attempt to add illegal key to value object: '${key}': '${JSON.stringify(value)}'`, ErrorCoded_1.ERROR_CODES.INVALID_TERM_DEFINITION);\n                                    }\n                                    break;\n                                case '@nest':\n                                    if (Util_1.Util.isPotentialKeyword(objectValue) && objectValue !== '@nest') {\n                                        throw new ErrorCoded_1.ErrorCoded(`Found an invalid term @nest value in: '${key}': '${JSON.stringify(value)}'`, ErrorCoded_1.ERROR_CODES.INVALID_NEST_VALUE);\n                                    }\n                            }\n                        }\n                        break;\n                    default:\n                        throw new ErrorCoded_1.ErrorCoded(`Found an invalid term value: '${key}': '${value}'`, ErrorCoded_1.ERROR_CODES.INVALID_TERM_DEFINITION);\n                }\n            }\n        }\n    }\n    /**\n     * Apply the @base context entry to the given context under certain circumstances.\n     * @param context A context.\n     * @param options Parsing options.\n     * @param inheritFromParent If the @base value from the parent context can be inherited.\n     * @return The given context.\n     */\n    applyBaseEntry(context, options, inheritFromParent) {\n        // In some special cases, this can be a string, so ignore those.\n        if (typeof context === 'string') {\n            return context;\n        }\n        // Give priority to @base in the parent context\n        if (inheritFromParent && !('@base' in context) && options.parentContext\n            && typeof options.parentContext === 'object' && '@base' in options.parentContext) {\n            context['@base'] = options.parentContext['@base'];\n            if (options.parentContext['@__baseDocument']) {\n                context['@__baseDocument'] = true;\n            }\n        }\n        // Override the base IRI if provided.\n        if (options.baseIRI && !options.external) {\n            if (!('@base' in context)) {\n                // The context base is the document base\n                context['@base'] = options.baseIRI;\n                context['@__baseDocument'] = true;\n            }\n            else if (context['@base'] !== null && typeof context['@base'] === 'string'\n                && !Util_1.Util.isValidIri(context['@base'])) {\n                // The context base is relative to the document base\n                context['@base'] = relative_to_absolute_iri_1.resolve(context['@base'], options.parentContext && options.parentContext['@base'] || options.baseIRI);\n            }\n        }\n        return context;\n    }\n    /**\n     * Resolve relative context IRIs, or return full IRIs as-is.\n     * @param {string} contextIri A context IRI.\n     * @param {string} baseIRI A base IRI.\n     * @return {string} The normalized context IRI.\n     */\n    normalizeContextIri(contextIri, baseIRI) {\n        if (!Util_1.Util.isValidIri(contextIri)) {\n            try {\n                contextIri = relative_to_absolute_iri_1.resolve(contextIri, baseIRI);\n            }\n            catch (_a) {\n                throw new Error(`Invalid context IRI: ${contextIri}`);\n            }\n        }\n        // TODO: Temporary workaround for fixing schema.org CORS issues (https://github.com/schemaorg/schemaorg/issues/2578#issuecomment-652324465)\n        if (this.redirectSchemaOrgHttps && contextIri.startsWith('http://schema.org')) {\n            contextIri = 'https://schema.org/';\n        }\n        return contextIri;\n    }\n    /**\n     * Parse scoped contexts in the given context.\n     * @param {IJsonLdContextNormalizedRaw} context A context.\n     * @param {IParseOptions} options Parsing options.\n     * @return {IJsonLdContextNormalizedRaw} The mutated input context.\n     */\n    async parseInnerContexts(context, options) {\n        for (const key of Object.keys(context)) {\n            const value = context[key];\n            if (value && typeof value === 'object') {\n                if ('@context' in value && value['@context'] !== null && !options.ignoreScopedContexts) {\n                    // Simulate a processing based on the parent context to check if there are any (potential errors).\n                    // Honestly, I find it a bit weird to do this here, as the context may be unused,\n                    // and the final effective context may differ based on any other embedded/scoped contexts.\n                    // But hey, it's part of the spec, so we have no choice...\n                    // https://w3c.github.io/json-ld-api/#h-note-10\n                    if (this.validateContext) {\n                        try {\n                            const parentContext = Object.assign({}, context);\n                            parentContext[key] = Object.assign({}, parentContext[key]);\n                            delete parentContext[key]['@context'];\n                            await this.parse(value['@context'], Object.assign(Object.assign({}, options), { parentContext, ignoreProtection: true, ignoreRemoteScopedContexts: true, ignoreScopedContexts: true }));\n                        }\n                        catch (e) {\n                            throw new ErrorCoded_1.ErrorCoded(e.message, ErrorCoded_1.ERROR_CODES.INVALID_SCOPED_CONTEXT);\n                        }\n                    }\n                    value['@context'] = (await this.parse(value['@context'], Object.assign(Object.assign({}, options), { minimalProcessing: true, ignoreRemoteScopedContexts: true, parentContext: context })))\n                        .getContextRaw();\n                }\n            }\n        }\n        return context;\n    }\n    /**\n     * Parse a JSON-LD context in any form.\n     * @param {JsonLdContext} context A context, URL to a context, or an array of contexts/URLs.\n     * @param {IParseOptions} options Optional parsing options.\n     * @return {Promise<JsonLdContextNormalized>} A promise resolving to the context.\n     */\n    async parse(context, options = {}) {\n        const { baseIRI, parentContext: parentContextInitial, external, processingMode = ContextParser.DEFAULT_PROCESSING_MODE, normalizeLanguageTags, ignoreProtection, minimalProcessing, } = options;\n        let parentContext = parentContextInitial;\n        const remoteContexts = options.remoteContexts || {};\n        // Avoid remote context overflows\n        if (Object.keys(remoteContexts).length >= this.remoteContextsDepthLimit) {\n            throw new ErrorCoded_1.ErrorCoded('Detected an overflow in remote context inclusions: ' + Object.keys(remoteContexts), ErrorCoded_1.ERROR_CODES.CONTEXT_OVERFLOW);\n        }\n        if (context === null || context === undefined) {\n            // Don't allow context nullification and there are protected terms\n            if (!ignoreProtection && parentContext && Util_1.Util.hasProtectedTerms(parentContext)) {\n                throw new ErrorCoded_1.ErrorCoded('Illegal context nullification when terms are protected', ErrorCoded_1.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);\n            }\n            // Context that are explicitly set to null are empty.\n            return new JsonLdContextNormalized_1.JsonLdContextNormalized(this.applyBaseEntry({}, options, false));\n        }\n        else if (typeof context === 'string') {\n            const contextIri = this.normalizeContextIri(context, baseIRI);\n            const overriddenLoad = this.getOverriddenLoad(contextIri, options);\n            if (overriddenLoad) {\n                return new JsonLdContextNormalized_1.JsonLdContextNormalized(overriddenLoad);\n            }\n            const parsedStringContext = await this.parse(await this.load(contextIri), Object.assign(Object.assign({}, options), { baseIRI: contextIri, external: true, remoteContexts: Object.assign(Object.assign({}, remoteContexts), { [contextIri]: true }) }));\n            this.applyBaseEntry(parsedStringContext.getContextRaw(), options, true);\n            return parsedStringContext;\n        }\n        else if (Array.isArray(context)) {\n            // As a performance consideration, first load all external contexts in parallel.\n            const contextIris = [];\n            const contexts = await Promise.all(context.map((subContext, i) => {\n                if (typeof subContext === 'string') {\n                    const contextIri = this.normalizeContextIri(subContext, baseIRI);\n                    contextIris[i] = contextIri;\n                    const overriddenLoad = this.getOverriddenLoad(contextIri, options);\n                    if (overriddenLoad) {\n                        return overriddenLoad;\n                    }\n                    return this.load(contextIri);\n                }\n                else {\n                    return subContext;\n                }\n            }));\n            // Don't apply inheritance logic on minimal processing\n            if (minimalProcessing) {\n                return new JsonLdContextNormalized_1.JsonLdContextNormalized(contexts);\n            }\n            const reducedContexts = await contexts.reduce((accContextPromise, contextEntry, i) => accContextPromise\n                .then((accContext) => this.parse(contextEntry, Object.assign(Object.assign({}, options), { baseIRI: contextIris[i] || options.baseIRI, external: !!contextIris[i] || options.external, parentContext: accContext.getContextRaw(), remoteContexts: contextIris[i] ? Object.assign(Object.assign({}, remoteContexts), { [contextIris[i]]: true }) : remoteContexts }))), Promise.resolve(new JsonLdContextNormalized_1.JsonLdContextNormalized(parentContext || {})));\n            // Override the base IRI if provided.\n            this.applyBaseEntry(reducedContexts.getContextRaw(), options, true);\n            return reducedContexts;\n        }\n        else if (typeof context === 'object') {\n            if ('@context' in context) {\n                return await this.parse(context['@context'], options);\n            }\n            // Make a deep clone of the given context, to avoid modifying it.\n            context = JSON.parse(JSON.stringify(context)); // No better way in JS at the moment.\n            if (parentContext && !minimalProcessing) {\n                parentContext = JSON.parse(JSON.stringify(parentContext));\n            }\n            // We have an actual context object.\n            let newContext = {};\n            // According to the JSON-LD spec, @base must be ignored from external contexts.\n            if (external) {\n                delete context['@base'];\n            }\n            // Override the base IRI if provided.\n            this.applyBaseEntry(context, options, true);\n            // Hashify container entries\n            // Do this before protected term validation as that influences term format\n            this.containersToHash(context);\n            // Don't perform any other modifications if only minimal processing is needed.\n            if (minimalProcessing) {\n                return new JsonLdContextNormalized_1.JsonLdContextNormalized(context);\n            }\n            // In JSON-LD 1.1, load @import'ed context prior to processing.\n            let importContext = {};\n            if ('@import' in context) {\n                if (processingMode >= 1.1) {\n                    // Only accept string values\n                    if (typeof context['@import'] !== 'string') {\n                        throw new ErrorCoded_1.ErrorCoded('An @import value must be a string, but got ' + typeof context['@import'], ErrorCoded_1.ERROR_CODES.INVALID_IMPORT_VALUE);\n                    }\n                    // Load context\n                    importContext = await this.loadImportContext(this.normalizeContextIri(context['@import'], baseIRI));\n                    delete context['@import'];\n                }\n                else {\n                    throw new ErrorCoded_1.ErrorCoded('Context importing is not supported in JSON-LD 1.0', ErrorCoded_1.ERROR_CODES.INVALID_CONTEXT_ENTRY);\n                }\n            }\n            // Merge different parts of the final context in order\n            newContext = Object.assign(Object.assign(Object.assign(Object.assign({}, newContext), (typeof parentContext === 'object' ? parentContext : {})), importContext), context);\n            const newContextWrapped = new JsonLdContextNormalized_1.JsonLdContextNormalized(newContext);\n            // Parse inner contexts with minimal processing\n            await this.parseInnerContexts(newContext, options);\n            // In JSON-LD 1.1, @vocab can be relative to @vocab in the parent context.\n            if ((newContext && newContext['@version'] || ContextParser.DEFAULT_PROCESSING_MODE) >= 1.1\n                && ((context['@vocab'] && typeof context['@vocab'] === 'string') || context['@vocab'] === '')\n                && context['@vocab'].indexOf(':') < 0 && parentContext && '@vocab' in parentContext) {\n                newContext['@vocab'] = parentContext['@vocab'] + context['@vocab'];\n            }\n            // Handle terms (before protection checks)\n            this.idifyReverseTerms(newContext);\n            this.expandPrefixedTerms(newContextWrapped, this.expandContentTypeToBase);\n            // In JSON-LD 1.1, check if we are not redefining any protected keywords\n            if (!ignoreProtection && parentContext && processingMode >= 1.1) {\n                this.validateKeywordRedefinitions(parentContext, newContext, exports.defaultExpandOptions);\n            }\n            this.normalize(newContext, { processingMode, normalizeLanguageTags });\n            this.applyScopedProtected(newContext, { processingMode });\n            if (this.validateContext) {\n                this.validate(newContext, { processingMode });\n            }\n            return newContextWrapped;\n        }\n        else {\n            throw new ErrorCoded_1.ErrorCoded(`Tried parsing a context that is not a string, array or object, but got ${context}`, ErrorCoded_1.ERROR_CODES.INVALID_LOCAL_CONTEXT);\n        }\n    }\n    /**\n     * Fetch the given URL as a raw JSON-LD context.\n     * @param url An URL.\n     * @return A promise resolving to a raw JSON-LD context.\n     */\n    async load(url) {\n        // First try to retrieve the context from cache\n        const cached = this.documentCache[url];\n        if (cached) {\n            return typeof cached === 'string' ? cached : Array.isArray(cached) ? cached.slice() : Object.assign({}, cached);\n        }\n        // If not in cache, load it\n        let document;\n        try {\n            document = await this.documentLoader.load(url);\n        }\n        catch (e) {\n            throw new ErrorCoded_1.ErrorCoded(`Failed to load remote context ${url}: ${e.message}`, ErrorCoded_1.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED);\n        }\n        // Validate the context\n        if (!('@context' in document)) {\n            throw new ErrorCoded_1.ErrorCoded(`Missing @context in remote context at ${url}`, ErrorCoded_1.ERROR_CODES.INVALID_REMOTE_CONTEXT);\n        }\n        return this.documentCache[url] = document['@context'];\n    }\n    /**\n     * Override the given context that may be loaded.\n     *\n     * This will check whether or not the url is recursively being loaded.\n     * @param url An URL.\n     * @param options Parsing options.\n     * @return An overridden context, or null.\n     *         Optionally an error can be thrown if a cyclic context is detected.\n     */\n    getOverriddenLoad(url, options) {\n        if (url in (options.remoteContexts || {})) {\n            if (options.ignoreRemoteScopedContexts) {\n                return url;\n            }\n            else {\n                throw new ErrorCoded_1.ErrorCoded('Detected a cyclic context inclusion of ' + url, ErrorCoded_1.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION);\n            }\n        }\n        return null;\n    }\n    /**\n     * Load an @import'ed context.\n     * @param importContextIri The full URI of an @import value.\n     */\n    async loadImportContext(importContextIri) {\n        // Load the context\n        const importContext = await this.load(importContextIri);\n        // Require the context to be a non-array object\n        if (typeof importContext !== 'object' || Array.isArray(importContext)) {\n            throw new ErrorCoded_1.ErrorCoded('An imported context must be a single object: ' + importContextIri, ErrorCoded_1.ERROR_CODES.INVALID_REMOTE_CONTEXT);\n        }\n        // Error if the context contains another @import\n        if ('@import' in importContext) {\n            throw new ErrorCoded_1.ErrorCoded('An imported context can not import another context: ' + importContextIri, ErrorCoded_1.ERROR_CODES.INVALID_CONTEXT_ENTRY);\n        }\n        // Containers have to be converted into hash values the same way as for the importing context\n        // Otherwise context validation will fail for container values\n        this.containersToHash(importContext);\n        return importContext;\n    }\n}\nexports.ContextParser = ContextParser;\nContextParser.DEFAULT_PROCESSING_MODE = 1.1;\nexports.defaultExpandOptions = {\n    allowPrefixForcing: true,\n    allowPrefixNonGenDelims: false,\n    allowVocabRelativeToBase: true,\n};\n//# sourceMappingURL=ContextParser.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ERROR_CODES = exports.ErrorCoded = void 0;\n/**\n * An error that has a certain error code.\n *\n * The error code can be any string.\n * All standardized error codes are listed in {@link ERROR_CODES}.\n */\nclass ErrorCoded extends Error {\n    /* istanbul ignore next */\n    constructor(message, code) {\n        super(message);\n        this.code = code;\n    }\n}\nexports.ErrorCoded = ErrorCoded;\n/**\n * All standardized JSON-LD error codes.\n * @see https://w3c.github.io/json-ld-api/#dom-jsonlderrorcode\n */\n// tslint:disable:object-literal-sort-keys\nvar ERROR_CODES;\n(function (ERROR_CODES) {\n    ERROR_CODES[\"COLLIDING_KEYWORDS\"] = \"colliding keywords\";\n    ERROR_CODES[\"CONFLICTING_INDEXES\"] = \"conflicting indexes\";\n    ERROR_CODES[\"CYCLIC_IRI_MAPPING\"] = \"cyclic IRI mapping\";\n    ERROR_CODES[\"INVALID_ID_VALUE\"] = \"invalid @id value\";\n    ERROR_CODES[\"INVALID_INDEX_VALUE\"] = \"invalid @index value\";\n    ERROR_CODES[\"INVALID_NEST_VALUE\"] = \"invalid @nest value\";\n    ERROR_CODES[\"INVALID_PREFIX_VALUE\"] = \"invalid @prefix value\";\n    ERROR_CODES[\"INVALID_PROPAGATE_VALUE\"] = \"invalid @propagate value\";\n    ERROR_CODES[\"INVALID_REVERSE_VALUE\"] = \"invalid @reverse value\";\n    ERROR_CODES[\"INVALID_IMPORT_VALUE\"] = \"invalid @import value\";\n    ERROR_CODES[\"INVALID_VERSION_VALUE\"] = \"invalid @version value\";\n    ERROR_CODES[\"INVALID_BASE_IRI\"] = \"invalid base IRI\";\n    ERROR_CODES[\"INVALID_CONTAINER_MAPPING\"] = \"invalid container mapping\";\n    ERROR_CODES[\"INVALID_CONTEXT_ENTRY\"] = \"invalid context entry\";\n    ERROR_CODES[\"INVALID_CONTEXT_NULLIFICATION\"] = \"invalid context nullification\";\n    ERROR_CODES[\"INVALID_DEFAULT_LANGUAGE\"] = \"invalid default language\";\n    ERROR_CODES[\"INVALID_INCLUDED_VALUE\"] = \"invalid @included value\";\n    ERROR_CODES[\"INVALID_IRI_MAPPING\"] = \"invalid IRI mapping\";\n    ERROR_CODES[\"INVALID_JSON_LITERAL\"] = \"invalid JSON literal\";\n    ERROR_CODES[\"INVALID_KEYWORD_ALIAS\"] = \"invalid keyword alias\";\n    ERROR_CODES[\"INVALID_LANGUAGE_MAP_VALUE\"] = \"invalid language map value\";\n    ERROR_CODES[\"INVALID_LANGUAGE_MAPPING\"] = \"invalid language mapping\";\n    ERROR_CODES[\"INVALID_LANGUAGE_TAGGED_STRING\"] = \"invalid language-tagged string\";\n    ERROR_CODES[\"INVALID_LANGUAGE_TAGGED_VALUE\"] = \"invalid language-tagged value\";\n    ERROR_CODES[\"INVALID_LOCAL_CONTEXT\"] = \"invalid local context\";\n    ERROR_CODES[\"INVALID_REMOTE_CONTEXT\"] = \"invalid remote context\";\n    ERROR_CODES[\"INVALID_REVERSE_PROPERTY\"] = \"invalid reverse property\";\n    ERROR_CODES[\"INVALID_REVERSE_PROPERTY_MAP\"] = \"invalid reverse property map\";\n    ERROR_CODES[\"INVALID_REVERSE_PROPERTY_VALUE\"] = \"invalid reverse property value\";\n    ERROR_CODES[\"INVALID_SCOPED_CONTEXT\"] = \"invalid scoped context\";\n    ERROR_CODES[\"INVALID_SCRIPT_ELEMENT\"] = \"invalid script element\";\n    ERROR_CODES[\"INVALID_SET_OR_LIST_OBJECT\"] = \"invalid set or list object\";\n    ERROR_CODES[\"INVALID_TERM_DEFINITION\"] = \"invalid term definition\";\n    ERROR_CODES[\"INVALID_TYPE_MAPPING\"] = \"invalid type mapping\";\n    ERROR_CODES[\"INVALID_TYPE_VALUE\"] = \"invalid type value\";\n    ERROR_CODES[\"INVALID_TYPED_VALUE\"] = \"invalid typed value\";\n    ERROR_CODES[\"INVALID_VALUE_OBJECT\"] = \"invalid value object\";\n    ERROR_CODES[\"INVALID_VALUE_OBJECT_VALUE\"] = \"invalid value object value\";\n    ERROR_CODES[\"INVALID_VOCAB_MAPPING\"] = \"invalid vocab mapping\";\n    ERROR_CODES[\"IRI_CONFUSED_WITH_PREFIX\"] = \"IRI confused with prefix\";\n    ERROR_CODES[\"KEYWORD_REDEFINITION\"] = \"keyword redefinition\";\n    ERROR_CODES[\"LOADING_DOCUMENT_FAILED\"] = \"loading document failed\";\n    ERROR_CODES[\"LOADING_REMOTE_CONTEXT_FAILED\"] = \"loading remote context failed\";\n    ERROR_CODES[\"MULTIPLE_CONTEXT_LINK_HEADERS\"] = \"multiple context link headers\";\n    ERROR_CODES[\"PROCESSING_MODE_CONFLICT\"] = \"processing mode conflict\";\n    ERROR_CODES[\"PROTECTED_TERM_REDEFINITION\"] = \"protected term redefinition\";\n    ERROR_CODES[\"CONTEXT_OVERFLOW\"] = \"context overflow\";\n    ERROR_CODES[\"INVALID_BASE_DIRECTION\"] = \"invalid base direction\";\n    ERROR_CODES[\"RECURSIVE_CONTEXT_INCLUSION\"] = \"recursive context inclusion\";\n    ERROR_CODES[\"INVALID_STREAMING_KEY_ORDER\"] = \"invalid streaming key order\";\n})(ERROR_CODES = exports.ERROR_CODES || (exports.ERROR_CODES = {}));\n//# sourceMappingURL=ErrorCoded.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FetchDocumentLoader = void 0;\nrequire(\"cross-fetch/polyfill\");\nconst ErrorCoded_1 = require(\"./ErrorCoded\");\nconst http_link_header_1 = require(\"http-link-header\");\nconst relative_to_absolute_iri_1 = require(\"relative-to-absolute-iri\");\n/**\n * Loads documents via the fetch API.\n */\nclass FetchDocumentLoader {\n    constructor(fetcher) {\n        this.fetcher = fetcher;\n    }\n    async load(url) {\n        const response = await (this.fetcher || fetch)(url, { headers: new Headers({ accept: 'application/ld+json' }) });\n        if (response.ok && response.headers) {\n            let mediaType = response.headers.get('Content-Type');\n            if (mediaType) {\n                const colonPos = mediaType.indexOf(';');\n                if (colonPos > 0) {\n                    mediaType = mediaType.substr(0, colonPos);\n                }\n            }\n            if (mediaType === 'application/ld+json') {\n                // Return JSON-LD if proper content type was returned\n                return (await response.json());\n            }\n            else {\n                // Check for alternate link for a non-JSON-LD response\n                if (response.headers.has('Link')) {\n                    let alternateUrl;\n                    response.headers.forEach((value, key) => {\n                        if (key === 'link') {\n                            const linkHeader = http_link_header_1.parse(value);\n                            for (const link of linkHeader.get('type', 'application/ld+json')) {\n                                if (link.rel === 'alternate') {\n                                    if (alternateUrl) {\n                                        throw new Error('Multiple JSON-LD alternate links were found on ' + url);\n                                    }\n                                    alternateUrl = relative_to_absolute_iri_1.resolve(link.uri, url);\n                                }\n                            }\n                        }\n                    });\n                    if (alternateUrl) {\n                        return this.load(alternateUrl);\n                    }\n                }\n                throw new ErrorCoded_1.ErrorCoded(`Unsupported JSON-LD media type ${mediaType}`, ErrorCoded_1.ERROR_CODES.LOADING_DOCUMENT_FAILED);\n            }\n        }\n        else {\n            throw new Error(response.statusText || `Status code: ${response.status}`);\n        }\n    }\n}\nexports.FetchDocumentLoader = FetchDocumentLoader;\n//# sourceMappingURL=FetchDocumentLoader.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=IDocumentLoader.js.map","\"use strict\";\n// tslint:disable:max-line-length\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=JsonLdContext.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JsonLdContextNormalized = void 0;\nconst relative_to_absolute_iri_1 = require(\"relative-to-absolute-iri\");\nconst ContextParser_1 = require(\"./ContextParser\");\nconst ErrorCoded_1 = require(\"./ErrorCoded\");\nconst Util_1 = require(\"./Util\");\n/**\n * A class exposing operations over a normalized JSON-LD context.\n */\nclass JsonLdContextNormalized {\n    constructor(contextRaw) {\n        this.contextRaw = contextRaw;\n    }\n    /**\n     * @return The raw inner context.\n     */\n    getContextRaw() {\n        return this.contextRaw;\n    }\n    /**\n     * Expand the term or prefix of the given term if it has one,\n     * otherwise return the term as-is.\n     *\n     * This will try to expand the IRI as much as possible.\n     *\n     * Iff in vocab-mode, then other references to other terms in the context can be used,\n     * such as to `myTerm`:\n     * ```\n     * {\n     *   \"myTerm\": \"http://example.org/myLongTerm\"\n     * }\n     * ```\n     *\n     * @param {string} term A term that is an URL or a prefixed URL.\n     * @param {boolean} expandVocab If the term is a predicate or type and should be expanded based on @vocab,\n     *                              otherwise it is considered a regular term that is expanded based on @base.\n     * @param {IExpandOptions} options Options that define the way how expansion must be done.\n     * @return {string} The expanded term, the term as-is, or null if it was explicitly disabled in the context.\n     * @throws If the term is aliased to an invalid value (not a string, IRI or keyword).\n     */\n    expandTerm(term, expandVocab, options = ContextParser_1.defaultExpandOptions) {\n        const contextValue = this.contextRaw[term];\n        // Immediately return if the term was disabled in the context\n        if (contextValue === null || (contextValue && contextValue['@id'] === null)) {\n            return null;\n        }\n        // Check the @id\n        let validIriMapping = true;\n        if (contextValue && expandVocab) {\n            const value = Util_1.Util.getContextValueId(contextValue);\n            if (value && value !== term) {\n                if (typeof value !== 'string' || (!Util_1.Util.isValidIri(value) && !Util_1.Util.isValidKeyword(value))) {\n                    // Don't mark this mapping as invalid if we have an unknown keyword, but of the correct form.\n                    if (!Util_1.Util.isPotentialKeyword(value)) {\n                        validIriMapping = false;\n                    }\n                }\n                else {\n                    return value;\n                }\n            }\n        }\n        // Check if the term is prefixed\n        const prefix = Util_1.Util.getPrefix(term, this.contextRaw);\n        const vocab = this.contextRaw['@vocab'];\n        const vocabRelative = (!!vocab || vocab === '') && vocab.indexOf(':') < 0;\n        const base = this.contextRaw['@base'];\n        const potentialKeyword = Util_1.Util.isPotentialKeyword(term);\n        if (prefix) {\n            const contextPrefixValue = this.contextRaw[prefix];\n            const value = Util_1.Util.getContextValueId(contextPrefixValue);\n            if (value) {\n                if (typeof contextPrefixValue === 'string' || !options.allowPrefixForcing) {\n                    // If we have a simple term definition,\n                    // check the last character of the prefix to determine whether or not it is a prefix.\n                    // Validate that prefix ends with gen-delim character, unless @prefix is true\n                    if (!Util_1.Util.isSimpleTermDefinitionPrefix(value, options)) {\n                        // Treat the term as an absolute IRI\n                        return term;\n                    }\n                }\n                else {\n                    // If we have an expanded term definition, default to @prefix: false\n                    if (value[0] !== '_' && !potentialKeyword && !contextPrefixValue['@prefix'] && !(term in this.contextRaw)) {\n                        // Treat the term as an absolute IRI\n                        return term;\n                    }\n                }\n                return value + term.substr(prefix.length + 1);\n            }\n        }\n        else if (expandVocab && ((vocab || vocab === '') || (options.allowVocabRelativeToBase && (base && vocabRelative)))\n            && !potentialKeyword && !Util_1.Util.isCompactIri(term)) {\n            if (vocabRelative) {\n                if (options.allowVocabRelativeToBase) {\n                    return ((vocab || base) ? relative_to_absolute_iri_1.resolve(vocab, base) : '') + term;\n                }\n                else {\n                    throw new ErrorCoded_1.ErrorCoded(`Relative vocab expansion for term '${term}' with vocab '${vocab}' is not allowed.`, ErrorCoded_1.ERROR_CODES.INVALID_VOCAB_MAPPING);\n                }\n            }\n            else {\n                return vocab + term;\n            }\n        }\n        else if (!expandVocab && base && !potentialKeyword && !Util_1.Util.isCompactIri(term)) {\n            return relative_to_absolute_iri_1.resolve(term, base);\n        }\n        // Return the term as-is, unless we discovered an invalid IRI mapping for this term in the context earlier.\n        if (validIriMapping) {\n            return term;\n        }\n        else {\n            throw new ErrorCoded_1.ErrorCoded(`Invalid IRI mapping found for context entry '${term}': '${JSON.stringify(contextValue)}'`, ErrorCoded_1.ERROR_CODES.INVALID_IRI_MAPPING);\n        }\n    }\n    /**\n     * Compact the given term using @base, @vocab, an aliased term, or a prefixed term.\n     *\n     * This will try to compact the IRI as much as possible.\n     *\n     * @param {string} iri An IRI to compact.\n     * @param {boolean} vocab If the term is a predicate or type and should be compacted based on @vocab,\n     *                        otherwise it is considered a regular term that is compacted based on @base.\n     * @return {string} The compacted term or the IRI as-is.\n     */\n    compactIri(iri, vocab) {\n        // Try @vocab compacting\n        if (vocab && this.contextRaw['@vocab'] && iri.startsWith(this.contextRaw['@vocab'])) {\n            return iri.substr(this.contextRaw['@vocab'].length);\n        }\n        // Try @base compacting\n        if (!vocab && this.contextRaw['@base'] && iri.startsWith(this.contextRaw['@base'])) {\n            return iri.substr(this.contextRaw['@base'].length);\n        }\n        // Loop over all terms in the context\n        // This will try to prefix as short as possible.\n        // Once a fully compacted alias is found, return immediately, as we can not go any shorter.\n        const shortestPrefixing = { prefix: '', suffix: iri };\n        for (const key in this.contextRaw) {\n            const value = this.contextRaw[key];\n            if (value && !Util_1.Util.isPotentialKeyword(key)) {\n                const contextIri = Util_1.Util.getContextValueId(value);\n                if (iri.startsWith(contextIri)) {\n                    const suffix = iri.substr(contextIri.length);\n                    if (!suffix) {\n                        if (vocab) {\n                            // Immediately return on compacted alias\n                            return key;\n                        }\n                    }\n                    else if (suffix.length < shortestPrefixing.suffix.length) {\n                        // Overwrite the shortest prefix\n                        shortestPrefixing.prefix = key;\n                        shortestPrefixing.suffix = suffix;\n                    }\n                }\n            }\n        }\n        // Return the shortest prefix\n        if (shortestPrefixing.prefix) {\n            return shortestPrefixing.prefix + ':' + shortestPrefixing.suffix;\n        }\n        return iri;\n    }\n}\nexports.JsonLdContextNormalized = JsonLdContextNormalized;\n//# sourceMappingURL=JsonLdContextNormalized.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Util = void 0;\nclass Util {\n    /**\n     * Check if the given term is a valid compact IRI.\n     * Otherwise, it may be an IRI.\n     * @param {string} term A term.\n     * @return {boolean} If it is a compact IRI.\n     */\n    static isCompactIri(term) {\n        return term.indexOf(':') > 0 && !(term && term[0] === '#');\n    }\n    /**\n     * Get the prefix from the given term.\n     * @see https://json-ld.org/spec/latest/json-ld/#compact-iris\n     * @param {string} term A term that is an URL or a prefixed URL.\n     * @param {IJsonLdContextNormalizedRaw} context A context.\n     * @return {string} The prefix or null.\n     */\n    static getPrefix(term, context) {\n        // Do not consider relative IRIs starting with a hash as compact IRIs\n        if (term && term[0] === '#') {\n            return null;\n        }\n        const separatorPos = term.indexOf(':');\n        if (separatorPos >= 0) {\n            // Suffix can not begin with two slashes\n            if (term.length > separatorPos + 1\n                && term.charAt(separatorPos + 1) === '/'\n                && term.charAt(separatorPos + 2) === '/') {\n                return null;\n            }\n            const prefix = term.substr(0, separatorPos);\n            // Prefix can not be an underscore (this is a blank node)\n            if (prefix === '_') {\n                return null;\n            }\n            // Prefix must match a term in the active context\n            if (context[prefix]) {\n                return prefix;\n            }\n        }\n        return null;\n    }\n    /**\n     * From a given context entry value, get the string value, or the @id field.\n     * @param contextValue A value for a term in a context.\n     * @return {string} The id value, or null.\n     */\n    static getContextValueId(contextValue) {\n        if (contextValue === null || typeof contextValue === 'string') {\n            return contextValue;\n        }\n        const id = contextValue['@id'];\n        return id ? id : null;\n    }\n    /**\n     * Check if the given simple term definition (string-based value of a context term)\n     * should be considered a prefix.\n     * @param value A simple term definition value.\n     * @param options Options that define the way how expansion must be done.\n     */\n    static isSimpleTermDefinitionPrefix(value, options) {\n        return !Util.isPotentialKeyword(value)\n            && (value[0] === '_' || options.allowPrefixNonGenDelims || Util.isPrefixIriEndingWithGenDelim(value));\n    }\n    /**\n     * Check if the given keyword is of the keyword format \"@\"1*ALPHA.\n     * @param {string} keyword A potential keyword.\n     * @return {boolean} If the given keyword is of the keyword format.\n     */\n    static isPotentialKeyword(keyword) {\n        return typeof keyword === 'string' && Util.KEYWORD_REGEX.test(keyword);\n    }\n    /**\n     * Check if the given prefix ends with a gen-delim character.\n     * @param {string} prefixIri A prefix IRI.\n     * @return {boolean} If the given prefix IRI is valid.\n     */\n    static isPrefixIriEndingWithGenDelim(prefixIri) {\n        return Util.ENDS_WITH_GEN_DELIM.test(prefixIri);\n    }\n    /**\n     * Check if the given context value can be a prefix value.\n     * @param value A context value.\n     * @return {boolean} If it can be a prefix value.\n     */\n    static isPrefixValue(value) {\n        return value && (typeof value === 'string' || (value && typeof value === 'object'));\n    }\n    /**\n     * Check if the given IRI is valid.\n     * @param {string} iri A potential IRI.\n     * @return {boolean} If the given IRI is valid.\n     */\n    static isValidIri(iri) {\n        return Boolean(iri && Util.IRI_REGEX.test(iri));\n    }\n    /**\n     * Check if the given IRI is valid, this includes the possibility of being a relative IRI.\n     * @param {string} iri A potential IRI.\n     * @return {boolean} If the given IRI is valid.\n     */\n    static isValidIriWeak(iri) {\n        return !!iri && iri[0] !== ':' && Util.IRI_REGEX_WEAK.test(iri);\n    }\n    /**\n     * Check if the given keyword is a defined according to the JSON-LD specification.\n     * @param {string} keyword A potential keyword.\n     * @return {boolean} If the given keyword is valid.\n     */\n    static isValidKeyword(keyword) {\n        return Util.VALID_KEYWORDS[keyword];\n    }\n    /**\n     * Check if the given term is protected in the context.\n     * @param {IJsonLdContextNormalizedRaw} context A context.\n     * @param {string} key A context term.\n     * @return {boolean} If the given term has an @protected flag.\n     */\n    static isTermProtected(context, key) {\n        const value = context[key];\n        return !(typeof value === 'string') && value && value['@protected'];\n    }\n    /**\n     * Check if the given context has at least one protected term.\n     * @param context A context.\n     * @return If the context has a protected term.\n     */\n    static hasProtectedTerms(context) {\n        for (const key of Object.keys(context)) {\n            if (Util.isTermProtected(context, key)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    /**\n     * Check if the given key is an internal reserved keyword.\n     * @param key A context key.\n     */\n    static isReservedInternalKeyword(key) {\n        return key.startsWith('@__');\n    }\n}\nexports.Util = Util;\n// Regex for valid IRIs\nUtil.IRI_REGEX = /^([A-Za-z][A-Za-z0-9+-.]*|_):[^ \"<>{}|\\\\\\[\\]`#]*(#[^#]*)?$/;\n// Weaker regex for valid IRIs, this includes relative IRIs\nUtil.IRI_REGEX_WEAK = /(?::[^:])|\\//;\n// Regex for keyword form\nUtil.KEYWORD_REGEX = /^@[a-z]+$/i;\n// Regex to see if an IRI ends with a gen-delim character (see RFC 3986)\nUtil.ENDS_WITH_GEN_DELIM = /[:/?#\\[\\]@]$/;\n// Regex for language tags\nUtil.REGEX_LANGUAGE_TAG = /^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/;\n// Regex for base directions\nUtil.REGEX_DIRECTION_TAG = /^(ltr)|(rtl)$/;\n// All known valid JSON-LD keywords\n// @see https://www.w3.org/TR/json-ld11/#keywords\nUtil.VALID_KEYWORDS = {\n    '@base': true,\n    '@container': true,\n    '@context': true,\n    '@direction': true,\n    '@graph': true,\n    '@id': true,\n    '@import': true,\n    '@included': true,\n    '@index': true,\n    '@json': true,\n    '@language': true,\n    '@list': true,\n    '@nest': true,\n    '@none': true,\n    '@prefix': true,\n    '@propagate': true,\n    '@protected': true,\n    '@reverse': true,\n    '@set': true,\n    '@type': true,\n    '@value': true,\n    '@version': true,\n    '@vocab': true,\n};\n// Keys in the contexts that will not be expanded based on the base IRI\nUtil.EXPAND_KEYS_BLACKLIST = [\n    '@base',\n    '@vocab',\n    '@language',\n    '@version',\n    '@direction',\n];\n// Keys in the contexts that may not be aliased from\nUtil.ALIAS_DOMAIN_BLACKLIST = [\n    '@container',\n    '@graph',\n    '@id',\n    '@index',\n    '@list',\n    '@nest',\n    '@none',\n    '@prefix',\n    '@reverse',\n    '@set',\n    '@type',\n    '@value',\n    '@version',\n];\n// Keys in the contexts that may not be aliased to\nUtil.ALIAS_RANGE_BLACKLIST = [\n    '@context',\n    '@preserve',\n];\n// All valid @container values\nUtil.CONTAINERS = [\n    '@list',\n    '@set',\n    '@index',\n    '@language',\n    '@graph',\n    '@id',\n    '@type',\n];\n// All valid @container values under processing mode 1.0\nUtil.CONTAINERS_1_0 = [\n    '@list',\n    '@set',\n    '@index',\n];\n//# sourceMappingURL=Util.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./lib/JsonLdSerializer\"), exports);\n__exportStar(require(\"./lib/Util\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JsonLdSerializer = void 0;\nconst jsonld_context_parser_1 = require(\"jsonld-context-parser\");\nconst SeparatorType_1 = require(\"./SeparatorType\");\nconst Util_1 = require(\"./Util\");\nconst readable_stream_1 = require(\"readable-stream\");\n/**\n * A stream transformer that transforms an {@link RDF.Stream} into a JSON-LD (text) stream.\n */\nclass JsonLdSerializer extends readable_stream_1.Transform {\n    constructor(options = {}) {\n        super({ objectMode: true });\n        this.indentation = 0;\n        this.options = options;\n        // Parse the context\n        if (this.options.baseIRI && !this.options.context) {\n            this.options.context = { '@base': this.options.baseIRI };\n        }\n        if (this.options.context) {\n            this.originalContext = this.options.context;\n            this.context = new jsonld_context_parser_1.ContextParser().parse(this.options.context, { baseIRI: this.options.baseIRI });\n        }\n        else {\n            this.context = Promise.resolve(new jsonld_context_parser_1.JsonLdContextNormalized({}));\n        }\n    }\n    /**\n     * Parses the given text stream into a quad stream.\n     * @param {NodeJS.EventEmitter} stream A text stream.\n     * @return {NodeJS.EventEmitter} A quad stream.\n     */\n    import(stream) {\n        const output = new readable_stream_1.PassThrough({ objectMode: true });\n        stream.on('error', (error) => parsed.emit('error', error));\n        stream.on('data', (data) => output.push(data));\n        stream.on('end', () => output.push(null));\n        const parsed = output.pipe(new JsonLdSerializer(this.options));\n        return parsed;\n    }\n    /**\n     * Transforms a quad into the text stream.\n     * @param {Quad} quad An RDF quad.\n     * @param {string} encoding An (ignored) encoding.\n     * @param {module:stream.internal.TransformCallback} callback Callback that is invoked when the transformation is done\n     * @private\n     */\n    _transform(quad, encoding, callback) {\n        this.context.then((context) => {\n            this.transformQuad(quad, context);\n            callback();\n        }).catch(callback);\n    }\n    /**\n     * Construct a list in an RDF.Term object that can be used\n     * inside a quad's object to write into the serializer\n     * as a list using the @list keyword.\n     * @param {RDF.Quad_Object[]} values A list of values, can be empty.\n     * @return {RDF.Quad_Object} A term that should be used in the object position of the quad that is written to the serializer.\n     */\n    async list(values) {\n        const context = await this.context;\n        return {\n            '@list': values.map((value) => Util_1.Util.termToValue(value, context, this.options)),\n        };\n    }\n    /**\n     * Called when the incoming stream is closed.\n     * @param {module:stream.internal.TransformCallback} callback Callback that is invoked when the flushing is done.\n     * @private\n     */\n    _flush(callback) {\n        // If the stream was empty, ensure that we push the opening array\n        if (!this.opened) {\n            this.pushDocumentStart();\n        }\n        if (this.lastPredicate) {\n            this.endPredicate();\n        }\n        if (this.lastSubject) {\n            this.endSubject();\n        }\n        if (this.lastGraph && this.lastGraph.termType !== 'DefaultGraph') {\n            this.endGraph();\n        }\n        this.endDocument();\n        return callback(null, null);\n    }\n    /**\n     * Transforms a quad into the text stream.\n     * @param {Quad} quad An RDF quad.\n     * @param {JsonLdContextNormalized} context A context for compacting.\n     */\n    transformQuad(quad, context) {\n        // Open the array before the first quad\n        if (!this.opened) {\n            this.pushDocumentStart();\n        }\n        // Check if the subject equals the last named graph\n        // In that case, we can reuse the already-existing @id node\n        const lastGraphMatchesSubject = this.lastGraph && this.lastGraph.termType !== 'DefaultGraph'\n            && this.lastGraph.equals(quad.subject);\n        // Write graph\n        if (!lastGraphMatchesSubject && (!this.lastGraph || !quad.graph.equals(this.lastGraph))) {\n            // Check if the named graph equals the last subject\n            // In that case, we can reuse the already-existing @id node\n            let lastSubjectMatchesGraph = quad.graph.termType !== 'DefaultGraph'\n                && this.lastSubject && this.lastSubject.equals(quad.graph);\n            if (this.lastGraph) {\n                if (this.lastGraph.termType !== 'DefaultGraph') {\n                    // The last graph was named\n                    this.endPredicate();\n                    this.endSubject();\n                    this.endGraph(true);\n                    lastSubjectMatchesGraph = false; // Special-case to avoid deeper nesting\n                }\n                else {\n                    // The last graph was default\n                    if (!lastSubjectMatchesGraph) {\n                        this.endPredicate();\n                        this.endSubject(true);\n                    }\n                    else {\n                        this.endPredicate(true);\n                        this.lastSubject = null;\n                    }\n                }\n            }\n            // Push the graph\n            if (quad.graph.termType !== 'DefaultGraph') {\n                if (!lastSubjectMatchesGraph) {\n                    this.pushId(quad.graph, context);\n                }\n                this.pushSeparator(this.options.space\n                    ? SeparatorType_1.SeparatorType.GRAPH_FIELD_NONCOMPACT : SeparatorType_1.SeparatorType.GRAPH_FIELD_COMPACT);\n                this.indentation++;\n            }\n            this.lastGraph = quad.graph;\n        }\n        // Write subject\n        if (!this.lastSubject || !quad.subject.equals(this.lastSubject)) {\n            if (lastGraphMatchesSubject) {\n                this.endPredicate();\n                this.endSubject();\n                this.indentation--;\n                this.pushSeparator(SeparatorType_1.SeparatorType.ARRAY_END_COMMA);\n                this.lastGraph = quad.graph;\n            }\n            else {\n                if (this.lastSubject) {\n                    this.endPredicate();\n                    this.endSubject(true);\n                }\n                // Open a new node for the new subject\n                this.pushId(quad.subject, context);\n            }\n            this.lastSubject = quad.subject;\n        }\n        // Write predicate\n        if (!this.lastPredicate || !quad.predicate.equals(this.lastPredicate)) {\n            if (this.lastPredicate) {\n                this.endPredicate(true);\n            }\n            // Open a new array for the new predicate\n            this.pushPredicate(quad.predicate, context);\n        }\n        // Write the object value\n        this.pushObject(quad.object, context);\n    }\n    pushDocumentStart() {\n        this.opened = true;\n        if (this.originalContext && !this.options.excludeContext) {\n            this.pushSeparator(SeparatorType_1.SeparatorType.OBJECT_START);\n            this.indentation++;\n            this.pushSeparator(SeparatorType_1.SeparatorType.CONTEXT_FIELD);\n            this.pushIndented(JSON.stringify(this.originalContext, null, this.options.space) + ',');\n            this.pushSeparator(this.options.space\n                ? SeparatorType_1.SeparatorType.GRAPH_FIELD_NONCOMPACT : SeparatorType_1.SeparatorType.GRAPH_FIELD_COMPACT);\n            this.indentation++;\n        }\n        else {\n            this.pushSeparator(SeparatorType_1.SeparatorType.ARRAY_START);\n            this.indentation++;\n        }\n    }\n    /**\n     * Push the given term as an @id field.\n     * @param {Term} term An RDF term.\n     * @param {JsonLdContextNormalized} context The context.\n     */\n    pushId(term, context) {\n        const subjectValue = term.termType === 'BlankNode'\n            ? '_:' + term.value : context.compactIri(term.value, false);\n        this.pushSeparator(SeparatorType_1.SeparatorType.OBJECT_START);\n        this.indentation++;\n        this.pushIndented(this.options.space ? `\"@id\": \"${subjectValue}\",` : `\"@id\":\"${subjectValue}\",`);\n    }\n    /**\n     * Push the given predicate field.\n     * @param {Term} predicate An RDF term.\n     * @param {JsonLdContextNormalized} context The context.\n     */\n    pushPredicate(predicate, context) {\n        let property = predicate.value;\n        // Convert rdf:type into @type if not disabled.\n        if (!this.options.useRdfType && property === Util_1.Util.RDF_TYPE) {\n            property = '@type';\n            this.objectOptions = Object.assign(Object.assign({}, this.options), { compactIds: true, vocab: true });\n        }\n        // Open array for following objects\n        const compactedProperty = context.compactIri(property, true);\n        this.pushIndented(this.options.space ? `\"${compactedProperty}\": [` : `\"${compactedProperty}\":[`);\n        this.indentation++;\n        this.lastPredicate = predicate;\n    }\n    /**\n     * Push the given object value.\n     * @param {Term} object An RDF term.\n     * @param {JsonLdContextNormalized} context The context.\n     */\n    pushObject(object, context) {\n        // Add a comma if we already had an object for this predicate\n        if (!this.hadObjectForPredicate) {\n            this.hadObjectForPredicate = true;\n        }\n        else {\n            this.pushSeparator(SeparatorType_1.SeparatorType.COMMA);\n        }\n        // Convert the object into a value and push it\n        let value;\n        try {\n            if (object['@list']) {\n                value = object;\n            }\n            else {\n                value = Util_1.Util.termToValue(object, context, this.objectOptions || this.options);\n            }\n        }\n        catch (e) {\n            return this.emit('error', e);\n        }\n        this.pushIndented(JSON.stringify(value, null, this.options.space));\n    }\n    endDocument() {\n        this.opened = false;\n        if (this.originalContext && !this.options.excludeContext) {\n            this.indentation--;\n            this.pushSeparator(SeparatorType_1.SeparatorType.ARRAY_END);\n            this.indentation--;\n            this.pushSeparator(SeparatorType_1.SeparatorType.OBJECT_END);\n        }\n        else {\n            this.indentation--;\n            this.pushSeparator(SeparatorType_1.SeparatorType.ARRAY_END);\n        }\n    }\n    /**\n     * Push the end of a predicate and reset the buffers.\n     * @param {boolean} comma If a comma should be appended.\n     */\n    endPredicate(comma) {\n        // Close the predicate array\n        this.indentation--;\n        this.pushSeparator(comma ? SeparatorType_1.SeparatorType.ARRAY_END_COMMA : SeparatorType_1.SeparatorType.ARRAY_END);\n        // Reset object buffer\n        this.hadObjectForPredicate = false;\n        this.objectOptions = null;\n        // Reset predicate buffer\n        this.lastPredicate = null;\n    }\n    /**\n     * Push the end of a subject and reset the buffers.\n     * @param {boolean} comma If a comma should be appended.\n     */\n    endSubject(comma) {\n        // Close the last subject's node;\n        this.indentation--;\n        this.pushSeparator(comma ? SeparatorType_1.SeparatorType.OBJECT_END_COMMA : SeparatorType_1.SeparatorType.OBJECT_END);\n        // Reset subject buffer\n        this.lastSubject = null;\n    }\n    /**\n     * Push the end of a graph and reset the buffers.\n     * @param {boolean} comma If a comma should be appended.\n     */\n    endGraph(comma) {\n        // Close the graph array\n        this.indentation--;\n        this.pushSeparator(SeparatorType_1.SeparatorType.ARRAY_END);\n        // Close the graph id node\n        this.indentation--;\n        this.pushSeparator(comma ? SeparatorType_1.SeparatorType.OBJECT_END_COMMA : SeparatorType_1.SeparatorType.OBJECT_END);\n        // Reset graph buffer\n        this.lastGraph = null;\n    }\n    /**\n     * Puh the given separator.\n     * @param {SeparatorType} type A type of separator.\n     */\n    pushSeparator(type) {\n        this.pushIndented(type.label);\n    }\n    /**\n     * An indentation-aware variant of {@link #push}.\n     * All strings that are pushed here will be prefixed by {@link #indentation} amount of spaces.\n     * @param {string} data A string.\n     */\n    pushIndented(data) {\n        const prefix = this.getIndentPrefix();\n        const lines = data.split('\\n').map((line) => prefix + line).join('\\n');\n        this.push(lines);\n        if (this.options.space) {\n            this.push('\\n');\n        }\n    }\n    /**\n     * @return {string} Get the current indentation prefix based on {@link #indentation}.\n     */\n    getIndentPrefix() {\n        return this.options.space ? this.options.space.repeat(this.indentation) : '';\n    }\n}\nexports.JsonLdSerializer = JsonLdSerializer;\n//# sourceMappingURL=JsonLdSerializer.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SeparatorType = void 0;\n/**\n * A type of JSON separator.\n */\nclass SeparatorType {\n    constructor(label) {\n        this.label = label;\n    }\n}\nexports.SeparatorType = SeparatorType;\nSeparatorType.COMMA = new SeparatorType(',');\nSeparatorType.OBJECT_START = new SeparatorType('{');\nSeparatorType.OBJECT_END = new SeparatorType('}');\nSeparatorType.OBJECT_END_COMMA = new SeparatorType('},');\nSeparatorType.ARRAY_START = new SeparatorType('[');\nSeparatorType.ARRAY_END = new SeparatorType(']');\nSeparatorType.ARRAY_END_COMMA = new SeparatorType('],');\nSeparatorType.GRAPH_FIELD_NONCOMPACT = new SeparatorType('\"@graph\": [');\nSeparatorType.GRAPH_FIELD_COMPACT = new SeparatorType('\"@graph\":[');\nSeparatorType.CONTEXT_FIELD = new SeparatorType('\"@context\":');\n//# sourceMappingURL=SeparatorType.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Util = void 0;\nconst jsonld_context_parser_1 = require(\"jsonld-context-parser\");\n/**\n * Utility functions and methods.\n */\nclass Util {\n    /**\n     * Convert an RDF term to a JSON value.\n     * @param {Term} term An RDF term.\n     * @param {JsonLdContextNormalized} context The context.\n     * @param {ITermToValueOptions} options Conversion options.\n     * @return {any} A JSON value.\n     */\n    static termToValue(term, context, options = {\n        compactIds: false,\n        useNativeTypes: false,\n    }) {\n        switch (term.termType) {\n            case 'NamedNode':\n                const compacted = context.compactIri(term.value, options.vocab);\n                return options.compactIds ? compacted : { '@id': compacted };\n            case 'DefaultGraph':\n                return options.compactIds ? term.value : { '@id': term.value };\n            case 'BlankNode':\n                const id = `_:${term.value}`;\n                return options.compactIds ? id : { '@id': id };\n            case 'Literal':\n                // Handle JSON datatype\n                if (term.datatype.value === Util.RDF_JSON) {\n                    let parsedJson;\n                    try {\n                        parsedJson = JSON.parse(term.value);\n                    }\n                    catch (e) {\n                        throw new jsonld_context_parser_1.ErrorCoded('Invalid JSON literal: ' + e.message, jsonld_context_parser_1.ERROR_CODES.INVALID_JSON_LITERAL);\n                    }\n                    return {\n                        '@value': parsedJson,\n                        '@type': '@json',\n                    };\n                }\n                // Handle rdfDirection: i18n-datatype\n                if (options.rdfDirection === 'i18n-datatype' && term.datatype.value.startsWith(Util.I18N)) {\n                    const [language, direction] = term.datatype.value\n                        .substr(Util.I18N.length, term.datatype.value.length)\n                        .split('_');\n                    return Object.assign(Object.assign({ '@value': term.value }, language ? { '@language': language } : {}), direction ? { '@direction': direction } : {});\n                }\n                const stringType = term.datatype.value === Util.XSD_STRING;\n                const rawValue = {\n                    '@value': !stringType && options.useNativeTypes\n                        ? Util.stringToNativeType(term.value, term.datatype.value) : term.value,\n                };\n                if (term.language) {\n                    return Object.assign(Object.assign({}, rawValue), { '@language': term.language });\n                }\n                else if (!stringType && typeof rawValue['@value'] === 'string') {\n                    return Object.assign(Object.assign({}, rawValue), { '@type': term.datatype.value });\n                }\n                else {\n                    return rawValue;\n                }\n        }\n    }\n    /**\n     * Convert a string term to a native type.\n     * If no conversion is possible, the original string will be returned.\n     * @param {string} value An RDF term's string value.\n     * @param {string} type\n     * @return {any}\n     */\n    static stringToNativeType(value, type) {\n        if (type.startsWith(Util.XSD)) {\n            const xsdType = type.substr(Util.XSD.length);\n            switch (xsdType) {\n                case 'boolean':\n                    if (value === 'true') {\n                        return true;\n                    }\n                    else if (value === 'false') {\n                        return false;\n                    }\n                    throw new Error(`Invalid xsd:boolean value '${value}'`);\n                case 'integer':\n                case 'number':\n                case 'int':\n                case 'byte':\n                case 'long':\n                    const parsedInt = parseInt(value, 10);\n                    if (isNaN(parsedInt)) {\n                        throw new Error(`Invalid xsd:integer value '${value}'`);\n                    }\n                    return parsedInt;\n                case 'float':\n                case 'double':\n                    const parsedFloat = parseFloat(value);\n                    if (isNaN(parsedFloat)) {\n                        throw new Error(`Invalid xsd:float value '${value}'`);\n                    }\n                    return parsedFloat;\n            }\n        }\n        return value;\n    }\n}\nexports.Util = Util;\nUtil.XSD = 'http://www.w3.org/2001/XMLSchema#';\nUtil.XSD_STRING = Util.XSD + 'string';\nUtil.RDF = 'http://www.w3.org/1999/02/22-rdf-syntax-ns#';\nUtil.RDF_TYPE = Util.RDF + 'type';\nUtil.RDF_JSON = Util.RDF + 'JSON';\nUtil.I18N = 'https://www.w3.org/ns/i18n#';\n//# sourceMappingURL=Util.js.map","/*global Buffer*/\n// Named constants with unique integer values\nvar C = {};\n// Tokens\nvar LEFT_BRACE    = C.LEFT_BRACE    = 0x1;\nvar RIGHT_BRACE   = C.RIGHT_BRACE   = 0x2;\nvar LEFT_BRACKET  = C.LEFT_BRACKET  = 0x3;\nvar RIGHT_BRACKET = C.RIGHT_BRACKET = 0x4;\nvar COLON         = C.COLON         = 0x5;\nvar COMMA         = C.COMMA         = 0x6;\nvar TRUE          = C.TRUE          = 0x7;\nvar FALSE         = C.FALSE         = 0x8;\nvar NULL          = C.NULL          = 0x9;\nvar STRING        = C.STRING        = 0xa;\nvar NUMBER        = C.NUMBER        = 0xb;\n// Tokenizer States\nvar START   = C.START   = 0x11;\nvar STOP    = C.STOP    = 0x12;\nvar TRUE1   = C.TRUE1   = 0x21;\nvar TRUE2   = C.TRUE2   = 0x22;\nvar TRUE3   = C.TRUE3   = 0x23;\nvar FALSE1  = C.FALSE1  = 0x31;\nvar FALSE2  = C.FALSE2  = 0x32;\nvar FALSE3  = C.FALSE3  = 0x33;\nvar FALSE4  = C.FALSE4  = 0x34;\nvar NULL1   = C.NULL1   = 0x41;\nvar NULL2   = C.NULL2   = 0x42;\nvar NULL3   = C.NULL3   = 0x43;\nvar NUMBER1 = C.NUMBER1 = 0x51;\nvar NUMBER3 = C.NUMBER3 = 0x53;\nvar STRING1 = C.STRING1 = 0x61;\nvar STRING2 = C.STRING2 = 0x62;\nvar STRING3 = C.STRING3 = 0x63;\nvar STRING4 = C.STRING4 = 0x64;\nvar STRING5 = C.STRING5 = 0x65;\nvar STRING6 = C.STRING6 = 0x66;\n// Parser States\nvar VALUE   = C.VALUE   = 0x71;\nvar KEY     = C.KEY     = 0x72;\n// Parser Modes\nvar OBJECT  = C.OBJECT  = 0x81;\nvar ARRAY   = C.ARRAY   = 0x82;\n// Character constants\nvar BACK_SLASH =      \"\\\\\".charCodeAt(0);\nvar FORWARD_SLASH =   \"\\/\".charCodeAt(0);\nvar BACKSPACE =       \"\\b\".charCodeAt(0);\nvar FORM_FEED =       \"\\f\".charCodeAt(0);\nvar NEWLINE =         \"\\n\".charCodeAt(0);\nvar CARRIAGE_RETURN = \"\\r\".charCodeAt(0);\nvar TAB =             \"\\t\".charCodeAt(0);\n\nvar STRING_BUFFER_SIZE = 64 * 1024;\n\nfunction Parser() {\n  this.tState = START;\n  this.value = undefined;\n\n  this.string = undefined; // string data\n  this.stringBuffer = Buffer.alloc ? Buffer.alloc(STRING_BUFFER_SIZE) : new Buffer(STRING_BUFFER_SIZE);\n  this.stringBufferOffset = 0;\n  this.unicode = undefined; // unicode escapes\n  this.highSurrogate = undefined;\n\n  this.key = undefined;\n  this.mode = undefined;\n  this.stack = [];\n  this.state = VALUE;\n  this.bytes_remaining = 0; // number of bytes remaining in multi byte utf8 char to read after split boundary\n  this.bytes_in_sequence = 0; // bytes in multi byte utf8 char to read\n  this.temp_buffs = { \"2\": new Buffer(2), \"3\": new Buffer(3), \"4\": new Buffer(4) }; // for rebuilding chars split before boundary is reached\n\n  // Stream offset\n  this.offset = -1;\n}\n\n// Slow code to string converter (only used when throwing syntax errors)\nParser.toknam = function (code) {\n  var keys = Object.keys(C);\n  for (var i = 0, l = keys.length; i < l; i++) {\n    var key = keys[i];\n    if (C[key] === code) { return key; }\n  }\n  return code && (\"0x\" + code.toString(16));\n};\n\nvar proto = Parser.prototype;\nproto.onError = function (err) { throw err; };\nproto.charError = function (buffer, i) {\n  this.tState = STOP;\n  this.onError(new Error(\"Unexpected \" + JSON.stringify(String.fromCharCode(buffer[i])) + \" at position \" + i + \" in state \" + Parser.toknam(this.tState)));\n};\nproto.appendStringChar = function (char) {\n  if (this.stringBufferOffset >= STRING_BUFFER_SIZE) {\n    this.string += this.stringBuffer.toString('utf8');\n    this.stringBufferOffset = 0;\n  }\n\n  this.stringBuffer[this.stringBufferOffset++] = char;\n};\nproto.appendStringBuf = function (buf, start, end) {\n  var size = buf.length;\n  if (typeof start === 'number') {\n    if (typeof end === 'number') {\n      if (end < 0) {\n        // adding a negative end decreeses the size\n        size = buf.length - start + end;\n      } else {\n        size = end - start;\n      }\n    } else {\n      size = buf.length - start;\n    }\n  }\n\n  if (size < 0) {\n    size = 0;\n  }\n\n  if (this.stringBufferOffset + size > STRING_BUFFER_SIZE) {\n    this.string += this.stringBuffer.toString('utf8', 0, this.stringBufferOffset);\n    this.stringBufferOffset = 0;\n  }\n\n  buf.copy(this.stringBuffer, this.stringBufferOffset, start, end);\n  this.stringBufferOffset += size;\n};\nproto.write = function (buffer) {\n  if (typeof buffer === \"string\") buffer = new Buffer(buffer);\n  var n;\n  for (var i = 0, l = buffer.length; i < l; i++) {\n    if (this.tState === START){\n      n = buffer[i];\n      this.offset++;\n      if(n === 0x7b){ this.onToken(LEFT_BRACE, \"{\"); // {\n      }else if(n === 0x7d){ this.onToken(RIGHT_BRACE, \"}\"); // }\n      }else if(n === 0x5b){ this.onToken(LEFT_BRACKET, \"[\"); // [\n      }else if(n === 0x5d){ this.onToken(RIGHT_BRACKET, \"]\"); // ]\n      }else if(n === 0x3a){ this.onToken(COLON, \":\");  // :\n      }else if(n === 0x2c){ this.onToken(COMMA, \",\"); // ,\n      }else if(n === 0x74){ this.tState = TRUE1;  // t\n      }else if(n === 0x66){ this.tState = FALSE1;  // f\n      }else if(n === 0x6e){ this.tState = NULL1; // n\n      }else if(n === 0x22){ // \"\n        this.string = \"\";\n        this.stringBufferOffset = 0;\n        this.tState = STRING1;\n      }else if(n === 0x2d){ this.string = \"-\"; this.tState = NUMBER1; // -\n      }else{\n        if (n >= 0x30 && n < 0x40) { // 1-9\n          this.string = String.fromCharCode(n); this.tState = NUMBER3;\n        } else if (n === 0x20 || n === 0x09 || n === 0x0a || n === 0x0d) {\n          // whitespace\n        } else {\n          return this.charError(buffer, i);\n        }\n      }\n    }else if (this.tState === STRING1){ // After open quote\n      n = buffer[i]; // get current byte from buffer\n      // check for carry over of a multi byte char split between data chunks\n      // & fill temp buffer it with start of this data chunk up to the boundary limit set in the last iteration\n      if (this.bytes_remaining > 0) {\n        for (var j = 0; j < this.bytes_remaining; j++) {\n          this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence - this.bytes_remaining + j] = buffer[j];\n        }\n\n        this.appendStringBuf(this.temp_buffs[this.bytes_in_sequence]);\n        this.bytes_in_sequence = this.bytes_remaining = 0;\n        i = i + j - 1;\n      } else if (this.bytes_remaining === 0 && n >= 128) { // else if no remainder bytes carried over, parse multi byte (>=128) chars one at a time\n        if (n <= 193 || n > 244) {\n          return this.onError(new Error(\"Invalid UTF-8 character at position \" + i + \" in state \" + Parser.toknam(this.tState)));\n        }\n        if ((n >= 194) && (n <= 223)) this.bytes_in_sequence = 2;\n        if ((n >= 224) && (n <= 239)) this.bytes_in_sequence = 3;\n        if ((n >= 240) && (n <= 244)) this.bytes_in_sequence = 4;\n        if ((this.bytes_in_sequence + i) > buffer.length) { // if bytes needed to complete char fall outside buffer length, we have a boundary split\n          for (var k = 0; k <= (buffer.length - 1 - i); k++) {\n            this.temp_buffs[this.bytes_in_sequence][k] = buffer[i + k]; // fill temp buffer of correct size with bytes available in this chunk\n          }\n          this.bytes_remaining = (i + this.bytes_in_sequence) - buffer.length;\n          i = buffer.length - 1;\n        } else {\n          this.appendStringBuf(buffer, i, i + this.bytes_in_sequence);\n          i = i + this.bytes_in_sequence - 1;\n        }\n      } else if (n === 0x22) {\n        this.tState = START;\n        this.string += this.stringBuffer.toString('utf8', 0, this.stringBufferOffset);\n        this.stringBufferOffset = 0;\n        this.onToken(STRING, this.string);\n        this.offset += Buffer.byteLength(this.string, 'utf8') + 1;\n        this.string = undefined;\n      }\n      else if (n === 0x5c) {\n        this.tState = STRING2;\n      }\n      else if (n >= 0x20) { this.appendStringChar(n); }\n      else {\n          return this.charError(buffer, i);\n      }\n    }else if (this.tState === STRING2){ // After backslash\n      n = buffer[i];\n      if(n === 0x22){ this.appendStringChar(n); this.tState = STRING1;\n      }else if(n === 0x5c){ this.appendStringChar(BACK_SLASH); this.tState = STRING1;\n      }else if(n === 0x2f){ this.appendStringChar(FORWARD_SLASH); this.tState = STRING1;\n      }else if(n === 0x62){ this.appendStringChar(BACKSPACE); this.tState = STRING1;\n      }else if(n === 0x66){ this.appendStringChar(FORM_FEED); this.tState = STRING1;\n      }else if(n === 0x6e){ this.appendStringChar(NEWLINE); this.tState = STRING1;\n      }else if(n === 0x72){ this.appendStringChar(CARRIAGE_RETURN); this.tState = STRING1;\n      }else if(n === 0x74){ this.appendStringChar(TAB); this.tState = STRING1;\n      }else if(n === 0x75){ this.unicode = \"\"; this.tState = STRING3;\n      }else{\n        return this.charError(buffer, i);\n      }\n    }else if (this.tState === STRING3 || this.tState === STRING4 || this.tState === STRING5 || this.tState === STRING6){ // unicode hex codes\n      n = buffer[i];\n      // 0-9 A-F a-f\n      if ((n >= 0x30 && n < 0x40) || (n > 0x40 && n <= 0x46) || (n > 0x60 && n <= 0x66)) {\n        this.unicode += String.fromCharCode(n);\n        if (this.tState++ === STRING6) {\n          var intVal = parseInt(this.unicode, 16);\n          this.unicode = undefined;\n          if (this.highSurrogate !== undefined && intVal >= 0xDC00 && intVal < (0xDFFF + 1)) { //<56320,57343> - lowSurrogate\n            this.appendStringBuf(new Buffer(String.fromCharCode(this.highSurrogate, intVal)));\n            this.highSurrogate = undefined;\n          } else if (this.highSurrogate === undefined && intVal >= 0xD800 && intVal < (0xDBFF + 1)) { //<55296,56319> - highSurrogate\n            this.highSurrogate = intVal;\n          } else {\n            if (this.highSurrogate !== undefined) {\n              this.appendStringBuf(new Buffer(String.fromCharCode(this.highSurrogate)));\n              this.highSurrogate = undefined;\n            }\n            this.appendStringBuf(new Buffer(String.fromCharCode(intVal)));\n          }\n          this.tState = STRING1;\n        }\n      } else {\n        return this.charError(buffer, i);\n      }\n    } else if (this.tState === NUMBER1 || this.tState === NUMBER3) {\n        n = buffer[i];\n\n        switch (n) {\n          case 0x30: // 0\n          case 0x31: // 1\n          case 0x32: // 2\n          case 0x33: // 3\n          case 0x34: // 4\n          case 0x35: // 5\n          case 0x36: // 6\n          case 0x37: // 7\n          case 0x38: // 8\n          case 0x39: // 9\n          case 0x2e: // .\n          case 0x65: // e\n          case 0x45: // E\n          case 0x2b: // +\n          case 0x2d: // -\n            this.string += String.fromCharCode(n);\n            this.tState = NUMBER3;\n            break;\n          default:\n            this.tState = START;\n            var result = Number(this.string);\n\n            if (isNaN(result)){\n              return this.charError(buffer, i);\n            }\n\n            if ((this.string.match(/[0-9]+/) == this.string) && (result.toString() != this.string)) {\n              // Long string of digits which is an ID string and not valid and/or safe JavaScript integer Number\n              this.onToken(STRING, this.string);\n            } else {\n              this.onToken(NUMBER, result);\n            }\n\n            this.offset += this.string.length - 1;\n            this.string = undefined;\n            i--;\n            break;\n        }\n    }else if (this.tState === TRUE1){ // r\n      if (buffer[i] === 0x72) { this.tState = TRUE2; }\n      else { return this.charError(buffer, i); }\n    }else if (this.tState === TRUE2){ // u\n      if (buffer[i] === 0x75) { this.tState = TRUE3; }\n      else { return this.charError(buffer, i); }\n    }else if (this.tState === TRUE3){ // e\n      if (buffer[i] === 0x65) { this.tState = START; this.onToken(TRUE, true); this.offset+= 3; }\n      else { return this.charError(buffer, i); }\n    }else if (this.tState === FALSE1){ // a\n      if (buffer[i] === 0x61) { this.tState = FALSE2; }\n      else { return this.charError(buffer, i); }\n    }else if (this.tState === FALSE2){ // l\n      if (buffer[i] === 0x6c) { this.tState = FALSE3; }\n      else { return this.charError(buffer, i); }\n    }else if (this.tState === FALSE3){ // s\n      if (buffer[i] === 0x73) { this.tState = FALSE4; }\n      else { return this.charError(buffer, i); }\n    }else if (this.tState === FALSE4){ // e\n      if (buffer[i] === 0x65) { this.tState = START; this.onToken(FALSE, false); this.offset+= 4; }\n      else { return this.charError(buffer, i); }\n    }else if (this.tState === NULL1){ // u\n      if (buffer[i] === 0x75) { this.tState = NULL2; }\n      else { return this.charError(buffer, i); }\n    }else if (this.tState === NULL2){ // l\n      if (buffer[i] === 0x6c) { this.tState = NULL3; }\n      else { return this.charError(buffer, i); }\n    }else if (this.tState === NULL3){ // l\n      if (buffer[i] === 0x6c) { this.tState = START; this.onToken(NULL, null); this.offset += 3; }\n      else { return this.charError(buffer, i); }\n    }\n  }\n};\nproto.onToken = function (token, value) {\n  // Override this to get events\n};\n\nproto.parseError = function (token, value) {\n  this.tState = STOP;\n  this.onError(new Error(\"Unexpected \" + Parser.toknam(token) + (value ? (\"(\" + JSON.stringify(value) + \")\") : \"\") + \" in state \" + Parser.toknam(this.state)));\n};\nproto.push = function () {\n  this.stack.push({value: this.value, key: this.key, mode: this.mode});\n};\nproto.pop = function () {\n  var value = this.value;\n  var parent = this.stack.pop();\n  this.value = parent.value;\n  this.key = parent.key;\n  this.mode = parent.mode;\n  this.emit(value);\n  if (!this.mode) { this.state = VALUE; }\n};\nproto.emit = function (value) {\n  if (this.mode) { this.state = COMMA; }\n  this.onValue(value);\n};\nproto.onValue = function (value) {\n  // Override me\n};\nproto.onToken = function (token, value) {\n  if(this.state === VALUE){\n    if(token === STRING || token === NUMBER || token === TRUE || token === FALSE || token === NULL){\n      if (this.value) {\n        this.value[this.key] = value;\n      }\n      this.emit(value);\n    }else if(token === LEFT_BRACE){\n      this.push();\n      if (this.value) {\n        this.value = this.value[this.key] = {};\n      } else {\n        this.value = {};\n      }\n      this.key = undefined;\n      this.state = KEY;\n      this.mode = OBJECT;\n    }else if(token === LEFT_BRACKET){\n      this.push();\n      if (this.value) {\n        this.value = this.value[this.key] = [];\n      } else {\n        this.value = [];\n      }\n      this.key = 0;\n      this.mode = ARRAY;\n      this.state = VALUE;\n    }else if(token === RIGHT_BRACE){\n      if (this.mode === OBJECT) {\n        this.pop();\n      } else {\n        return this.parseError(token, value);\n      }\n    }else if(token === RIGHT_BRACKET){\n      if (this.mode === ARRAY) {\n        this.pop();\n      } else {\n        return this.parseError(token, value);\n      }\n    }else{\n      return this.parseError(token, value);\n    }\n  }else if(this.state === KEY){\n    if (token === STRING) {\n      this.key = value;\n      this.state = COLON;\n    } else if (token === RIGHT_BRACE) {\n      this.pop();\n    } else {\n      return this.parseError(token, value);\n    }\n  }else if(this.state === COLON){\n    if (token === COLON) { this.state = VALUE; }\n    else { return this.parseError(token, value); }\n  }else if(this.state === COMMA){\n    if (token === COMMA) {\n      if (this.mode === ARRAY) { this.key++; this.state = VALUE; }\n      else if (this.mode === OBJECT) { this.state = KEY; }\n\n    } else if (token === RIGHT_BRACKET && this.mode === ARRAY || token === RIGHT_BRACE && this.mode === OBJECT) {\n      this.pop();\n    } else {\n      return this.parseError(token, value);\n    }\n  }else{\n    return this.parseError(token, value);\n  }\n};\n\nParser.C = C;\n\nmodule.exports = Parser;\n","'use strict'\n\n// A linked list to keep track of recently-used-ness\nconst Yallist = require('yallist')\n\nconst MAX = Symbol('max')\nconst LENGTH = Symbol('length')\nconst LENGTH_CALCULATOR = Symbol('lengthCalculator')\nconst ALLOW_STALE = Symbol('allowStale')\nconst MAX_AGE = Symbol('maxAge')\nconst DISPOSE = Symbol('dispose')\nconst NO_DISPOSE_ON_SET = Symbol('noDisposeOnSet')\nconst LRU_LIST = Symbol('lruList')\nconst CACHE = Symbol('cache')\nconst UPDATE_AGE_ON_GET = Symbol('updateAgeOnGet')\n\nconst naiveLength = () => 1\n\n// lruList is a yallist where the head is the youngest\n// item, and the tail is the oldest.  the list contains the Hit\n// objects as the entries.\n// Each Hit object has a reference to its Yallist.Node.  This\n// never changes.\n//\n// cache is a Map (or PseudoMap) that matches the keys to\n// the Yallist.Node object.\nclass LRUCache {\n  constructor (options) {\n    if (typeof options === 'number')\n      options = { max: options }\n\n    if (!options)\n      options = {}\n\n    if (options.max && (typeof options.max !== 'number' || options.max < 0))\n      throw new TypeError('max must be a non-negative number')\n    // Kind of weird to have a default max of Infinity, but oh well.\n    const max = this[MAX] = options.max || Infinity\n\n    const lc = options.length || naiveLength\n    this[LENGTH_CALCULATOR] = (typeof lc !== 'function') ? naiveLength : lc\n    this[ALLOW_STALE] = options.stale || false\n    if (options.maxAge && typeof options.maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n    this[MAX_AGE] = options.maxAge || 0\n    this[DISPOSE] = options.dispose\n    this[NO_DISPOSE_ON_SET] = options.noDisposeOnSet || false\n    this[UPDATE_AGE_ON_GET] = options.updateAgeOnGet || false\n    this.reset()\n  }\n\n  // resize the cache when the max changes.\n  set max (mL) {\n    if (typeof mL !== 'number' || mL < 0)\n      throw new TypeError('max must be a non-negative number')\n\n    this[MAX] = mL || Infinity\n    trim(this)\n  }\n  get max () {\n    return this[MAX]\n  }\n\n  set allowStale (allowStale) {\n    this[ALLOW_STALE] = !!allowStale\n  }\n  get allowStale () {\n    return this[ALLOW_STALE]\n  }\n\n  set maxAge (mA) {\n    if (typeof mA !== 'number')\n      throw new TypeError('maxAge must be a non-negative number')\n\n    this[MAX_AGE] = mA\n    trim(this)\n  }\n  get maxAge () {\n    return this[MAX_AGE]\n  }\n\n  // resize the cache when the lengthCalculator changes.\n  set lengthCalculator (lC) {\n    if (typeof lC !== 'function')\n      lC = naiveLength\n\n    if (lC !== this[LENGTH_CALCULATOR]) {\n      this[LENGTH_CALCULATOR] = lC\n      this[LENGTH] = 0\n      this[LRU_LIST].forEach(hit => {\n        hit.length = this[LENGTH_CALCULATOR](hit.value, hit.key)\n        this[LENGTH] += hit.length\n      })\n    }\n    trim(this)\n  }\n  get lengthCalculator () { return this[LENGTH_CALCULATOR] }\n\n  get length () { return this[LENGTH] }\n  get itemCount () { return this[LRU_LIST].length }\n\n  rforEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].tail; walker !== null;) {\n      const prev = walker.prev\n      forEachStep(this, fn, walker, thisp)\n      walker = prev\n    }\n  }\n\n  forEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].head; walker !== null;) {\n      const next = walker.next\n      forEachStep(this, fn, walker, thisp)\n      walker = next\n    }\n  }\n\n  keys () {\n    return this[LRU_LIST].toArray().map(k => k.key)\n  }\n\n  values () {\n    return this[LRU_LIST].toArray().map(k => k.value)\n  }\n\n  reset () {\n    if (this[DISPOSE] &&\n        this[LRU_LIST] &&\n        this[LRU_LIST].length) {\n      this[LRU_LIST].forEach(hit => this[DISPOSE](hit.key, hit.value))\n    }\n\n    this[CACHE] = new Map() // hash of items by key\n    this[LRU_LIST] = new Yallist() // list of items in order of use recency\n    this[LENGTH] = 0 // length of items in the list\n  }\n\n  dump () {\n    return this[LRU_LIST].map(hit =>\n      isStale(this, hit) ? false : {\n        k: hit.key,\n        v: hit.value,\n        e: hit.now + (hit.maxAge || 0)\n      }).toArray().filter(h => h)\n  }\n\n  dumpLru () {\n    return this[LRU_LIST]\n  }\n\n  set (key, value, maxAge) {\n    maxAge = maxAge || this[MAX_AGE]\n\n    if (maxAge && typeof maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n\n    const now = maxAge ? Date.now() : 0\n    const len = this[LENGTH_CALCULATOR](value, key)\n\n    if (this[CACHE].has(key)) {\n      if (len > this[MAX]) {\n        del(this, this[CACHE].get(key))\n        return false\n      }\n\n      const node = this[CACHE].get(key)\n      const item = node.value\n\n      // dispose of the old one before overwriting\n      // split out into 2 ifs for better coverage tracking\n      if (this[DISPOSE]) {\n        if (!this[NO_DISPOSE_ON_SET])\n          this[DISPOSE](key, item.value)\n      }\n\n      item.now = now\n      item.maxAge = maxAge\n      item.value = value\n      this[LENGTH] += len - item.length\n      item.length = len\n      this.get(key)\n      trim(this)\n      return true\n    }\n\n    const hit = new Entry(key, value, len, now, maxAge)\n\n    // oversized objects fall out of cache automatically.\n    if (hit.length > this[MAX]) {\n      if (this[DISPOSE])\n        this[DISPOSE](key, value)\n\n      return false\n    }\n\n    this[LENGTH] += hit.length\n    this[LRU_LIST].unshift(hit)\n    this[CACHE].set(key, this[LRU_LIST].head)\n    trim(this)\n    return true\n  }\n\n  has (key) {\n    if (!this[CACHE].has(key)) return false\n    const hit = this[CACHE].get(key).value\n    return !isStale(this, hit)\n  }\n\n  get (key) {\n    return get(this, key, true)\n  }\n\n  peek (key) {\n    return get(this, key, false)\n  }\n\n  pop () {\n    const node = this[LRU_LIST].tail\n    if (!node)\n      return null\n\n    del(this, node)\n    return node.value\n  }\n\n  del (key) {\n    del(this, this[CACHE].get(key))\n  }\n\n  load (arr) {\n    // reset the cache\n    this.reset()\n\n    const now = Date.now()\n    // A previous serialized cache has the most recent items first\n    for (let l = arr.length - 1; l >= 0; l--) {\n      const hit = arr[l]\n      const expiresAt = hit.e || 0\n      if (expiresAt === 0)\n        // the item was created without expiration in a non aged cache\n        this.set(hit.k, hit.v)\n      else {\n        const maxAge = expiresAt - now\n        // dont add already expired items\n        if (maxAge > 0) {\n          this.set(hit.k, hit.v, maxAge)\n        }\n      }\n    }\n  }\n\n  prune () {\n    this[CACHE].forEach((value, key) => get(this, key, false))\n  }\n}\n\nconst get = (self, key, doUse) => {\n  const node = self[CACHE].get(key)\n  if (node) {\n    const hit = node.value\n    if (isStale(self, hit)) {\n      del(self, node)\n      if (!self[ALLOW_STALE])\n        return undefined\n    } else {\n      if (doUse) {\n        if (self[UPDATE_AGE_ON_GET])\n          node.value.now = Date.now()\n        self[LRU_LIST].unshiftNode(node)\n      }\n    }\n    return hit.value\n  }\n}\n\nconst isStale = (self, hit) => {\n  if (!hit || (!hit.maxAge && !self[MAX_AGE]))\n    return false\n\n  const diff = Date.now() - hit.now\n  return hit.maxAge ? diff > hit.maxAge\n    : self[MAX_AGE] && (diff > self[MAX_AGE])\n}\n\nconst trim = self => {\n  if (self[LENGTH] > self[MAX]) {\n    for (let walker = self[LRU_LIST].tail;\n      self[LENGTH] > self[MAX] && walker !== null;) {\n      // We know that we're about to delete this one, and also\n      // what the next least recently used key will be, so just\n      // go ahead and set it now.\n      const prev = walker.prev\n      del(self, walker)\n      walker = prev\n    }\n  }\n}\n\nconst del = (self, node) => {\n  if (node) {\n    const hit = node.value\n    if (self[DISPOSE])\n      self[DISPOSE](hit.key, hit.value)\n\n    self[LENGTH] -= hit.length\n    self[CACHE].delete(hit.key)\n    self[LRU_LIST].removeNode(node)\n  }\n}\n\nclass Entry {\n  constructor (key, value, length, now, maxAge) {\n    this.key = key\n    this.value = value\n    this.length = length\n    this.now = now\n    this.maxAge = maxAge || 0\n  }\n}\n\nconst forEachStep = (self, fn, node, thisp) => {\n  let hit = node.value\n  if (isStale(self, hit)) {\n    del(self, node)\n    if (!self[ALLOW_STALE])\n      hit = undefined\n  }\n  if (hit)\n    fn.call(thisp, hit.value, hit.key, self)\n}\n\nmodule.exports = LRUCache\n","module.exports = assert;\n\nfunction assert(val, msg) {\n  if (!val)\n    throw new Error(msg || 'Assertion failed');\n}\n\nassert.equal = function assertEqual(l, r, msg) {\n  if (l != r)\n    throw new Error(msg || ('Assertion failed: ' + l + ' != ' + r));\n};\n","'use strict';\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar codes = {};\n\nfunction createErrorType(code, message, Base) {\n  if (!Base) {\n    Base = Error;\n  }\n\n  function getMessage(arg1, arg2, arg3) {\n    if (typeof message === 'string') {\n      return message;\n    } else {\n      return message(arg1, arg2, arg3);\n    }\n  }\n\n  var NodeError =\n  /*#__PURE__*/\n  function (_Base) {\n    _inheritsLoose(NodeError, _Base);\n\n    function NodeError(arg1, arg2, arg3) {\n      return _Base.call(this, getMessage(arg1, arg2, arg3)) || this;\n    }\n\n    return NodeError;\n  }(Base);\n\n  NodeError.prototype.name = Base.name;\n  NodeError.prototype.code = code;\n  codes[code] = NodeError;\n} // https://github.com/nodejs/node/blob/v10.8.0/lib/internal/errors.js\n\n\nfunction oneOf(expected, thing) {\n  if (Array.isArray(expected)) {\n    var len = expected.length;\n    expected = expected.map(function (i) {\n      return String(i);\n    });\n\n    if (len > 2) {\n      return \"one of \".concat(thing, \" \").concat(expected.slice(0, len - 1).join(', '), \", or \") + expected[len - 1];\n    } else if (len === 2) {\n      return \"one of \".concat(thing, \" \").concat(expected[0], \" or \").concat(expected[1]);\n    } else {\n      return \"of \".concat(thing, \" \").concat(expected[0]);\n    }\n  } else {\n    return \"of \".concat(thing, \" \").concat(String(expected));\n  }\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith\n\n\nfunction startsWith(str, search, pos) {\n  return str.substr(!pos || pos < 0 ? 0 : +pos, search.length) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith\n\n\nfunction endsWith(str, search, this_len) {\n  if (this_len === undefined || this_len > str.length) {\n    this_len = str.length;\n  }\n\n  return str.substring(this_len - search.length, this_len) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes\n\n\nfunction includes(str, search, start) {\n  if (typeof start !== 'number') {\n    start = 0;\n  }\n\n  if (start + search.length > str.length) {\n    return false;\n  } else {\n    return str.indexOf(search, start) !== -1;\n  }\n}\n\ncreateErrorType('ERR_INVALID_OPT_VALUE', function (name, value) {\n  return 'The value \"' + value + '\" is invalid for option \"' + name + '\"';\n}, TypeError);\ncreateErrorType('ERR_INVALID_ARG_TYPE', function (name, expected, actual) {\n  // determiner: 'must be' or 'must not be'\n  var determiner;\n\n  if (typeof expected === 'string' && startsWith(expected, 'not ')) {\n    determiner = 'must not be';\n    expected = expected.replace(/^not /, '');\n  } else {\n    determiner = 'must be';\n  }\n\n  var msg;\n\n  if (endsWith(name, ' argument')) {\n    // For cases like 'first argument'\n    msg = \"The \".concat(name, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n  } else {\n    var type = includes(name, '.') ? 'property' : 'argument';\n    msg = \"The \\\"\".concat(name, \"\\\" \").concat(type, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n  }\n\n  msg += \". Received type \".concat(typeof actual);\n  return msg;\n}, TypeError);\ncreateErrorType('ERR_STREAM_PUSH_AFTER_EOF', 'stream.push() after EOF');\ncreateErrorType('ERR_METHOD_NOT_IMPLEMENTED', function (name) {\n  return 'The ' + name + ' method is not implemented';\n});\ncreateErrorType('ERR_STREAM_PREMATURE_CLOSE', 'Premature close');\ncreateErrorType('ERR_STREAM_DESTROYED', function (name) {\n  return 'Cannot call ' + name + ' after a stream was destroyed';\n});\ncreateErrorType('ERR_MULTIPLE_CALLBACK', 'Callback called multiple times');\ncreateErrorType('ERR_STREAM_CANNOT_PIPE', 'Cannot pipe, not readable');\ncreateErrorType('ERR_STREAM_WRITE_AFTER_END', 'write after end');\ncreateErrorType('ERR_STREAM_NULL_VALUES', 'May not write null values to stream', TypeError);\ncreateErrorType('ERR_UNKNOWN_ENCODING', function (arg) {\n  return 'Unknown encoding: ' + arg;\n}, TypeError);\ncreateErrorType('ERR_STREAM_UNSHIFT_AFTER_END_EVENT', 'stream.unshift() after end event');\nmodule.exports.codes = codes;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n'use strict';\n/*<replacement>*/\n\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n\n  for (var key in obj) {\n    keys.push(key);\n  }\n\n  return keys;\n};\n/*</replacement>*/\n\n\nmodule.exports = Duplex;\n\nvar Readable = require('./_stream_readable');\n\nvar Writable = require('./_stream_writable');\n\nrequire('inherits')(Duplex, Readable);\n\n{\n  // Allow the keys array to be GC'ed.\n  var keys = objectKeys(Writable.prototype);\n\n  for (var v = 0; v < keys.length; v++) {\n    var method = keys[v];\n    if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method];\n  }\n}\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options);\n  Readable.call(this, options);\n  Writable.call(this, options);\n  this.allowHalfOpen = true;\n\n  if (options) {\n    if (options.readable === false) this.readable = false;\n    if (options.writable === false) this.writable = false;\n\n    if (options.allowHalfOpen === false) {\n      this.allowHalfOpen = false;\n      this.once('end', onend);\n    }\n  }\n}\n\nObject.defineProperty(Duplex.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.highWaterMark;\n  }\n});\nObject.defineProperty(Duplex.prototype, 'writableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState && this._writableState.getBuffer();\n  }\n});\nObject.defineProperty(Duplex.prototype, 'writableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.length;\n  }\n}); // the no-half-open enforcer\n\nfunction onend() {\n  // If the writable side ended, then we're ok.\n  if (this._writableState.ended) return; // no more data can be written.\n  // But allow more writes to happen in this tick.\n\n  process.nextTick(onEndNT, this);\n}\n\nfunction onEndNT(self) {\n  self.end();\n}\n\nObject.defineProperty(Duplex.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return false;\n    }\n\n    return this._readableState.destroyed && this._writableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return;\n    } // backward compatibility, the user is explicitly\n    // managing destroyed\n\n\n    this._readableState.destroyed = value;\n    this._writableState.destroyed = value;\n  }\n});","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n'use strict';\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\nrequire('inherits')(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options);\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk);\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n'use strict';\n\nmodule.exports = Readable;\n/*<replacement>*/\n\nvar Duplex;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n/*<replacement>*/\n\nvar EE = require('events').EventEmitter;\n\nvar EElistenerCount = function EElistenerCount(emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\n/*<replacement>*/\n\n\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n\nvar Buffer = require('buffer').Buffer;\n\nvar OurUint8Array = global.Uint8Array || function () {};\n\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\n\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n/*<replacement>*/\n\n\nvar debugUtil = require('util');\n\nvar debug;\n\nif (debugUtil && debugUtil.debuglog) {\n  debug = debugUtil.debuglog('stream');\n} else {\n  debug = function debug() {};\n}\n/*</replacement>*/\n\n\nvar BufferList = require('./internal/streams/buffer_list');\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nvar _require = require('./internal/streams/state'),\n    getHighWaterMark = _require.getHighWaterMark;\n\nvar _require$codes = require('../errors').codes,\n    ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE,\n    ERR_STREAM_PUSH_AFTER_EOF = _require$codes.ERR_STREAM_PUSH_AFTER_EOF,\n    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_STREAM_UNSHIFT_AFTER_END_EVENT = _require$codes.ERR_STREAM_UNSHIFT_AFTER_END_EVENT; // Lazy loaded to improve the startup performance.\n\n\nvar StringDecoder;\nvar createReadableStreamAsyncIterator;\nvar from;\n\nrequire('inherits')(Readable, Stream);\n\nvar errorOrDestroy = destroyImpl.errorOrDestroy;\nvar kProxyEvents = ['error', 'close', 'destroy', 'pause', 'resume'];\n\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') return emitter.prependListener(event, fn); // This is a hack to make sure that our error handler is attached before any\n  // userland ones.  NEVER DO THIS. This is here only because this code needs\n  // to continue to work with older versions of Node.js that do not include\n  // the prependListener() method. The goal is to eventually remove this hack.\n\n  if (!emitter._events || !emitter._events[event]) emitter.on(event, fn);else if (Array.isArray(emitter._events[event])) emitter._events[event].unshift(fn);else emitter._events[event] = [fn, emitter._events[event]];\n}\n\nfunction ReadableState(options, stream, isDuplex) {\n  Duplex = Duplex || require('./_stream_duplex');\n  options = options || {}; // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof Duplex; // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n\n  this.objectMode = !!options.objectMode;\n  if (isDuplex) this.objectMode = this.objectMode || !!options.readableObjectMode; // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n\n  this.highWaterMark = getHighWaterMark(this, options, 'readableHighWaterMark', isDuplex); // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift()\n\n  this.buffer = new BufferList();\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false; // a flag to be able to tell if the event 'readable'/'data' is emitted\n  // immediately, or on a later tick.  We set this to true at first, because\n  // any actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first read call.\n\n  this.sync = true; // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n  this.resumeScheduled = false;\n  this.paused = true; // Should close be emitted on destroy. Defaults to true.\n\n  this.emitClose = options.emitClose !== false; // Should .destroy() be called after 'end' (and potentially 'finish')\n\n  this.autoDestroy = !!options.autoDestroy; // has it been destroyed\n\n  this.destroyed = false; // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n\n  this.defaultEncoding = options.defaultEncoding || 'utf8'; // the number of writers that are awaiting a drain event in .pipe()s\n\n  this.awaitDrain = 0; // if true, a maybeReadMore has been scheduled\n\n  this.readingMore = false;\n  this.decoder = null;\n  this.encoding = null;\n\n  if (options.encoding) {\n    if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n  if (!(this instanceof Readable)) return new Readable(options); // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the ReadableState constructor, at least with V8 6.5\n\n  var isDuplex = this instanceof Duplex;\n  this._readableState = new ReadableState(options, this, isDuplex); // legacy\n\n  this.readable = true;\n\n  if (options) {\n    if (typeof options.read === 'function') this._read = options.read;\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n  }\n\n  Stream.call(this);\n}\n\nObject.defineProperty(Readable.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._readableState === undefined) {\n      return false;\n    }\n\n    return this._readableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._readableState) {\n      return;\n    } // backward compatibility, the user is explicitly\n    // managing destroyed\n\n\n    this._readableState.destroyed = value;\n  }\n});\nReadable.prototype.destroy = destroyImpl.destroy;\nReadable.prototype._undestroy = destroyImpl.undestroy;\n\nReadable.prototype._destroy = function (err, cb) {\n  cb(err);\n}; // Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\n\n\nReadable.prototype.push = function (chunk, encoding) {\n  var state = this._readableState;\n  var skipChunkCheck;\n\n  if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      encoding = encoding || state.defaultEncoding;\n\n      if (encoding !== state.encoding) {\n        chunk = Buffer.from(chunk, encoding);\n        encoding = '';\n      }\n\n      skipChunkCheck = true;\n    }\n  } else {\n    skipChunkCheck = true;\n  }\n\n  return readableAddChunk(this, chunk, encoding, false, skipChunkCheck);\n}; // Unshift should *always* be something directly out of read()\n\n\nReadable.prototype.unshift = function (chunk) {\n  return readableAddChunk(this, chunk, null, true, false);\n};\n\nfunction readableAddChunk(stream, chunk, encoding, addToFront, skipChunkCheck) {\n  debug('readableAddChunk', chunk);\n  var state = stream._readableState;\n\n  if (chunk === null) {\n    state.reading = false;\n    onEofChunk(stream, state);\n  } else {\n    var er;\n    if (!skipChunkCheck) er = chunkInvalid(state, chunk);\n\n    if (er) {\n      errorOrDestroy(stream, er);\n    } else if (state.objectMode || chunk && chunk.length > 0) {\n      if (typeof chunk !== 'string' && !state.objectMode && Object.getPrototypeOf(chunk) !== Buffer.prototype) {\n        chunk = _uint8ArrayToBuffer(chunk);\n      }\n\n      if (addToFront) {\n        if (state.endEmitted) errorOrDestroy(stream, new ERR_STREAM_UNSHIFT_AFTER_END_EVENT());else addChunk(stream, state, chunk, true);\n      } else if (state.ended) {\n        errorOrDestroy(stream, new ERR_STREAM_PUSH_AFTER_EOF());\n      } else if (state.destroyed) {\n        return false;\n      } else {\n        state.reading = false;\n\n        if (state.decoder && !encoding) {\n          chunk = state.decoder.write(chunk);\n          if (state.objectMode || chunk.length !== 0) addChunk(stream, state, chunk, false);else maybeReadMore(stream, state);\n        } else {\n          addChunk(stream, state, chunk, false);\n        }\n      }\n    } else if (!addToFront) {\n      state.reading = false;\n      maybeReadMore(stream, state);\n    }\n  } // We can push more data if we are below the highWaterMark.\n  // Also, if we have no data yet, we can stand some more bytes.\n  // This is to work around cases where hwm=0, such as the repl.\n\n\n  return !state.ended && (state.length < state.highWaterMark || state.length === 0);\n}\n\nfunction addChunk(stream, state, chunk, addToFront) {\n  if (state.flowing && state.length === 0 && !state.sync) {\n    state.awaitDrain = 0;\n    stream.emit('data', chunk);\n  } else {\n    // update the buffer info.\n    state.length += state.objectMode ? 1 : chunk.length;\n    if (addToFront) state.buffer.unshift(chunk);else state.buffer.push(chunk);\n    if (state.needReadable) emitReadable(stream);\n  }\n\n  maybeReadMore(stream, state);\n}\n\nfunction chunkInvalid(state, chunk) {\n  var er;\n\n  if (!_isUint8Array(chunk) && typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer', 'Uint8Array'], chunk);\n  }\n\n  return er;\n}\n\nReadable.prototype.isPaused = function () {\n  return this._readableState.flowing === false;\n}; // backwards compatibility.\n\n\nReadable.prototype.setEncoding = function (enc) {\n  if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n  var decoder = new StringDecoder(enc);\n  this._readableState.decoder = decoder; // If setEncoding(null), decoder.encoding equals utf8\n\n  this._readableState.encoding = this._readableState.decoder.encoding; // Iterate over current buffer to convert already stored Buffers:\n\n  var p = this._readableState.buffer.head;\n  var content = '';\n\n  while (p !== null) {\n    content += decoder.write(p.data);\n    p = p.next;\n  }\n\n  this._readableState.buffer.clear();\n\n  if (content !== '') this._readableState.buffer.push(content);\n  this._readableState.length = content.length;\n  return this;\n}; // Don't raise the hwm > 1GB\n\n\nvar MAX_HWM = 0x40000000;\n\nfunction computeNewHighWaterMark(n) {\n  if (n >= MAX_HWM) {\n    // TODO(ronag): Throw ERR_VALUE_OUT_OF_RANGE.\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts\n    n--;\n    n |= n >>> 1;\n    n |= n >>> 2;\n    n |= n >>> 4;\n    n |= n >>> 8;\n    n |= n >>> 16;\n    n++;\n  }\n\n  return n;\n} // This function is designed to be inlinable, so please take care when making\n// changes to the function body.\n\n\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || state.length === 0 && state.ended) return 0;\n  if (state.objectMode) return 1;\n\n  if (n !== n) {\n    // Only flow one buffer at a time\n    if (state.flowing && state.length) return state.buffer.head.data.length;else return state.length;\n  } // If we're asking for more than the current hwm, then raise the hwm.\n\n\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n);\n  if (n <= state.length) return n; // Don't have enough\n\n  if (!state.ended) {\n    state.needReadable = true;\n    return 0;\n  }\n\n  return state.length;\n} // you can override either this method, or the async _read(n) below.\n\n\nReadable.prototype.read = function (n) {\n  debug('read', n);\n  n = parseInt(n, 10);\n  var state = this._readableState;\n  var nOrig = n;\n  if (n !== 0) state.emittedReadable = false; // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n\n  if (n === 0 && state.needReadable && ((state.highWaterMark !== 0 ? state.length >= state.highWaterMark : state.length > 0) || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended) endReadable(this);else emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state); // if we've ended, and we're now clear, then finish it up.\n\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this);\n    return null;\n  } // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n  // if we need a readable event, then we need to do some reading.\n\n\n  var doRead = state.needReadable;\n  debug('need readable', doRead); // if we currently have less than the highWaterMark, then also read some\n\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  } // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n\n\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  } else if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true; // if the length is currently zero, then we *need* a readable event.\n\n    if (state.length === 0) state.needReadable = true; // call internal read method\n\n    this._read(state.highWaterMark);\n\n    state.sync = false; // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n\n    if (!state.reading) n = howMuchToRead(nOrig, state);\n  }\n\n  var ret;\n  if (n > 0) ret = fromList(n, state);else ret = null;\n\n  if (ret === null) {\n    state.needReadable = state.length <= state.highWaterMark;\n    n = 0;\n  } else {\n    state.length -= n;\n    state.awaitDrain = 0;\n  }\n\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true; // If we tried to read() past the EOF, then emit end on the next tick.\n\n    if (nOrig !== n && state.ended) endReadable(this);\n  }\n\n  if (ret !== null) this.emit('data', ret);\n  return ret;\n};\n\nfunction onEofChunk(stream, state) {\n  debug('onEofChunk');\n  if (state.ended) return;\n\n  if (state.decoder) {\n    var chunk = state.decoder.end();\n\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n\n  state.ended = true;\n\n  if (state.sync) {\n    // if we are sync, wait until next tick to emit the data.\n    // Otherwise we risk emitting data in the flow()\n    // the readable code triggers during a read() call\n    emitReadable(stream);\n  } else {\n    // emit 'readable' now to make sure it gets picked up.\n    state.needReadable = false;\n\n    if (!state.emittedReadable) {\n      state.emittedReadable = true;\n      emitReadable_(stream);\n    }\n  }\n} // Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\n\n\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  debug('emitReadable', state.needReadable, state.emittedReadable);\n  state.needReadable = false;\n\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    process.nextTick(emitReadable_, stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  var state = stream._readableState;\n  debug('emitReadable_', state.destroyed, state.length, state.ended);\n\n  if (!state.destroyed && (state.length || state.ended)) {\n    stream.emit('readable');\n    state.emittedReadable = false;\n  } // The stream needs another readable event if\n  // 1. It is not flowing, as the flow mechanism will take\n  //    care of it.\n  // 2. It is not ended.\n  // 3. It is below the highWaterMark, so we can schedule\n  //    another readable later.\n\n\n  state.needReadable = !state.flowing && !state.ended && state.length <= state.highWaterMark;\n  flow(stream);\n} // at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\n\n\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    process.nextTick(maybeReadMore_, stream, state);\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  // Attempt to read more data if we should.\n  //\n  // The conditions for reading more data are (one of):\n  // - Not enough data buffered (state.length < state.highWaterMark). The loop\n  //   is responsible for filling the buffer with enough data if such data\n  //   is available. If highWaterMark is 0 and we are not in the flowing mode\n  //   we should _not_ attempt to buffer any extra data. We'll get more data\n  //   when the stream consumer calls read() instead.\n  // - No data in the buffer, and the stream is in flowing mode. In this mode\n  //   the loop below is responsible for ensuring read() is called. Failing to\n  //   call read here would abort the flow and there's no other mechanism for\n  //   continuing the flow if the stream consumer has just subscribed to the\n  //   'data' event.\n  //\n  // In addition to the above conditions to keep reading data, the following\n  // conditions prevent the data from being read:\n  // - The stream has ended (state.ended).\n  // - There is already a pending 'read' operation (state.reading). This is a\n  //   case where the the stream has called the implementation defined _read()\n  //   method, but they are processing the call asynchronously and have _not_\n  //   called push() with new data. In this case we skip performing more\n  //   read()s. The execution ends in this method again after the _read() ends\n  //   up calling push() with more data.\n  while (!state.reading && !state.ended && (state.length < state.highWaterMark || state.flowing && state.length === 0)) {\n    var len = state.length;\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length) // didn't get any data, stop spinning.\n      break;\n  }\n\n  state.readingMore = false;\n} // abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\n\n\nReadable.prototype._read = function (n) {\n  errorOrDestroy(this, new ERR_METHOD_NOT_IMPLEMENTED('_read()'));\n};\n\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr;\n  var endFn = doEnd ? onend : unpipe;\n  if (state.endEmitted) process.nextTick(endFn);else src.once('end', endFn);\n  dest.on('unpipe', onunpipe);\n\n  function onunpipe(readable, unpipeInfo) {\n    debug('onunpipe');\n\n    if (readable === src) {\n      if (unpipeInfo && unpipeInfo.hasUnpiped === false) {\n        unpipeInfo.hasUnpiped = true;\n        cleanup();\n      }\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  } // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n\n\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n  var cleanedUp = false;\n\n  function cleanup() {\n    debug('cleanup'); // cleanup event handlers once the pipe is broken\n\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', unpipe);\n    src.removeListener('data', ondata);\n    cleanedUp = true; // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n\n    if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain)) ondrain();\n  }\n\n  src.on('data', ondata);\n\n  function ondata(chunk) {\n    debug('ondata');\n    var ret = dest.write(chunk);\n    debug('dest.write', ret);\n\n    if (ret === false) {\n      // If the user unpiped during `dest.write()`, it is possible\n      // to get stuck in a permanently paused state if that write\n      // also returned false.\n      // => Check whether `dest` is still a piping destination.\n      if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {\n        debug('false write response, pause', state.awaitDrain);\n        state.awaitDrain++;\n      }\n\n      src.pause();\n    }\n  } // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n\n\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EElistenerCount(dest, 'error') === 0) errorOrDestroy(dest, er);\n  } // Make sure our error handler is attached before userland ones.\n\n\n  prependListener(dest, 'error', onerror); // Both close and finish should trigger unpipe, but only once.\n\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n\n  dest.once('close', onclose);\n\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  } // tell the dest that it's being piped to\n\n\n  dest.emit('pipe', src); // start the flow if it hasn't been started already.\n\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function pipeOnDrainFunctionResult() {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain) state.awaitDrain--;\n\n    if (state.awaitDrain === 0 && EElistenerCount(src, 'data')) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\nReadable.prototype.unpipe = function (dest) {\n  var state = this._readableState;\n  var unpipeInfo = {\n    hasUnpiped: false\n  }; // if we're not piping anywhere, then do nothing.\n\n  if (state.pipesCount === 0) return this; // just one destination.  most common case.\n\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes) return this;\n    if (!dest) dest = state.pipes; // got a match.\n\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest) dest.emit('unpipe', this, unpipeInfo);\n    return this;\n  } // slow case. multiple pipe destinations.\n\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++) {\n      dests[i].emit('unpipe', this, {\n        hasUnpiped: false\n      });\n    }\n\n    return this;\n  } // try to find the right one.\n\n\n  var index = indexOf(state.pipes, dest);\n  if (index === -1) return this;\n  state.pipes.splice(index, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1) state.pipes = state.pipes[0];\n  dest.emit('unpipe', this, unpipeInfo);\n  return this;\n}; // set up data events if they are asked for\n// Ensure readable listeners eventually get something\n\n\nReadable.prototype.on = function (ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n  var state = this._readableState;\n\n  if (ev === 'data') {\n    // update readableListening so that resume() may be a no-op\n    // a few lines down. This is needed to support once('readable').\n    state.readableListening = this.listenerCount('readable') > 0; // Try start flowing on next tick if stream isn't explicitly paused\n\n    if (state.flowing !== false) this.resume();\n  } else if (ev === 'readable') {\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true;\n      state.flowing = false;\n      state.emittedReadable = false;\n      debug('on readable', state.length, state.reading);\n\n      if (state.length) {\n        emitReadable(this);\n      } else if (!state.reading) {\n        process.nextTick(nReadingNextTick, this);\n      }\n    }\n  }\n\n  return res;\n};\n\nReadable.prototype.addListener = Readable.prototype.on;\n\nReadable.prototype.removeListener = function (ev, fn) {\n  var res = Stream.prototype.removeListener.call(this, ev, fn);\n\n  if (ev === 'readable') {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this);\n  }\n\n  return res;\n};\n\nReadable.prototype.removeAllListeners = function (ev) {\n  var res = Stream.prototype.removeAllListeners.apply(this, arguments);\n\n  if (ev === 'readable' || ev === undefined) {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this);\n  }\n\n  return res;\n};\n\nfunction updateReadableListening(self) {\n  var state = self._readableState;\n  state.readableListening = self.listenerCount('readable') > 0;\n\n  if (state.resumeScheduled && !state.paused) {\n    // flowing needs to be set to true now, otherwise\n    // the upcoming resume will not flow.\n    state.flowing = true; // crude way to check if we should resume\n  } else if (self.listenerCount('data') > 0) {\n    self.resume();\n  }\n}\n\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0');\n  self.read(0);\n} // pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\n\n\nReadable.prototype.resume = function () {\n  var state = this._readableState;\n\n  if (!state.flowing) {\n    debug('resume'); // we flow only if there is no one listening\n    // for readable, but we still have to call\n    // resume()\n\n    state.flowing = !state.readableListening;\n    resume(this, state);\n  }\n\n  state.paused = false;\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    process.nextTick(resume_, stream, state);\n  }\n}\n\nfunction resume_(stream, state) {\n  debug('resume', state.reading);\n\n  if (!state.reading) {\n    stream.read(0);\n  }\n\n  state.resumeScheduled = false;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading) stream.read(0);\n}\n\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing);\n\n  if (this._readableState.flowing !== false) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n\n  this._readableState.paused = true;\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n\n  while (state.flowing && stream.read() !== null) {\n    ;\n  }\n} // wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\n\n\nReadable.prototype.wrap = function (stream) {\n  var _this = this;\n\n  var state = this._readableState;\n  var paused = false;\n  stream.on('end', function () {\n    debug('wrapped end');\n\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length) _this.push(chunk);\n    }\n\n    _this.push(null);\n  });\n  stream.on('data', function (chunk) {\n    debug('wrapped data');\n    if (state.decoder) chunk = state.decoder.write(chunk); // don't skip over falsy values in objectMode\n\n    if (state.objectMode && (chunk === null || chunk === undefined)) return;else if (!state.objectMode && (!chunk || !chunk.length)) return;\n\n    var ret = _this.push(chunk);\n\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  }); // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n\n  for (var i in stream) {\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = function methodWrap(method) {\n        return function methodWrapReturnFunction() {\n          return stream[method].apply(stream, arguments);\n        };\n      }(i);\n    }\n  } // proxy certain important events.\n\n\n  for (var n = 0; n < kProxyEvents.length; n++) {\n    stream.on(kProxyEvents[n], this.emit.bind(this, kProxyEvents[n]));\n  } // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n\n\n  this._read = function (n) {\n    debug('wrapped _read', n);\n\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return this;\n};\n\nif (typeof Symbol === 'function') {\n  Readable.prototype[Symbol.asyncIterator] = function () {\n    if (createReadableStreamAsyncIterator === undefined) {\n      createReadableStreamAsyncIterator = require('./internal/streams/async_iterator');\n    }\n\n    return createReadableStreamAsyncIterator(this);\n  };\n}\n\nObject.defineProperty(Readable.prototype, 'readableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.highWaterMark;\n  }\n});\nObject.defineProperty(Readable.prototype, 'readableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState && this._readableState.buffer;\n  }\n});\nObject.defineProperty(Readable.prototype, 'readableFlowing', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.flowing;\n  },\n  set: function set(state) {\n    if (this._readableState) {\n      this._readableState.flowing = state;\n    }\n  }\n}); // exposed for testing purposes only.\n\nReadable._fromList = fromList;\nObject.defineProperty(Readable.prototype, 'readableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.length;\n  }\n}); // Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\n\nfunction fromList(n, state) {\n  // nothing buffered\n  if (state.length === 0) return null;\n  var ret;\n  if (state.objectMode) ret = state.buffer.shift();else if (!n || n >= state.length) {\n    // read it all, truncate the list\n    if (state.decoder) ret = state.buffer.join('');else if (state.buffer.length === 1) ret = state.buffer.first();else ret = state.buffer.concat(state.length);\n    state.buffer.clear();\n  } else {\n    // read part of list\n    ret = state.buffer.consume(n, state.decoder);\n  }\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n  debug('endReadable', state.endEmitted);\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    process.nextTick(endReadableNT, state, stream);\n  }\n}\n\nfunction endReadableNT(state, stream) {\n  debug('endReadableNT', state.endEmitted, state.length); // Check that we didn't get one last unshift.\n\n  if (!state.endEmitted && state.length === 0) {\n    state.endEmitted = true;\n    stream.readable = false;\n    stream.emit('end');\n\n    if (state.autoDestroy) {\n      // In case of duplex streams we need a way to detect\n      // if the writable side is ready for autoDestroy as well\n      var wState = stream._writableState;\n\n      if (!wState || wState.autoDestroy && wState.finished) {\n        stream.destroy();\n      }\n    }\n  }\n}\n\nif (typeof Symbol === 'function') {\n  Readable.from = function (iterable, opts) {\n    if (from === undefined) {\n      from = require('./internal/streams/from');\n    }\n\n    return from(Readable, iterable, opts);\n  };\n}\n\nfunction indexOf(xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n\n  return -1;\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n'use strict';\n\nmodule.exports = Transform;\n\nvar _require$codes = require('../errors').codes,\n    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_MULTIPLE_CALLBACK = _require$codes.ERR_MULTIPLE_CALLBACK,\n    ERR_TRANSFORM_ALREADY_TRANSFORMING = _require$codes.ERR_TRANSFORM_ALREADY_TRANSFORMING,\n    ERR_TRANSFORM_WITH_LENGTH_0 = _require$codes.ERR_TRANSFORM_WITH_LENGTH_0;\n\nvar Duplex = require('./_stream_duplex');\n\nrequire('inherits')(Transform, Duplex);\n\nfunction afterTransform(er, data) {\n  var ts = this._transformState;\n  ts.transforming = false;\n  var cb = ts.writecb;\n\n  if (cb === null) {\n    return this.emit('error', new ERR_MULTIPLE_CALLBACK());\n  }\n\n  ts.writechunk = null;\n  ts.writecb = null;\n  if (data != null) // single equals check for both `null` and `undefined`\n    this.push(data);\n  cb(er);\n  var rs = this._readableState;\n  rs.reading = false;\n\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    this._read(rs.highWaterMark);\n  }\n}\n\nfunction Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options);\n  Duplex.call(this, options);\n  this._transformState = {\n    afterTransform: afterTransform.bind(this),\n    needTransform: false,\n    transforming: false,\n    writecb: null,\n    writechunk: null,\n    writeencoding: null\n  }; // start out asking for a readable event once data is transformed.\n\n  this._readableState.needReadable = true; // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n\n  this._readableState.sync = false;\n\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform;\n    if (typeof options.flush === 'function') this._flush = options.flush;\n  } // When the writable side finishes, then flush out anything remaining.\n\n\n  this.on('prefinish', prefinish);\n}\n\nfunction prefinish() {\n  var _this = this;\n\n  if (typeof this._flush === 'function' && !this._readableState.destroyed) {\n    this._flush(function (er, data) {\n      done(_this, er, data);\n    });\n  } else {\n    done(this, null, null);\n  }\n}\n\nTransform.prototype.push = function (chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n}; // This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\n\n\nTransform.prototype._transform = function (chunk, encoding, cb) {\n  cb(new ERR_METHOD_NOT_IMPLEMENTED('_transform()'));\n};\n\nTransform.prototype._write = function (chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark) this._read(rs.highWaterMark);\n  }\n}; // Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\n\n\nTransform.prototype._read = function (n) {\n  var ts = this._transformState;\n\n  if (ts.writechunk !== null && !ts.transforming) {\n    ts.transforming = true;\n\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\nTransform.prototype._destroy = function (err, cb) {\n  Duplex.prototype._destroy.call(this, err, function (err2) {\n    cb(err2);\n  });\n};\n\nfunction done(stream, er, data) {\n  if (er) return stream.emit('error', er);\n  if (data != null) // single equals check for both `null` and `undefined`\n    stream.push(data); // TODO(BridgeAR): Write a test for these two error cases\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n\n  if (stream._writableState.length) throw new ERR_TRANSFORM_WITH_LENGTH_0();\n  if (stream._transformState.transforming) throw new ERR_TRANSFORM_ALREADY_TRANSFORMING();\n  return stream.push(null);\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n'use strict';\n\nmodule.exports = Writable;\n/* <replacement> */\n\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n} // It seems a linked list but it is not\n// there will be only 2 of these for each stream\n\n\nfunction CorkedRequest(state) {\n  var _this = this;\n\n  this.next = null;\n  this.entry = null;\n\n  this.finish = function () {\n    onCorkedFinish(_this, state);\n  };\n}\n/* </replacement> */\n\n/*<replacement>*/\n\n\nvar Duplex;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n/*<replacement>*/\n\nvar internalUtil = {\n  deprecate: require('util-deprecate')\n};\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n\nvar Buffer = require('buffer').Buffer;\n\nvar OurUint8Array = global.Uint8Array || function () {};\n\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\n\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nvar _require = require('./internal/streams/state'),\n    getHighWaterMark = _require.getHighWaterMark;\n\nvar _require$codes = require('../errors').codes,\n    ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE,\n    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_MULTIPLE_CALLBACK = _require$codes.ERR_MULTIPLE_CALLBACK,\n    ERR_STREAM_CANNOT_PIPE = _require$codes.ERR_STREAM_CANNOT_PIPE,\n    ERR_STREAM_DESTROYED = _require$codes.ERR_STREAM_DESTROYED,\n    ERR_STREAM_NULL_VALUES = _require$codes.ERR_STREAM_NULL_VALUES,\n    ERR_STREAM_WRITE_AFTER_END = _require$codes.ERR_STREAM_WRITE_AFTER_END,\n    ERR_UNKNOWN_ENCODING = _require$codes.ERR_UNKNOWN_ENCODING;\n\nvar errorOrDestroy = destroyImpl.errorOrDestroy;\n\nrequire('inherits')(Writable, Stream);\n\nfunction nop() {}\n\nfunction WritableState(options, stream, isDuplex) {\n  Duplex = Duplex || require('./_stream_duplex');\n  options = options || {}; // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream,\n  // e.g. options.readableObjectMode vs. options.writableObjectMode, etc.\n\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof Duplex; // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n\n  this.objectMode = !!options.objectMode;\n  if (isDuplex) this.objectMode = this.objectMode || !!options.writableObjectMode; // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n\n  this.highWaterMark = getHighWaterMark(this, options, 'writableHighWaterMark', isDuplex); // if _final has been called\n\n  this.finalCalled = false; // drain event flag.\n\n  this.needDrain = false; // at the start of calling end()\n\n  this.ending = false; // when end() has been called, and returned\n\n  this.ended = false; // when 'finish' is emitted\n\n  this.finished = false; // has it been destroyed\n\n  this.destroyed = false; // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode; // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n\n  this.defaultEncoding = options.defaultEncoding || 'utf8'; // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n\n  this.length = 0; // a flag to see when we're in the middle of a write.\n\n  this.writing = false; // when true all writes will be buffered until .uncork() call\n\n  this.corked = 0; // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n\n  this.sync = true; // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n\n  this.bufferProcessing = false; // the callback that's passed to _write(chunk,cb)\n\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  }; // the callback that the user supplies to write(chunk,encoding,cb)\n\n\n  this.writecb = null; // the amount that is being written when _write is called.\n\n  this.writelen = 0;\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null; // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n\n  this.pendingcb = 0; // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n\n  this.prefinished = false; // True if the error was already emitted and should not be thrown again\n\n  this.errorEmitted = false; // Should close be emitted on destroy. Defaults to true.\n\n  this.emitClose = options.emitClose !== false; // Should .destroy() be called after 'finish' (and potentially 'end')\n\n  this.autoDestroy = !!options.autoDestroy; // count buffered requests\n\n  this.bufferedRequestCount = 0; // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\n\nWritableState.prototype.getBuffer = function getBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n\n  return out;\n};\n\n(function () {\n  try {\n    Object.defineProperty(WritableState.prototype, 'buffer', {\n      get: internalUtil.deprecate(function writableStateBufferGetter() {\n        return this.getBuffer();\n      }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.', 'DEP0003')\n    });\n  } catch (_) {}\n})(); // Test _writableState for inheritance to account for Duplex streams,\n// whose prototype chain only points to Readable.\n\n\nvar realHasInstance;\n\nif (typeof Symbol === 'function' && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] === 'function') {\n  realHasInstance = Function.prototype[Symbol.hasInstance];\n  Object.defineProperty(Writable, Symbol.hasInstance, {\n    value: function value(object) {\n      if (realHasInstance.call(this, object)) return true;\n      if (this !== Writable) return false;\n      return object && object._writableState instanceof WritableState;\n    }\n  });\n} else {\n  realHasInstance = function realHasInstance(object) {\n    return object instanceof this;\n  };\n}\n\nfunction Writable(options) {\n  Duplex = Duplex || require('./_stream_duplex'); // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n  // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the WritableState constructor, at least with V8 6.5\n\n  var isDuplex = this instanceof Duplex;\n  if (!isDuplex && !realHasInstance.call(Writable, this)) return new Writable(options);\n  this._writableState = new WritableState(options, this, isDuplex); // legacy.\n\n  this.writable = true;\n\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n    if (typeof options.writev === 'function') this._writev = options.writev;\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n    if (typeof options.final === 'function') this._final = options.final;\n  }\n\n  Stream.call(this);\n} // Otherwise people can pipe Writable streams, which is just wrong.\n\n\nWritable.prototype.pipe = function () {\n  errorOrDestroy(this, new ERR_STREAM_CANNOT_PIPE());\n};\n\nfunction writeAfterEnd(stream, cb) {\n  var er = new ERR_STREAM_WRITE_AFTER_END(); // TODO: defer error events consistently everywhere, not just the cb\n\n  errorOrDestroy(stream, er);\n  process.nextTick(cb, er);\n} // Checks that a user-supplied chunk is valid, especially for the particular\n// mode the stream is in. Currently this means that `null` is never accepted\n// and undefined/non-string values are only allowed in object mode.\n\n\nfunction validChunk(stream, state, chunk, cb) {\n  var er;\n\n  if (chunk === null) {\n    er = new ERR_STREAM_NULL_VALUES();\n  } else if (typeof chunk !== 'string' && !state.objectMode) {\n    er = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer'], chunk);\n  }\n\n  if (er) {\n    errorOrDestroy(stream, er);\n    process.nextTick(cb, er);\n    return false;\n  }\n\n  return true;\n}\n\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n\n  var isBuf = !state.objectMode && _isUint8Array(chunk);\n\n  if (isBuf && !Buffer.isBuffer(chunk)) {\n    chunk = _uint8ArrayToBuffer(chunk);\n  }\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (isBuf) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n  if (typeof cb !== 'function') cb = nop;\n  if (state.ending) writeAfterEnd(this, cb);else if (isBuf || validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, isBuf, chunk, encoding, cb);\n  }\n  return ret;\n};\n\nWritable.prototype.cork = function () {\n  this._writableState.corked++;\n};\n\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n    if (!state.writing && !state.corked && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\n\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new ERR_UNKNOWN_ENCODING(encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\n\nObject.defineProperty(Writable.prototype, 'writableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState && this._writableState.getBuffer();\n  }\n});\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = Buffer.from(chunk, encoding);\n  }\n\n  return chunk;\n}\n\nObject.defineProperty(Writable.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.highWaterMark;\n  }\n}); // if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\n\nfunction writeOrBuffer(stream, state, isBuf, chunk, encoding, cb) {\n  if (!isBuf) {\n    var newChunk = decodeChunk(state, chunk, encoding);\n\n    if (chunk !== newChunk) {\n      isBuf = true;\n      encoding = 'buffer';\n      chunk = newChunk;\n    }\n  }\n\n  var len = state.objectMode ? 1 : chunk.length;\n  state.length += len;\n  var ret = state.length < state.highWaterMark; // we must ensure that previous needDrain will not be reset to false.\n\n  if (!ret) state.needDrain = true;\n\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = {\n      chunk: chunk,\n      encoding: encoding,\n      isBuf: isBuf,\n      callback: cb,\n      next: null\n    };\n\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (state.destroyed) state.onwrite(new ERR_STREAM_DESTROYED('write'));else if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n\n  if (sync) {\n    // defer the callback if we are being called synchronously\n    // to avoid piling up things on the stack\n    process.nextTick(cb, er); // this can emit finish, and it will always happen\n    // after error\n\n    process.nextTick(finishMaybe, stream, state);\n    stream._writableState.errorEmitted = true;\n    errorOrDestroy(stream, er);\n  } else {\n    // the caller expect this to happen before if\n    // it is async\n    cb(er);\n    stream._writableState.errorEmitted = true;\n    errorOrDestroy(stream, er); // this can emit finish, but finish must\n    // always follow error\n\n    finishMaybe(stream, state);\n  }\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n  if (typeof cb !== 'function') throw new ERR_MULTIPLE_CALLBACK();\n  onwriteStateUpdate(state);\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state) || stream.destroyed;\n\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      process.nextTick(afterWrite, stream, state, finished, cb);\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n} // Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\n\n\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n} // if there's something in the buffer waiting, then process it\n\n\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n    var count = 0;\n    var allBuffers = true;\n\n    while (entry) {\n      buffer[count] = entry;\n      if (!entry.isBuf) allBuffers = false;\n      entry = entry.next;\n      count += 1;\n    }\n\n    buffer.allBuffers = allBuffers;\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish); // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n\n    state.bufferedRequestCount = 0;\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      state.bufferedRequestCount--; // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n\n      if (state.writing) {\n        break;\n      }\n    }\n\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new ERR_METHOD_NOT_IMPLEMENTED('_write()'));\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding); // .end() fully uncorks\n\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  } // ignore unnecessary end() calls.\n\n\n  if (!state.ending) endWritable(this, state, cb);\n  return this;\n};\n\nObject.defineProperty(Writable.prototype, 'writableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.length;\n  }\n});\n\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\n\nfunction callFinal(stream, state) {\n  stream._final(function (err) {\n    state.pendingcb--;\n\n    if (err) {\n      errorOrDestroy(stream, err);\n    }\n\n    state.prefinished = true;\n    stream.emit('prefinish');\n    finishMaybe(stream, state);\n  });\n}\n\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function' && !state.destroyed) {\n      state.pendingcb++;\n      state.finalCalled = true;\n      process.nextTick(callFinal, stream, state);\n    } else {\n      state.prefinished = true;\n      stream.emit('prefinish');\n    }\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n\n  if (need) {\n    prefinish(stream, state);\n\n    if (state.pendingcb === 0) {\n      state.finished = true;\n      stream.emit('finish');\n\n      if (state.autoDestroy) {\n        // In case of duplex streams we need a way to detect\n        // if the readable side is ready for autoDestroy as well\n        var rState = stream._readableState;\n\n        if (!rState || rState.autoDestroy && rState.endEmitted) {\n          stream.destroy();\n        }\n      }\n    }\n  }\n\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n\n  if (cb) {\n    if (state.finished) process.nextTick(cb);else stream.once('finish', cb);\n  }\n\n  state.ended = true;\n  stream.writable = false;\n}\n\nfunction onCorkedFinish(corkReq, state, err) {\n  var entry = corkReq.entry;\n  corkReq.entry = null;\n\n  while (entry) {\n    var cb = entry.callback;\n    state.pendingcb--;\n    cb(err);\n    entry = entry.next;\n  } // reuse the free corkReq.\n\n\n  state.corkedRequestsFree.next = corkReq;\n}\n\nObject.defineProperty(Writable.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._writableState === undefined) {\n      return false;\n    }\n\n    return this._writableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._writableState) {\n      return;\n    } // backward compatibility, the user is explicitly\n    // managing destroyed\n\n\n    this._writableState.destroyed = value;\n  }\n});\nWritable.prototype.destroy = destroyImpl.destroy;\nWritable.prototype._undestroy = destroyImpl.undestroy;\n\nWritable.prototype._destroy = function (err, cb) {\n  cb(err);\n};","'use strict';\n\nvar _Object$setPrototypeO;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar finished = require('./end-of-stream');\n\nvar kLastResolve = Symbol('lastResolve');\nvar kLastReject = Symbol('lastReject');\nvar kError = Symbol('error');\nvar kEnded = Symbol('ended');\nvar kLastPromise = Symbol('lastPromise');\nvar kHandlePromise = Symbol('handlePromise');\nvar kStream = Symbol('stream');\n\nfunction createIterResult(value, done) {\n  return {\n    value: value,\n    done: done\n  };\n}\n\nfunction readAndResolve(iter) {\n  var resolve = iter[kLastResolve];\n\n  if (resolve !== null) {\n    var data = iter[kStream].read(); // we defer if data is null\n    // we can be expecting either 'end' or\n    // 'error'\n\n    if (data !== null) {\n      iter[kLastPromise] = null;\n      iter[kLastResolve] = null;\n      iter[kLastReject] = null;\n      resolve(createIterResult(data, false));\n    }\n  }\n}\n\nfunction onReadable(iter) {\n  // we wait for the next tick, because it might\n  // emit an error with process.nextTick\n  process.nextTick(readAndResolve, iter);\n}\n\nfunction wrapForNext(lastPromise, iter) {\n  return function (resolve, reject) {\n    lastPromise.then(function () {\n      if (iter[kEnded]) {\n        resolve(createIterResult(undefined, true));\n        return;\n      }\n\n      iter[kHandlePromise](resolve, reject);\n    }, reject);\n  };\n}\n\nvar AsyncIteratorPrototype = Object.getPrototypeOf(function () {});\nvar ReadableStreamAsyncIteratorPrototype = Object.setPrototypeOf((_Object$setPrototypeO = {\n  get stream() {\n    return this[kStream];\n  },\n\n  next: function next() {\n    var _this = this;\n\n    // if we have detected an error in the meanwhile\n    // reject straight away\n    var error = this[kError];\n\n    if (error !== null) {\n      return Promise.reject(error);\n    }\n\n    if (this[kEnded]) {\n      return Promise.resolve(createIterResult(undefined, true));\n    }\n\n    if (this[kStream].destroyed) {\n      // We need to defer via nextTick because if .destroy(err) is\n      // called, the error will be emitted via nextTick, and\n      // we cannot guarantee that there is no error lingering around\n      // waiting to be emitted.\n      return new Promise(function (resolve, reject) {\n        process.nextTick(function () {\n          if (_this[kError]) {\n            reject(_this[kError]);\n          } else {\n            resolve(createIterResult(undefined, true));\n          }\n        });\n      });\n    } // if we have multiple next() calls\n    // we will wait for the previous Promise to finish\n    // this logic is optimized to support for await loops,\n    // where next() is only called once at a time\n\n\n    var lastPromise = this[kLastPromise];\n    var promise;\n\n    if (lastPromise) {\n      promise = new Promise(wrapForNext(lastPromise, this));\n    } else {\n      // fast path needed to support multiple this.push()\n      // without triggering the next() queue\n      var data = this[kStream].read();\n\n      if (data !== null) {\n        return Promise.resolve(createIterResult(data, false));\n      }\n\n      promise = new Promise(this[kHandlePromise]);\n    }\n\n    this[kLastPromise] = promise;\n    return promise;\n  }\n}, _defineProperty(_Object$setPrototypeO, Symbol.asyncIterator, function () {\n  return this;\n}), _defineProperty(_Object$setPrototypeO, \"return\", function _return() {\n  var _this2 = this;\n\n  // destroy(err, cb) is a private API\n  // we can guarantee we have that here, because we control the\n  // Readable class this is attached to\n  return new Promise(function (resolve, reject) {\n    _this2[kStream].destroy(null, function (err) {\n      if (err) {\n        reject(err);\n        return;\n      }\n\n      resolve(createIterResult(undefined, true));\n    });\n  });\n}), _Object$setPrototypeO), AsyncIteratorPrototype);\n\nvar createReadableStreamAsyncIterator = function createReadableStreamAsyncIterator(stream) {\n  var _Object$create;\n\n  var iterator = Object.create(ReadableStreamAsyncIteratorPrototype, (_Object$create = {}, _defineProperty(_Object$create, kStream, {\n    value: stream,\n    writable: true\n  }), _defineProperty(_Object$create, kLastResolve, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kLastReject, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kError, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kEnded, {\n    value: stream._readableState.endEmitted,\n    writable: true\n  }), _defineProperty(_Object$create, kHandlePromise, {\n    value: function value(resolve, reject) {\n      var data = iterator[kStream].read();\n\n      if (data) {\n        iterator[kLastPromise] = null;\n        iterator[kLastResolve] = null;\n        iterator[kLastReject] = null;\n        resolve(createIterResult(data, false));\n      } else {\n        iterator[kLastResolve] = resolve;\n        iterator[kLastReject] = reject;\n      }\n    },\n    writable: true\n  }), _Object$create));\n  iterator[kLastPromise] = null;\n  finished(stream, function (err) {\n    if (err && err.code !== 'ERR_STREAM_PREMATURE_CLOSE') {\n      var reject = iterator[kLastReject]; // reject if we are waiting for data in the Promise\n      // returned by next() and store the error\n\n      if (reject !== null) {\n        iterator[kLastPromise] = null;\n        iterator[kLastResolve] = null;\n        iterator[kLastReject] = null;\n        reject(err);\n      }\n\n      iterator[kError] = err;\n      return;\n    }\n\n    var resolve = iterator[kLastResolve];\n\n    if (resolve !== null) {\n      iterator[kLastPromise] = null;\n      iterator[kLastResolve] = null;\n      iterator[kLastReject] = null;\n      resolve(createIterResult(undefined, true));\n    }\n\n    iterator[kEnded] = true;\n  });\n  stream.on('readable', onReadable.bind(null, iterator));\n  return iterator;\n};\n\nmodule.exports = createReadableStreamAsyncIterator;","'use strict';\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar _require = require('buffer'),\n    Buffer = _require.Buffer;\n\nvar _require2 = require('util'),\n    inspect = _require2.inspect;\n\nvar custom = inspect && inspect.custom || 'inspect';\n\nfunction copyBuffer(src, target, offset) {\n  Buffer.prototype.copy.call(src, target, offset);\n}\n\nmodule.exports =\n/*#__PURE__*/\nfunction () {\n  function BufferList() {\n    _classCallCheck(this, BufferList);\n\n    this.head = null;\n    this.tail = null;\n    this.length = 0;\n  }\n\n  _createClass(BufferList, [{\n    key: \"push\",\n    value: function push(v) {\n      var entry = {\n        data: v,\n        next: null\n      };\n      if (this.length > 0) this.tail.next = entry;else this.head = entry;\n      this.tail = entry;\n      ++this.length;\n    }\n  }, {\n    key: \"unshift\",\n    value: function unshift(v) {\n      var entry = {\n        data: v,\n        next: this.head\n      };\n      if (this.length === 0) this.tail = entry;\n      this.head = entry;\n      ++this.length;\n    }\n  }, {\n    key: \"shift\",\n    value: function shift() {\n      if (this.length === 0) return;\n      var ret = this.head.data;\n      if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;\n      --this.length;\n      return ret;\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.head = this.tail = null;\n      this.length = 0;\n    }\n  }, {\n    key: \"join\",\n    value: function join(s) {\n      if (this.length === 0) return '';\n      var p = this.head;\n      var ret = '' + p.data;\n\n      while (p = p.next) {\n        ret += s + p.data;\n      }\n\n      return ret;\n    }\n  }, {\n    key: \"concat\",\n    value: function concat(n) {\n      if (this.length === 0) return Buffer.alloc(0);\n      var ret = Buffer.allocUnsafe(n >>> 0);\n      var p = this.head;\n      var i = 0;\n\n      while (p) {\n        copyBuffer(p.data, ret, i);\n        i += p.data.length;\n        p = p.next;\n      }\n\n      return ret;\n    } // Consumes a specified amount of bytes or characters from the buffered data.\n\n  }, {\n    key: \"consume\",\n    value: function consume(n, hasStrings) {\n      var ret;\n\n      if (n < this.head.data.length) {\n        // `slice` is the same for buffers and strings.\n        ret = this.head.data.slice(0, n);\n        this.head.data = this.head.data.slice(n);\n      } else if (n === this.head.data.length) {\n        // First chunk is a perfect match.\n        ret = this.shift();\n      } else {\n        // Result spans more than one buffer.\n        ret = hasStrings ? this._getString(n) : this._getBuffer(n);\n      }\n\n      return ret;\n    }\n  }, {\n    key: \"first\",\n    value: function first() {\n      return this.head.data;\n    } // Consumes a specified amount of characters from the buffered data.\n\n  }, {\n    key: \"_getString\",\n    value: function _getString(n) {\n      var p = this.head;\n      var c = 1;\n      var ret = p.data;\n      n -= ret.length;\n\n      while (p = p.next) {\n        var str = p.data;\n        var nb = n > str.length ? str.length : n;\n        if (nb === str.length) ret += str;else ret += str.slice(0, n);\n        n -= nb;\n\n        if (n === 0) {\n          if (nb === str.length) {\n            ++c;\n            if (p.next) this.head = p.next;else this.head = this.tail = null;\n          } else {\n            this.head = p;\n            p.data = str.slice(nb);\n          }\n\n          break;\n        }\n\n        ++c;\n      }\n\n      this.length -= c;\n      return ret;\n    } // Consumes a specified amount of bytes from the buffered data.\n\n  }, {\n    key: \"_getBuffer\",\n    value: function _getBuffer(n) {\n      var ret = Buffer.allocUnsafe(n);\n      var p = this.head;\n      var c = 1;\n      p.data.copy(ret);\n      n -= p.data.length;\n\n      while (p = p.next) {\n        var buf = p.data;\n        var nb = n > buf.length ? buf.length : n;\n        buf.copy(ret, ret.length - n, 0, nb);\n        n -= nb;\n\n        if (n === 0) {\n          if (nb === buf.length) {\n            ++c;\n            if (p.next) this.head = p.next;else this.head = this.tail = null;\n          } else {\n            this.head = p;\n            p.data = buf.slice(nb);\n          }\n\n          break;\n        }\n\n        ++c;\n      }\n\n      this.length -= c;\n      return ret;\n    } // Make sure the linked list only shows the minimal necessary information.\n\n  }, {\n    key: custom,\n    value: function value(_, options) {\n      return inspect(this, _objectSpread({}, options, {\n        // Only inspect one level.\n        depth: 0,\n        // It should not recurse.\n        customInspect: false\n      }));\n    }\n  }]);\n\n  return BufferList;\n}();","'use strict'; // undocumented cb() API, needed for core, not for public API\n\nfunction destroy(err, cb) {\n  var _this = this;\n\n  var readableDestroyed = this._readableState && this._readableState.destroyed;\n  var writableDestroyed = this._writableState && this._writableState.destroyed;\n\n  if (readableDestroyed || writableDestroyed) {\n    if (cb) {\n      cb(err);\n    } else if (err) {\n      if (!this._writableState) {\n        process.nextTick(emitErrorNT, this, err);\n      } else if (!this._writableState.errorEmitted) {\n        this._writableState.errorEmitted = true;\n        process.nextTick(emitErrorNT, this, err);\n      }\n    }\n\n    return this;\n  } // we set destroyed to true before firing error callbacks in order\n  // to make it re-entrance safe in case destroy() is called within callbacks\n\n\n  if (this._readableState) {\n    this._readableState.destroyed = true;\n  } // if this is a duplex stream mark the writable part as destroyed as well\n\n\n  if (this._writableState) {\n    this._writableState.destroyed = true;\n  }\n\n  this._destroy(err || null, function (err) {\n    if (!cb && err) {\n      if (!_this._writableState) {\n        process.nextTick(emitErrorAndCloseNT, _this, err);\n      } else if (!_this._writableState.errorEmitted) {\n        _this._writableState.errorEmitted = true;\n        process.nextTick(emitErrorAndCloseNT, _this, err);\n      } else {\n        process.nextTick(emitCloseNT, _this);\n      }\n    } else if (cb) {\n      process.nextTick(emitCloseNT, _this);\n      cb(err);\n    } else {\n      process.nextTick(emitCloseNT, _this);\n    }\n  });\n\n  return this;\n}\n\nfunction emitErrorAndCloseNT(self, err) {\n  emitErrorNT(self, err);\n  emitCloseNT(self);\n}\n\nfunction emitCloseNT(self) {\n  if (self._writableState && !self._writableState.emitClose) return;\n  if (self._readableState && !self._readableState.emitClose) return;\n  self.emit('close');\n}\n\nfunction undestroy() {\n  if (this._readableState) {\n    this._readableState.destroyed = false;\n    this._readableState.reading = false;\n    this._readableState.ended = false;\n    this._readableState.endEmitted = false;\n  }\n\n  if (this._writableState) {\n    this._writableState.destroyed = false;\n    this._writableState.ended = false;\n    this._writableState.ending = false;\n    this._writableState.finalCalled = false;\n    this._writableState.prefinished = false;\n    this._writableState.finished = false;\n    this._writableState.errorEmitted = false;\n  }\n}\n\nfunction emitErrorNT(self, err) {\n  self.emit('error', err);\n}\n\nfunction errorOrDestroy(stream, err) {\n  // We have tests that rely on errors being emitted\n  // in the same tick, so changing this is semver major.\n  // For now when you opt-in to autoDestroy we allow\n  // the error to be emitted nextTick. In a future\n  // semver major update we should change the default to this.\n  var rState = stream._readableState;\n  var wState = stream._writableState;\n  if (rState && rState.autoDestroy || wState && wState.autoDestroy) stream.destroy(err);else stream.emit('error', err);\n}\n\nmodule.exports = {\n  destroy: destroy,\n  undestroy: undestroy,\n  errorOrDestroy: errorOrDestroy\n};","// Ported from https://github.com/mafintosh/end-of-stream with\n// permission from the author, Mathias Buus (@mafintosh).\n'use strict';\n\nvar ERR_STREAM_PREMATURE_CLOSE = require('../../../errors').codes.ERR_STREAM_PREMATURE_CLOSE;\n\nfunction once(callback) {\n  var called = false;\n  return function () {\n    if (called) return;\n    called = true;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    callback.apply(this, args);\n  };\n}\n\nfunction noop() {}\n\nfunction isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function';\n}\n\nfunction eos(stream, opts, callback) {\n  if (typeof opts === 'function') return eos(stream, null, opts);\n  if (!opts) opts = {};\n  callback = once(callback || noop);\n  var readable = opts.readable || opts.readable !== false && stream.readable;\n  var writable = opts.writable || opts.writable !== false && stream.writable;\n\n  var onlegacyfinish = function onlegacyfinish() {\n    if (!stream.writable) onfinish();\n  };\n\n  var writableEnded = stream._writableState && stream._writableState.finished;\n\n  var onfinish = function onfinish() {\n    writable = false;\n    writableEnded = true;\n    if (!readable) callback.call(stream);\n  };\n\n  var readableEnded = stream._readableState && stream._readableState.endEmitted;\n\n  var onend = function onend() {\n    readable = false;\n    readableEnded = true;\n    if (!writable) callback.call(stream);\n  };\n\n  var onerror = function onerror(err) {\n    callback.call(stream, err);\n  };\n\n  var onclose = function onclose() {\n    var err;\n\n    if (readable && !readableEnded) {\n      if (!stream._readableState || !stream._readableState.ended) err = new ERR_STREAM_PREMATURE_CLOSE();\n      return callback.call(stream, err);\n    }\n\n    if (writable && !writableEnded) {\n      if (!stream._writableState || !stream._writableState.ended) err = new ERR_STREAM_PREMATURE_CLOSE();\n      return callback.call(stream, err);\n    }\n  };\n\n  var onrequest = function onrequest() {\n    stream.req.on('finish', onfinish);\n  };\n\n  if (isRequest(stream)) {\n    stream.on('complete', onfinish);\n    stream.on('abort', onclose);\n    if (stream.req) onrequest();else stream.on('request', onrequest);\n  } else if (writable && !stream._writableState) {\n    // legacy streams\n    stream.on('end', onlegacyfinish);\n    stream.on('close', onlegacyfinish);\n  }\n\n  stream.on('end', onend);\n  stream.on('finish', onfinish);\n  if (opts.error !== false) stream.on('error', onerror);\n  stream.on('close', onclose);\n  return function () {\n    stream.removeListener('complete', onfinish);\n    stream.removeListener('abort', onclose);\n    stream.removeListener('request', onrequest);\n    if (stream.req) stream.req.removeListener('finish', onfinish);\n    stream.removeListener('end', onlegacyfinish);\n    stream.removeListener('close', onlegacyfinish);\n    stream.removeListener('finish', onfinish);\n    stream.removeListener('end', onend);\n    stream.removeListener('error', onerror);\n    stream.removeListener('close', onclose);\n  };\n}\n\nmodule.exports = eos;","module.exports = function () {\n  throw new Error('Readable.from is not available in the browser')\n};\n","// Ported from https://github.com/mafintosh/pump with\n// permission from the author, Mathias Buus (@mafintosh).\n'use strict';\n\nvar eos;\n\nfunction once(callback) {\n  var called = false;\n  return function () {\n    if (called) return;\n    called = true;\n    callback.apply(void 0, arguments);\n  };\n}\n\nvar _require$codes = require('../../../errors').codes,\n    ERR_MISSING_ARGS = _require$codes.ERR_MISSING_ARGS,\n    ERR_STREAM_DESTROYED = _require$codes.ERR_STREAM_DESTROYED;\n\nfunction noop(err) {\n  // Rethrow the error if it exists to avoid swallowing it\n  if (err) throw err;\n}\n\nfunction isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function';\n}\n\nfunction destroyer(stream, reading, writing, callback) {\n  callback = once(callback);\n  var closed = false;\n  stream.on('close', function () {\n    closed = true;\n  });\n  if (eos === undefined) eos = require('./end-of-stream');\n  eos(stream, {\n    readable: reading,\n    writable: writing\n  }, function (err) {\n    if (err) return callback(err);\n    closed = true;\n    callback();\n  });\n  var destroyed = false;\n  return function (err) {\n    if (closed) return;\n    if (destroyed) return;\n    destroyed = true; // request.destroy just do .end - .abort is what we want\n\n    if (isRequest(stream)) return stream.abort();\n    if (typeof stream.destroy === 'function') return stream.destroy();\n    callback(err || new ERR_STREAM_DESTROYED('pipe'));\n  };\n}\n\nfunction call(fn) {\n  fn();\n}\n\nfunction pipe(from, to) {\n  return from.pipe(to);\n}\n\nfunction popCallback(streams) {\n  if (!streams.length) return noop;\n  if (typeof streams[streams.length - 1] !== 'function') return noop;\n  return streams.pop();\n}\n\nfunction pipeline() {\n  for (var _len = arguments.length, streams = new Array(_len), _key = 0; _key < _len; _key++) {\n    streams[_key] = arguments[_key];\n  }\n\n  var callback = popCallback(streams);\n  if (Array.isArray(streams[0])) streams = streams[0];\n\n  if (streams.length < 2) {\n    throw new ERR_MISSING_ARGS('streams');\n  }\n\n  var error;\n  var destroys = streams.map(function (stream, i) {\n    var reading = i < streams.length - 1;\n    var writing = i > 0;\n    return destroyer(stream, reading, writing, function (err) {\n      if (!error) error = err;\n      if (err) destroys.forEach(call);\n      if (reading) return;\n      destroys.forEach(call);\n      callback(error);\n    });\n  });\n  return streams.reduce(pipe);\n}\n\nmodule.exports = pipeline;","'use strict';\n\nvar ERR_INVALID_OPT_VALUE = require('../../../errors').codes.ERR_INVALID_OPT_VALUE;\n\nfunction highWaterMarkFrom(options, isDuplex, duplexKey) {\n  return options.highWaterMark != null ? options.highWaterMark : isDuplex ? options[duplexKey] : null;\n}\n\nfunction getHighWaterMark(state, options, duplexKey, isDuplex) {\n  var hwm = highWaterMarkFrom(options, isDuplex, duplexKey);\n\n  if (hwm != null) {\n    if (!(isFinite(hwm) && Math.floor(hwm) === hwm) || hwm < 0) {\n      var name = isDuplex ? duplexKey : 'highWaterMark';\n      throw new ERR_INVALID_OPT_VALUE(name, hwm);\n    }\n\n    return Math.floor(hwm);\n  } // Default value\n\n\n  return state.objectMode ? 16 : 16 * 1024;\n}\n\nmodule.exports = {\n  getHighWaterMark: getHighWaterMark\n};","module.exports = require('events').EventEmitter;\n","exports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = exports;\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\nexports.finished = require('./lib/internal/streams/end-of-stream.js');\nexports.pipeline = require('./lib/internal/streams/pipeline.js');\n","const RDF  = 'http://www.w3.org/1999/02/22-rdf-syntax-ns#',\n    XSD  = 'http://www.w3.org/2001/XMLSchema#',\n    SWAP = 'http://www.w3.org/2000/10/swap/';\n\nexport default {\n  xsd: {\n    decimal: `${XSD}decimal`,\n    boolean: `${XSD}boolean`,\n    double:  `${XSD}double`,\n    integer: `${XSD}integer`,\n    string:  `${XSD}string`,\n  },\n  rdf: {\n    type:       `${RDF}type`,\n    nil:        `${RDF}nil`,\n    first:      `${RDF}first`,\n    rest:       `${RDF}rest`,\n    langString: `${RDF}langString`,\n  },\n  owl: {\n    sameAs: 'http://www.w3.org/2002/07/owl#sameAs',\n  },\n  r: {\n    forSome: `${SWAP}reify#forSome`,\n    forAll:  `${SWAP}reify#forAll`,\n  },\n  log: {\n    implies: `${SWAP}log#implies`,\n  },\n};\n","// **N3Lexer** tokenizes N3 documents.\nimport namespaces from './IRIs';\nimport queueMicrotask from 'queue-microtask';\n\nconst { xsd } = namespaces;\n\n// Regular expression and replacement string to escape N3 strings\nconst escapeSequence = /\\\\u([a-fA-F0-9]{4})|\\\\U([a-fA-F0-9]{8})|\\\\([^])/g;\nconst escapeReplacements = {\n  '\\\\': '\\\\', \"'\": \"'\", '\"': '\"',\n  'n': '\\n', 'r': '\\r', 't': '\\t', 'f': '\\f', 'b': '\\b',\n  '_': '_', '~': '~', '.': '.', '-': '-', '!': '!', '$': '$', '&': '&',\n  '(': '(', ')': ')', '*': '*', '+': '+', ',': ',', ';': ';', '=': '=',\n  '/': '/', '?': '?', '#': '#', '@': '@', '%': '%',\n};\nconst illegalIriChars = /[\\x00-\\x20<>\\\\\"\\{\\}\\|\\^\\`]/;\n\nconst lineModeRegExps = {\n  _iri: true,\n  _unescapedIri: true,\n  _simpleQuotedString: true,\n  _langcode: true,\n  _blank: true,\n  _newline: true,\n  _comment: true,\n  _whitespace: true,\n  _endOfFile: true,\n};\nconst invalidRegExp = /$0^/;\n\n// ## Constructor\nexport default class N3Lexer {\n  constructor(options) {\n    // ## Regular expressions\n    // It's slightly faster to have these as properties than as in-scope variables\n    this._iri = /^<((?:[^ <>{}\\\\]|\\\\[uU])+)>[ \\t]*/; // IRI with escape sequences; needs sanity check after unescaping\n    this._unescapedIri = /^<([^\\x00-\\x20<>\\\\\"\\{\\}\\|\\^\\`]*)>[ \\t]*/; // IRI without escape sequences; no unescaping\n    this._simpleQuotedString = /^\"([^\"\\\\\\r\\n]*)\"(?=[^\"])/; // string without escape sequences\n    this._simpleApostropheString = /^'([^'\\\\\\r\\n]*)'(?=[^'])/;\n    this._langcode = /^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\\-])/i;\n    this._prefix = /^((?:[A-Za-z\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02ff\\u0370-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])(?:\\.?[\\-0-9A-Z_a-z\\xb7\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u203f\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])*)?:(?=[#\\s<])/;\n    this._prefixed = /^((?:[A-Za-z\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02ff\\u0370-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])(?:\\.?[\\-0-9A-Z_a-z\\xb7\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u203f\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])*)?:((?:(?:[0-:A-Z_a-z\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02ff\\u0370-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff]|%[0-9a-fA-F]{2}|\\\\[!#-\\/;=?\\-@_~])(?:(?:[\\.\\-0-:A-Z_a-z\\xb7\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u203f\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff]|%[0-9a-fA-F]{2}|\\\\[!#-\\/;=?\\-@_~])*(?:[\\-0-:A-Z_a-z\\xb7\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u203f\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff]|%[0-9a-fA-F]{2}|\\\\[!#-\\/;=?\\-@_~]))?)?)(?:[ \\t]+|(?=\\.?[,;!\\^\\s#()\\[\\]\\{\\}\"'<>]))/;\n    this._variable = /^\\?(?:(?:[A-Z_a-z\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02ff\\u0370-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])(?:[\\-0-:A-Z_a-z\\xb7\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u203f\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])*)(?=[.,;!\\^\\s#()\\[\\]\\{\\}\"'<>])/;\n    this._blank = /^_:((?:[0-9A-Z_a-z\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02ff\\u0370-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])(?:\\.?[\\-0-9A-Z_a-z\\xb7\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u203f\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])*)(?:[ \\t]+|(?=\\.?[,;:\\s#()\\[\\]\\{\\}\"'<>]))/;\n    this._number = /^[\\-+]?(?:(\\d+\\.\\d*|\\.?\\d+)[eE][\\-+]?|\\d*(\\.)?)\\d+(?=\\.?[,;:\\s#()\\[\\]\\{\\}\"'<>])/;\n    this._boolean = /^(?:true|false)(?=[.,;\\s#()\\[\\]\\{\\}\"'<>])/;\n    this._keyword = /^@[a-z]+(?=[\\s#<:])/i;\n    this._sparqlKeyword = /^(?:PREFIX|BASE|GRAPH)(?=[\\s#<])/i;\n    this._shortPredicates = /^a(?=[\\s#()\\[\\]\\{\\}\"'<>])/;\n    this._newline = /^[ \\t]*(?:#[^\\n\\r]*)?(?:\\r\\n|\\n|\\r)[ \\t]*/;\n    this._comment = /#([^\\n\\r]*)/;\n    this._whitespace = /^[ \\t]+/;\n    this._endOfFile = /^(?:#[^\\n\\r]*)?$/;\n    options = options || {};\n\n    // In line mode (N-Triples or N-Quads), only simple features may be parsed\n    if (this._lineMode = !!options.lineMode) {\n      this._n3Mode = false;\n      // Don't tokenize special literals\n      for (const key in this) {\n        if (!(key in lineModeRegExps) && this[key] instanceof RegExp)\n          this[key] = invalidRegExp;\n      }\n    }\n    // When not in line mode, enable N3 functionality by default\n    else {\n      this._n3Mode = options.n3 !== false;\n    }\n    // Don't output comment tokens by default\n    this._comments = !!options.comments;\n    // Cache the last tested closing position of long literals\n    this._literalClosingPos = 0;\n  }\n\n  // ## Private methods\n\n  // ### `_tokenizeToEnd` tokenizes as for as possible, emitting tokens through the callback\n  _tokenizeToEnd(callback, inputFinished) {\n    // Continue parsing as far as possible; the loop will return eventually\n    let input = this._input;\n    let currentLineLength = input.length;\n    while (true) {\n      // Count and skip whitespace lines\n      let whiteSpaceMatch, comment;\n      while (whiteSpaceMatch = this._newline.exec(input)) {\n        // Try to find a comment\n        if (this._comments && (comment = this._comment.exec(whiteSpaceMatch[0])))\n          emitToken('comment', comment[1], '', this._line, whiteSpaceMatch[0].length);\n        // Advance the input\n        input = input.substr(whiteSpaceMatch[0].length, input.length);\n        currentLineLength = input.length;\n        this._line++;\n      }\n      // Skip whitespace on current line\n      if (!whiteSpaceMatch && (whiteSpaceMatch = this._whitespace.exec(input)))\n        input = input.substr(whiteSpaceMatch[0].length, input.length);\n\n      // Stop for now if we're at the end\n      if (this._endOfFile.test(input)) {\n        // If the input is finished, emit EOF\n        if (inputFinished) {\n          // Try to find a final comment\n          if (this._comments && (comment = this._comment.exec(input)))\n            emitToken('comment', comment[1], '', this._line, input.length);\n          input = null;\n          emitToken('eof', '', '', this._line, 0);\n        }\n        return this._input = input;\n      }\n\n      // Look for specific token types based on the first character\n      const line = this._line, firstChar = input[0];\n      let type = '', value = '', prefix = '',\n          match = null, matchLength = 0, inconclusive = false;\n      switch (firstChar) {\n      case '^':\n        // We need at least 3 tokens lookahead to distinguish ^^<IRI> and ^^pre:fixed\n        if (input.length < 3)\n          break;\n        // Try to match a type\n        else if (input[1] === '^') {\n          this._previousMarker = '^^';\n          // Move to type IRI or prefixed name\n          input = input.substr(2);\n          if (input[0] !== '<') {\n            inconclusive = true;\n            break;\n          }\n        }\n        // If no type, it must be a path expression\n        else {\n          if (this._n3Mode) {\n            matchLength = 1;\n            type = '^';\n          }\n          break;\n        }\n        // Fall through in case the type is an IRI\n      case '<':\n        // Try to find a full IRI without escape sequences\n        if (match = this._unescapedIri.exec(input))\n          type = 'IRI', value = match[1];\n        // Try to find a full IRI with escape sequences\n        else if (match = this._iri.exec(input)) {\n          value = this._unescape(match[1]);\n          if (value === null || illegalIriChars.test(value))\n            return reportSyntaxError(this);\n          type = 'IRI';\n        }\n        // Try to find a nested triple\n        else if (input.length > 1 && input[1] === '<')\n          type = '<<', matchLength = 2;\n        // Try to find a backwards implication arrow\n        else if (this._n3Mode && input.length > 1 && input[1] === '=')\n          type = 'inverse', matchLength = 2, value = '>';\n        break;\n\n      case '>':\n        if (input.length > 1 && input[1] === '>')\n          type = '>>', matchLength = 2;\n        break;\n\n      case '_':\n        // Try to find a blank node. Since it can contain (but not end with) a dot,\n        // we always need a non-dot character before deciding it is a blank node.\n        // Therefore, try inserting a space if we're at the end of the input.\n        if ((match = this._blank.exec(input)) ||\n            inputFinished && (match = this._blank.exec(`${input} `)))\n          type = 'blank', prefix = '_', value = match[1];\n        break;\n\n      case '\"':\n        // Try to find a literal without escape sequences\n        if (match = this._simpleQuotedString.exec(input))\n          value = match[1];\n        // Try to find a literal wrapped in three pairs of quotes\n        else {\n          ({ value, matchLength } = this._parseLiteral(input));\n          if (value === null)\n            return reportSyntaxError(this);\n        }\n        if (match !== null || matchLength !== 0) {\n          type = 'literal';\n          this._literalClosingPos = 0;\n        }\n        break;\n\n      case \"'\":\n        if (!this._lineMode) {\n          // Try to find a literal without escape sequences\n          if (match = this._simpleApostropheString.exec(input))\n            value = match[1];\n          // Try to find a literal wrapped in three pairs of quotes\n          else {\n            ({ value, matchLength } = this._parseLiteral(input));\n            if (value === null)\n              return reportSyntaxError(this);\n          }\n          if (match !== null || matchLength !== 0) {\n            type = 'literal';\n            this._literalClosingPos = 0;\n          }\n        }\n        break;\n\n      case '?':\n        // Try to find a variable\n        if (this._n3Mode && (match = this._variable.exec(input)))\n          type = 'var', value = match[0];\n        break;\n\n      case '@':\n        // Try to find a language code\n        if (this._previousMarker === 'literal' && (match = this._langcode.exec(input)))\n          type = 'langcode', value = match[1];\n        // Try to find a keyword\n        else if (match = this._keyword.exec(input))\n          type = match[0];\n        break;\n\n      case '.':\n        // Try to find a dot as punctuation\n        if (input.length === 1 ? inputFinished : (input[1] < '0' || input[1] > '9')) {\n          type = '.';\n          matchLength = 1;\n          break;\n        }\n        // Fall through to numerical case (could be a decimal dot)\n\n      case '0':\n      case '1':\n      case '2':\n      case '3':\n      case '4':\n      case '5':\n      case '6':\n      case '7':\n      case '8':\n      case '9':\n      case '+':\n      case '-':\n        // Try to find a number. Since it can contain (but not end with) a dot,\n        // we always need a non-dot character before deciding it is a number.\n        // Therefore, try inserting a space if we're at the end of the input.\n        if (match = this._number.exec(input) ||\n            inputFinished && (match = this._number.exec(`${input} `))) {\n          type = 'literal', value = match[0];\n          prefix = (typeof match[1] === 'string' ? xsd.double :\n                    (typeof match[2] === 'string' ? xsd.decimal : xsd.integer));\n        }\n        break;\n\n      case 'B':\n      case 'b':\n      case 'p':\n      case 'P':\n      case 'G':\n      case 'g':\n        // Try to find a SPARQL-style keyword\n        if (match = this._sparqlKeyword.exec(input))\n          type = match[0].toUpperCase();\n        else\n          inconclusive = true;\n        break;\n\n      case 'f':\n      case 't':\n        // Try to match a boolean\n        if (match = this._boolean.exec(input))\n          type = 'literal', value = match[0], prefix = xsd.boolean;\n        else\n          inconclusive = true;\n        break;\n\n      case 'a':\n        // Try to find an abbreviated predicate\n        if (match = this._shortPredicates.exec(input))\n          type = 'abbreviation', value = 'a';\n        else\n          inconclusive = true;\n        break;\n\n      case '=':\n        // Try to find an implication arrow or equals sign\n        if (this._n3Mode && input.length > 1) {\n          type = 'abbreviation';\n          if (input[1] !== '>')\n            matchLength = 1, value = '=';\n          else\n            matchLength = 2, value = '>';\n        }\n        break;\n\n      case '!':\n        if (!this._n3Mode)\n          break;\n      case ',':\n      case ';':\n      case '[':\n      case ']':\n      case '(':\n      case ')':\n      case '{':\n      case '}':\n        if (!this._lineMode) {\n          matchLength = 1;\n          type = firstChar;\n        }\n        break;\n\n      default:\n        inconclusive = true;\n      }\n\n      // Some first characters do not allow an immediate decision, so inspect more\n      if (inconclusive) {\n        // Try to find a prefix\n        if ((this._previousMarker === '@prefix' || this._previousMarker === 'PREFIX') &&\n            (match = this._prefix.exec(input)))\n          type = 'prefix', value = match[1] || '';\n        // Try to find a prefixed name. Since it can contain (but not end with) a dot,\n        // we always need a non-dot character before deciding it is a prefixed name.\n        // Therefore, try inserting a space if we're at the end of the input.\n        else if ((match = this._prefixed.exec(input)) ||\n                 inputFinished && (match = this._prefixed.exec(`${input} `)))\n          type = 'prefixed', prefix = match[1] || '', value = this._unescape(match[2]);\n      }\n\n      // A type token is special: it can only be emitted after an IRI or prefixed name is read\n      if (this._previousMarker === '^^') {\n        switch (type) {\n        case 'prefixed': type = 'type';    break;\n        case 'IRI':      type = 'typeIRI'; break;\n        default:         type = '';\n        }\n      }\n\n      // What if nothing of the above was found?\n      if (!type) {\n        // We could be in streaming mode, and then we just wait for more input to arrive.\n        // Otherwise, a syntax error has occurred in the input.\n        // One exception: error on an unaccounted linebreak (= not inside a triple-quoted literal).\n        if (inputFinished || (!/^'''|^\"\"\"/.test(input) && /\\n|\\r/.test(input)))\n          return reportSyntaxError(this);\n        else\n          return this._input = input;\n      }\n\n      // Emit the parsed token\n      const length = matchLength || match[0].length;\n      const token = emitToken(type, value, prefix, line, length);\n      this.previousToken = token;\n      this._previousMarker = type;\n\n      // Advance to next part to tokenize\n      input = input.substr(length, input.length);\n    }\n\n    // Emits the token through the callback\n    function emitToken(type, value, prefix, line, length) {\n      const start = input ? currentLineLength - input.length : currentLineLength;\n      const end = start + length;\n      const token = { type, value, prefix, line, start, end };\n      callback(null, token);\n      return token;\n    }\n    // Signals the syntax error through the callback\n    function reportSyntaxError(self) { callback(self._syntaxError(/^\\S*/.exec(input)[0])); }\n  }\n\n  // ### `_unescape` replaces N3 escape codes by their corresponding characters\n  _unescape(item) {\n    let invalid = false;\n    const replaced = item.replace(escapeSequence, (sequence, unicode4, unicode8, escapedChar) => {\n      // 4-digit unicode character\n      if (typeof unicode4 === 'string')\n        return String.fromCharCode(Number.parseInt(unicode4, 16));\n      // 8-digit unicode character\n      if (typeof unicode8 === 'string') {\n        let charCode = Number.parseInt(unicode8, 16);\n        return charCode <= 0xFFFF ? String.fromCharCode(Number.parseInt(unicode8, 16)) :\n          String.fromCharCode(0xD800 + ((charCode -= 0x10000) >> 10), 0xDC00 + (charCode & 0x3FF));\n      }\n      // fixed escape sequence\n      if (escapedChar in escapeReplacements)\n        return escapeReplacements[escapedChar];\n      // invalid escape sequence\n      invalid = true;\n      return '';\n    });\n    return invalid ? null : replaced;\n  }\n\n  // ### `_parseLiteral` parses a literal into an unescaped value\n  _parseLiteral(input) {\n    // Ensure we have enough lookahead to identify triple-quoted strings\n    if (input.length >= 3) {\n      // Identify the opening quote(s)\n      const opening = input.match(/^(?:\"\"\"|\"|'''|'|)/)[0];\n      const openingLength = opening.length;\n\n      // Find the next candidate closing quotes\n      let closingPos = Math.max(this._literalClosingPos, openingLength);\n      while ((closingPos = input.indexOf(opening, closingPos)) > 0) {\n        // Count backslashes right before the closing quotes\n        let backslashCount = 0;\n        while (input[closingPos - backslashCount - 1] === '\\\\')\n          backslashCount++;\n\n        // An even number of backslashes (in particular 0)\n        // means these are actual, non-escaped closing quotes\n        if (backslashCount % 2 === 0) {\n          // Extract and unescape the value\n          const raw = input.substring(openingLength, closingPos);\n          const lines = raw.split(/\\r\\n|\\r|\\n/).length - 1;\n          const matchLength = closingPos + openingLength;\n          // Only triple-quoted strings can be multi-line\n          if (openingLength === 1 && lines !== 0 ||\n              openingLength === 3 && this._lineMode)\n            break;\n          this._line += lines;\n          return { value: this._unescape(raw), matchLength };\n        }\n        closingPos++;\n      }\n      this._literalClosingPos = input.length - openingLength + 1;\n    }\n    return { value: '', matchLength: 0 };\n  }\n\n  // ### `_syntaxError` creates a syntax error for the given issue\n  _syntaxError(issue) {\n    this._input = null;\n    const err = new Error(`Unexpected \"${issue}\" on line ${this._line}.`);\n    err.context = {\n      token: undefined,\n      line: this._line,\n      previousToken: this.previousToken,\n    };\n    return err;\n  }\n\n  // ### Strips off any starting UTF BOM mark.\n  _readStartingBom(input) {\n    return input.startsWith('\\ufeff') ? input.substr(1) : input;\n  }\n\n  // ## Public methods\n\n  // ### `tokenize` starts the transformation of an N3 document into an array of tokens.\n  // The input can be a string or a stream.\n  tokenize(input, callback) {\n    this._line = 1;\n\n    // If the input is a string, continuously emit tokens through the callback until the end\n    if (typeof input === 'string') {\n      this._input = this._readStartingBom(input);\n      // If a callback was passed, asynchronously call it\n      if (typeof callback === 'function')\n        queueMicrotask(() => this._tokenizeToEnd(callback, true));\n      // If no callback was passed, tokenize synchronously and return\n      else {\n        const tokens = [];\n        let error;\n        this._tokenizeToEnd((e, t) => e ? (error = e) : tokens.push(t), true);\n        if (error) throw error;\n        return tokens;\n      }\n    }\n    // Otherwise, the input must be a stream\n    else {\n      this._pendingBuffer = null;\n      if (typeof input.setEncoding === 'function')\n        input.setEncoding('utf8');\n      // Adds the data chunk to the buffer and parses as far as possible\n      input.on('data', data => {\n        if (this._input !== null && data.length !== 0) {\n          // Prepend any previous pending writes\n          if (this._pendingBuffer) {\n            data = Buffer.concat([this._pendingBuffer, data]);\n            this._pendingBuffer = null;\n          }\n          // Hold if the buffer ends in an incomplete unicode sequence\n          if (data[data.length - 1] & 0x80) {\n            this._pendingBuffer = data;\n          }\n          // Otherwise, tokenize as far as possible\n          else {\n            // Only read a BOM at the start\n            if (typeof this._input === 'undefined')\n              this._input = this._readStartingBom(typeof data === 'string' ? data : data.toString());\n            else\n              this._input += data;\n            this._tokenizeToEnd(callback, false);\n          }\n        }\n      });\n      // Parses until the end\n      input.on('end', () => {\n        if (typeof this._input === 'string')\n          this._tokenizeToEnd(callback, true);\n      });\n      input.on('error', callback);\n    }\n  }\n}\n","// **N3Util** provides N3 utility functions.\n\nimport N3DataFactory from './N3DataFactory';\n\n// Tests whether the given term represents an IRI\nexport function isNamedNode(term) {\n  return !!term && term.termType === 'NamedNode';\n}\n\n// Tests whether the given term represents a blank node\nexport function isBlankNode(term) {\n  return !!term && term.termType === 'BlankNode';\n}\n\n// Tests whether the given term represents a literal\nexport function isLiteral(term) {\n  return !!term && term.termType === 'Literal';\n}\n\n// Tests whether the given term represents a variable\nexport function isVariable(term) {\n  return !!term && term.termType === 'Variable';\n}\n\n// Tests whether the given term represents the default graph\nexport function isDefaultGraph(term) {\n  return !!term && term.termType === 'DefaultGraph';\n}\n\n// Tests whether the given quad is in the default graph\nexport function inDefaultGraph(quad) {\n  return isDefaultGraph(quad.graph);\n}\n\n// Creates a function that prepends the given IRI to a local name\nexport function prefix(iri, factory) {\n  return prefixes({ '': iri.value || iri }, factory)('');\n}\n\n// Creates a function that allows registering and expanding prefixes\nexport function prefixes(defaultPrefixes, factory) {\n  // Add all of the default prefixes\n  const prefixes = Object.create(null);\n  for (const prefix in defaultPrefixes)\n    processPrefix(prefix, defaultPrefixes[prefix]);\n  // Set the default factory if none was specified\n  factory = factory || N3DataFactory;\n\n  // Registers a new prefix (if an IRI was specified)\n  // or retrieves a function that expands an existing prefix (if no IRI was specified)\n  function processPrefix(prefix, iri) {\n    // Create a new prefix if an IRI is specified or the prefix doesn't exist\n    if (typeof iri === 'string') {\n      // Create a function that expands the prefix\n      const cache = Object.create(null);\n      prefixes[prefix] = local => {\n        return cache[local] || (cache[local] = factory.namedNode(iri + local));\n      };\n    }\n    else if (!(prefix in prefixes)) {\n      throw new Error(`Unknown prefix: ${prefix}`);\n    }\n    return prefixes[prefix];\n  }\n  return processPrefix;\n}\n","// N3.js implementations of the RDF/JS core data types\n// See https://github.com/rdfjs/representation-task-force/blob/master/interface-spec.md\n\nimport namespaces from './IRIs';\nimport { isDefaultGraph } from './N3Util';\nconst { rdf, xsd } = namespaces;\n\n// eslint-disable-next-line prefer-const\nlet DEFAULTGRAPH;\nlet _blankNodeCounter = 0;\n\nconst escapedLiteral = /^\"(.*\".*)(?=\"[^\"]*$)/;\nconst quadId = /^<<(\"(?:\"\"|[^\"])*\"[^ ]*|[^ ]+) (\"(?:\"\"|[^\"])*\"[^ ]*|[^ ]+) (\"(?:\"\"|[^\"])*\"[^ ]*|[^ ]+) ?(\"(?:\"\"|[^\"])*\"[^ ]*|[^ ]+)?>>$/;\n\n// ## DataFactory singleton\nconst DataFactory = {\n  namedNode,\n  blankNode,\n  variable,\n  literal,\n  defaultGraph,\n  quad,\n  triple: quad,\n};\nexport default DataFactory;\n\n// ## Term constructor\nexport class Term {\n  constructor(id) {\n    this.id = id;\n  }\n\n  // ### The value of this term\n  get value() {\n    return this.id;\n  }\n\n  // ### Returns whether this object represents the same term as the other\n  equals(other) {\n    // If both terms were created by this library,\n    // equality can be computed through ids\n    if (other instanceof Term)\n      return this.id === other.id;\n    // Otherwise, compare term type and value\n    return !!other && this.termType === other.termType &&\n                      this.value    === other.value;\n  }\n\n  // ### Implement hashCode for Immutable.js, since we implement `equals`\n  // https://immutable-js.com/docs/v4.0.0/ValueObject/#hashCode()\n  hashCode() {\n    return 0;\n  }\n\n  // ### Returns a plain object representation of this term\n  toJSON() {\n    return {\n      termType: this.termType,\n      value:    this.value,\n    };\n  }\n}\n\n\n// ## NamedNode constructor\nexport class NamedNode extends Term {\n  // ### The term type of this term\n  get termType() {\n    return 'NamedNode';\n  }\n}\n\n// ## Literal constructor\nexport class Literal extends Term {\n  // ### The term type of this term\n  get termType() {\n    return 'Literal';\n  }\n\n  // ### The text value of this literal\n  get value() {\n    return this.id.substring(1, this.id.lastIndexOf('\"'));\n  }\n\n  // ### The language of this literal\n  get language() {\n    // Find the last quotation mark (e.g., '\"abc\"@en-us')\n    const id = this.id;\n    let atPos = id.lastIndexOf('\"') + 1;\n    // If \"@\" it follows, return the remaining substring; empty otherwise\n    return atPos < id.length && id[atPos++] === '@' ? id.substr(atPos).toLowerCase() : '';\n  }\n\n  // ### The datatype IRI of this literal\n  get datatype() {\n    return new NamedNode(this.datatypeString);\n  }\n\n  // ### The datatype string of this literal\n  get datatypeString() {\n    // Find the last quotation mark (e.g., '\"abc\"^^http://ex.org/types#t')\n    const id = this.id, dtPos = id.lastIndexOf('\"') + 1;\n    const char = dtPos < id.length ? id[dtPos] : '';\n    // If \"^\" it follows, return the remaining substring\n    return char === '^' ? id.substr(dtPos + 2) :\n           // If \"@\" follows, return rdf:langString; xsd:string otherwise\n           (char !== '@' ? xsd.string : rdf.langString);\n  }\n\n  // ### Returns whether this object represents the same term as the other\n  equals(other) {\n    // If both literals were created by this library,\n    // equality can be computed through ids\n    if (other instanceof Literal)\n      return this.id === other.id;\n    // Otherwise, compare term type, value, language, and datatype\n    return !!other && !!other.datatype &&\n                      this.termType === other.termType &&\n                      this.value    === other.value    &&\n                      this.language === other.language &&\n                      this.datatype.value === other.datatype.value;\n  }\n\n  toJSON() {\n    return {\n      termType: this.termType,\n      value:    this.value,\n      language: this.language,\n      datatype: { termType: 'NamedNode', value: this.datatypeString },\n    };\n  }\n}\n\n// ## BlankNode constructor\nexport class BlankNode extends Term {\n  constructor(name) {\n    super(`_:${name}`);\n  }\n\n  // ### The term type of this term\n  get termType() {\n    return 'BlankNode';\n  }\n\n  // ### The name of this blank node\n  get value() {\n    return this.id.substr(2);\n  }\n}\n\nexport class Variable extends Term {\n  constructor(name) {\n    super(`?${name}`);\n  }\n\n  // ### The term type of this term\n  get termType() {\n    return 'Variable';\n  }\n\n  // ### The name of this variable\n  get value() {\n    return this.id.substr(1);\n  }\n}\n\n// ## DefaultGraph constructor\nexport class DefaultGraph extends Term {\n  constructor() {\n    super('');\n    return DEFAULTGRAPH || this;\n  }\n\n  // ### The term type of this term\n  get termType() {\n    return 'DefaultGraph';\n  }\n\n  // ### Returns whether this object represents the same term as the other\n  equals(other) {\n    // If both terms were created by this library,\n    // equality can be computed through strict equality;\n    // otherwise, compare term types.\n    return (this === other) || (!!other && (this.termType === other.termType));\n  }\n}\n\n// ## DefaultGraph singleton\nDEFAULTGRAPH = new DefaultGraph();\n\n\n// ### Constructs a term from the given internal string ID\nexport function termFromId(id, factory) {\n  factory = factory || DataFactory;\n\n  // Falsy value or empty string indicate the default graph\n  if (!id)\n    return factory.defaultGraph();\n\n  // Identify the term type based on the first character\n  switch (id[0]) {\n  case '?':\n    return factory.variable(id.substr(1));\n  case '_':\n    return factory.blankNode(id.substr(2));\n  case '\"':\n    // Shortcut for internal literals\n    if (factory === DataFactory)\n      return new Literal(id);\n    // Literal without datatype or language\n    if (id[id.length - 1] === '\"')\n      return factory.literal(id.substr(1, id.length - 2));\n    // Literal with datatype or language\n    const endPos = id.lastIndexOf('\"', id.length - 1);\n    return factory.literal(id.substr(1, endPos - 1),\n            id[endPos + 1] === '@' ? id.substr(endPos + 2)\n                                   : factory.namedNode(id.substr(endPos + 3)));\n  case '<':\n    const components = quadId.exec(id);\n    return factory.quad(\n      termFromId(unescapeQuotes(components[1]), factory),\n      termFromId(unescapeQuotes(components[2]), factory),\n      termFromId(unescapeQuotes(components[3]), factory),\n      components[4] && termFromId(unescapeQuotes(components[4]), factory)\n    );\n  default:\n    return factory.namedNode(id);\n  }\n}\n\n// ### Constructs an internal string ID from the given term or ID string\nexport function termToId(term) {\n  if (typeof term === 'string')\n    return term;\n  if (term instanceof Term && term.termType !== 'Quad')\n    return term.id;\n  if (!term)\n    return DEFAULTGRAPH.id;\n\n  // Term instantiated with another library\n  switch (term.termType) {\n  case 'NamedNode':    return term.value;\n  case 'BlankNode':    return `_:${term.value}`;\n  case 'Variable':     return `?${term.value}`;\n  case 'DefaultGraph': return '';\n  case 'Literal':      return `\"${term.value}\"${\n    term.language ? `@${term.language}` :\n      (term.datatype && term.datatype.value !== xsd.string ? `^^${term.datatype.value}` : '')}`;\n  case 'Quad':\n    // To identify RDF* quad components, we escape quotes by doubling them.\n    // This avoids the overhead of backslash parsing of Turtle-like syntaxes.\n    return `<<${\n        escapeQuotes(termToId(term.subject))\n      } ${\n        escapeQuotes(termToId(term.predicate))\n      } ${\n        escapeQuotes(termToId(term.object))\n      }${\n        (isDefaultGraph(term.graph)) ? '' : ` ${termToId(term.graph)}`\n      }>>`;\n  default: throw new Error(`Unexpected termType: ${term.termType}`);\n  }\n}\n\n\n// ## Quad constructor\nexport class Quad extends Term {\n  constructor(subject, predicate, object, graph) {\n    super('');\n    this._subject   = subject;\n    this._predicate = predicate;\n    this._object    = object;\n    this._graph     = graph || DEFAULTGRAPH;\n  }\n\n  // ### The term type of this term\n  get termType() {\n    return 'Quad';\n  }\n\n  get subject() {\n    return this._subject;\n  }\n\n  get predicate() {\n    return this._predicate;\n  }\n\n  get object() {\n    return this._object;\n  }\n\n  get graph() {\n    return this._graph;\n  }\n\n  // ### Returns a plain object representation of this quad\n  toJSON() {\n    return {\n      termType:  this.termType,\n      subject:   this._subject.toJSON(),\n      predicate: this._predicate.toJSON(),\n      object:    this._object.toJSON(),\n      graph:     this._graph.toJSON(),\n    };\n  }\n\n  // ### Returns whether this object represents the same quad as the other\n  equals(other) {\n    return !!other && this._subject.equals(other.subject)     &&\n                      this._predicate.equals(other.predicate) &&\n                      this._object.equals(other.object)       &&\n                      this._graph.equals(other.graph);\n  }\n}\nexport { Quad as Triple };\n\n// ### Escapes the quotes within the given literal\nexport function escapeQuotes(id) {\n  return id.replace(escapedLiteral, (_, quoted) => `\"${quoted.replace(/\"/g, '\"\"')}`);\n}\n\n// ### Unescapes the quotes within the given literal\nexport function unescapeQuotes(id) {\n  return id.replace(escapedLiteral, (_, quoted) => `\"${quoted.replace(/\"\"/g, '\"')}`);\n}\n\n// ### Creates an IRI\nfunction namedNode(iri) {\n  return new NamedNode(iri);\n}\n\n// ### Creates a blank node\nfunction blankNode(name) {\n  return new BlankNode(name || `n3-${_blankNodeCounter++}`);\n}\n\n// ### Creates a literal\nfunction literal(value, languageOrDataType) {\n  // Create a language-tagged string\n  if (typeof languageOrDataType === 'string')\n    return new Literal(`\"${value}\"@${languageOrDataType.toLowerCase()}`);\n\n  // Automatically determine datatype for booleans and numbers\n  let datatype = languageOrDataType ? languageOrDataType.value : '';\n  if (datatype === '') {\n    // Convert a boolean\n    if (typeof value === 'boolean')\n      datatype = xsd.boolean;\n    // Convert an integer or double\n    else if (typeof value === 'number') {\n      if (Number.isFinite(value))\n        datatype = Number.isInteger(value) ? xsd.integer : xsd.double;\n      else {\n        datatype = xsd.double;\n        if (!Number.isNaN(value))\n          value = value > 0 ? 'INF' : '-INF';\n      }\n    }\n  }\n\n  // Create a datatyped literal\n  return (datatype === '' || datatype === xsd.string) ?\n    new Literal(`\"${value}\"`) :\n    new Literal(`\"${value}\"^^${datatype}`);\n}\n\n// ### Creates a variable\nfunction variable(name) {\n  return new Variable(name);\n}\n\n// ### Returns the default graph\nfunction defaultGraph() {\n  return DEFAULTGRAPH;\n}\n\n// ### Creates a quad\nfunction quad(subject, predicate, object, graph) {\n  return new Quad(subject, predicate, object, graph);\n}\n","// **N3Parser** parses N3 documents.\nimport N3Lexer from './N3Lexer';\nimport N3DataFactory from './N3DataFactory';\nimport namespaces from './IRIs';\n\nlet blankNodePrefix = 0;\n\n// ## Constructor\nexport default class N3Parser {\n  constructor(options) {\n    this._contextStack = [];\n    this._graph = null;\n\n    // Set the document IRI\n    options = options || {};\n    this._setBase(options.baseIRI);\n    options.factory && initDataFactory(this, options.factory);\n\n    // Set supported features depending on the format\n    const format = (typeof options.format === 'string') ?\n                 options.format.match(/\\w*$/)[0].toLowerCase() : '',\n        isTurtle = /turtle/.test(format), isTriG = /trig/.test(format),\n        isNTriples = /triple/.test(format), isNQuads = /quad/.test(format),\n        isN3 = this._n3Mode = /n3/.test(format),\n        isLineMode = isNTriples || isNQuads;\n    if (!(this._supportsNamedGraphs = !(isTurtle || isN3)))\n      this._readPredicateOrNamedGraph = this._readPredicate;\n    // Support triples in other graphs\n    this._supportsQuads = !(isTurtle || isTriG || isNTriples || isN3);\n    // Support nesting of triples\n    this._supportsRDFStar = format === '' || /star|\\*$/.test(format);\n    // Disable relative IRIs in N-Triples or N-Quads mode\n    if (isLineMode)\n      this._resolveRelativeIRI = iri => { return null; };\n    this._blankNodePrefix = typeof options.blankNodePrefix !== 'string' ? '' :\n                              options.blankNodePrefix.replace(/^(?!_:)/, '_:');\n    this._lexer = options.lexer || new N3Lexer({ lineMode: isLineMode, n3: isN3 });\n    // Disable explicit quantifiers by default\n    this._explicitQuantifiers = !!options.explicitQuantifiers;\n  }\n\n  // ## Static class methods\n\n  // ### `_resetBlankNodePrefix` restarts blank node prefix identification\n  static _resetBlankNodePrefix() {\n    blankNodePrefix = 0;\n  }\n\n  // ## Private methods\n\n  // ### `_setBase` sets the base IRI to resolve relative IRIs\n  _setBase(baseIRI) {\n    if (!baseIRI) {\n      this._base = '';\n      this._basePath = '';\n    }\n    else {\n      // Remove fragment if present\n      const fragmentPos = baseIRI.indexOf('#');\n      if (fragmentPos >= 0)\n        baseIRI = baseIRI.substr(0, fragmentPos);\n      // Set base IRI and its components\n      this._base = baseIRI;\n      this._basePath   = baseIRI.indexOf('/') < 0 ? baseIRI :\n                         baseIRI.replace(/[^\\/?]*(?:\\?.*)?$/, '');\n      baseIRI = baseIRI.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\\/\\/[^\\/]*)?/i);\n      this._baseRoot   = baseIRI[0];\n      this._baseScheme = baseIRI[1];\n    }\n  }\n\n  // ### `_saveContext` stores the current parsing context\n  // when entering a new scope (list, blank node, formula)\n  _saveContext(type, graph, subject, predicate, object) {\n    const n3Mode = this._n3Mode;\n    this._contextStack.push({\n      type,\n      subject, predicate, object, graph,\n      inverse: n3Mode ? this._inversePredicate : false,\n      blankPrefix: n3Mode ? this._prefixes._ : '',\n      quantified: n3Mode ? this._quantified : null,\n    });\n    // The settings below only apply to N3 streams\n    if (n3Mode) {\n      // Every new scope resets the predicate direction\n      this._inversePredicate = false;\n      // In N3, blank nodes are scoped to a formula\n      // (using a dot as separator, as a blank node label cannot start with it)\n      this._prefixes._ = (this._graph ? `${this._graph.id.substr(2)}.` : '.');\n      // Quantifiers are scoped to a formula\n      this._quantified = Object.create(this._quantified);\n    }\n  }\n\n  // ### `_restoreContext` restores the parent context\n  // when leaving a scope (list, blank node, formula)\n  _restoreContext(type, token) {\n    // Obtain the previous context\n    const context = this._contextStack.pop();\n    if (!context || context.type !== type)\n      return this._error(`Unexpected ${token.type}`, token);\n\n    // Restore the quad of the previous context\n    this._subject   = context.subject;\n    this._predicate = context.predicate;\n    this._object    = context.object;\n    this._graph     = context.graph;\n\n    // Restore N3 context settings\n    if (this._n3Mode) {\n      this._inversePredicate = context.inverse;\n      this._prefixes._ = context.blankPrefix;\n      this._quantified = context.quantified;\n    }\n  }\n\n  // ### `_readInTopContext` reads a token when in the top context\n  _readInTopContext(token) {\n    switch (token.type) {\n    // If an EOF token arrives in the top context, signal that we're done\n    case 'eof':\n      if (this._graph !== null)\n        return this._error('Unclosed graph', token);\n      delete this._prefixes._;\n      return this._callback(null, null, this._prefixes);\n    // It could be a prefix declaration\n    case 'PREFIX':\n      this._sparqlStyle = true;\n    case '@prefix':\n      return this._readPrefix;\n    // It could be a base declaration\n    case 'BASE':\n      this._sparqlStyle = true;\n    case '@base':\n      return this._readBaseIRI;\n    // It could be a graph\n    case '{':\n      if (this._supportsNamedGraphs) {\n        this._graph = '';\n        this._subject = null;\n        return this._readSubject;\n      }\n    case 'GRAPH':\n      if (this._supportsNamedGraphs)\n        return this._readNamedGraphLabel;\n    // Otherwise, the next token must be a subject\n    default:\n      return this._readSubject(token);\n    }\n  }\n\n  // ### `_readEntity` reads an IRI, prefixed name, blank node, or variable\n  _readEntity(token, quantifier) {\n    let value;\n    switch (token.type) {\n    // Read a relative or absolute IRI\n    case 'IRI':\n    case 'typeIRI':\n      const iri = this._resolveIRI(token.value);\n      if (iri === null)\n        return this._error('Invalid IRI', token);\n      value = this._namedNode(iri);\n      break;\n    // Read a prefixed name\n    case 'type':\n    case 'prefixed':\n      const prefix = this._prefixes[token.prefix];\n      if (prefix === undefined)\n        return this._error(`Undefined prefix \"${token.prefix}:\"`, token);\n      value = this._namedNode(prefix + token.value);\n      break;\n    // Read a blank node\n    case 'blank':\n      value = this._blankNode(this._prefixes[token.prefix] + token.value);\n      break;\n    // Read a variable\n    case 'var':\n      value = this._variable(token.value.substr(1));\n      break;\n    // Everything else is not an entity\n    default:\n      return this._error(`Expected entity but got ${token.type}`, token);\n    }\n    // In N3 mode, replace the entity if it is quantified\n    if (!quantifier && this._n3Mode && (value.id in this._quantified))\n      value = this._quantified[value.id];\n    return value;\n  }\n\n  // ### `_readSubject` reads a quad's subject\n  _readSubject(token) {\n    this._predicate = null;\n    switch (token.type) {\n    case '[':\n      // Start a new quad with a new blank node as subject\n      this._saveContext('blank', this._graph,\n                        this._subject = this._blankNode(), null, null);\n      return this._readBlankNodeHead;\n    case '(':\n      // Start a new list\n      this._saveContext('list', this._graph, this.RDF_NIL, null, null);\n      this._subject = null;\n      return this._readListItem;\n    case '{':\n      // Start a new formula\n      if (!this._n3Mode)\n        return this._error('Unexpected graph', token);\n      this._saveContext('formula', this._graph,\n                        this._graph = this._blankNode(), null, null);\n      return this._readSubject;\n    case '}':\n       // No subject; the graph in which we are reading is closed instead\n      return this._readPunctuation(token);\n    case '@forSome':\n      if (!this._n3Mode)\n        return this._error('Unexpected \"@forSome\"', token);\n      this._subject = null;\n      this._predicate = this.N3_FORSOME;\n      this._quantifier = this._blankNode;\n      return this._readQuantifierList;\n    case '@forAll':\n      if (!this._n3Mode)\n        return this._error('Unexpected \"@forAll\"', token);\n      this._subject = null;\n      this._predicate = this.N3_FORALL;\n      this._quantifier = this._variable;\n      return this._readQuantifierList;\n    case 'literal':\n      if (!this._n3Mode)\n        return this._error('Unexpected literal', token);\n\n      if (token.prefix.length === 0) {\n        this._literalValue = token.value;\n        return this._completeSubjectLiteral;\n      }\n      else\n        this._subject = this._literal(token.value, this._namedNode(token.prefix));\n\n      break;\n    case '<<':\n      if (!this._supportsRDFStar)\n        return this._error('Unexpected RDF* syntax', token);\n      this._saveContext('<<', this._graph, null, null, null);\n      this._graph = null;\n      return this._readSubject;\n    default:\n      // Read the subject entity\n      if ((this._subject = this._readEntity(token)) === undefined)\n        return;\n      // In N3 mode, the subject might be a path\n      if (this._n3Mode)\n        return this._getPathReader(this._readPredicateOrNamedGraph);\n    }\n\n    // The next token must be a predicate,\n    // or, if the subject was actually a graph IRI, a named graph\n    return this._readPredicateOrNamedGraph;\n  }\n\n  // ### `_readPredicate` reads a quad's predicate\n  _readPredicate(token) {\n    const type = token.type;\n    switch (type) {\n    case 'inverse':\n      this._inversePredicate = true;\n    case 'abbreviation':\n      this._predicate = this.ABBREVIATIONS[token.value];\n      break;\n    case '.':\n    case ']':\n    case '}':\n      // Expected predicate didn't come, must have been trailing semicolon\n      if (this._predicate === null)\n        return this._error(`Unexpected ${type}`, token);\n      this._subject = null;\n      return type === ']' ? this._readBlankNodeTail(token) : this._readPunctuation(token);\n    case ';':\n      // Additional semicolons can be safely ignored\n      return this._predicate !== null ? this._readPredicate :\n             this._error('Expected predicate but got ;', token);\n    case '[':\n      if (this._n3Mode) {\n        // Start a new quad with a new blank node as subject\n        this._saveContext('blank', this._graph, this._subject,\n                          this._subject = this._blankNode(), null);\n        return this._readBlankNodeHead;\n      }\n    case 'blank':\n      if (!this._n3Mode)\n        return this._error('Disallowed blank node as predicate', token);\n    default:\n      if ((this._predicate = this._readEntity(token)) === undefined)\n        return;\n    }\n    // The next token must be an object\n    return this._readObject;\n  }\n\n  // ### `_readObject` reads a quad's object\n  _readObject(token) {\n    switch (token.type) {\n    case 'literal':\n      // Regular literal, can still get a datatype or language\n      if (token.prefix.length === 0) {\n        this._literalValue = token.value;\n        return this._readDataTypeOrLang;\n      }\n      // Pre-datatyped string literal (prefix stores the datatype)\n      else\n        this._object = this._literal(token.value, this._namedNode(token.prefix));\n      break;\n    case '[':\n      // Start a new quad with a new blank node as subject\n      this._saveContext('blank', this._graph, this._subject, this._predicate,\n                        this._subject = this._blankNode());\n      return this._readBlankNodeHead;\n    case '(':\n      // Start a new list\n      this._saveContext('list', this._graph, this._subject, this._predicate, this.RDF_NIL);\n      this._subject = null;\n      return this._readListItem;\n    case '{':\n      // Start a new formula\n      if (!this._n3Mode)\n        return this._error('Unexpected graph', token);\n      this._saveContext('formula', this._graph, this._subject, this._predicate,\n                        this._graph = this._blankNode());\n      return this._readSubject;\n    case '<<':\n      if (!this._supportsRDFStar)\n        return this._error('Unexpected RDF* syntax', token);\n      this._saveContext('<<', this._graph, this._subject, this._predicate, null);\n      this._graph = null;\n      return this._readSubject;\n    default:\n      // Read the object entity\n      if ((this._object = this._readEntity(token)) === undefined)\n        return;\n      // In N3 mode, the object might be a path\n      if (this._n3Mode)\n        return this._getPathReader(this._getContextEndReader());\n    }\n    return this._getContextEndReader();\n  }\n\n  // ### `_readPredicateOrNamedGraph` reads a quad's predicate, or a named graph\n  _readPredicateOrNamedGraph(token) {\n    return token.type === '{' ? this._readGraph(token) : this._readPredicate(token);\n  }\n\n  // ### `_readGraph` reads a graph\n  _readGraph(token) {\n    if (token.type !== '{')\n      return this._error(`Expected graph but got ${token.type}`, token);\n    // The \"subject\" we read is actually the GRAPH's label\n    this._graph = this._subject, this._subject = null;\n    return this._readSubject;\n  }\n\n  // ### `_readBlankNodeHead` reads the head of a blank node\n  _readBlankNodeHead(token) {\n    if (token.type === ']') {\n      this._subject = null;\n      return this._readBlankNodeTail(token);\n    }\n    else {\n      this._predicate = null;\n      return this._readPredicate(token);\n    }\n  }\n\n  // ### `_readBlankNodeTail` reads the end of a blank node\n  _readBlankNodeTail(token) {\n    if (token.type !== ']')\n      return this._readBlankNodePunctuation(token);\n\n    // Store blank node quad\n    if (this._subject !== null)\n      this._emit(this._subject, this._predicate, this._object, this._graph);\n\n    // Restore the parent context containing this blank node\n    const empty = this._predicate === null;\n    this._restoreContext('blank', token);\n    // If the blank node was the object, restore previous context and read punctuation\n    if (this._object !== null)\n      return this._getContextEndReader();\n    // If the blank node was the predicate, continue reading the object\n    else if (this._predicate !== null)\n      return this._readObject;\n    // If the blank node was the subject, continue reading the predicate\n    else\n      // If the blank node was empty, it could be a named graph label\n      return empty ? this._readPredicateOrNamedGraph : this._readPredicateAfterBlank;\n  }\n\n  // ### `_readPredicateAfterBlank` reads a predicate after an anonymous blank node\n  _readPredicateAfterBlank(token) {\n    switch (token.type) {\n    case '.':\n    case '}':\n      // No predicate is coming if the triple is terminated here\n      this._subject = null;\n      return this._readPunctuation(token);\n    default:\n      return this._readPredicate(token);\n    }\n  }\n\n  // ### `_readListItem` reads items from a list\n  _readListItem(token) {\n    let item = null,                      // The item of the list\n        list = null,                      // The list itself\n        next = this._readListItem;        // The next function to execute\n    const previousList = this._subject,   // The previous list that contains this list\n        stack = this._contextStack,       // The stack of parent contexts\n        parent = stack[stack.length - 1]; // The parent containing the current list\n\n    switch (token.type) {\n    case '[':\n      // Stack the current list quad and start a new quad with a blank node as subject\n      this._saveContext('blank', this._graph,\n                        list = this._blankNode(), this.RDF_FIRST,\n                        this._subject = item = this._blankNode());\n      next = this._readBlankNodeHead;\n      break;\n    case '(':\n      // Stack the current list quad and start a new list\n      this._saveContext('list', this._graph,\n                        list = this._blankNode(), this.RDF_FIRST, this.RDF_NIL);\n      this._subject = null;\n      break;\n    case ')':\n      // Closing the list; restore the parent context\n      this._restoreContext('list', token);\n      // If this list is contained within a parent list, return the membership quad here.\n      // This will be `<parent list element> rdf:first <this list>.`.\n      if (stack.length !== 0 && stack[stack.length - 1].type === 'list')\n        this._emit(this._subject, this._predicate, this._object, this._graph);\n      // Was this list the parent's subject?\n      if (this._predicate === null) {\n        // The next token is the predicate\n        next = this._readPredicate;\n        // No list tail if this was an empty list\n        if (this._subject === this.RDF_NIL)\n          return next;\n      }\n      // The list was in the parent context's object\n      else {\n        next = this._getContextEndReader();\n        // No list tail if this was an empty list\n        if (this._object === this.RDF_NIL)\n          return next;\n      }\n      // Close the list by making the head nil\n      list = this.RDF_NIL;\n      break;\n    case 'literal':\n      // Regular literal, can still get a datatype or language\n      if (token.prefix.length === 0) {\n        this._literalValue = token.value;\n        next = this._readListItemDataTypeOrLang;\n      }\n      // Pre-datatyped string literal (prefix stores the datatype)\n      else {\n        item = this._literal(token.value, this._namedNode(token.prefix));\n        next = this._getContextEndReader();\n      }\n      break;\n    case '{':\n      // Start a new formula\n      if (!this._n3Mode)\n        return this._error('Unexpected graph', token);\n      this._saveContext('formula', this._graph, this._subject, this._predicate,\n                        this._graph = this._blankNode());\n      return this._readSubject;\n    default:\n      if ((item = this._readEntity(token)) === undefined)\n        return;\n    }\n\n     // Create a new blank node if no item head was assigned yet\n    if (list === null)\n      this._subject = list = this._blankNode();\n\n    // Is this the first element of the list?\n    if (previousList === null) {\n      // This list is either the subject or the object of its parent\n      if (parent.predicate === null)\n        parent.subject = list;\n      else\n        parent.object = list;\n    }\n    else {\n      // Continue the previous list with the current list\n      this._emit(previousList, this.RDF_REST, list, this._graph);\n    }\n    // If an item was read, add it to the list\n    if (item !== null) {\n      // In N3 mode, the item might be a path\n      if (this._n3Mode && (token.type === 'IRI' || token.type === 'prefixed')) {\n        // Create a new context to add the item's path\n        this._saveContext('item', this._graph, list, this.RDF_FIRST, item);\n        this._subject = item, this._predicate = null;\n        // _readPath will restore the context and output the item\n        return this._getPathReader(this._readListItem);\n      }\n      // Output the item\n      this._emit(list, this.RDF_FIRST, item, this._graph);\n    }\n    return next;\n  }\n\n  // ### `_readDataTypeOrLang` reads an _optional_ datatype or language\n  _readDataTypeOrLang(token) {\n    return this._completeObjectLiteral(token, false);\n  }\n\n\n  // ### `_readListItemDataTypeOrLang` reads an _optional_ datatype or language in a list\n  _readListItemDataTypeOrLang(token) {\n    return this._completeObjectLiteral(token, true);\n  }\n\n  // ### `_completeLiteral` completes a literal with an optional datatype or language\n  _completeLiteral(token) {\n    // Create a simple string literal by default\n    let literal = this._literal(this._literalValue);\n\n    switch (token.type) {\n    // Create a datatyped literal\n    case 'type':\n    case 'typeIRI':\n      const datatype = this._readEntity(token);\n      if (datatype === undefined) return; // No datatype means an error occurred\n      literal = this._literal(this._literalValue, datatype);\n      token = null;\n      break;\n    // Create a language-tagged string\n    case 'langcode':\n      literal = this._literal(this._literalValue, token.value);\n      token = null;\n      break;\n    }\n\n    return { token, literal };\n  }\n\n  // Completes a literal in subject position\n  _completeSubjectLiteral(token) {\n    this._subject = this._completeLiteral(token).literal;\n    return this._readPredicateOrNamedGraph;\n  }\n\n  // Completes a literal in object position\n  _completeObjectLiteral(token, listItem) {\n    const completed = this._completeLiteral(token);\n    if (!completed)\n      return;\n    this._object = completed.literal;\n\n    // If this literal was part of a list, write the item\n    // (we could also check the context stack, but passing in a flag is faster)\n    if (listItem)\n      this._emit(this._subject, this.RDF_FIRST, this._object, this._graph);\n    // If the token was consumed, continue with the rest of the input\n    if (completed.token === null)\n      return this._getContextEndReader();\n    // Otherwise, consume the token now\n    else {\n      this._readCallback = this._getContextEndReader();\n      return this._readCallback(completed.token);\n    }\n  }\n\n  // ### `_readFormulaTail` reads the end of a formula\n  _readFormulaTail(token) {\n    if (token.type !== '}')\n      return this._readPunctuation(token);\n\n    // Store the last quad of the formula\n    if (this._subject !== null)\n      this._emit(this._subject, this._predicate, this._object, this._graph);\n\n    // Restore the parent context containing this formula\n    this._restoreContext('formula', token);\n    // If the formula was the subject, continue reading the predicate.\n    // If the formula was the object, read punctuation.\n    return this._object === null ? this._readPredicate : this._getContextEndReader();\n  }\n\n  // ### `_readPunctuation` reads punctuation between quads or quad parts\n  _readPunctuation(token) {\n    let next, graph = this._graph;\n    const subject = this._subject, inversePredicate = this._inversePredicate;\n    switch (token.type) {\n    // A closing brace ends a graph\n    case '}':\n      if (this._graph === null)\n        return this._error('Unexpected graph closing', token);\n      if (this._n3Mode)\n        return this._readFormulaTail(token);\n      this._graph = null;\n    // A dot just ends the statement, without sharing anything with the next\n    case '.':\n      this._subject = null;\n      next = this._contextStack.length ? this._readSubject : this._readInTopContext;\n      if (inversePredicate) this._inversePredicate = false;\n      break;\n    // Semicolon means the subject is shared; predicate and object are different\n    case ';':\n      next = this._readPredicate;\n      break;\n    // Comma means both the subject and predicate are shared; the object is different\n    case ',':\n      next = this._readObject;\n      break;\n    default:\n      // An entity means this is a quad (only allowed if not already inside a graph)\n      if (this._supportsQuads && this._graph === null && (graph = this._readEntity(token)) !== undefined) {\n        next = this._readQuadPunctuation;\n        break;\n      }\n      return this._error(`Expected punctuation to follow \"${this._object.id}\"`, token);\n    }\n    // A quad has been completed now, so return it\n    if (subject !== null) {\n      const predicate = this._predicate, object = this._object;\n      if (!inversePredicate)\n        this._emit(subject, predicate, object,  graph);\n      else\n        this._emit(object,  predicate, subject, graph);\n    }\n    return next;\n  }\n\n    // ### `_readBlankNodePunctuation` reads punctuation in a blank node\n  _readBlankNodePunctuation(token) {\n    let next;\n    switch (token.type) {\n    // Semicolon means the subject is shared; predicate and object are different\n    case ';':\n      next = this._readPredicate;\n      break;\n    // Comma means both the subject and predicate are shared; the object is different\n    case ',':\n      next = this._readObject;\n      break;\n    default:\n      return this._error(`Expected punctuation to follow \"${this._object.id}\"`, token);\n    }\n    // A quad has been completed now, so return it\n    this._emit(this._subject, this._predicate, this._object, this._graph);\n    return next;\n  }\n\n  // ### `_readQuadPunctuation` reads punctuation after a quad\n  _readQuadPunctuation(token) {\n    if (token.type !== '.')\n      return this._error('Expected dot to follow quad', token);\n    return this._readInTopContext;\n  }\n\n  // ### `_readPrefix` reads the prefix of a prefix declaration\n  _readPrefix(token) {\n    if (token.type !== 'prefix')\n      return this._error('Expected prefix to follow @prefix', token);\n    this._prefix = token.value;\n    return this._readPrefixIRI;\n  }\n\n  // ### `_readPrefixIRI` reads the IRI of a prefix declaration\n  _readPrefixIRI(token) {\n    if (token.type !== 'IRI')\n      return this._error(`Expected IRI to follow prefix \"${this._prefix}:\"`, token);\n    const prefixNode = this._readEntity(token);\n    this._prefixes[this._prefix] = prefixNode.value;\n    this._prefixCallback(this._prefix, prefixNode);\n    return this._readDeclarationPunctuation;\n  }\n\n  // ### `_readBaseIRI` reads the IRI of a base declaration\n  _readBaseIRI(token) {\n    const iri = token.type === 'IRI' && this._resolveIRI(token.value);\n    if (!iri)\n      return this._error('Expected valid IRI to follow base declaration', token);\n    this._setBase(iri);\n    return this._readDeclarationPunctuation;\n  }\n\n  // ### `_readNamedGraphLabel` reads the label of a named graph\n  _readNamedGraphLabel(token) {\n    switch (token.type) {\n    case 'IRI':\n    case 'blank':\n    case 'prefixed':\n      return this._readSubject(token), this._readGraph;\n    case '[':\n      return this._readNamedGraphBlankLabel;\n    default:\n      return this._error('Invalid graph label', token);\n    }\n  }\n\n  // ### `_readNamedGraphLabel` reads a blank node label of a named graph\n  _readNamedGraphBlankLabel(token) {\n    if (token.type !== ']')\n      return this._error('Invalid graph label', token);\n    this._subject = this._blankNode();\n    return this._readGraph;\n  }\n\n  // ### `_readDeclarationPunctuation` reads the punctuation of a declaration\n  _readDeclarationPunctuation(token) {\n    // SPARQL-style declarations don't have punctuation\n    if (this._sparqlStyle) {\n      this._sparqlStyle = false;\n      return this._readInTopContext(token);\n    }\n\n    if (token.type !== '.')\n      return this._error('Expected declaration to end with a dot', token);\n    return this._readInTopContext;\n  }\n\n  // Reads a list of quantified symbols from a @forSome or @forAll statement\n  _readQuantifierList(token) {\n    let entity;\n    switch (token.type) {\n    case 'IRI':\n    case 'prefixed':\n      if ((entity = this._readEntity(token, true)) !== undefined)\n        break;\n    default:\n      return this._error(`Unexpected ${token.type}`, token);\n    }\n    // Without explicit quantifiers, map entities to a quantified entity\n    if (!this._explicitQuantifiers)\n      this._quantified[entity.id] = this._quantifier(this._blankNode().value);\n    // With explicit quantifiers, output the reified quantifier\n    else {\n      // If this is the first item, start a new quantifier list\n      if (this._subject === null)\n        this._emit(this._graph || this.DEFAULTGRAPH, this._predicate,\n                   this._subject = this._blankNode(), this.QUANTIFIERS_GRAPH);\n      // Otherwise, continue the previous list\n      else\n        this._emit(this._subject, this.RDF_REST,\n                   this._subject = this._blankNode(), this.QUANTIFIERS_GRAPH);\n      // Output the list item\n      this._emit(this._subject, this.RDF_FIRST, entity, this.QUANTIFIERS_GRAPH);\n    }\n    return this._readQuantifierPunctuation;\n  }\n\n  // Reads punctuation from a @forSome or @forAll statement\n  _readQuantifierPunctuation(token) {\n    // Read more quantifiers\n    if (token.type === ',')\n      return this._readQuantifierList;\n    // End of the quantifier list\n    else {\n      // With explicit quantifiers, close the quantifier list\n      if (this._explicitQuantifiers) {\n        this._emit(this._subject, this.RDF_REST, this.RDF_NIL, this.QUANTIFIERS_GRAPH);\n        this._subject = null;\n      }\n      // Read a dot\n      this._readCallback = this._getContextEndReader();\n      return this._readCallback(token);\n    }\n  }\n\n  // ### `_getPathReader` reads a potential path and then resumes with the given function\n  _getPathReader(afterPath) {\n    this._afterPath = afterPath;\n    return this._readPath;\n  }\n\n  // ### `_readPath` reads a potential path\n  _readPath(token) {\n    switch (token.type) {\n    // Forward path\n    case '!': return this._readForwardPath;\n    // Backward path\n    case '^': return this._readBackwardPath;\n    // Not a path; resume reading where we left off\n    default:\n      const stack = this._contextStack, parent = stack.length && stack[stack.length - 1];\n      // If we were reading a list item, we still need to output it\n      if (parent && parent.type === 'item') {\n        // The list item is the remaining subejct after reading the path\n        const item = this._subject;\n        // Switch back to the context of the list\n        this._restoreContext('item', token);\n        // Output the list item\n        this._emit(this._subject, this.RDF_FIRST, item, this._graph);\n      }\n      return this._afterPath(token);\n    }\n  }\n\n  // ### `_readForwardPath` reads a '!' path\n  _readForwardPath(token) {\n    let subject, predicate;\n    const object = this._blankNode();\n    // The next token is the predicate\n    if ((predicate = this._readEntity(token)) === undefined)\n      return;\n    // If we were reading a subject, replace the subject by the path's object\n    if (this._predicate === null)\n      subject = this._subject, this._subject = object;\n    // If we were reading an object, replace the subject by the path's object\n    else\n      subject = this._object,  this._object  = object;\n    // Emit the path's current quad and read its next section\n    this._emit(subject, predicate, object, this._graph);\n    return this._readPath;\n  }\n\n  // ### `_readBackwardPath` reads a '^' path\n  _readBackwardPath(token) {\n    const subject = this._blankNode();\n    let predicate, object;\n    // The next token is the predicate\n    if ((predicate = this._readEntity(token)) === undefined)\n      return;\n    // If we were reading a subject, replace the subject by the path's subject\n    if (this._predicate === null)\n      object = this._subject, this._subject = subject;\n    // If we were reading an object, replace the subject by the path's subject\n    else\n      object = this._object,  this._object  = subject;\n    // Emit the path's current quad and read its next section\n    this._emit(subject, predicate, object, this._graph);\n    return this._readPath;\n  }\n\n  // ### `_readRDFStarTailOrGraph` reads the graph of a nested RDF* quad or the end of a nested RDF* triple\n  _readRDFStarTailOrGraph(token) {\n    if (token.type !== '>>') {\n      // An entity means this is a quad (only allowed if not already inside a graph)\n      if (this._supportsQuads && this._graph === null && (this._graph = this._readEntity(token)) !== undefined)\n        return this._readRDFStarTail;\n      return this._error(`Expected >> to follow \"${this._object.id}\"`, token);\n    }\n    return this._readRDFStarTail(token);\n  }\n\n  // ### `_readRDFStarTail` reads the end of a nested RDF* triple\n  _readRDFStarTail(token) {\n    if (token.type !== '>>')\n      return this._error(`Expected >> but got ${token.type}`, token);\n    // Read the quad and restore the previous context\n    const quad = this._quad(this._subject, this._predicate, this._object,\n      this._graph || this.DEFAULTGRAPH);\n    this._restoreContext('<<', token);\n    // If the triple was the subject, continue by reading the predicate.\n    if (this._subject === null) {\n      this._subject = quad;\n      return this._readPredicate;\n    }\n    // If the triple was the object, read context end.\n    else {\n      this._object = quad;\n      return this._getContextEndReader();\n    }\n  }\n\n  // ### `_getContextEndReader` gets the next reader function at the end of a context\n  _getContextEndReader() {\n    const contextStack = this._contextStack;\n    if (!contextStack.length)\n      return this._readPunctuation;\n\n    switch (contextStack[contextStack.length - 1].type) {\n    case 'blank':\n      return this._readBlankNodeTail;\n    case 'list':\n      return this._readListItem;\n    case 'formula':\n      return this._readFormulaTail;\n    case '<<':\n      return this._readRDFStarTailOrGraph;\n    }\n  }\n\n  // ### `_emit` sends a quad through the callback\n  _emit(subject, predicate, object, graph) {\n    this._callback(null, this._quad(subject, predicate, object, graph || this.DEFAULTGRAPH));\n  }\n\n  // ### `_error` emits an error message through the callback\n  _error(message, token) {\n    const err = new Error(`${message} on line ${token.line}.`);\n    err.context = {\n      token: token,\n      line: token.line,\n      previousToken: this._lexer.previousToken,\n    };\n    this._callback(err);\n    this._callback = noop;\n  }\n\n  // ### `_resolveIRI` resolves an IRI against the base path\n  _resolveIRI(iri) {\n    return /^[a-z][a-z0-9+.-]*:/i.test(iri) ? iri : this._resolveRelativeIRI(iri);\n  }\n\n  // ### `_resolveRelativeIRI` resolves an IRI against the base path,\n  // assuming that a base path has been set and that the IRI is indeed relative\n  _resolveRelativeIRI(iri) {\n    // An empty relative IRI indicates the base IRI\n    if (!iri.length)\n      return this._base;\n    // Decide resolving strategy based in the first character\n    switch (iri[0]) {\n    // Resolve relative fragment IRIs against the base IRI\n    case '#': return this._base + iri;\n    // Resolve relative query string IRIs by replacing the query string\n    case '?': return this._base.replace(/(?:\\?.*)?$/, iri);\n    // Resolve root-relative IRIs at the root of the base IRI\n    case '/':\n      // Resolve scheme-relative IRIs to the scheme\n      return (iri[1] === '/' ? this._baseScheme : this._baseRoot) + this._removeDotSegments(iri);\n    // Resolve all other IRIs at the base IRI's path\n    default:\n      // Relative IRIs cannot contain a colon in the first path segment\n      return (/^[^/:]*:/.test(iri)) ? null : this._removeDotSegments(this._basePath + iri);\n    }\n  }\n\n  // ### `_removeDotSegments` resolves './' and '../' path segments in an IRI as per RFC3986\n  _removeDotSegments(iri) {\n    // Don't modify the IRI if it does not contain any dot segments\n    if (!/(^|\\/)\\.\\.?($|[/#?])/.test(iri))\n      return iri;\n\n    // Start with an imaginary slash before the IRI in order to resolve trailing './' and '../'\n    const length = iri.length;\n    let result = '', i = -1, pathStart = -1, segmentStart = 0, next = '/';\n\n    while (i < length) {\n      switch (next) {\n      // The path starts with the first slash after the authority\n      case ':':\n        if (pathStart < 0) {\n          // Skip two slashes before the authority\n          if (iri[++i] === '/' && iri[++i] === '/')\n            // Skip to slash after the authority\n            while ((pathStart = i + 1) < length && iri[pathStart] !== '/')\n              i = pathStart;\n        }\n        break;\n      // Don't modify a query string or fragment\n      case '?':\n      case '#':\n        i = length;\n        break;\n      // Handle '/.' or '/..' path segments\n      case '/':\n        if (iri[i + 1] === '.') {\n          next = iri[++i + 1];\n          switch (next) {\n          // Remove a '/.' segment\n          case '/':\n            result += iri.substring(segmentStart, i - 1);\n            segmentStart = i + 1;\n            break;\n          // Remove a trailing '/.' segment\n          case undefined:\n          case '?':\n          case '#':\n            return result + iri.substring(segmentStart, i) + iri.substr(i + 1);\n          // Remove a '/..' segment\n          case '.':\n            next = iri[++i + 1];\n            if (next === undefined || next === '/' || next === '?' || next === '#') {\n              result += iri.substring(segmentStart, i - 2);\n              // Try to remove the parent path from result\n              if ((segmentStart = result.lastIndexOf('/')) >= pathStart)\n                result = result.substr(0, segmentStart);\n              // Remove a trailing '/..' segment\n              if (next !== '/')\n                return `${result}/${iri.substr(i + 1)}`;\n              segmentStart = i + 1;\n            }\n          }\n        }\n      }\n      next = iri[++i];\n    }\n    return result + iri.substring(segmentStart);\n  }\n\n  // ## Public methods\n\n  // ### `parse` parses the N3 input and emits each parsed quad through the callback\n  parse(input, quadCallback, prefixCallback) {\n    // The read callback is the next function to be executed when a token arrives.\n    // We start reading in the top context.\n    this._readCallback = this._readInTopContext;\n    this._sparqlStyle = false;\n    this._prefixes = Object.create(null);\n    this._prefixes._ = this._blankNodePrefix ? this._blankNodePrefix.substr(2)\n                                             : `b${blankNodePrefix++}_`;\n    this._prefixCallback = prefixCallback || noop;\n    this._inversePredicate = false;\n    this._quantified = Object.create(null);\n\n    // Parse synchronously if no quad callback is given\n    if (!quadCallback) {\n      const quads = [];\n      let error;\n      this._callback = (e, t) => { e ? (error = e) : t && quads.push(t); };\n      this._lexer.tokenize(input).every(token => {\n        return this._readCallback = this._readCallback(token);\n      });\n      if (error) throw error;\n      return quads;\n    }\n\n    // Parse asynchronously otherwise, executing the read callback when a token arrives\n    this._callback = quadCallback;\n    this._lexer.tokenize(input, (error, token) => {\n      if (error !== null)\n        this._callback(error), this._callback = noop;\n      else if (this._readCallback)\n        this._readCallback = this._readCallback(token);\n    });\n  }\n}\n\n// The empty function\nfunction noop() {}\n\n// Initializes the parser with the given data factory\nfunction initDataFactory(parser, factory) {\n  // Set factory methods\n  const namedNode = factory.namedNode;\n  parser._namedNode   = namedNode;\n  parser._blankNode   = factory.blankNode;\n  parser._literal     = factory.literal;\n  parser._variable    = factory.variable;\n  parser._quad        = factory.quad;\n  parser.DEFAULTGRAPH = factory.defaultGraph();\n\n  // Set common named nodes\n  parser.RDF_FIRST  = namedNode(namespaces.rdf.first);\n  parser.RDF_REST   = namedNode(namespaces.rdf.rest);\n  parser.RDF_NIL    = namedNode(namespaces.rdf.nil);\n  parser.N3_FORALL  = namedNode(namespaces.r.forAll);\n  parser.N3_FORSOME = namedNode(namespaces.r.forSome);\n  parser.ABBREVIATIONS = {\n    'a': namedNode(namespaces.rdf.type),\n    '=': namedNode(namespaces.owl.sameAs),\n    '>': namedNode(namespaces.log.implies),\n  };\n  parser.QUANTIFIERS_GRAPH = namedNode('urn:n3:quantifiers');\n}\ninitDataFactory(N3Parser.prototype, N3DataFactory);\n","// **N3Writer** writes N3 documents.\nimport namespaces from './IRIs';\nimport { default as N3DataFactory, Term } from './N3DataFactory';\nimport { isDefaultGraph } from './N3Util';\n\nconst DEFAULTGRAPH = N3DataFactory.defaultGraph();\n\nconst { rdf, xsd } = namespaces;\n\n// Characters in literals that require escaping\nconst escape    = /[\"\\\\\\t\\n\\r\\b\\f\\u0000-\\u0019\\ud800-\\udbff]/,\n    escapeAll = /[\"\\\\\\t\\n\\r\\b\\f\\u0000-\\u0019]|[\\ud800-\\udbff][\\udc00-\\udfff]/g,\n    escapedCharacters = {\n      '\\\\': '\\\\\\\\', '\"': '\\\\\"', '\\t': '\\\\t',\n      '\\n': '\\\\n', '\\r': '\\\\r', '\\b': '\\\\b', '\\f': '\\\\f',\n    };\n\n// ## Placeholder class to represent already pretty-printed terms\nclass SerializedTerm extends Term {\n  // Pretty-printed nodes are not equal to any other node\n  // (e.g., [] does not equal [])\n  equals() {\n    return false;\n  }\n}\n\n// ## Constructor\nexport default class N3Writer {\n  constructor(outputStream, options) {\n    // ### `_prefixRegex` matches a prefixed name or IRI that begins with one of the added prefixes\n    this._prefixRegex = /$0^/;\n\n    // Shift arguments if the first argument is not a stream\n    if (outputStream && typeof outputStream.write !== 'function')\n      options = outputStream, outputStream = null;\n    options = options || {};\n    this._lists = options.lists;\n\n    // If no output stream given, send the output as string through the end callback\n    if (!outputStream) {\n      let output = '';\n      this._outputStream = {\n        write(chunk, encoding, done) { output += chunk; done && done(); },\n        end: done => { done && done(null, output); },\n      };\n      this._endStream = true;\n    }\n    else {\n      this._outputStream = outputStream;\n      this._endStream = options.end === undefined ? true : !!options.end;\n    }\n\n    // Initialize writer, depending on the format\n    this._subject = null;\n    if (!(/triple|quad/i).test(options.format)) {\n      this._lineMode = false;\n      this._graph = DEFAULTGRAPH;\n      this._prefixIRIs = Object.create(null);\n      options.prefixes && this.addPrefixes(options.prefixes);\n      if (options.baseIRI) {\n        this._baseMatcher = new RegExp(`^${escapeRegex(options.baseIRI)\n            }${options.baseIRI.endsWith('/') ? '' : '[#?]'}`);\n        this._baseLength = options.baseIRI.length;\n      }\n    }\n    else {\n      this._lineMode = true;\n      this._writeQuad = this._writeQuadLine;\n    }\n  }\n\n  // ## Private methods\n\n  // ### Whether the current graph is the default graph\n  get _inDefaultGraph() {\n    return DEFAULTGRAPH.equals(this._graph);\n  }\n\n  // ### `_write` writes the argument to the output stream\n  _write(string, callback) {\n    this._outputStream.write(string, 'utf8', callback);\n  }\n\n  // ### `_writeQuad` writes the quad to the output stream\n  _writeQuad(subject, predicate, object, graph, done) {\n    try {\n      // Write the graph's label if it has changed\n      if (!graph.equals(this._graph)) {\n        // Close the previous graph and start the new one\n        this._write((this._subject === null ? '' : (this._inDefaultGraph ? '.\\n' : '\\n}\\n')) +\n                    (DEFAULTGRAPH.equals(graph) ? '' : `${this._encodeIriOrBlank(graph)} {\\n`));\n        this._graph = graph;\n        this._subject = null;\n      }\n      // Don't repeat the subject if it's the same\n      if (subject.equals(this._subject)) {\n        // Don't repeat the predicate if it's the same\n        if (predicate.equals(this._predicate))\n          this._write(`, ${this._encodeObject(object)}`, done);\n        // Same subject, different predicate\n        else\n          this._write(`;\\n    ${\n                      this._encodePredicate(this._predicate = predicate)} ${\n                      this._encodeObject(object)}`, done);\n      }\n      // Different subject; write the whole quad\n      else\n        this._write(`${(this._subject === null ? '' : '.\\n') +\n                    this._encodeSubject(this._subject = subject)} ${\n                    this._encodePredicate(this._predicate = predicate)} ${\n                    this._encodeObject(object)}`, done);\n    }\n    catch (error) { done && done(error); }\n  }\n\n  // ### `_writeQuadLine` writes the quad to the output stream as a single line\n  _writeQuadLine(subject, predicate, object, graph, done) {\n    // Write the quad without prefixes\n    delete this._prefixMatch;\n    this._write(this.quadToString(subject, predicate, object, graph), done);\n  }\n\n  // ### `quadToString` serializes a quad as a string\n  quadToString(subject, predicate, object, graph) {\n    return  `${this._encodeSubject(subject)} ${\n            this._encodeIriOrBlank(predicate)} ${\n            this._encodeObject(object)\n            }${graph && graph.value ? ` ${this._encodeIriOrBlank(graph)} .\\n` : ' .\\n'}`;\n  }\n\n  // ### `quadsToString` serializes an array of quads as a string\n  quadsToString(quads) {\n    return quads.map(t => {\n      return this.quadToString(t.subject, t.predicate, t.object, t.graph);\n    }).join('');\n  }\n\n  // ### `_encodeSubject` represents a subject\n  _encodeSubject(entity) {\n    return entity.termType === 'Quad' ?\n      this._encodeQuad(entity) : this._encodeIriOrBlank(entity);\n  }\n\n  // ### `_encodeIriOrBlank` represents an IRI or blank node\n  _encodeIriOrBlank(entity) {\n    // A blank node or list is represented as-is\n    if (entity.termType !== 'NamedNode') {\n      // If it is a list head, pretty-print it\n      if (this._lists && (entity.value in this._lists))\n        entity = this.list(this._lists[entity.value]);\n      return 'id' in entity ? entity.id : `_:${entity.value}`;\n    }\n    let iri = entity.value;\n    // Use relative IRIs if requested and possible\n    if (this._baseMatcher && this._baseMatcher.test(iri))\n      iri = iri.substr(this._baseLength);\n    // Escape special characters\n    if (escape.test(iri))\n      iri = iri.replace(escapeAll, characterReplacer);\n    // Try to represent the IRI as prefixed name\n    const prefixMatch = this._prefixRegex.exec(iri);\n    return !prefixMatch ? `<${iri}>` :\n           (!prefixMatch[1] ? iri : this._prefixIRIs[prefixMatch[1]] + prefixMatch[2]);\n  }\n\n  // ### `_encodeLiteral` represents a literal\n  _encodeLiteral(literal) {\n    // Escape special characters\n    let value = literal.value;\n    if (escape.test(value))\n      value = value.replace(escapeAll, characterReplacer);\n\n    // Write a language-tagged literal\n    if (literal.language)\n      return `\"${value}\"@${literal.language}`;\n\n    // Write dedicated literals per data type\n    if (this._lineMode) {\n      // Only abbreviate strings in N-Triples or N-Quads\n      if (literal.datatype.value === xsd.string)\n        return `\"${value}\"`;\n    }\n    else {\n      // Use common datatype abbreviations in Turtle or TriG\n      switch (literal.datatype.value) {\n      case xsd.string:\n        return `\"${value}\"`;\n      case xsd.boolean:\n        if (value === 'true' || value === 'false')\n          return value;\n        break;\n      case xsd.integer:\n        if (/^[+-]?\\d+$/.test(value))\n          return value;\n        break;\n      case xsd.decimal:\n        if (/^[+-]?\\d*\\.\\d+$/.test(value))\n          return value;\n        break;\n      case xsd.double:\n        if (/^[+-]?(?:\\d+\\.\\d*|\\.?\\d+)[eE][+-]?\\d+$/.test(value))\n          return value;\n        break;\n      }\n    }\n\n    // Write a regular datatyped literal\n    return `\"${value}\"^^${this._encodeIriOrBlank(literal.datatype)}`;\n  }\n\n  // ### `_encodePredicate` represents a predicate\n  _encodePredicate(predicate) {\n    return predicate.value === rdf.type ? 'a' : this._encodeIriOrBlank(predicate);\n  }\n\n  // ### `_encodeObject` represents an object\n  _encodeObject(object) {\n    switch (object.termType) {\n    case 'Quad':\n      return this._encodeQuad(object);\n    case 'Literal':\n      return this._encodeLiteral(object);\n    default:\n      return this._encodeIriOrBlank(object);\n    }\n  }\n\n  // ### `_encodeQuad` encodes an RDF* quad\n  _encodeQuad({ subject, predicate, object, graph }) {\n    return `<<${\n      this._encodeSubject(subject)} ${\n      this._encodePredicate(predicate)} ${\n      this._encodeObject(object)}${\n      isDefaultGraph(graph) ? '' : ` ${this._encodeIriOrBlank(graph)}`}>>`;\n  }\n\n  // ### `_blockedWrite` replaces `_write` after the writer has been closed\n  _blockedWrite() {\n    throw new Error('Cannot write because the writer has been closed.');\n  }\n\n  // ### `addQuad` adds the quad to the output stream\n  addQuad(subject, predicate, object, graph, done) {\n    // The quad was given as an object, so shift parameters\n    if (object === undefined)\n      this._writeQuad(subject.subject, subject.predicate, subject.object, subject.graph, predicate);\n    // The optional `graph` parameter was not provided\n    else if (typeof graph === 'function')\n      this._writeQuad(subject, predicate, object, DEFAULTGRAPH, graph);\n    // The `graph` parameter was provided\n    else\n      this._writeQuad(subject, predicate, object, graph || DEFAULTGRAPH, done);\n  }\n\n  // ### `addQuads` adds the quads to the output stream\n  addQuads(quads) {\n    for (let i = 0; i < quads.length; i++)\n      this.addQuad(quads[i]);\n  }\n\n  // ### `addPrefix` adds the prefix to the output stream\n  addPrefix(prefix, iri, done) {\n    const prefixes = {};\n    prefixes[prefix] = iri;\n    this.addPrefixes(prefixes, done);\n  }\n\n  // ### `addPrefixes` adds the prefixes to the output stream\n  addPrefixes(prefixes, done) {\n    // Ignore prefixes if not supported by the serialization\n    if (!this._prefixIRIs)\n      return done && done();\n\n    // Write all new prefixes\n    let hasPrefixes = false;\n    for (let prefix in prefixes) {\n      let iri = prefixes[prefix];\n      if (typeof iri !== 'string')\n        iri = iri.value;\n      hasPrefixes = true;\n      // Finish a possible pending quad\n      if (this._subject !== null) {\n        this._write(this._inDefaultGraph ? '.\\n' : '\\n}\\n');\n        this._subject = null, this._graph = '';\n      }\n      // Store and write the prefix\n      this._prefixIRIs[iri] = (prefix += ':');\n      this._write(`@prefix ${prefix} <${iri}>.\\n`);\n    }\n    // Recreate the prefix matcher\n    if (hasPrefixes) {\n      let IRIlist = '', prefixList = '';\n      for (const prefixIRI in this._prefixIRIs) {\n        IRIlist += IRIlist ? `|${prefixIRI}` : prefixIRI;\n        prefixList += (prefixList ? '|' : '') + this._prefixIRIs[prefixIRI];\n      }\n      IRIlist = escapeRegex(IRIlist, /[\\]\\/\\(\\)\\*\\+\\?\\.\\\\\\$]/g, '\\\\$&');\n      this._prefixRegex = new RegExp(`^(?:${prefixList})[^\\/]*$|` +\n                                     `^(${IRIlist})([a-zA-Z][\\\\-_a-zA-Z0-9]*)$`);\n    }\n    // End a prefix block with a newline\n    this._write(hasPrefixes ? '\\n' : '', done);\n  }\n\n  // ### `blank` creates a blank node with the given content\n  blank(predicate, object) {\n    let children = predicate, child, length;\n    // Empty blank node\n    if (predicate === undefined)\n      children = [];\n    // Blank node passed as blank(Term(\"predicate\"), Term(\"object\"))\n    else if (predicate.termType)\n      children = [{ predicate: predicate, object: object }];\n    // Blank node passed as blank({ predicate: predicate, object: object })\n    else if (!('length' in predicate))\n      children = [predicate];\n\n    switch (length = children.length) {\n    // Generate an empty blank node\n    case 0:\n      return new SerializedTerm('[]');\n    // Generate a non-nested one-triple blank node\n    case 1:\n      child = children[0];\n      if (!(child.object instanceof SerializedTerm))\n        return new SerializedTerm(`[ ${this._encodePredicate(child.predicate)} ${\n                                  this._encodeObject(child.object)} ]`);\n    // Generate a multi-triple or nested blank node\n    default:\n      let contents = '[';\n      // Write all triples in order\n      for (let i = 0; i < length; i++) {\n        child = children[i];\n        // Write only the object is the predicate is the same as the previous\n        if (child.predicate.equals(predicate))\n          contents += `, ${this._encodeObject(child.object)}`;\n        // Otherwise, write the predicate and the object\n        else {\n          contents += `${(i ? ';\\n  ' : '\\n  ') +\n                      this._encodePredicate(child.predicate)} ${\n                      this._encodeObject(child.object)}`;\n          predicate = child.predicate;\n        }\n      }\n      return new SerializedTerm(`${contents}\\n]`);\n    }\n  }\n\n  // ### `list` creates a list node with the given content\n  list(elements) {\n    const length = elements && elements.length || 0, contents = new Array(length);\n    for (let i = 0; i < length; i++)\n      contents[i] = this._encodeObject(elements[i]);\n    return new SerializedTerm(`(${contents.join(' ')})`);\n  }\n\n  // ### `end` signals the end of the output stream\n  end(done) {\n    // Finish a possible pending quad\n    if (this._subject !== null) {\n      this._write(this._inDefaultGraph ? '.\\n' : '\\n}\\n');\n      this._subject = null;\n    }\n    // Disallow further writing\n    this._write = this._blockedWrite;\n\n    // Try to end the underlying stream, ensuring done is called exactly one time\n    let singleDone = done && ((error, result) => { singleDone = null, done(error, result); });\n    if (this._endStream) {\n      try { return this._outputStream.end(singleDone); }\n      catch (error) { /* error closing stream */ }\n    }\n    singleDone && singleDone();\n  }\n}\n\n// Replaces a character by its escaped version\nfunction characterReplacer(character) {\n  // Replace a single character by its escaped version\n  let result = escapedCharacters[character];\n  if (result === undefined) {\n    // Replace a single character with its 4-bit unicode escape sequence\n    if (character.length === 1) {\n      result = character.charCodeAt(0).toString(16);\n      result = '\\\\u0000'.substr(0, 6 - result.length) + result;\n    }\n    // Replace a surrogate pair with its 8-bit unicode escape sequence\n    else {\n      result = ((character.charCodeAt(0) - 0xD800) * 0x400 +\n                 character.charCodeAt(1) + 0x2400).toString(16);\n      result = '\\\\U00000000'.substr(0, 10 - result.length) + result;\n    }\n  }\n  return result;\n}\n\nfunction escapeRegex(regex) {\n  return regex.replace(/[\\]\\/\\(\\)\\*\\+\\?\\.\\\\\\$]/g, '\\\\$&');\n}\n","// **N3Store** objects store N3 quads by graph in memory.\nimport { default as N3DataFactory, termToId, termFromId } from './N3DataFactory';\nimport { Readable } from 'readable-stream';\nimport namespaces from './IRIs';\n\n// ## Constructor\nexport default class N3Store {\n  constructor(quads, options) {\n    // The number of quads is initially zero\n    this._size = 0;\n    // `_graphs` contains subject, predicate, and object indexes per graph\n    this._graphs = Object.create(null);\n    // `_ids` maps entities such as `http://xmlns.com/foaf/0.1/name` to numbers,\n    // saving memory by using only numbers as keys in `_graphs`\n    this._id = 0;\n    this._ids = Object.create(null);\n    this._ids['><'] = 0; // dummy entry, so the first actual key is non-zero\n    this._entities = Object.create(null); // inverse of `_ids`\n    // `_blankNodeIndex` is the index of the last automatically named blank node\n    this._blankNodeIndex = 0;\n\n    // Shift parameters if `quads` is not given\n    if (!options && quads && !quads[0])\n      options = quads, quads = null;\n    options = options || {};\n    this._factory = options.factory || N3DataFactory;\n\n    // Add quads if passed\n    if (quads)\n      this.addQuads(quads);\n  }\n\n  // ## Public properties\n\n  // ### `size` returns the number of quads in the store\n  get size() {\n    // Return the quad count if if was cached\n    let size = this._size;\n    if (size !== null)\n      return size;\n\n    // Calculate the number of quads by counting to the deepest level\n    size = 0;\n    const graphs = this._graphs;\n    let subjects, subject;\n    for (const graphKey in graphs)\n      for (const subjectKey in (subjects = graphs[graphKey].subjects))\n        for (const predicateKey in (subject = subjects[subjectKey]))\n          size += Object.keys(subject[predicateKey]).length;\n    return this._size = size;\n  }\n\n  // ## Private methods\n\n  // ### `_addToIndex` adds a quad to a three-layered index.\n  // Returns if the index has changed, if the entry did not already exist.\n  _addToIndex(index0, key0, key1, key2) {\n    // Create layers as necessary\n    const index1 = index0[key0] || (index0[key0] = {});\n    const index2 = index1[key1] || (index1[key1] = {});\n    // Setting the key to _any_ value signals the presence of the quad\n    const existed = key2 in index2;\n    if (!existed)\n      index2[key2] = null;\n    return !existed;\n  }\n\n  // ### `_removeFromIndex` removes a quad from a three-layered index\n  _removeFromIndex(index0, key0, key1, key2) {\n    // Remove the quad from the index\n    const index1 = index0[key0], index2 = index1[key1];\n    delete index2[key2];\n\n    // Remove intermediary index layers if they are empty\n    for (const key in index2) return;\n    delete index1[key1];\n    for (const key in index1) return;\n    delete index0[key0];\n  }\n\n  // ### `_findInIndex` finds a set of quads in a three-layered index.\n  // The index base is `index0` and the keys at each level are `key0`, `key1`, and `key2`.\n  // Any of these keys can be undefined, which is interpreted as a wildcard.\n  // `name0`, `name1`, and `name2` are the names of the keys at each level,\n  // used when reconstructing the resulting quad\n  // (for instance: _subject_, _predicate_, and _object_).\n  // Finally, `graphId` will be the graph of the created quads.\n  *_findInIndex(index0, key0, key1, key2, name0, name1, name2, graphId) {\n    let tmp, index1, index2;\n    const entityKeys = this._entities;\n    const graph = termFromId(graphId, this._factory);\n    const parts = { subject: null, predicate: null, object: null };\n\n    // If a key is specified, use only that part of index 0.\n    if (key0) (tmp = index0, index0 = {})[key0] = tmp[key0];\n    for (const value0 in index0) {\n      if (index1 = index0[value0]) {\n        parts[name0] = termFromId(entityKeys[value0], this._factory);\n        // If a key is specified, use only that part of index 1.\n        if (key1) (tmp = index1, index1 = {})[key1] = tmp[key1];\n        for (const value1 in index1) {\n          if (index2 = index1[value1]) {\n            parts[name1] = termFromId(entityKeys[value1], this._factory);\n            // If a key is specified, use only that part of index 2, if it exists.\n            const values = key2 ? (key2 in index2 ? [key2] : []) : Object.keys(index2);\n            // Create quads for all items found in index 2.\n            for (let l = 0; l < values.length; l++) {\n              parts[name2] = termFromId(entityKeys[values[l]], this._factory);\n              yield this._factory.quad(parts.subject, parts.predicate, parts.object, graph);\n            }\n          }\n        }\n      }\n    }\n  }\n\n  // ### `_loop` executes the callback on all keys of index 0\n  _loop(index0, callback) {\n    for (const key0 in index0)\n      callback(key0);\n  }\n\n  // ### `_loopByKey0` executes the callback on all keys of a certain entry in index 0\n  _loopByKey0(index0, key0, callback) {\n    let index1, key1;\n    if (index1 = index0[key0]) {\n      for (key1 in index1)\n        callback(key1);\n    }\n  }\n\n  // ### `_loopByKey1` executes the callback on given keys of all entries in index 0\n  _loopByKey1(index0, key1, callback) {\n    let key0, index1;\n    for (key0 in index0) {\n      index1 = index0[key0];\n      if (index1[key1])\n        callback(key0);\n    }\n  }\n\n  // ### `_loopBy2Keys` executes the callback on given keys of certain entries in index 2\n  _loopBy2Keys(index0, key0, key1, callback) {\n    let index1, index2, key2;\n    if ((index1 = index0[key0]) && (index2 = index1[key1])) {\n      for (key2 in index2)\n        callback(key2);\n    }\n  }\n\n  // ### `_countInIndex` counts matching quads in a three-layered index.\n  // The index base is `index0` and the keys at each level are `key0`, `key1`, and `key2`.\n  // Any of these keys can be undefined, which is interpreted as a wildcard.\n  _countInIndex(index0, key0, key1, key2) {\n    let count = 0, tmp, index1, index2;\n\n    // If a key is specified, count only that part of index 0\n    if (key0) (tmp = index0, index0 = {})[key0] = tmp[key0];\n    for (const value0 in index0) {\n      if (index1 = index0[value0]) {\n        // If a key is specified, count only that part of index 1\n        if (key1) (tmp = index1, index1 = {})[key1] = tmp[key1];\n        for (const value1 in index1) {\n          if (index2 = index1[value1]) {\n            // If a key is specified, count the quad if it exists\n            if (key2) (key2 in index2) && count++;\n            // Otherwise, count all quads\n            else count += Object.keys(index2).length;\n          }\n        }\n      }\n    }\n    return count;\n  }\n\n  // ### `_getGraphs` returns an array with the given graph,\n  // or all graphs if the argument is null or undefined.\n  _getGraphs(graph) {\n    if (!isString(graph))\n      return this._graphs;\n    const graphs = {};\n    graphs[graph] = this._graphs[graph];\n    return graphs;\n  }\n\n  // ### `_uniqueEntities` returns a function that accepts an entity ID\n  // and passes the corresponding entity to callback if it hasn't occurred before.\n  _uniqueEntities(callback) {\n    const uniqueIds = Object.create(null);\n    return id => {\n      if (!(id in uniqueIds)) {\n        uniqueIds[id] = true;\n        callback(termFromId(this._entities[id], this._factory));\n      }\n    };\n  }\n\n  // ## Public methods\n\n  // ### `add` adds the specified quad to the dataset.\n  // Returns the dataset instance it was called on.\n  // Existing quads, as defined in Quad.equals, will be ignored.\n  add(quad) {\n    this.addQuad(quad);\n    return this;\n  }\n\n  // ### `addQuad` adds a new quad to the store.\n  // Returns if the quad index has changed, if the quad did not already exist.\n  addQuad(subject, predicate, object, graph) {\n    // Shift arguments if a quad object is given instead of components\n    if (!predicate)\n      graph = subject.graph, object = subject.object,\n        predicate = subject.predicate, subject = subject.subject;\n\n    // Convert terms to internal string representation\n    subject = termToId(subject);\n    predicate = termToId(predicate);\n    object = termToId(object);\n    graph = termToId(graph);\n\n    // Find the graph that will contain the triple\n    let graphItem = this._graphs[graph];\n    // Create the graph if it doesn't exist yet\n    if (!graphItem) {\n      graphItem = this._graphs[graph] = { subjects: {}, predicates: {}, objects: {} };\n      // Freezing a graph helps subsequent `add` performance,\n      // and properties will never be modified anyway\n      Object.freeze(graphItem);\n    }\n\n    // Since entities can often be long IRIs, we avoid storing them in every index.\n    // Instead, we have a separate index that maps entities to numbers,\n    // which are then used as keys in the other indexes.\n    const ids = this._ids;\n    const entities = this._entities;\n    subject   = ids[subject]   || (ids[entities[++this._id] = subject]   = this._id);\n    predicate = ids[predicate] || (ids[entities[++this._id] = predicate] = this._id);\n    object    = ids[object]    || (ids[entities[++this._id] = object]    = this._id);\n\n    const changed = this._addToIndex(graphItem.subjects,   subject,   predicate, object);\n    this._addToIndex(graphItem.predicates, predicate, object,    subject);\n    this._addToIndex(graphItem.objects,    object,    subject,   predicate);\n\n    // The cached quad count is now invalid\n    this._size = null;\n    return changed;\n  }\n\n  // ### `addQuads` adds multiple quads to the store\n  addQuads(quads) {\n    for (let i = 0; i < quads.length; i++)\n      this.addQuad(quads[i]);\n  }\n\n  // ### `delete` removes the specified quad from the dataset.\n  // Returns the dataset instance it was called on.\n  delete(quad) {\n    this.removeQuad(quad);\n    return this;\n  }\n\n  // ### `has` determines whether a dataset includes a certain quad or quad pattern.\n  has(subjectOrQuad, predicate, object, graph) {\n    if (subjectOrQuad && subjectOrQuad.subject)\n      ({ subject: subjectOrQuad, predicate, object, graph } = subjectOrQuad);\n    return !this.readQuads(subjectOrQuad, predicate, object, graph).next().done;\n  }\n\n  // ### `import` adds a stream of quads to the store\n  import(stream) {\n    stream.on('data', quad => { this.addQuad(quad); });\n    return stream;\n  }\n\n  // ### `removeQuad` removes a quad from the store if it exists\n  removeQuad(subject, predicate, object, graph) {\n    // Shift arguments if a quad object is given instead of components\n    if (!predicate)\n      graph = subject.graph, object = subject.object,\n        predicate = subject.predicate, subject = subject.subject;\n\n    // Convert terms to internal string representation\n    subject = termToId(subject);\n    predicate = termToId(predicate);\n    object = termToId(object);\n    graph = termToId(graph);\n\n    // Find internal identifiers for all components\n    // and verify the quad exists.\n    const ids = this._ids, graphs = this._graphs;\n    let graphItem, subjects, predicates;\n    if (!(subject    = ids[subject]) || !(predicate = ids[predicate]) ||\n        !(object     = ids[object])  || !(graphItem = graphs[graph])  ||\n        !(subjects   = graphItem.subjects[subject]) ||\n        !(predicates = subjects[predicate]) ||\n        !(object in predicates))\n      return false;\n\n    // Remove it from all indexes\n    this._removeFromIndex(graphItem.subjects,   subject,   predicate, object);\n    this._removeFromIndex(graphItem.predicates, predicate, object,    subject);\n    this._removeFromIndex(graphItem.objects,    object,    subject,   predicate);\n    if (this._size !== null) this._size--;\n\n    // Remove the graph if it is empty\n    for (subject in graphItem.subjects) return true;\n    delete graphs[graph];\n    return true;\n  }\n\n  // ### `removeQuads` removes multiple quads from the store\n  removeQuads(quads) {\n    for (let i = 0; i < quads.length; i++)\n      this.removeQuad(quads[i]);\n  }\n\n  // ### `remove` removes a stream of quads from the store\n  remove(stream) {\n    stream.on('data', quad => { this.removeQuad(quad); });\n    return stream;\n  }\n\n  // ### `removeMatches` removes all matching quads from the store\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  removeMatches(subject, predicate, object, graph) {\n    const stream = new Readable({ objectMode: true });\n\n    stream._read = () => {\n      for (const quad of this.readQuads(subject, predicate, object, graph))\n        stream.push(quad);\n      stream.push(null);\n    };\n\n    return this.remove(stream);\n  }\n\n  // ### `deleteGraph` removes all triples with the given graph from the store\n  deleteGraph(graph) {\n    return this.removeMatches(null, null, null, graph);\n  }\n\n  // ### `getQuads` returns an array of quads matching a pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  getQuads(subject, predicate, object, graph) {\n    return [...this.readQuads(subject, predicate, object, graph)];\n  }\n\n  // ### `readQuads` returns an generator of quads matching a pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  *readQuads(subject, predicate, object, graph) {\n    // Convert terms to internal string representation\n    subject = subject && termToId(subject);\n    predicate = predicate && termToId(predicate);\n    object = object && termToId(object);\n    graph = graph && termToId(graph);\n\n    const graphs = this._getGraphs(graph), ids = this._ids;\n    let content, subjectId, predicateId, objectId;\n\n    // Translate IRIs to internal index keys.\n    if (isString(subject)   && !(subjectId   = ids[subject])   ||\n        isString(predicate) && !(predicateId = ids[predicate]) ||\n        isString(object)    && !(objectId    = ids[object]))\n      return;\n\n    for (const graphId in graphs) {\n      // Only if the specified graph contains triples, there can be results\n      if (content = graphs[graphId]) {\n        // Choose the optimal index, based on what fields are present\n        if (subjectId) {\n          if (objectId)\n            // If subject and object are given, the object index will be the fastest\n            yield* this._findInIndex(content.objects, objectId, subjectId, predicateId,\n                              'object', 'subject', 'predicate', graphId);\n          else\n            // If only subject and possibly predicate are given, the subject index will be the fastest\n            yield* this._findInIndex(content.subjects, subjectId, predicateId, null,\n                              'subject', 'predicate', 'object', graphId);\n        }\n        else if (predicateId)\n          // If only predicate and possibly object are given, the predicate index will be the fastest\n          yield* this._findInIndex(content.predicates, predicateId, objectId, null,\n                            'predicate', 'object', 'subject', graphId);\n        else if (objectId)\n          // If only object is given, the object index will be the fastest\n          yield* this._findInIndex(content.objects, objectId, null, null,\n                            'object', 'subject', 'predicate', graphId);\n        else\n          // If nothing is given, iterate subjects and predicates first\n          yield* this._findInIndex(content.subjects, null, null, null,\n                            'subject', 'predicate', 'object', graphId);\n      }\n    }\n  }\n\n  // ### `match` returns a new dataset that is comprised of all quads in the current instance matching the given arguments.\n  // The logic described in Quad Matching is applied for each quad in this dataset to check if it should be included in the output dataset.\n  // Note: This method always returns a new DatasetCore, even if that dataset contains no quads.\n  // Note: Since a DatasetCore is an unordered set, the order of the quads within the returned sequence is arbitrary.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  // For backwards compatibility, the object return also implements the Readable stream interface.\n  match(subject, predicate, object, graph) {\n    return new DatasetCoreAndReadableStream(this, subject, predicate, object, graph);\n  }\n\n  // ### `countQuads` returns the number of quads matching a pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  countQuads(subject, predicate, object, graph) {\n    // Convert terms to internal string representation\n    subject = subject && termToId(subject);\n    predicate = predicate && termToId(predicate);\n    object = object && termToId(object);\n    graph = graph && termToId(graph);\n\n    const graphs = this._getGraphs(graph), ids = this._ids;\n    let count = 0, content, subjectId, predicateId, objectId;\n\n    // Translate IRIs to internal index keys.\n    if (isString(subject)   && !(subjectId   = ids[subject])   ||\n        isString(predicate) && !(predicateId = ids[predicate]) ||\n        isString(object)    && !(objectId    = ids[object]))\n      return 0;\n\n    for (const graphId in graphs) {\n      // Only if the specified graph contains triples, there can be results\n      if (content = graphs[graphId]) {\n        // Choose the optimal index, based on what fields are present\n        if (subject) {\n          if (object)\n            // If subject and object are given, the object index will be the fastest\n            count += this._countInIndex(content.objects, objectId, subjectId, predicateId);\n          else\n            // If only subject and possibly predicate are given, the subject index will be the fastest\n            count += this._countInIndex(content.subjects, subjectId, predicateId, objectId);\n        }\n        else if (predicate) {\n          // If only predicate and possibly object are given, the predicate index will be the fastest\n          count += this._countInIndex(content.predicates, predicateId, objectId, subjectId);\n        }\n        else {\n          // If only object is possibly given, the object index will be the fastest\n          count += this._countInIndex(content.objects, objectId, subjectId, predicateId);\n        }\n      }\n    }\n    return count;\n  }\n\n  // ### `forEach` executes the callback on all quads.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  forEach(callback, subject, predicate, object, graph) {\n    this.some(quad => {\n      callback(quad);\n      return false;\n    }, subject, predicate, object, graph);\n  }\n\n  // ### `every` executes the callback on all quads,\n  // and returns `true` if it returns truthy for all them.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  every(callback, subject, predicate, object, graph) {\n    let some = false;\n    const every = !this.some(quad => {\n      some = true;\n      return !callback(quad);\n    }, subject, predicate, object, graph);\n    return some && every;\n  }\n\n  // ### `some` executes the callback on all quads,\n  // and returns `true` if it returns truthy for any of them.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  some(callback, subject, predicate, object, graph) {\n    for (const quad of this.readQuads(subject, predicate, object, graph))\n      if (callback(quad))\n        return true;\n    return false;\n  }\n\n  // ### `getSubjects` returns all subjects that match the pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  getSubjects(predicate, object, graph) {\n    const results = [];\n    this.forSubjects(s => { results.push(s); }, predicate, object, graph);\n    return results;\n  }\n\n  // ### `forSubjects` executes the callback on all subjects that match the pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  forSubjects(callback, predicate, object, graph) {\n    // Convert terms to internal string representation\n    predicate = predicate && termToId(predicate);\n    object = object && termToId(object);\n    graph = graph && termToId(graph);\n\n    const ids = this._ids, graphs = this._getGraphs(graph);\n    let content, predicateId, objectId;\n    callback = this._uniqueEntities(callback);\n\n    // Translate IRIs to internal index keys.\n    if (isString(predicate) && !(predicateId = ids[predicate]) ||\n        isString(object)    && !(objectId    = ids[object]))\n      return;\n\n    for (graph in graphs) {\n      // Only if the specified graph contains triples, there can be results\n      if (content = graphs[graph]) {\n        // Choose optimal index based on which fields are wildcards\n        if (predicateId) {\n          if (objectId)\n            // If predicate and object are given, the POS index is best.\n            this._loopBy2Keys(content.predicates, predicateId, objectId, callback);\n          else\n            // If only predicate is given, the SPO index is best.\n            this._loopByKey1(content.subjects, predicateId, callback);\n        }\n        else if (objectId)\n          // If only object is given, the OSP index is best.\n          this._loopByKey0(content.objects, objectId, callback);\n        else\n          // If no params given, iterate all the subjects\n          this._loop(content.subjects, callback);\n      }\n    }\n  }\n\n  // ### `getPredicates` returns all predicates that match the pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  getPredicates(subject, object, graph) {\n    const results = [];\n    this.forPredicates(p => { results.push(p); }, subject, object, graph);\n    return results;\n  }\n\n  // ### `forPredicates` executes the callback on all predicates that match the pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  forPredicates(callback, subject, object, graph) {\n    // Convert terms to internal string representation\n    subject = subject && termToId(subject);\n    object = object && termToId(object);\n    graph = graph && termToId(graph);\n\n    const ids = this._ids, graphs = this._getGraphs(graph);\n    let content, subjectId, objectId;\n    callback = this._uniqueEntities(callback);\n\n    // Translate IRIs to internal index keys.\n    if (isString(subject) && !(subjectId = ids[subject]) ||\n        isString(object)  && !(objectId  = ids[object]))\n      return;\n\n    for (graph in graphs) {\n      // Only if the specified graph contains triples, there can be results\n      if (content = graphs[graph]) {\n        // Choose optimal index based on which fields are wildcards\n        if (subjectId) {\n          if (objectId)\n            // If subject and object are given, the OSP index is best.\n            this._loopBy2Keys(content.objects, objectId, subjectId, callback);\n          else\n            // If only subject is given, the SPO index is best.\n            this._loopByKey0(content.subjects, subjectId, callback);\n        }\n        else if (objectId)\n          // If only object is given, the POS index is best.\n          this._loopByKey1(content.predicates, objectId, callback);\n        else\n          // If no params given, iterate all the predicates.\n          this._loop(content.predicates, callback);\n      }\n    }\n  }\n\n  // ### `getObjects` returns all objects that match the pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  getObjects(subject, predicate, graph) {\n    const results = [];\n    this.forObjects(o => { results.push(o); }, subject, predicate, graph);\n    return results;\n  }\n\n  // ### `forObjects` executes the callback on all objects that match the pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  forObjects(callback, subject, predicate, graph) {\n    // Convert terms to internal string representation\n    subject = subject && termToId(subject);\n    predicate = predicate && termToId(predicate);\n    graph = graph && termToId(graph);\n\n    const ids = this._ids, graphs = this._getGraphs(graph);\n    let content, subjectId, predicateId;\n    callback = this._uniqueEntities(callback);\n\n    // Translate IRIs to internal index keys.\n    if (isString(subject)   && !(subjectId   = ids[subject]) ||\n        isString(predicate) && !(predicateId = ids[predicate]))\n      return;\n\n    for (graph in graphs) {\n      // Only if the specified graph contains triples, there can be results\n      if (content = graphs[graph]) {\n        // Choose optimal index based on which fields are wildcards\n        if (subjectId) {\n          if (predicateId)\n            // If subject and predicate are given, the SPO index is best.\n            this._loopBy2Keys(content.subjects, subjectId, predicateId, callback);\n          else\n            // If only subject is given, the OSP index is best.\n            this._loopByKey1(content.objects, subjectId, callback);\n        }\n        else if (predicateId)\n          // If only predicate is given, the POS index is best.\n          this._loopByKey0(content.predicates, predicateId, callback);\n        else\n          // If no params given, iterate all the objects.\n          this._loop(content.objects, callback);\n      }\n    }\n  }\n\n  // ### `getGraphs` returns all graphs that match the pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  getGraphs(subject, predicate, object) {\n    const results = [];\n    this.forGraphs(g => { results.push(g); }, subject, predicate, object);\n    return results;\n  }\n\n  // ### `forGraphs` executes the callback on all graphs that match the pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  forGraphs(callback, subject, predicate, object) {\n    for (const graph in this._graphs) {\n      this.some(quad => {\n        callback(quad.graph);\n        return true; // Halt iteration of some()\n      }, subject, predicate, object, graph);\n    }\n  }\n\n  // ### `createBlankNode` creates a new blank node, returning its name\n  createBlankNode(suggestedName) {\n    let name, index;\n    // Generate a name based on the suggested name\n    if (suggestedName) {\n      name = suggestedName = `_:${suggestedName}`, index = 1;\n      while (this._ids[name])\n        name = suggestedName + index++;\n    }\n    // Generate a generic blank node name\n    else {\n      do { name = `_:b${this._blankNodeIndex++}`; }\n      while (this._ids[name]);\n    }\n    // Add the blank node to the entities, avoiding the generation of duplicates\n    this._ids[name] = ++this._id;\n    this._entities[this._id] = name;\n    return this._factory.blankNode(name.substr(2));\n  }\n\n  // ### `extractLists` finds and removes all list triples\n  // and returns the items per list.\n  extractLists({ remove = false, ignoreErrors = false } = {}) {\n    const lists = {}; // has scalar keys so could be a simple Object\n    const onError = ignoreErrors ? (() => true) :\n                  ((node, message) => { throw new Error(`${node.value} ${message}`); });\n\n    // Traverse each list from its tail\n    const tails = this.getQuads(null, namespaces.rdf.rest, namespaces.rdf.nil, null);\n    const toRemove = remove ? [...tails] : [];\n    tails.forEach(tailQuad => {\n      const items = [];             // the members found as objects of rdf:first quads\n      let malformed = false;      // signals whether the current list is malformed\n      let head;                   // the head of the list (_:b1 in above example)\n      let headPos;                // set to subject or object when head is set\n      const graph = tailQuad.graph; // make sure list is in exactly one graph\n\n      // Traverse the list from tail to end\n      let current = tailQuad.subject;\n      while (current && !malformed) {\n        const objectQuads = this.getQuads(null, null, current, null);\n        const subjectQuads = this.getQuads(current, null, null, null);\n        let quad, first = null, rest = null, parent = null;\n\n        // Find the first and rest of this list node\n        for (let i = 0; i < subjectQuads.length && !malformed; i++) {\n          quad = subjectQuads[i];\n          if (!quad.graph.equals(graph))\n            malformed = onError(current, 'not confined to single graph');\n          else if (head)\n            malformed = onError(current, 'has non-list arcs out');\n\n          // one rdf:first\n          else if (quad.predicate.value === namespaces.rdf.first) {\n            if (first)\n              malformed = onError(current, 'has multiple rdf:first arcs');\n            else\n              toRemove.push(first = quad);\n          }\n\n          // one rdf:rest\n          else if (quad.predicate.value === namespaces.rdf.rest) {\n            if (rest)\n              malformed = onError(current, 'has multiple rdf:rest arcs');\n            else\n              toRemove.push(rest = quad);\n          }\n\n          // alien triple\n          else if (objectQuads.length)\n            malformed = onError(current, 'can\\'t be subject and object');\n          else {\n            head = quad; // e.g. { (1 2 3) :p :o }\n            headPos = 'subject';\n          }\n        }\n\n        // { :s :p (1 2) } arrives here with no head\n        // { (1 2) :p :o } arrives here with head set to the list.\n        for (let i = 0; i < objectQuads.length && !malformed; ++i) {\n          quad = objectQuads[i];\n          if (head)\n            malformed = onError(current, 'can\\'t have coreferences');\n          // one rdf:rest\n          else if (quad.predicate.value === namespaces.rdf.rest) {\n            if (parent)\n              malformed = onError(current, 'has incoming rdf:rest arcs');\n            else\n              parent = quad;\n          }\n          else {\n            head = quad; // e.g. { :s :p (1 2) }\n            headPos = 'object';\n          }\n        }\n\n        // Store the list item and continue with parent\n        if (!first)\n          malformed = onError(current, 'has no list head');\n        else\n          items.unshift(first.object);\n        current = parent && parent.subject;\n      }\n\n      // Don't remove any quads if the list is malformed\n      if (malformed)\n        remove = false;\n      // Store the list under the value of its head\n      else if (head)\n        lists[head[headPos].value] = items;\n    });\n\n    // Remove list quads if requested\n    if (remove)\n      this.removeQuads(toRemove);\n    return lists;\n  }\n\n  // ### Store is an iterable.\n  // Can be used where iterables are expected: for...of loops, array spread operator,\n  // `yield*`, and destructuring assignment (order is not guaranteed).\n  *[Symbol.iterator]() {\n    yield* this.readQuads();\n  }\n}\n\n// Determines whether the argument is a string\nfunction isString(s) {\n  return typeof s === 'string' || s instanceof String;\n}\n\n/**\n * A class that implements both DatasetCore and Readable.\n */\nclass DatasetCoreAndReadableStream extends Readable {\n  constructor(n3Store, subject, predicate, object, graph) {\n    super({ objectMode: true });\n    Object.assign(this, { n3Store, subject, predicate, object, graph });\n  }\n\n  get filtered() {\n    if (!this._filtered) {\n      const { n3Store, graph, object, predicate, subject } = this;\n      const newStore = this._filtered = new N3Store({ factory: n3Store._factory });\n      for (const quad of n3Store.readQuads(subject, predicate, object, graph))\n        newStore.addQuad(quad);\n    }\n    return this._filtered;\n  }\n\n  get size() {\n    return this.filtered.size;\n  }\n\n  _read() {\n    for (const quad of this)\n      this.push(quad);\n    this.push(null);\n  }\n\n  add(quad) {\n    return this.filtered.add(quad);\n  }\n\n  delete(quad) {\n    return this.filtered.delete(quad);\n  }\n\n  has(quad) {\n    return this.filtered.has(quad);\n  }\n\n  match(subject, predicate, object, graph) {\n    return new DatasetCoreAndReadableStream(this.filtered, subject, predicate, object, graph);\n  }\n\n  *[Symbol.iterator]() {\n    yield* this._filtered || this.n3Store.readQuads(this.subject, this.predicate, this.object, this.graph);\n  }\n}\n","// **N3StreamParser** parses a text stream into a quad stream.\nimport N3Parser from './N3Parser';\nimport { Transform } from 'readable-stream';\n\n// ## Constructor\nexport default class N3StreamParser extends Transform {\n  constructor(options) {\n    super({ decodeStrings: true });\n    this._readableState.objectMode = true;\n\n    // Set up parser with dummy stream to obtain `data` and `end` callbacks\n    const parser = new N3Parser(options);\n    let onData, onEnd;\n    parser.parse({\n      on: (event, callback) => {\n        switch (event) {\n        case 'data': onData = callback; break;\n        case 'end':   onEnd = callback; break;\n        }\n      },\n    },\n      // Handle quads by pushing them down the pipeline\n      (error, quad) => { error && this.emit('error', error) || quad && this.push(quad); },\n      // Emit prefixes through the `prefix` event\n      (prefix, uri) => { this.emit('prefix', prefix, uri); }\n    );\n\n    // Implement Transform methods through parser callbacks\n    this._transform = (chunk, encoding, done) => { onData(chunk); done(); };\n    this._flush = done => { onEnd(); done(); };\n  }\n\n  // ### Parses a stream of strings\n  import(stream) {\n    stream.on('data',  chunk => { this.write(chunk); });\n    stream.on('end',   ()      => { this.end(); });\n    stream.on('error', error => { this.emit('error', error); });\n    return this;\n  }\n}\n","// **N3StreamWriter** serializes a quad stream into a text stream.\nimport { Transform } from 'readable-stream';\nimport N3Writer from './N3Writer';\n\n// ## Constructor\nexport default class N3StreamWriter extends Transform {\n  constructor(options) {\n    super({ encoding: 'utf8', writableObjectMode: true });\n\n    // Set up writer with a dummy stream object\n    const writer = this._writer = new N3Writer({\n      write: (quad, encoding, callback) => { this.push(quad); callback && callback(); },\n      end: callback => { this.push(null); callback && callback(); },\n    }, options);\n\n    // Implement Transform methods on top of writer\n    this._transform = (quad, encoding, done) => { writer.addQuad(quad, done); };\n    this._flush = done => { writer.end(done); };\n  }\n\n// ### Serializes a stream of quads\n  import(stream) {\n    stream.on('data',   quad => { this.write(quad); });\n    stream.on('end',    () => { this.end(); });\n    stream.on('error',  error => { this.emit('error', error); });\n    stream.on('prefix', (prefix, iri) => { this._writer.addPrefix(prefix, iri); });\n    return this;\n  }\n}\n","import Lexer from './N3Lexer';\nimport Parser from './N3Parser';\nimport Writer from './N3Writer';\nimport Store from './N3Store';\nimport StreamParser from './N3StreamParser';\nimport StreamWriter from './N3StreamWriter';\nimport * as Util from './N3Util';\n\nimport {\n  default as DataFactory,\n\n  Term,\n  NamedNode,\n  Literal,\n  BlankNode,\n  Variable,\n  DefaultGraph,\n  Quad,\n  Triple,\n\n  termFromId,\n  termToId,\n} from './N3DataFactory';\n\n// Named exports\nexport {\n  Lexer,\n  Parser,\n  Writer,\n  Store,\n  StreamParser,\n  StreamWriter,\n  Util,\n\n  DataFactory,\n\n  Term,\n  NamedNode,\n  Literal,\n  BlankNode,\n  Variable,\n  DefaultGraph,\n  Quad,\n  Triple,\n\n  termFromId,\n  termToId,\n};\n\n// Export all named exports as a default object for backward compatibility\nexport default {\n  Lexer,\n  Parser,\n  Writer,\n  Store,\n  StreamParser,\n  StreamWriter,\n  Util,\n\n  DataFactory,\n\n  Term,\n  NamedNode,\n  Literal,\n  BlankNode,\n  Variable,\n  DefaultGraph,\n  Quad,\n  Triple,\n\n  termFromId,\n  termToId,\n};\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","(function() {\n    var root;\n\n\tif (typeof window === 'object' && window) {\n\t\troot = window;\n\t} else {\n\t\troot = global;\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = root.Promise ? root.Promise : Promise;\n\t} else if (!root.Promise) {\n\t\troot.Promise = Promise;\n\t}\n\n\t// Use polyfill for setImmediate for performance gains\n\tvar asap = root.setImmediate || function(fn) { setTimeout(fn, 1); };\n\n\t// Polyfill for Function.prototype.bind\n\tfunction bind(fn, thisArg) {\n\t\treturn function() {\n\t\t\tfn.apply(thisArg, arguments);\n\t\t}\n\t}\n\n\tvar isArray = Array.isArray || function(value) { return Object.prototype.toString.call(value) === \"[object Array]\" };\n\n\tfunction Promise(fn) {\n\t\tif (typeof this !== 'object') throw new TypeError('Promises must be constructed via new');\n\t\tif (typeof fn !== 'function') throw new TypeError('not a function');\n\t\tthis._state = null;\n\t\tthis._value = null;\n\t\tthis._deferreds = []\n\n\t\tdoResolve(fn, bind(resolve, this), bind(reject, this))\n\t}\n\n\tfunction handle(deferred) {\n\t\tvar me = this;\n\t\tif (this._state === null) {\n\t\t\tthis._deferreds.push(deferred);\n\t\t\treturn\n\t\t}\n\t\tasap(function() {\n\t\t\tvar cb = me._state ? deferred.onFulfilled : deferred.onRejected\n\t\t\tif (cb === null) {\n\t\t\t\t(me._state ? deferred.resolve : deferred.reject)(me._value);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar ret;\n\t\t\ttry {\n\t\t\t\tret = cb(me._value);\n\t\t\t}\n\t\t\tcatch (e) {\n\t\t\t\tdeferred.reject(e);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tdeferred.resolve(ret);\n\t\t})\n\t}\n\n\tfunction resolve(newValue) {\n\t\ttry { //Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n\t\t\tif (newValue === this) throw new TypeError('A promise cannot be resolved with itself.');\n\t\t\tif (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n\t\t\t\tvar then = newValue.then;\n\t\t\t\tif (typeof then === 'function') {\n\t\t\t\t\tdoResolve(bind(then, newValue), bind(resolve, this), bind(reject, this));\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._state = true;\n\t\t\tthis._value = newValue;\n\t\t\tfinale.call(this);\n\t\t} catch (e) { reject.call(this, e); }\n\t}\n\n\tfunction reject(newValue) {\n\t\tthis._state = false;\n\t\tthis._value = newValue;\n\t\tfinale.call(this);\n\t}\n\n\tfunction finale() {\n\t\tfor (var i = 0, len = this._deferreds.length; i < len; i++) {\n\t\t\thandle.call(this, this._deferreds[i]);\n\t\t}\n\t\tthis._deferreds = null;\n\t}\n\n\tfunction Handler(onFulfilled, onRejected, resolve, reject){\n\t\tthis.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n\t\tthis.onRejected = typeof onRejected === 'function' ? onRejected : null;\n\t\tthis.resolve = resolve;\n\t\tthis.reject = reject;\n\t}\n\n\t/**\n\t * Take a potentially misbehaving resolver function and make sure\n\t * onFulfilled and onRejected are only called once.\n\t *\n\t * Makes no guarantees about asynchrony.\n\t */\n\tfunction doResolve(fn, onFulfilled, onRejected) {\n\t\tvar done = false;\n\t\ttry {\n\t\t\tfn(function (value) {\n\t\t\t\tif (done) return;\n\t\t\t\tdone = true;\n\t\t\t\tonFulfilled(value);\n\t\t\t}, function (reason) {\n\t\t\t\tif (done) return;\n\t\t\t\tdone = true;\n\t\t\t\tonRejected(reason);\n\t\t\t})\n\t\t} catch (ex) {\n\t\t\tif (done) return;\n\t\t\tdone = true;\n\t\t\tonRejected(ex);\n\t\t}\n\t}\n\n\tPromise.prototype['catch'] = function (onRejected) {\n\t\treturn this.then(null, onRejected);\n\t};\n\n\tPromise.prototype.then = function(onFulfilled, onRejected) {\n\t\tvar me = this;\n\t\treturn new Promise(function(resolve, reject) {\n\t\t\thandle.call(me, new Handler(onFulfilled, onRejected, resolve, reject));\n\t\t})\n\t};\n\n\tPromise.all = function () {\n\t\tvar args = Array.prototype.slice.call(arguments.length === 1 && isArray(arguments[0]) ? arguments[0] : arguments);\n\n\t\treturn new Promise(function (resolve, reject) {\n\t\t\tif (args.length === 0) return resolve([]);\n\t\t\tvar remaining = args.length;\n\t\t\tfunction res(i, val) {\n\t\t\t\ttry {\n\t\t\t\t\tif (val && (typeof val === 'object' || typeof val === 'function')) {\n\t\t\t\t\t\tvar then = val.then;\n\t\t\t\t\t\tif (typeof then === 'function') {\n\t\t\t\t\t\t\tthen.call(val, function (val) { res(i, val) }, reject);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\targs[i] = val;\n\t\t\t\t\tif (--remaining === 0) {\n\t\t\t\t\t\tresolve(args);\n\t\t\t\t\t}\n\t\t\t\t} catch (ex) {\n\t\t\t\t\treject(ex);\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (var i = 0; i < args.length; i++) {\n\t\t\t\tres(i, args[i]);\n\t\t\t}\n\t\t});\n\t};\n\n\tPromise.resolve = function (value) {\n\t\tif (value && typeof value === 'object' && value.constructor === Promise) {\n\t\t\treturn value;\n\t\t}\n\n\t\treturn new Promise(function (resolve) {\n\t\t\tresolve(value);\n\t\t});\n\t};\n\n\tPromise.reject = function (value) {\n\t\treturn new Promise(function (resolve, reject) {\n\t\t\treject(value);\n\t\t});\n\t};\n\n\tPromise.race = function (values) {\n\t\treturn new Promise(function (resolve, reject) {\n\t\t\tfor(var i = 0, len = values.length; i < len; i++) {\n\t\t\t\tvalues[i].then(resolve, reject);\n\t\t\t}\n\t\t});\n\t};\n})();","/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\nlet promise\n\nmodule.exports = typeof queueMicrotask === 'function'\n  ? queueMicrotask.bind(typeof window !== 'undefined' ? window : global)\n  // reuse resolved promise, and allocate it lazily\n  : cb => (promise || (promise = Promise.resolve()))\n    .then(cb)\n    .catch(err => setTimeout(() => { throw err }, 0))\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./lib/BlankNode\"), exports);\n__exportStar(require(\"./lib/DataFactory\"), exports);\n__exportStar(require(\"./lib/DefaultGraph\"), exports);\n__exportStar(require(\"./lib/Literal\"), exports);\n__exportStar(require(\"./lib/NamedNode\"), exports);\n__exportStar(require(\"./lib/Quad\"), exports);\n__exportStar(require(\"./lib/Variable\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BlankNode = void 0;\n/**\n * A term that represents an RDF blank node with a label.\n */\nclass BlankNode {\n    constructor(value) {\n        this.termType = 'BlankNode';\n        this.value = value;\n    }\n    equals(other) {\n        return !!other && other.termType === 'BlankNode' && other.value === this.value;\n    }\n}\nexports.BlankNode = BlankNode;\n//# sourceMappingURL=BlankNode.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DataFactory = void 0;\nconst BlankNode_1 = require(\"./BlankNode\");\nconst DefaultGraph_1 = require(\"./DefaultGraph\");\nconst Literal_1 = require(\"./Literal\");\nconst NamedNode_1 = require(\"./NamedNode\");\nconst Quad_1 = require(\"./Quad\");\nconst Variable_1 = require(\"./Variable\");\nlet dataFactoryCounter = 0;\n/**\n * A factory for instantiating RDF terms and quads.\n */\nclass DataFactory {\n    constructor(options) {\n        this.blankNodeCounter = 0;\n        options = options || {};\n        this.blankNodePrefix = options.blankNodePrefix || `df_${dataFactoryCounter++}_`;\n    }\n    /**\n     * @param value The IRI for the named node.\n     * @return A new instance of NamedNode.\n     * @see NamedNode\n     */\n    namedNode(value) {\n        return new NamedNode_1.NamedNode(value);\n    }\n    /**\n     * @param value The optional blank node identifier.\n     * @return A new instance of BlankNode.\n     *         If the `value` parameter is undefined a new identifier\n     *         for the blank node is generated for each call.\n     * @see BlankNode\n     */\n    blankNode(value) {\n        return new BlankNode_1.BlankNode(value || `${this.blankNodePrefix}${this.blankNodeCounter++}`);\n    }\n    /**\n     * @param value              The literal value.\n     * @param languageOrDatatype The optional language or datatype.\n     *                           If `languageOrDatatype` is a NamedNode,\n     *                           then it is used for the value of `NamedNode.datatype`.\n     *                           Otherwise `languageOrDatatype` is used for the value\n     *                           of `NamedNode.language`.\n     * @return A new instance of Literal.\n     * @see Literal\n     */\n    literal(value, languageOrDatatype) {\n        return new Literal_1.Literal(value, languageOrDatatype);\n    }\n    /**\n     * This method is optional.\n     * @param value The variable name\n     * @return A new instance of Variable.\n     * @see Variable\n     */\n    variable(value) {\n        return new Variable_1.Variable(value);\n    }\n    /**\n     * @return An instance of DefaultGraph.\n     */\n    defaultGraph() {\n        return DefaultGraph_1.DefaultGraph.INSTANCE;\n    }\n    /**\n     * @param subject   The quad subject term.\n     * @param predicate The quad predicate term.\n     * @param object    The quad object term.\n     * @param graph     The quad graph term.\n     * @return A new instance of Quad.\n     * @see Quad\n     */\n    quad(subject, predicate, object, graph) {\n        return new Quad_1.Quad(subject, predicate, object, graph || this.defaultGraph());\n    }\n    /**\n     * Create a deep copy of the given term using this data factory.\n     * @param original An RDF term.\n     * @return A deep copy of the given term.\n     */\n    fromTerm(original) {\n        // TODO: remove nasty any casts when this TS bug has been fixed:\n        //  https://github.com/microsoft/TypeScript/issues/26933\n        switch (original.termType) {\n            case 'NamedNode':\n                return this.namedNode(original.value);\n            case 'BlankNode':\n                return this.blankNode(original.value);\n            case 'Literal':\n                if (original.language) {\n                    return this.literal(original.value, original.language);\n                }\n                if (!original.datatype.equals(Literal_1.Literal.XSD_STRING)) {\n                    return this.literal(original.value, this.fromTerm(original.datatype));\n                }\n                return this.literal(original.value);\n            case 'Variable':\n                return this.variable(original.value);\n            case 'DefaultGraph':\n                return this.defaultGraph();\n            case 'Quad':\n                return this.quad(this.fromTerm(original.subject), this.fromTerm(original.predicate), this.fromTerm(original.object), this.fromTerm(original.graph));\n        }\n    }\n    /**\n     * Create a deep copy of the given quad using this data factory.\n     * @param original An RDF quad.\n     * @return A deep copy of the given quad.\n     */\n    fromQuad(original) {\n        return this.fromTerm(original);\n    }\n    /**\n     * Reset the internal blank node counter.\n     */\n    resetBlankNodeCounter() {\n        this.blankNodeCounter = 0;\n    }\n}\nexports.DataFactory = DataFactory;\n//# sourceMappingURL=DataFactory.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DefaultGraph = void 0;\n/**\n * A singleton term instance that represents the default graph.\n * It's only allowed to assign a DefaultGraph to the .graph property of a Quad.\n */\nclass DefaultGraph {\n    constructor() {\n        this.termType = 'DefaultGraph';\n        this.value = '';\n        // Private constructor\n    }\n    equals(other) {\n        return !!other && other.termType === 'DefaultGraph';\n    }\n}\nexports.DefaultGraph = DefaultGraph;\nDefaultGraph.INSTANCE = new DefaultGraph();\n//# sourceMappingURL=DefaultGraph.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Literal = void 0;\nconst NamedNode_1 = require(\"./NamedNode\");\n/**\n * A term that represents an RDF literal, containing a string with an optional language tag or datatype.\n */\nclass Literal {\n    constructor(value, languageOrDatatype) {\n        this.termType = 'Literal';\n        this.value = value;\n        if (typeof languageOrDatatype === 'string') {\n            this.language = languageOrDatatype;\n            this.datatype = Literal.RDF_LANGUAGE_STRING;\n        }\n        else if (languageOrDatatype) {\n            this.language = '';\n            this.datatype = languageOrDatatype;\n        }\n        else {\n            this.language = '';\n            this.datatype = Literal.XSD_STRING;\n        }\n    }\n    equals(other) {\n        return !!other && other.termType === 'Literal' && other.value === this.value &&\n            other.language === this.language && other.datatype.equals(this.datatype);\n    }\n}\nexports.Literal = Literal;\nLiteral.RDF_LANGUAGE_STRING = new NamedNode_1.NamedNode('http://www.w3.org/1999/02/22-rdf-syntax-ns#langString');\nLiteral.XSD_STRING = new NamedNode_1.NamedNode('http://www.w3.org/2001/XMLSchema#string');\n//# sourceMappingURL=Literal.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NamedNode = void 0;\n/**\n * A term that contains an IRI.\n */\nclass NamedNode {\n    constructor(value) {\n        this.termType = 'NamedNode';\n        this.value = value;\n    }\n    equals(other) {\n        return !!other && other.termType === 'NamedNode' && other.value === this.value;\n    }\n}\nexports.NamedNode = NamedNode;\n//# sourceMappingURL=NamedNode.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Quad = void 0;\n/**\n * An instance of DefaultGraph represents the default graph.\n * It's only allowed to assign a DefaultGraph to the .graph property of a Quad.\n */\nclass Quad {\n    constructor(subject, predicate, object, graph) {\n        this.termType = 'Quad';\n        this.value = '';\n        this.subject = subject;\n        this.predicate = predicate;\n        this.object = object;\n        this.graph = graph;\n    }\n    equals(other) {\n        // `|| !other.termType` is for backwards-compatibility with old factories without RDF* support.\n        return !!other && (other.termType === 'Quad' || !other.termType) &&\n            this.subject.equals(other.subject) &&\n            this.predicate.equals(other.predicate) &&\n            this.object.equals(other.object) &&\n            this.graph.equals(other.graph);\n    }\n}\nexports.Quad = Quad;\n//# sourceMappingURL=Quad.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Variable = void 0;\n/**\n * A term that represents a variable.\n */\nclass Variable {\n    constructor(value) {\n        this.termType = 'Variable';\n        this.value = value;\n    }\n    equals(other) {\n        return !!other && other.termType === 'Variable' && other.value === this.value;\n    }\n}\nexports.Variable = Variable;\n//# sourceMappingURL=Variable.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./lib/RdfIsomorphic\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isTermGrounded = exports.termToSignature = exports.quadToSignature = exports.sha1hex = exports.hashTerm = exports.hashTerms = exports.getGraphBlankNodes = exports.uniqGraph = exports.deindexGraph = exports.indexGraph = exports.getQuadsWithoutBlankNodes = exports.getQuadsWithBlankNodes = exports.hasValue = exports.hashValues = exports.getBijectionInner = exports.getBijection = exports.isomorphic = void 0;\nconst hash_js_1 = require(\"hash.js\");\nconst rdf_string_1 = require(\"rdf-string\");\nconst rdf_terms_1 = require(\"rdf-terms\");\n/**\n * Determines if the two given graphs are isomorphic.\n *\n * @param {Quad[]} graphA An array of quads, order is not important.\n * @param {Quad[]} graphB An array of quads, order is not important.\n * @return {boolean} If the two given graphs are isomorphic.\n */\nfunction isomorphic(graphA, graphB) {\n    return !!getBijection(graphA, graphB);\n}\nexports.isomorphic = isomorphic;\n/**\n * Calculate a hash of graphA blank nodes to graphB blank nodes.\n * This represents a bijection from graphA's blank nodes to graphB's blank nodes.\n *\n * @param {Quad[]} graphA An array of quads, order is not important.\n * @param {Quad[]} graphB An array of quads, order is not important.\n * @return {IBijection} A hash representing a bijection, or null if none could be found.\n */\nfunction getBijection(graphA, graphB) {\n    // Check if all (non-blanknode-containing) quads in the two graphs are equal.\n    // We do this by creating a hash-based index for both graphs.\n    const nonBlankIndexA = indexGraph(getQuadsWithoutBlankNodes(graphA));\n    const nonBlankIndexB = indexGraph(getQuadsWithoutBlankNodes(graphB));\n    if (Object.keys(nonBlankIndexA).length !== Object.keys(nonBlankIndexB).length) {\n        return null;\n    }\n    for (const key in nonBlankIndexA) {\n        if (nonBlankIndexA[key] !== nonBlankIndexB[key]) {\n            return null;\n        }\n    }\n    // Pre-process data that needs to be present in each iteration of getBijectionInner.\n    const blankQuadsA = uniqGraph(getQuadsWithBlankNodes(graphA));\n    const blankQuadsB = uniqGraph(getQuadsWithBlankNodes(graphB));\n    const blankNodesA = getGraphBlankNodes(graphA);\n    const blankNodesB = getGraphBlankNodes(graphB);\n    return getBijectionInner(blankQuadsA, blankQuadsB, blankNodesA, blankNodesB);\n}\nexports.getBijection = getBijection;\nfunction getBijectionInner(blankQuadsA, blankQuadsB, blankNodesA, blankNodesB, groundedHashesA, groundedHashesB) {\n    if (!groundedHashesA) {\n        groundedHashesA = {};\n    }\n    if (!groundedHashesB) {\n        groundedHashesB = {};\n    }\n    // Hash every term based on the signature of the quads if appears in.\n    const [hashesA, ungroundedHashesA] = hashTerms(blankQuadsA, blankNodesA, groundedHashesA);\n    const [hashesB, ungroundedHashesB] = hashTerms(blankQuadsB, blankNodesB, groundedHashesB);\n    // Break quickly if a graph contains a grounded node that is not contained in the other graph.\n    if (Object.keys(hashesA).length !== Object.keys(hashesB).length) {\n        return null;\n    }\n    for (const hashKeyA in hashesA) {\n        if (!hasValue(hashesB, hashesA[hashKeyA])) {\n            return null;\n        }\n    }\n    // Map the blank nodes from graph A to the blank nodes of graph B using the created hashes.\n    // Grounded hashes will also be equal, but not needed here, we will need them in the next recursion\n    // (as we only recurse on grounded nodes).\n    let bijection = {};\n    for (const blankNodeA of blankNodesA) {\n        const blankNodeAString = rdf_string_1.termToString(blankNodeA);\n        const blankNodeAHash = ungroundedHashesA[blankNodeAString];\n        for (const blankNodeBString in ungroundedHashesB) {\n            if (ungroundedHashesB[blankNodeBString] === blankNodeAHash) {\n                bijection[blankNodeAString] = blankNodeBString;\n                delete ungroundedHashesB[blankNodeBString];\n                break;\n            }\n        }\n    }\n    // Check if all nodes from graph A and B are present in the bijection,\n    // if not, speculatively mark pairs with matching ungrounded hashes as bijected, and recurse.\n    if (!arraysEqual(Object.keys(bijection).sort(), blankNodesA.map(rdf_string_1.termToString).sort())\n        || !arraysEqual(hashValues(bijection).sort(), blankNodesB.map(rdf_string_1.termToString).sort())) {\n        // I have not yet been able to find any pathological cases where this code is reached.\n        // This may be removable, but let's wait until someone proves that.\n        bijection = null;\n        for (const blankNodeA of blankNodesA) {\n            // Only replace ungrounded node hashes\n            const blankNodeAString = rdf_string_1.termToString(blankNodeA);\n            if (!hashesA[blankNodeAString]) {\n                for (const blankNodeB of blankNodesB) {\n                    // Only replace ungrounded node hashes\n                    const blankNodeBString = rdf_string_1.termToString(blankNodeB);\n                    if (!hashesB[blankNodeBString]) {\n                        if (ungroundedHashesA[blankNodeAString] === ungroundedHashesB[blankNodeBString]) {\n                            const hash = sha1hex(blankNodeAString);\n                            bijection = getBijectionInner(blankQuadsA, blankQuadsB, blankNodesA, blankNodesB, Object.assign(Object.assign({}, hashesA), { [blankNodeAString]: hash }), Object.assign(Object.assign({}, hashesB), { [blankNodeBString]: hash }));\n                        }\n                    }\n                }\n            }\n        }\n    }\n    return bijection;\n}\nexports.getBijectionInner = getBijectionInner;\nfunction arraysEqual(array1, array2) {\n    if (array1.length !== array2.length) {\n        return false;\n    }\n    for (let i = array1.length; i--;) {\n        if (array1[i] !== array2[i]) {\n            return false;\n        }\n    }\n    return true;\n}\n/**\n * Get all values from the given hash\n * @param hash A hash.\n * @return {any[]} The array of values.\n */\nfunction hashValues(hash) {\n    const arr = [];\n    for (const e in hash) {\n        arr.push(hash[e]);\n    }\n    return arr;\n}\nexports.hashValues = hashValues;\n/**\n * Check if the given hash contains the given value.\n * @param hash A hash.\n * @param {string} value A value.\n * @return {boolean} If it contains the value.\n */\nfunction hasValue(hash, value) {\n    for (const hashValue in hash) {\n        if (hash[hashValue] === value) {\n            return true;\n        }\n    }\n    return false;\n}\nexports.hasValue = hasValue;\n/**\n * Get all quads with blank nodes.\n * @param {Quad[]} graph An array of quads.\n * @return {Quad[]} An array of quads with blank nodes\n */\nfunction getQuadsWithBlankNodes(graph) {\n    return graph.filter((quad) => rdf_terms_1.someTerms(quad, (value) => {\n        return value.termType === 'BlankNode'\n            || (value.termType === 'Quad' && rdf_terms_1.getTermsNested(value).some(term => term.termType === 'BlankNode'));\n    }));\n}\nexports.getQuadsWithBlankNodes = getQuadsWithBlankNodes;\n/**\n * Get all quads without blank nodes.\n * @param {Quad[]} graph An array of quads.\n * @return {Quad[]} An array of quads without blank nodes\n */\nfunction getQuadsWithoutBlankNodes(graph) {\n    return graph.filter((quad) => rdf_terms_1.everyTerms(quad, (value) => {\n        return value.termType !== 'BlankNode'\n            && !(value.termType === 'Quad' && rdf_terms_1.getTermsNested(value).some(term => term.termType === 'BlankNode'));\n    }));\n}\nexports.getQuadsWithoutBlankNodes = getQuadsWithoutBlankNodes;\n/**\n * Create a hash-based index of the given graph.\n * @param {Quad[]} graph An array of quads, the order does not matter.\n * @return {{[p: string]: boolean}} A hash-based datastructure representing the graph.\n */\nfunction indexGraph(graph) {\n    const index = {};\n    for (const quad of graph) {\n        index[JSON.stringify(rdf_string_1.quadToStringQuad(quad))] = true;\n    }\n    return index;\n}\nexports.indexGraph = indexGraph;\n/**\n * Create a graph from the given hash-based index.\n * @param {{[p: string]: boolean}} indexedGraph A hash-based datastructure representing the graph.\n * @return {Quad[]} An array of quads, the order does not matter.\n */\nfunction deindexGraph(indexedGraph) {\n    return Object.keys(indexedGraph).map((str) => rdf_string_1.stringQuadToQuad(JSON.parse(str)));\n}\nexports.deindexGraph = deindexGraph;\n/**\n * Unique-ify the given RDF graph based on strict equality.\n * The output graph will consist of new quad and term instances.\n * @param {Quad[]} graph An input graph.\n * @return {Quad[]} The input graph without duplicates.\n */\nfunction uniqGraph(graph) {\n    return deindexGraph(indexGraph(graph));\n}\nexports.uniqGraph = uniqGraph;\n/**\n * Find all blank nodes in the given graph.\n * @param {Quad[]} graph An array of quads.\n * @return {BlankNode[]} A list of (unique) blank nodes.\n */\nfunction getGraphBlankNodes(graph) {\n    return rdf_terms_1.uniqTerms(graph.map((quad) => rdf_terms_1.getBlankNodes(rdf_terms_1.getTermsNested(quad)))\n        .reduce((acc, val) => acc.concat(val), []));\n}\nexports.getGraphBlankNodes = getGraphBlankNodes;\n/**\n * Create term hashes for the given set of quads and blank node terms.\n *\n * @param {Quad[]} quads A set of quads.\n * @param {Term[]} terms Blank node terms.\n * @param {ITermHash} groundedHashes Grounded term hashes that are used to create more specific signatures\n *                                   of other terms, because they are based on non-blank nodes and grounded blank nodes.\n * @return {[ITermHash]} A tuple of grounded and ungrounded hashes.\n */\nfunction hashTerms(quads, terms, groundedHashes) {\n    const hashes = Object.assign({}, groundedHashes);\n    const ungroundedHashes = {};\n    let hashNeeded = true;\n    // Iteratively mark nodes as grounded.\n    // If a node is marked as grounded, then the next iteration can lead to new grounded states\n    while (hashNeeded) {\n        const initialGroundedNodesCount = Object.keys(hashes).length;\n        for (const term of terms) {\n            const termString = rdf_string_1.termToString(term);\n            if (!hashes[termString]) {\n                const [grounded, hash] = hashTerm(term, quads, hashes);\n                if (grounded) {\n                    hashes[termString] = hash;\n                }\n                ungroundedHashes[termString] = hash;\n            }\n        }\n        // All terms that have a unique hash at this point can be marked as grounded\n        const uniques = {};\n        for (const termKey in ungroundedHashes) {\n            const hash = ungroundedHashes[termKey];\n            if (uniques[hash] === undefined) {\n                uniques[hash] = termKey;\n            }\n            else {\n                uniques[hash] = false;\n            }\n        }\n        for (const hash in uniques) {\n            const value = uniques[hash];\n            if (value) {\n                hashes[value] = hash;\n            }\n        }\n        // Check if the loop needs to terminate\n        hashNeeded = initialGroundedNodesCount !== Object.keys(hashes).length;\n    }\n    return [hashes, ungroundedHashes];\n}\nexports.hashTerms = hashTerms;\n/**\n * Generate a hash for the given term based on the signature of the quads it appears in.\n *\n * Signatures are made up of grounded terms in quads that are associated with a term,\n * i.e., everything except for ungrounded blank nodes.\n * The hash is created by hashing a sorted list of each quad's signature,\n * where each quad signature is a concatenation of the signature of all grounded terms.\n *\n * Terms are considered grounded if they are a member in the given hash AND if they are not the given term.\n *\n * @param {Term} term The term to get the hash around.\n * @param {Quad[]} quads The quads to include in the hashing.\n * @param {ITermHash} hashes A grounded term hash object.\n * @return {[boolean , string]} A tuple indicating if the given term is grounded in all the given quads, and the hash.\n */\nfunction hashTerm(term, quads, hashes) {\n    const quadSignatures = [];\n    let grounded = true;\n    for (const quad of quads) {\n        const terms = rdf_terms_1.getTermsNested(quad);\n        if (terms.some((quadTerm) => quadTerm.equals(term))) {\n            quadSignatures.push(quadToSignature(quad, hashes, term));\n            for (const quadTerm of terms) {\n                if (!isTermGrounded(quadTerm, hashes) && !quadTerm.equals(term)) {\n                    grounded = false;\n                }\n            }\n        }\n    }\n    const hash = sha1hex(quadSignatures.sort().join(''));\n    return [grounded, hash];\n}\nexports.hashTerm = hashTerm;\n/**\n * Create a hash using sha1 as a hex digest.\n * @param {string | Buffer | NodeJS.TypedArray | DataView} data Something to hash.\n * @return {string} A hash string.\n */\nfunction sha1hex(data) {\n    return hash_js_1.sha1().update(data).digest('hex');\n}\nexports.sha1hex = sha1hex;\n/**\n * Convert the given quad to a string signature so that it can be used in the hash structure.\n * @param {Quad} quad A quad.\n * @param {ITermHash} hashes A grounded term hash object.\n * @param {Term} term A target term to compare with.\n * @return {string} A string signature.\n */\nfunction quadToSignature(quad, hashes, term) {\n    return rdf_terms_1.getTerms(quad).map((quadTerm) => termToSignature(quadTerm, hashes, term)).join('|');\n}\nexports.quadToSignature = quadToSignature;\n/**\n * Convert the given term to a string signature so that it can be used in the hash structure.\n * @param {Term} term A term.\n * @param {ITermHash} hashes A grounded term hash object.\n * @param {Term} target A target term to compare with.\n * @return {string} A string signature.\n */\nfunction termToSignature(term, hashes, target) {\n    if (term.equals(target)) {\n        return '@self';\n    }\n    else if (term.termType === 'BlankNode') {\n        return hashes[rdf_string_1.termToString(term)] || '@blank';\n    }\n    else if (term.termType === 'Quad') {\n        return `<${quadToSignature(term, hashes, target)}>`;\n    }\n    else {\n        return rdf_string_1.termToString(term);\n    }\n}\nexports.termToSignature = termToSignature;\n/**\n * Check if a term is grounded.\n *\n * A term is grounded if it is not a blank node\n * or if it included in the given hash of grounded nodes.\n *\n * @param {Term} term A term.\n * @param {ITermHash} hashes A grounded term hash object.\n * @return {boolean} If the given term is grounded.\n */\nfunction isTermGrounded(term, hashes) {\n    return (term.termType !== 'BlankNode'\n        && !(term.termType === 'Quad' && rdf_terms_1.getTermsNested(term).some(subTerm => !isTermGrounded(subTerm, hashes)))) || !!hashes[rdf_string_1.termToString(term)];\n}\nexports.isTermGrounded = isTermGrounded;\n//# sourceMappingURL=RdfIsomorphic.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getSupportedJavaScriptPrimitives = exports.getSupportedRdfDatatypes = exports.getTermRaw = exports.toRdf = exports.fromRdf = void 0;\nconst rdf_data_factory_1 = require(\"rdf-data-factory\");\nconst handler_1 = require(\"./lib/handler\");\nconst Translator_1 = require(\"./lib/Translator\");\n__exportStar(require(\"./lib/handler\"), exports);\n__exportStar(require(\"./lib/ITypeHandler\"), exports);\n__exportStar(require(\"./lib/Translator\"), exports);\nconst DF = new rdf_data_factory_1.DataFactory();\n// Construct translator with built-in handlers\nconst translator = new Translator_1.Translator();\ntranslator.registerHandler(new handler_1.TypeHandlerString(), handler_1.TypeHandlerString.TYPES.map(t => DF.namedNode(t)), ['string']);\ntranslator.registerHandler(new handler_1.TypeHandlerBoolean(), [handler_1.TypeHandlerBoolean.TYPE].map(t => DF.namedNode(t)), ['boolean']);\ntranslator.registerHandler(new handler_1.TypeHandlerNumberDouble(), handler_1.TypeHandlerNumberDouble.TYPES.map(t => DF.namedNode(t)), ['number']);\ntranslator.registerHandler(new handler_1.TypeHandlerNumberInteger(), handler_1.TypeHandlerNumberInteger.TYPES.map(t => DF.namedNode(t)), ['number']);\ntranslator.registerHandler(new handler_1.TypeHandlerDate(), handler_1.TypeHandlerDate.TYPES.map(t => DF.namedNode(t)), ['object']);\n/**\n * Convert the given RDF literal to an JavaScript primitive.\n * @param {Literal} literal An RDF literal value.\n * @param {boolean} validate If the literal value should be validated against the datatype.\n * @return {any} A JavaScript primitive value.\n */\nfunction fromRdf(literal, validate) {\n    return translator.fromRdf(literal, validate);\n}\nexports.fromRdf = fromRdf;\n/**\n * Convert the given JavaScript primitive to an RDF literal.\n * @param value A JavaScript primitive value.\n * @param options Options for RDF conversion. May also be a data factory.\n * @return {Literal} An RDF literal value.\n */\nfunction toRdf(value, options) {\n    // Backwards-compatibility to accept data factory as option arg.\n    if (options && 'namedNode' in options) {\n        options = { dataFactory: options };\n    }\n    // Set default data factory\n    options = options || {};\n    if (options && !options.dataFactory) {\n        options.dataFactory = DF;\n    }\n    return translator.toRdf(value, options);\n}\nexports.toRdf = toRdf;\n/**\n * Get the raw value of the given term.\n * If it is a literal, {@link fromRdf} will be called.\n * Otherwise {@link .value} will be returned.\n * @param {Term} term Any RDF term.\n * @param {boolean} validate If the literal value should be validated against the datatype.\n * @return {any} A JavaScript primitive value.\n */\nfunction getTermRaw(term, validate) {\n    if (term.termType === 'Literal') {\n        return fromRdf(term, validate);\n    }\n    return term.value;\n}\nexports.getTermRaw = getTermRaw;\n/**\n * @return {NamedNode[]} An array of all supported RDF datatypes.\n */\nfunction getSupportedRdfDatatypes() {\n    return translator.getSupportedRdfDatatypes();\n}\nexports.getSupportedRdfDatatypes = getSupportedRdfDatatypes;\n/**\n * @return {string[]} An array of all supported JavaScript types.\n */\nfunction getSupportedJavaScriptPrimitives() {\n    return translator.getSupportedJavaScriptPrimitives();\n}\nexports.getSupportedJavaScriptPrimitives = getSupportedJavaScriptPrimitives;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=ITypeHandler.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Translator = void 0;\n/**\n * Translates between an RDF literal and a JavaScript primitive.\n */\nclass Translator {\n    constructor() {\n        this.supportedRdfDatatypes = [];\n        this.fromRdfHandlers = {};\n        this.toRdfHandlers = {};\n    }\n    static incorrectRdfDataType(literal) {\n        throw new Error(`Invalid RDF ${literal.datatype.value} value: '${literal.value}'`);\n    }\n    registerHandler(handler, rdfDatatypes, javaScriptDataTypes) {\n        for (const rdfDatatype of rdfDatatypes) {\n            this.supportedRdfDatatypes.push(rdfDatatype);\n            this.fromRdfHandlers[rdfDatatype.value] = handler;\n        }\n        for (const javaScriptDataType of javaScriptDataTypes) {\n            let existingToRdfHandlers = this.toRdfHandlers[javaScriptDataType];\n            if (!existingToRdfHandlers) {\n                this.toRdfHandlers[javaScriptDataType] = existingToRdfHandlers = [];\n            }\n            existingToRdfHandlers.push(handler);\n        }\n    }\n    fromRdf(literal, validate) {\n        const handler = this.fromRdfHandlers[literal.datatype.value];\n        if (handler) {\n            return handler.fromRdf(literal, validate);\n        }\n        else {\n            return literal.value;\n        }\n    }\n    toRdf(value, options) {\n        const handlers = this.toRdfHandlers[typeof value];\n        if (handlers) {\n            for (const handler of handlers) {\n                const ret = handler.toRdf(value, options);\n                if (ret) {\n                    return ret;\n                }\n            }\n        }\n        throw new Error(`Invalid JavaScript value: '${value}'`);\n    }\n    /**\n     * @return {NamedNode[]} An array of all supported RDF datatypes.\n     */\n    getSupportedRdfDatatypes() {\n        return this.supportedRdfDatatypes;\n    }\n    /**\n     * @return {string[]} An array of all supported JavaScript types.\n     */\n    getSupportedJavaScriptPrimitives() {\n        return Object.keys(this.toRdfHandlers);\n    }\n}\nexports.Translator = Translator;\n//# sourceMappingURL=Translator.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeHandlerBoolean = void 0;\nconst Translator_1 = require(\"../Translator\");\n/**\n * Translates booleans.\n */\nclass TypeHandlerBoolean {\n    fromRdf(literal, validate) {\n        switch (literal.value) {\n            case 'true':\n                return true;\n            case 'false':\n                return false;\n            case '1':\n                return true;\n            case '0':\n                return false;\n        }\n        if (validate) {\n            Translator_1.Translator.incorrectRdfDataType(literal);\n        }\n        return false;\n    }\n    toRdf(value, { datatype, dataFactory }) {\n        return dataFactory.literal(value ? 'true' : 'false', datatype || dataFactory.namedNode(TypeHandlerBoolean.TYPE));\n    }\n}\nexports.TypeHandlerBoolean = TypeHandlerBoolean;\nTypeHandlerBoolean.TYPE = 'http://www.w3.org/2001/XMLSchema#boolean';\n//# sourceMappingURL=TypeHandlerBoolean.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeHandlerDate = void 0;\nconst Translator_1 = require(\"../Translator\");\n/**\n * Translates dates.\n */\nclass TypeHandlerDate {\n    fromRdf(literal, validate) {\n        if (validate && !literal.value.match(TypeHandlerDate\n            .VALIDATORS[literal.datatype.value.substr(33, literal.datatype.value.length)])) {\n            Translator_1.Translator.incorrectRdfDataType(literal);\n        }\n        switch (literal.datatype.value) {\n            case 'http://www.w3.org/2001/XMLSchema#gDay':\n                return new Date(0, 0, parseInt(literal.value, 10));\n            case 'http://www.w3.org/2001/XMLSchema#gMonthDay':\n                const partsMonthDay = literal.value.split('-');\n                return new Date(0, parseInt(partsMonthDay[0], 10) - 1, parseInt(partsMonthDay[1], 10));\n            case 'http://www.w3.org/2001/XMLSchema#gYear':\n                return new Date(literal.value + '-01-01');\n            case 'http://www.w3.org/2001/XMLSchema#gYearMonth':\n                return new Date(literal.value + '-01');\n            default:\n                return new Date(literal.value);\n        }\n    }\n    toRdf(value, { datatype, dataFactory }) {\n        datatype = datatype || dataFactory.namedNode(TypeHandlerDate.TYPES[0]);\n        // Assume date values\n        if (!(value instanceof Date)) {\n            return null;\n        }\n        const date = value;\n        let valueString;\n        switch (datatype.value) {\n            case 'http://www.w3.org/2001/XMLSchema#gDay':\n                valueString = String(date.getUTCDate());\n                break;\n            case 'http://www.w3.org/2001/XMLSchema#gMonthDay':\n                valueString = (date.getUTCMonth() + 1) + '-' + date.getUTCDate();\n                break;\n            case 'http://www.w3.org/2001/XMLSchema#gYear':\n                valueString = String(date.getUTCFullYear());\n                break;\n            case 'http://www.w3.org/2001/XMLSchema#gYearMonth':\n                valueString = date.getUTCFullYear() + '-' + (date.getUTCMonth() + 1);\n                break;\n            case 'http://www.w3.org/2001/XMLSchema#date':\n                valueString = date.toISOString().replace(/T.*$/, '');\n                break;\n            default:\n                valueString = date.toISOString();\n        }\n        return dataFactory.literal(valueString, datatype);\n    }\n}\nexports.TypeHandlerDate = TypeHandlerDate;\nTypeHandlerDate.TYPES = [\n    'http://www.w3.org/2001/XMLSchema#dateTime',\n    'http://www.w3.org/2001/XMLSchema#date',\n    'http://www.w3.org/2001/XMLSchema#gDay',\n    'http://www.w3.org/2001/XMLSchema#gMonthDay',\n    'http://www.w3.org/2001/XMLSchema#gYear',\n    'http://www.w3.org/2001/XMLSchema#gYearMonth',\n];\nTypeHandlerDate.VALIDATORS = {\n    date: /^[0-9]+-[0-9][0-9]-[0-9][0-9]Z?$/,\n    dateTime: /^[0-9]+-[0-9][0-9]-[0-9][0-9]T[0-9][0-9]:[0-9][0-9]:[0-9][0-9](\\.[0-9][0-9][0-9])?((Z?)|([\\+-][0-9][0-9]:[0-9][0-9]))$/,\n    gDay: /^[0-9]+$/,\n    gMonthDay: /^[0-9]+-[0-9][0-9]$/,\n    gYear: /^[0-9]+$/,\n    gYearMonth: /^[0-9]+-[0-9][0-9]$/,\n};\n//# sourceMappingURL=TypeHandlerDate.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeHandlerNumberDouble = void 0;\nconst Translator_1 = require(\"../Translator\");\n/**\n * Translates double numbers.\n */\nclass TypeHandlerNumberDouble {\n    fromRdf(literal, validate) {\n        const parsed = parseFloat(literal.value);\n        if (validate) {\n            if (isNaN(parsed)) {\n                Translator_1.Translator.incorrectRdfDataType(literal);\n            }\n            // TODO: validate more\n        }\n        return parsed;\n    }\n    toRdf(value, { datatype, dataFactory }) {\n        datatype = datatype || dataFactory.namedNode(TypeHandlerNumberDouble.TYPES[0]);\n        if (isNaN(value)) {\n            return dataFactory.literal('NaN', datatype);\n        }\n        if (!isFinite(value)) {\n            return dataFactory.literal(value > 0 ? 'INF' : '-INF', datatype);\n        }\n        if (value % 1 === 0) {\n            return null;\n        }\n        return dataFactory.literal(value.toExponential(15).replace(/(\\d)0*e\\+?/, '$1E'), datatype);\n    }\n}\nexports.TypeHandlerNumberDouble = TypeHandlerNumberDouble;\nTypeHandlerNumberDouble.TYPES = [\n    'http://www.w3.org/2001/XMLSchema#double',\n    'http://www.w3.org/2001/XMLSchema#decimal',\n    'http://www.w3.org/2001/XMLSchema#float',\n];\n//# sourceMappingURL=TypeHandlerNumberDouble.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeHandlerNumberInteger = void 0;\nconst Translator_1 = require(\"../Translator\");\n/**\n * Translates integer numbers.\n */\nclass TypeHandlerNumberInteger {\n    fromRdf(literal, validate) {\n        const parsed = parseInt(literal.value, 10);\n        if (validate) {\n            if (isNaN(parsed) || literal.value.indexOf('.') >= 0) {\n                Translator_1.Translator.incorrectRdfDataType(literal);\n            }\n            // TODO: validate more\n        }\n        return parsed;\n    }\n    toRdf(value, { datatype, dataFactory }) {\n        return dataFactory.literal(String(value), datatype\n            || (value <= TypeHandlerNumberInteger.MAX_INT && value >= TypeHandlerNumberInteger.MIN_INT\n                ? dataFactory.namedNode(TypeHandlerNumberInteger.TYPES[0])\n                : dataFactory.namedNode(TypeHandlerNumberInteger.TYPES[1])));\n    }\n}\nexports.TypeHandlerNumberInteger = TypeHandlerNumberInteger;\nTypeHandlerNumberInteger.TYPES = [\n    'http://www.w3.org/2001/XMLSchema#integer',\n    'http://www.w3.org/2001/XMLSchema#long',\n    'http://www.w3.org/2001/XMLSchema#int',\n    'http://www.w3.org/2001/XMLSchema#byte',\n    'http://www.w3.org/2001/XMLSchema#short',\n    'http://www.w3.org/2001/XMLSchema#negativeInteger',\n    'http://www.w3.org/2001/XMLSchema#nonNegativeInteger',\n    'http://www.w3.org/2001/XMLSchema#nonPositiveInteger',\n    'http://www.w3.org/2001/XMLSchema#positiveInteger',\n    'http://www.w3.org/2001/XMLSchema#unsignedByte',\n    'http://www.w3.org/2001/XMLSchema#unsignedInt',\n    'http://www.w3.org/2001/XMLSchema#unsignedLong',\n    'http://www.w3.org/2001/XMLSchema#unsignedShort',\n];\nTypeHandlerNumberInteger.MAX_INT = 2147483647;\nTypeHandlerNumberInteger.MIN_INT = -2147483648;\n//# sourceMappingURL=TypeHandlerNumberInteger.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeHandlerString = void 0;\n/**\n * Translates strings.\n */\nclass TypeHandlerString {\n    fromRdf(literal) {\n        return literal.value;\n    }\n    toRdf(value, { datatype, dataFactory }) {\n        return dataFactory.literal(value, datatype);\n    }\n}\nexports.TypeHandlerString = TypeHandlerString;\nTypeHandlerString.TYPES = [\n    'http://www.w3.org/2001/XMLSchema#string',\n    'http://www.w3.org/2001/XMLSchema#normalizedString',\n    'http://www.w3.org/2001/XMLSchema#anyURI',\n    'http://www.w3.org/2001/XMLSchema#base64Binary',\n    'http://www.w3.org/2001/XMLSchema#language',\n    'http://www.w3.org/2001/XMLSchema#Name',\n    'http://www.w3.org/2001/XMLSchema#NCName',\n    'http://www.w3.org/2001/XMLSchema#NMTOKEN',\n    'http://www.w3.org/2001/XMLSchema#token',\n    'http://www.w3.org/2001/XMLSchema#hexBinary',\n    'http://www.w3.org/1999/02/22-rdf-syntax-ns#langString',\n    'http://www.w3.org/2001/XMLSchema#time',\n    'http://www.w3.org/2001/XMLSchema#duration',\n];\n//# sourceMappingURL=TypeHandlerString.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./TypeHandlerBoolean\"), exports);\n__exportStar(require(\"./TypeHandlerDate\"), exports);\n__exportStar(require(\"./TypeHandlerNumberDouble\"), exports);\n__exportStar(require(\"./TypeHandlerNumberInteger\"), exports);\n__exportStar(require(\"./TypeHandlerString\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.termToString = exports.stringToTerm = exports.stringQuadToQuad = exports.quadToStringQuad = exports.getLiteralValue = exports.getLiteralType = exports.getLiteralLanguage = void 0;\nconst TermUtil_1 = require(\"./lib/TermUtil\");\nObject.defineProperty(exports, \"getLiteralLanguage\", { enumerable: true, get: function () { return TermUtil_1.getLiteralLanguage; } });\nObject.defineProperty(exports, \"getLiteralType\", { enumerable: true, get: function () { return TermUtil_1.getLiteralType; } });\nObject.defineProperty(exports, \"getLiteralValue\", { enumerable: true, get: function () { return TermUtil_1.getLiteralValue; } });\nObject.defineProperty(exports, \"quadToStringQuad\", { enumerable: true, get: function () { return TermUtil_1.quadToStringQuad; } });\nObject.defineProperty(exports, \"stringQuadToQuad\", { enumerable: true, get: function () { return TermUtil_1.stringQuadToQuad; } });\nObject.defineProperty(exports, \"stringToTerm\", { enumerable: true, get: function () { return TermUtil_1.stringToTerm; } });\nObject.defineProperty(exports, \"termToString\", { enumerable: true, get: function () { return TermUtil_1.termToString; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.stringQuadToQuad = exports.quadToStringQuad = exports.stringToTerm = exports.getLiteralLanguage = exports.getLiteralType = exports.getLiteralValue = exports.termToString = void 0;\nconst rdf_data_factory_1 = require(\"rdf-data-factory\");\nconst FACTORY = new rdf_data_factory_1.DataFactory();\n/**\n * Utility methods for converting between string-based RDF representations and RDFJS objects.\n *\n * RDF Terms are represented as follows:\n * * Blank nodes: '_:myBlankNode'\n * * Variables:   '_myVariable'\n * * Literals:    '\"myString\"', '\"myLanguageString\"@en-us', '\"<p>e</p>\"^^<http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML>'\n * * URIs:        '<http://example.org>'\n *\n * Quads/triples are represented as hashes with 'subject', 'predicate', 'object' and 'graph' (optional)\n * as keys, and string-based RDF terms as values.\n */\n/**\n * Convert an RDFJS term to a string-based representation.\n * @param {RDF.Term} term An RDFJS term.\n * @return {string} A string-based term representation.\n */\nfunction termToString(term) {\n    // TODO: remove nasty any casts when this TS bug has been fixed: https://github.com/microsoft/TypeScript/issues/26933\n    if (!term) {\n        return undefined;\n    }\n    switch (term.termType) {\n        case 'NamedNode': return ('<' + term.value + '>');\n        case 'BlankNode': return ('_:' + term.value);\n        case 'Literal':\n            const literalValue = term;\n            return ('\"' + literalValue.value.replace(/\"/ug, '\\\\\"') + '\"' +\n                (literalValue.datatype &&\n                    literalValue.datatype.value !== 'http://www.w3.org/2001/XMLSchema#string' &&\n                    literalValue.datatype.value !== 'http://www.w3.org/1999/02/22-rdf-syntax-ns#langString' ?\n                    '^^<' + literalValue.datatype.value + '>' : '') +\n                (literalValue.language ? '@' + literalValue.language : ''));\n        case 'Quad': return `<<${termToString(term.subject)} ${termToString(term.predicate)} ${termToString(term.object)}${term.graph.termType === 'DefaultGraph' ? '' : ' ' + termToString(term.graph)}>>`;\n        case 'Variable': return ('?' + term.value);\n        case 'DefaultGraph': return term.value;\n    }\n}\nexports.termToString = termToString;\n/**\n * Get the string value of a literal.\n * @param {string} literalValue An RDF literal enclosed by '\"'.\n * @return {string} The literal value inside the '\"'.\n */\nfunction getLiteralValue(literalValue) {\n    const match = /^\"([^]*)\"((\\^\\^.*)|(@.*))?$/.exec(literalValue);\n    if (!match) {\n        throw new Error(literalValue + ' is not a literal');\n    }\n    return match[1].replace(/\\\\\"/ug, '\"');\n}\nexports.getLiteralValue = getLiteralValue;\n/**\n * Get the datatype of the given literal.\n * @param {string} literalValue An RDF literal.\n * @return {string} The datatype of the literal.\n */\nfunction getLiteralType(literalValue) {\n    const match = /^\"[^]*\"(?:\\^\\^<([^\"]+)>|(@)[^@\"]+)?$/.exec(literalValue);\n    if (!match) {\n        throw new Error(literalValue + ' is not a literal');\n    }\n    return match[1] || (match[2]\n        ? 'http://www.w3.org/1999/02/22-rdf-syntax-ns#langString' : 'http://www.w3.org/2001/XMLSchema#string');\n}\nexports.getLiteralType = getLiteralType;\n/**\n * Get the language of the given literal.\n * @param {string} literalValue An RDF literal.\n * @return {string} The language of the literal.\n */\nfunction getLiteralLanguage(literalValue) {\n    const match = /^\"[^]*\"(?:@([^@\"]+)|\\^\\^[^\"]+)?$/.exec(literalValue);\n    if (!match) {\n        throw new Error(literalValue + ' is not a literal');\n    }\n    return match[1] ? match[1].toLowerCase() : '';\n}\nexports.getLiteralLanguage = getLiteralLanguage;\n/**\n * Transform a string-based RDF term to an RDFJS term.\n * @param {string} value A string-based RDF-term.\n * @param {RDF.DataFactory} dataFactory An optional datafactory to create terms with.\n * @return {RDF.Term} An RDF-JS term.\n */\nfunction stringToTerm(value, dataFactory) {\n    dataFactory = dataFactory || FACTORY;\n    if (!value || !value.length) {\n        return dataFactory.defaultGraph();\n    }\n    switch (value[0]) {\n        case '_': return dataFactory.blankNode(value.substr(2));\n        case '?':\n            if (!dataFactory.variable) {\n                throw new Error(`Missing 'variable()' method on the given DataFactory`);\n            }\n            return dataFactory.variable(value.substr(1));\n        case '\"':\n            const language = getLiteralLanguage(value);\n            const type = dataFactory.namedNode(getLiteralType(value));\n            return dataFactory.literal(getLiteralValue(value), language || type);\n        case '<':\n        default:\n            if (value.startsWith('<<') && value.endsWith('>>')) {\n                // Iterate character-by-character to detect spaces that are *not* wrapped in <<>>\n                const terms = value.slice(2, -2);\n                const stringTerms = [];\n                let ignoreTags = 0;\n                let lastIndex = 0;\n                for (let i = 0; i < terms.length; i++) {\n                    const char = terms[i];\n                    if (char === '<')\n                        ignoreTags++;\n                    if (char === '>') {\n                        if (ignoreTags === 0) {\n                            throw new Error('Found closing tag without opening tag in ' + value);\n                        }\n                        else {\n                            ignoreTags--;\n                        }\n                    }\n                    if (char === ' ' && ignoreTags === 0) {\n                        stringTerms.push(terms.slice(lastIndex, i));\n                        lastIndex = i + 1;\n                    }\n                }\n                if (ignoreTags !== 0) {\n                    throw new Error('Found opening tag without closing tag in ' + value);\n                }\n                stringTerms.push(terms.slice(lastIndex, terms.length));\n                // We require 3 or 4 components\n                if (stringTerms.length !== 3 && stringTerms.length !== 4) {\n                    throw new Error('Nested quad syntax error ' + value);\n                }\n                return dataFactory.quad(stringToTerm(stringTerms[0]), stringToTerm(stringTerms[1]), stringToTerm(stringTerms[2]), stringTerms[3] ? stringToTerm(stringTerms[3]) : undefined);\n            }\n            if (value.charAt(0) !== '<' || value.charAt(value.length - 1) !== '>') {\n                throw new Error(`Detected invalid iri for named node (must be wrapped in <>): ${value}`);\n            }\n            return dataFactory.namedNode(value.substring(1, value.length - 1));\n    }\n}\nexports.stringToTerm = stringToTerm;\n/**\n * Convert an RDFJS quad to a string-based quad representation.\n * @param {Quad} q An RDFJS quad.\n * @return {IStringQuad} A hash with string-based quad terms.\n * @template Q The type of quad, defaults to RDF.Quad.\n */\nfunction quadToStringQuad(q) {\n    // tslint:disable:object-literal-sort-keys\n    return {\n        subject: termToString(q.subject),\n        predicate: termToString(q.predicate),\n        object: termToString(q.object),\n        graph: termToString(q.graph),\n    };\n    // tslint:enable:object-literal-sort-keys\n}\nexports.quadToStringQuad = quadToStringQuad;\n/**\n * Convert a string-based quad representation to an RDFJS quad.\n * @param {IStringQuad} stringQuad A hash with string-based quad terms.\n * @param {RDF.DataFactory} dataFactory An optional datafactory to create terms with.\n * @return {Q} An RDFJS quad.\n * @template Q The type of quad, defaults to RDF.Quad.\n */\nfunction stringQuadToQuad(stringQuad, dataFactory) {\n    dataFactory = dataFactory || FACTORY;\n    return dataFactory.quad(stringToTerm(stringQuad.subject, dataFactory), stringToTerm(stringQuad.predicate, dataFactory), stringToTerm(stringQuad.object, dataFactory), stringToTerm(stringQuad.graph, dataFactory));\n}\nexports.stringQuadToQuad = stringQuadToQuad;\n//# sourceMappingURL=TermUtil.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.termToString = exports.stringToTerm = exports.stringQuadToQuad = exports.quadToStringQuad = exports.getLiteralValue = exports.getLiteralType = exports.getLiteralLanguage = void 0;\nconst TermUtil_1 = require(\"./lib/TermUtil\");\nObject.defineProperty(exports, \"getLiteralLanguage\", { enumerable: true, get: function () { return TermUtil_1.getLiteralLanguage; } });\nObject.defineProperty(exports, \"getLiteralType\", { enumerable: true, get: function () { return TermUtil_1.getLiteralType; } });\nObject.defineProperty(exports, \"getLiteralValue\", { enumerable: true, get: function () { return TermUtil_1.getLiteralValue; } });\nObject.defineProperty(exports, \"quadToStringQuad\", { enumerable: true, get: function () { return TermUtil_1.quadToStringQuad; } });\nObject.defineProperty(exports, \"stringQuadToQuad\", { enumerable: true, get: function () { return TermUtil_1.stringQuadToQuad; } });\nObject.defineProperty(exports, \"stringToTerm\", { enumerable: true, get: function () { return TermUtil_1.stringToTerm; } });\nObject.defineProperty(exports, \"termToString\", { enumerable: true, get: function () { return TermUtil_1.termToString; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.stringQuadToQuad = exports.quadToStringQuad = exports.stringToTerm = exports.getLiteralLanguage = exports.getLiteralType = exports.getLiteralValue = exports.termToString = void 0;\nconst rdf_data_factory_1 = require(\"rdf-data-factory\");\nconst FACTORY = new rdf_data_factory_1.DataFactory();\n/**\n * Utility methods for converting between string-based RDF representations and RDFJS objects.\n *\n * RDF Terms are represented as follows:\n * * Blank nodes: '_:myBlankNode'\n * * Variables:   '?myVariable'\n * * Literals:    '\"myString\"', '\"myLanguageString\"@en-us', '\"3\"^^xsd:number'\n * * URIs:        'http://example.org'\n *\n * Quads/triples are represented as hashes with 'subject', 'predicate', 'object' and 'graph' (optional)\n * as keys, and string-based RDF terms as values.\n */\n/**\n * Convert an RDFJS term to a string-based representation.\n * @param {RDF.Term} term An RDFJS term.\n * @return {string} A string-based term representation.\n */\nfunction termToString(term) {\n    // TODO: remove nasty any casts when this TS bug has been fixed: https://github.com/microsoft/TypeScript/issues/26933\n    if (!term) {\n        return undefined;\n    }\n    switch (term.termType) {\n        case 'NamedNode': return term.value;\n        case 'BlankNode': return ('_:' + term.value);\n        case 'Literal':\n            const literalValue = term;\n            return ('\"' + literalValue.value + '\"' +\n                (literalValue.datatype &&\n                    literalValue.datatype.value !== 'http://www.w3.org/2001/XMLSchema#string' &&\n                    literalValue.datatype.value !== 'http://www.w3.org/1999/02/22-rdf-syntax-ns#langString' ?\n                    '^^' + literalValue.datatype.value : '') +\n                (literalValue.language ? '@' + literalValue.language : ''));\n        case 'Quad': return `<<${termToString(term.subject)} ${termToString(term.predicate)} ${termToString(term.object)}${term.graph.termType === 'DefaultGraph' ? '' : ' ' + termToString(term.graph)}>>`;\n        case 'Variable': return ('?' + term.value);\n        case 'DefaultGraph': return term.value;\n    }\n}\nexports.termToString = termToString;\n/**\n * Get the string value of a literal.\n * @param {string} literalValue An RDF literal enclosed by '\"'.\n * @return {string} The literal value inside the '\"'.\n */\nfunction getLiteralValue(literalValue) {\n    const match = /^\"([^]*)\"/.exec(literalValue);\n    if (!match) {\n        throw new Error(literalValue + ' is not a literal');\n    }\n    return match[1];\n}\nexports.getLiteralValue = getLiteralValue;\n/**\n * Get the datatype of the given literal.\n * @param {string} literalValue An RDF literal.\n * @return {string} The datatype of the literal.\n */\nfunction getLiteralType(literalValue) {\n    const match = /^\"[^]*\"(?:\\^\\^([^\"]+)|(@)[^@\"]+)?$/.exec(literalValue);\n    if (!match) {\n        throw new Error(literalValue + ' is not a literal');\n    }\n    return match[1] || (match[2]\n        ? 'http://www.w3.org/1999/02/22-rdf-syntax-ns#langString' : 'http://www.w3.org/2001/XMLSchema#string');\n}\nexports.getLiteralType = getLiteralType;\n/**\n * Get the language of the given literal.\n * @param {string} literalValue An RDF literal.\n * @return {string} The language of the literal.\n */\nfunction getLiteralLanguage(literalValue) {\n    const match = /^\"[^]*\"(?:@([^@\"]+)|\\^\\^[^\"]+)?$/.exec(literalValue);\n    if (!match) {\n        throw new Error(literalValue + ' is not a literal');\n    }\n    return match[1] ? match[1].toLowerCase() : '';\n}\nexports.getLiteralLanguage = getLiteralLanguage;\n/**\n * Transform a string-based RDF term to an RDFJS term.\n * @param {string} value A string-based RDF-term.\n * @param {RDF.DataFactory} dataFactory An optional datafactory to create terms with.\n * @return {RDF.Term} An RDF-JS term.\n */\nfunction stringToTerm(value, dataFactory) {\n    dataFactory = dataFactory || FACTORY;\n    if (!value || !value.length) {\n        return dataFactory.defaultGraph();\n    }\n    switch (value[0]) {\n        case '_': return dataFactory.blankNode(value.substr(2));\n        case '?':\n            if (!dataFactory.variable) {\n                throw new Error(`Missing 'variable()' method on the given DataFactory`);\n            }\n            return dataFactory.variable(value.substr(1));\n        case '\"':\n            const language = getLiteralLanguage(value);\n            const type = dataFactory.namedNode(getLiteralType(value));\n            return dataFactory.literal(getLiteralValue(value), language || type);\n        case '<':\n        default:\n            if (value.startsWith('<<') && value.endsWith('>>')) {\n                // Iterate character-by-character to detect spaces that are *not* wrapped in <<>>\n                const terms = value.slice(2, -2);\n                const stringTerms = [];\n                let ignoreTags = 0;\n                let lastIndex = 0;\n                for (let i = 0; i < terms.length; i++) {\n                    const char = terms[i];\n                    if (char === '<')\n                        ignoreTags++;\n                    if (char === '>') {\n                        if (ignoreTags === 0) {\n                            throw new Error('Found closing tag without opening tag in ' + value);\n                        }\n                        else {\n                            ignoreTags--;\n                        }\n                    }\n                    if (char === ' ' && ignoreTags === 0) {\n                        stringTerms.push(terms.slice(lastIndex, i));\n                        lastIndex = i + 1;\n                    }\n                }\n                if (ignoreTags !== 0) {\n                    throw new Error('Found opening tag without closing tag in ' + value);\n                }\n                stringTerms.push(terms.slice(lastIndex, terms.length));\n                // We require 3 or 4 components\n                if (stringTerms.length !== 3 && stringTerms.length !== 4) {\n                    throw new Error('Nested quad syntax error ' + value);\n                }\n                return dataFactory.quad(stringToTerm(stringTerms[0]), stringToTerm(stringTerms[1]), stringToTerm(stringTerms[2]), stringTerms[3] ? stringToTerm(stringTerms[3]) : undefined);\n            }\n            return dataFactory.namedNode(value);\n    }\n}\nexports.stringToTerm = stringToTerm;\n/**\n * Convert an RDFJS quad to a string-based quad representation.\n * @param {Quad} q An RDFJS quad.\n * @return {IStringQuad} A hash with string-based quad terms.\n * @template Q The type of quad, defaults to RDF.Quad.\n */\nfunction quadToStringQuad(q) {\n    // tslint:disable:object-literal-sort-keys\n    return {\n        subject: termToString(q.subject),\n        predicate: termToString(q.predicate),\n        object: termToString(q.object),\n        graph: termToString(q.graph),\n    };\n    // tslint:enable:object-literal-sort-keys\n}\nexports.quadToStringQuad = quadToStringQuad;\n/**\n * Convert a string-based quad representation to an RDFJS quad.\n * @param {IStringQuad} stringQuad A hash with string-based quad terms.\n * @param {RDF.DataFactory} dataFactory An optional datafactory to create terms with.\n * @return {Q} An RDFJS quad.\n * @template Q The type of quad, defaults to RDF.Quad.\n */\nfunction stringQuadToQuad(stringQuad, dataFactory) {\n    dataFactory = dataFactory || FACTORY;\n    return dataFactory.quad(stringToTerm(stringQuad.subject, dataFactory), stringToTerm(stringQuad.predicate, dataFactory), stringToTerm(stringQuad.object, dataFactory), stringToTerm(stringQuad.graph, dataFactory));\n}\nexports.stringQuadToQuad = stringQuadToQuad;\n//# sourceMappingURL=TermUtil.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./lib/QuadTermUtil\"), exports);\n__exportStar(require(\"./lib/TermUtil\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.matchPatternMappings = exports.matchPatternComplete = exports.matchPattern = exports.matchTerm = exports.someTerms = exports.everyTerms = exports.reduceTerms = exports.mapTerms = exports.filterQuadTermNames = exports.filterTerms = exports.forEachTerms = exports.collectNamedTerms = exports.getNamedTerms = exports.getTermsNested = exports.getTerms = exports.TRIPLE_TERM_NAMES = exports.QUAD_TERM_NAMES = void 0;\nconst rdf_data_factory_1 = require(\"rdf-data-factory\");\nconst DF = new rdf_data_factory_1.DataFactory();\n/**\n * All available quad term names.\n * @type {[string , string , string , string]}\n */\nexports.QUAD_TERM_NAMES = ['subject', 'predicate', 'object', 'graph'];\n/**\n * All available triple term names.\n * @type {[string , string , string]}\n */\nexports.TRIPLE_TERM_NAMES = ['subject', 'predicate', 'object'];\n/**\n * Get all terms in the given quad.\n * @param {BaseQuad} quad An RDFJS quad.\n * @param {boolean} ignoreDefaultGraph If true and the quad has the default graph as graph,\n *                                     this term will not be returned in the array.\n *                                     (default: false)\n * @return {Term[]} The available terms in the quad.\n */\nfunction getTerms(quad, ignoreDefaultGraph) {\n    if (ignoreDefaultGraph && quad.graph.termType === 'DefaultGraph') {\n        return [quad.subject, quad.predicate, quad.object];\n    }\n    return [quad.subject, quad.predicate, quad.object, quad.graph];\n}\nexports.getTerms = getTerms;\n/**\n * Get all terms in the given quad, including nested quads.\n * @param {BaseQuad} quad An RDFJS quad.\n * @param {boolean} ignoreDefaultGraph If true and the quad has the default graph as graph,\n *                                     this term will not be returned in the array.\n *                                     (default: false)\n * @return {Term[]} The available terms in the nested quad, excluding quad terms.\n */\nfunction getTermsNested(quad, ignoreDefaultGraph) {\n    const terms = [];\n    for (const term of getTerms(quad, ignoreDefaultGraph)) {\n        if (term.termType === 'Quad') {\n            getTermsNested(term, ignoreDefaultGraph).forEach(subTerm => terms.push(subTerm));\n        }\n        else {\n            terms.push(term);\n        }\n    }\n    return terms;\n}\nexports.getTermsNested = getTermsNested;\n/**\n * Convert the given quad to an array of named terms.\n * This is the reverse operation of {@link collectNamedTerms}.\n * @param {BaseQuad} quad An RDFJS quad.\n * @return {INamedTerm[]} An array of named terms.\n */\nfunction getNamedTerms(quad) {\n    return [\n        { key: 'subject', value: quad.subject },\n        { key: 'predicate', value: quad.predicate },\n        { key: 'object', value: quad.object },\n        { key: 'graph', value: quad.graph },\n    ];\n}\nexports.getNamedTerms = getNamedTerms;\n/**\n * Convert an array of named terms to an RDFJS quad.\n * This is the reverse operation of {@link getNamedTerms}.\n * @param {INamedTerm[]} namedTerms An array of named terms.\n * @param {(termName: QuadTermName) => Term} defaultCb An optional callback for when\n *                                                     certain terms are not available in the array.\n * @param {RDF.DataFactory} dataFactory A custom data factory to create quads.\n * @return {Q} The resulting RDFJS quad.\n * @template Q The type of quad to output, defaults to RDF.Quad.\n */\nfunction collectNamedTerms(namedTerms, defaultCb, dataFactory) {\n    const elements = {};\n    namedTerms.forEach((namedTerm) => elements[namedTerm.key] = namedTerm.value);\n    if (defaultCb) {\n        elements.subject = elements.subject || defaultCb('subject');\n        elements.predicate = elements.predicate || defaultCb('predicate');\n        elements.object = elements.object || defaultCb('object');\n        elements.graph = elements.graph || defaultCb('graph');\n    }\n    return (dataFactory || DF).quad(elements.subject, elements.predicate, elements.object, elements.graph);\n}\nexports.collectNamedTerms = collectNamedTerms;\n/**\n * Iterats over each term.\n * @param {BaseQuad} quad An RDFJS quad.\n * @param {(value: Term, key: QuadTermName} cb A callback function.\n */\nfunction forEachTerms(quad, cb) {\n    cb(quad.subject, 'subject');\n    cb(quad.predicate, 'predicate');\n    cb(quad.object, 'object');\n    cb(quad.graph, 'graph');\n}\nexports.forEachTerms = forEachTerms;\n/**\n * Get all terms in the given quad that return true on the given filter function.\n * @param {BaseQuad} quad A quad.\n * @param {(value: Term, key: QuadTermName) => boolean} filter A filter callback.\n * @return {Term[]} The list of matching terms.\n */\nfunction filterTerms(quad, filter) {\n    const terms = [];\n    if (filter(quad.subject, 'subject')) {\n        terms.push(quad.subject);\n    }\n    if (filter(quad.predicate, 'predicate')) {\n        terms.push(quad.predicate);\n    }\n    if (filter(quad.object, 'object')) {\n        terms.push(quad.object);\n    }\n    if (filter(quad.graph, 'graph')) {\n        terms.push(quad.graph);\n    }\n    return terms;\n}\nexports.filterTerms = filterTerms;\n/**\n * Get all quad term names in the given quad that return true on the given filter function.\n * @param {BaseQuad} quad A quad.\n * @param {(value: Term, key: QuadTermName, all: INamedTerm[]) => boolean} filter A filter callback.\n * @return {QuadTermName[]} The list of matching quad term names.\n */\nfunction filterQuadTermNames(quad, filter) {\n    const names = [];\n    if (filter(quad.subject, 'subject')) {\n        names.push('subject');\n    }\n    if (filter(quad.predicate, 'predicate')) {\n        names.push('predicate');\n    }\n    if (filter(quad.object, 'object')) {\n        names.push('object');\n    }\n    if (filter(quad.graph, 'graph')) {\n        names.push('graph');\n    }\n    return names;\n}\nexports.filterQuadTermNames = filterQuadTermNames;\n/**\n * Map all terms of a quad.\n * @param {Quad} quad An RDFJS quad.\n * @param {(value: Term, key: QuadTermName) => Term} mapper A mapper function.\n * @param {RDF.DataFactory} dataFactory A custom data factory to create quads.\n * @return {Quad} A new RDFJS quad.\n * @template Q The type of quad, defaults to RDF.Quad.\n */\nfunction mapTerms(quad, mapper, dataFactory) {\n    return (dataFactory || DF).quad(mapper(quad.subject, 'subject'), mapper(quad.predicate, 'predicate'), mapper(quad.object, 'object'), mapper(quad.graph, 'graph'));\n}\nexports.mapTerms = mapTerms;\n/**\n * Reduce all terms of a quad.\n * @param {BaseQuad} quad An RDFJS quad.\n * @param {(previousValue: U, currentValue: Term, key: QuadTermName) => U} reducer A reduce function.\n * @param {U} initialValue The initial value.\n * @return {U} The final value.\n */\nfunction reduceTerms(quad, reducer, initialValue) {\n    let value = initialValue;\n    value = reducer(value, quad.subject, 'subject');\n    value = reducer(value, quad.predicate, 'predicate');\n    value = reducer(value, quad.object, 'object');\n    return reducer(value, quad.graph, 'graph');\n}\nexports.reduceTerms = reduceTerms;\n/**\n * Determines whether all terms satisfy the specified test.\n * @param {BaseQuad} quad An RDFJS quad.\n * @param {(value: Term, key: QuadTermName} checker A checker function.\n * @return {boolean} If all terms satisfy the specified test.\n */\nfunction everyTerms(quad, checker) {\n    return checker(quad.subject, 'subject')\n        && checker(quad.predicate, 'predicate')\n        && checker(quad.object, 'object')\n        && checker(quad.graph, 'graph');\n}\nexports.everyTerms = everyTerms;\n/**\n * Determines whether at least one term satisfies the specified test.\n * @param {BaseQuad} quad An RDFJS quad.\n * @param {(value: Term, key: QuadTermName} checker A checker function.\n * @return {boolean} If at least one term satisfies the specified test.\n */\nfunction someTerms(quad, checker) {\n    return checker(quad.subject, 'subject')\n        || checker(quad.predicate, 'predicate')\n        || checker(quad.object, 'object')\n        || checker(quad.graph, 'graph');\n}\nexports.someTerms = someTerms;\n/**\n * Check if the given terms match.\n *\n * At least one of the following must be true:\n * * Term B is undefined.\n * * Term B is a variable.\n * * Term A and B are quads, and return true for `matchPatternComplete`.\n * * Quad term and term are equal (`termB.equals(termA)` return true)\n *\n * @param termA A term.\n * @param termB An optional term.\n */\nfunction matchTerm(termA, termB) {\n    return !termB\n        || termB.termType === 'Variable'\n        || (termB.termType === 'Quad' && termA.termType === 'Quad' && matchPatternComplete(termA, termB))\n        || termB.equals(termA);\n}\nexports.matchTerm = matchTerm;\n/**\n * Check if the given quad matches with the given quad terms.\n *\n * Each term must match at least one of the following:\n * * Term is undefined.\n * * Term is a variable.\n * * Quad term and term are both quads, and return true for `matchPatternComplete`.\n * * Quad term and term are equal (`quadTerm.equals(term)` return true)\n *\n * @param {BaseQuad} quad A quad to match with (can not contain variables).\n * @param {Term} subject An optional subject.\n * @param {Term} predicate An optional predicate.\n * @param {Term} object An optional object.\n * @param {Term} graph An optional graph.\n * @return {boolean} If the quad matches with the quad terms.\n */\nfunction matchPattern(quad, subject, predicate, object, graph) {\n    return matchTerm(quad.subject, subject)\n        && matchTerm(quad.predicate, predicate)\n        && matchTerm(quad.object, object)\n        && matchTerm(quad.graph, graph);\n}\nexports.matchPattern = matchPattern;\n/**\n * Check if the first quad matches with all terms from the second quad.\n *\n * Each term must match at least one of the following:\n * * Quad2 term is a variable.\n * * Quad1 term and Quad2 term are equal (`term1.equals(term2)` return true)\n *\n * @param {BaseQuad} quad A quad (can not contain variables).\n * @param {BaseQuad} pattern A quad pattern (can contain variables).\n * @return {boolean} If the quad terms match.\n */\nfunction matchPatternComplete(quad, pattern) {\n    return matchPattern(quad, pattern.subject, pattern.predicate, pattern.object, pattern.graph);\n}\nexports.matchPatternComplete = matchPatternComplete;\n/**\n * Check if the first quad matches against all terms in the pattern,\n * by taking into account the mappings of the variables.\n * If the same variable occurs multiple times in the pattern,\n * then the corresponding terms in the quad must be equal.\n *\n * Each term in the quad must satisfy the following:\n * * The pattern term is a variable, and all other variables with the same value - map to the same terms in the quad\n * * Both the quad term and pattern term are quads - and they satisfy the same conditions\n * * The pattern and quad terms are equal and not variables or quads\n *\n * @param quad A quad - possibly containing variables\n * @param pattern A pattern - possibly containing variables\n */\nfunction matchPatternMappings(quad, pattern) {\n    const mapping = {};\n    function match(_pattern, _quad) {\n        return everyTerms(_pattern, (term, key) => {\n            switch (term.termType) {\n                case 'Quad':\n                    return _quad[key].termType === 'Quad' && match(term, _quad[key]);\n                case 'Variable':\n                    return term.value in mapping ?\n                        mapping[term.value].equals(_quad[key]) :\n                        ((mapping[term.value] = _quad[key]) && true);\n                default:\n                    return term.equals(_quad[key]);\n            }\n        });\n    }\n    return match(pattern, quad);\n}\nexports.matchPatternMappings = matchPatternMappings;\n//# sourceMappingURL=QuadTermUtil.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getQuads = exports.getDefaultGraphs = exports.getVariables = exports.getLiterals = exports.getBlankNodes = exports.getNamedNodes = exports.getTermsOfType = exports.uniqTerms = exports.TERM_TYPES = void 0;\nconst rdf_string_1 = require(\"rdf-string\");\n/**\n * All known term types.\n * @see RDF.Term\n * @type {[string , string , string , string , string, string]}\n */\nexports.TERM_TYPES = ['NamedNode', 'BlankNode', 'Literal', 'Variable', 'DefaultGraph', 'Quad'];\n/*\n * Utility methods for handling RDFJS terms.\n */\n/**\n * Create an array of unique terms from the given array.\n * @param {T[]} terms An array of RDFJS terms.\n * @return {T[]} A new array of unique RDFJS terms.\n */\nfunction uniqTerms(terms) {\n    const hash = {};\n    return terms.filter(term => {\n        const termString = rdf_string_1.termToString(term);\n        return !(termString in hash) && (hash[termString] = true);\n    });\n}\nexports.uniqTerms = uniqTerms;\n/**\n * Find all terms of the given type in the given array.\n * @param {Term[]} terms An array of RDFJS terms.\n * @param {\"NamedNode\" | \"BlankNode\" | \"Literal\" | \"Variable\" | \"DefaultGraph\" | \"Quad\"} termType A term type.\n * @return {Term[]} A new array with elements from the given array only containing elements of the given type.\n */\nfunction getTermsOfType(terms, termType) {\n    return terms.filter((term) => term.termType === termType);\n}\nexports.getTermsOfType = getTermsOfType;\n/**\n * Find all named nodes in the given array.\n * @param {Term[]} terms An array of RDFJS terms.\n * @return {NamedNode[]} A new array with elements from the given array only containing named nodes.\n */\nfunction getNamedNodes(terms) {\n    return getTermsOfType(terms, 'NamedNode');\n}\nexports.getNamedNodes = getNamedNodes;\n/**\n * Find all blank nodes in the given array.\n * @param {Term[]} terms An array of RDFJS terms.\n * @return {BlankNode[]} A new array with elements from the given array only containing blank nodes.\n */\nfunction getBlankNodes(terms) {\n    return getTermsOfType(terms, 'BlankNode');\n}\nexports.getBlankNodes = getBlankNodes;\n/**\n * Find all literals in the given array.\n * @param {Term[]} terms An array of RDFJS terms.\n * @return {Literal[]} A new array with elements from the given array only containing literals.\n */\nfunction getLiterals(terms) {\n    return getTermsOfType(terms, 'Literal');\n}\nexports.getLiterals = getLiterals;\n/**\n * Find all variables in the given array.\n * @param {Term[]} terms An array of RDFJS terms.\n * @return {Variable[]} A new array with elements from the given array only containing variables.\n */\nfunction getVariables(terms) {\n    return getTermsOfType(terms, 'Variable');\n}\nexports.getVariables = getVariables;\n/**\n * Find all default graphs in the given array.\n * @param {Term[]} terms An array of RDFJS terms.\n * @return {DefaultGraph[]} A new array with elements from the given array only containing default graphs.\n */\nfunction getDefaultGraphs(terms) {\n    return getTermsOfType(terms, 'DefaultGraph');\n}\nexports.getDefaultGraphs = getDefaultGraphs;\n/**\n * Find all quads in the given array.\n * @param {Term[]} terms An array of RDFJS terms.\n * @return {BaseQuad[]} A new array with elements from the given array only containing quads.\n */\nfunction getQuads(terms) {\n    return getTermsOfType(terms, 'Quad');\n}\nexports.getQuads = getQuads;\n//# sourceMappingURL=TermUtil.js.map","\n/* global ReadableStream */\n\nmodule.exports = nodeToWeb\nmodule.exports.WEBSTREAM_SUPPORT = typeof ReadableStream !== 'undefined'\n\nfunction nodeToWeb (nodeStream) {\n  // Assumes the nodeStream has not ended/closed\n  if (!module.exports.WEBSTREAM_SUPPORT) throw new Error('No web ReadableStream support')\n\n  var destroyed = false\n  var listeners = {}\n\n  function start (controller) {\n    listeners['data'] = onData\n    listeners['end'] = onData\n    listeners['end'] = onDestroy\n    listeners['close'] = onDestroy\n    listeners['error'] = onDestroy\n    for (var name in listeners) nodeStream.on(name, listeners[name])\n\n    nodeStream.pause()\n\n    function onData (chunk) {\n      if (destroyed) return\n      controller.enqueue(chunk)\n      nodeStream.pause()\n    }\n\n    function onDestroy (err) {\n      if (destroyed) return\n      destroyed = true\n\n      for (var name in listeners) nodeStream.removeListener(name, listeners[name])\n\n      if (err) controller.error(err)\n      else controller.close()\n    }\n  }\n\n  function pull () {\n    if (destroyed) return\n    nodeStream.resume()\n  }\n\n  function cancel () {\n    destroyed = true\n\n    for (var name in listeners) nodeStream.removeListener(name, listeners[name])\n\n    nodeStream.push(null)\n    nodeStream.pause()\n    if (nodeStream.destroy) nodeStream.destroy()\n    else if (nodeStream.close) nodeStream.close()\n  }\n\n  return new ReadableStream({start: start, pull: pull, cancel: cancel})\n}\n","'use strict'\n\nconst { AbortError, codes } = require('../../ours/errors')\n\nconst eos = require('./end-of-stream')\n\nconst { ERR_INVALID_ARG_TYPE } = codes // This method is inlined here for readable-stream\n// It also does not allow for signal to not exist on the stream\n// https://github.com/nodejs/node/pull/36061#discussion_r533718029\n\nconst validateAbortSignal = (signal, name) => {\n  if (typeof signal !== 'object' || !('aborted' in signal)) {\n    throw new ERR_INVALID_ARG_TYPE(name, 'AbortSignal', signal)\n  }\n}\n\nfunction isNodeStream(obj) {\n  return !!(obj && typeof obj.pipe === 'function')\n}\n\nmodule.exports.addAbortSignal = function addAbortSignal(signal, stream) {\n  validateAbortSignal(signal, 'signal')\n\n  if (!isNodeStream(stream)) {\n    throw new ERR_INVALID_ARG_TYPE('stream', 'stream.Stream', stream)\n  }\n\n  return module.exports.addAbortSignalNoValidate(signal, stream)\n}\n\nmodule.exports.addAbortSignalNoValidate = function (signal, stream) {\n  if (typeof signal !== 'object' || !('aborted' in signal)) {\n    return stream\n  }\n\n  const onAbort = () => {\n    stream.destroy(\n      new AbortError(undefined, {\n        cause: signal.reason\n      })\n    )\n  }\n\n  if (signal.aborted) {\n    onAbort()\n  } else {\n    signal.addEventListener('abort', onAbort)\n    eos(stream, () => signal.removeEventListener('abort', onAbort))\n  }\n\n  return stream\n}\n","'use strict'\n\nconst { StringPrototypeSlice, SymbolIterator, TypedArrayPrototypeSet, Uint8Array } = require('../../ours/primordials')\n\nconst { inspect } = require('../../ours/util')\n\nmodule.exports = class BufferList {\n  constructor() {\n    this.head = null\n    this.tail = null\n    this.length = 0\n  }\n\n  push(v) {\n    const entry = {\n      data: v,\n      next: null\n    }\n    if (this.length > 0) this.tail.next = entry\n    else this.head = entry\n    this.tail = entry\n    ++this.length\n  }\n\n  unshift(v) {\n    const entry = {\n      data: v,\n      next: this.head\n    }\n    if (this.length === 0) this.tail = entry\n    this.head = entry\n    ++this.length\n  }\n\n  shift() {\n    if (this.length === 0) return\n    const ret = this.head.data\n    if (this.length === 1) this.head = this.tail = null\n    else this.head = this.head.next\n    --this.length\n    return ret\n  }\n\n  clear() {\n    this.head = this.tail = null\n    this.length = 0\n  }\n\n  join(s) {\n    if (this.length === 0) return ''\n    let p = this.head\n    let ret = '' + p.data\n\n    while ((p = p.next) !== null) ret += s + p.data\n\n    return ret\n  }\n\n  concat(n) {\n    if (this.length === 0) return Buffer.alloc(0)\n    const ret = Buffer.allocUnsafe(n >>> 0)\n    let p = this.head\n    let i = 0\n\n    while (p) {\n      TypedArrayPrototypeSet(ret, p.data, i)\n      i += p.data.length\n      p = p.next\n    }\n\n    return ret\n  } // Consumes a specified amount of bytes or characters from the buffered data.\n\n  consume(n, hasStrings) {\n    const data = this.head.data\n\n    if (n < data.length) {\n      // `slice` is the same for buffers and strings.\n      const slice = data.slice(0, n)\n      this.head.data = data.slice(n)\n      return slice\n    }\n\n    if (n === data.length) {\n      // First chunk is a perfect match.\n      return this.shift()\n    } // Result spans more than one buffer.\n\n    return hasStrings ? this._getString(n) : this._getBuffer(n)\n  }\n\n  first() {\n    return this.head.data\n  }\n\n  *[SymbolIterator]() {\n    for (let p = this.head; p; p = p.next) {\n      yield p.data\n    }\n  } // Consumes a specified amount of characters from the buffered data.\n\n  _getString(n) {\n    let ret = ''\n    let p = this.head\n    let c = 0\n\n    do {\n      const str = p.data\n\n      if (n > str.length) {\n        ret += str\n        n -= str.length\n      } else {\n        if (n === str.length) {\n          ret += str\n          ++c\n          if (p.next) this.head = p.next\n          else this.head = this.tail = null\n        } else {\n          ret += StringPrototypeSlice(str, 0, n)\n          this.head = p\n          p.data = StringPrototypeSlice(str, n)\n        }\n\n        break\n      }\n\n      ++c\n    } while ((p = p.next) !== null)\n\n    this.length -= c\n    return ret\n  } // Consumes a specified amount of bytes from the buffered data.\n\n  _getBuffer(n) {\n    const ret = Buffer.allocUnsafe(n)\n    const retLen = n\n    let p = this.head\n    let c = 0\n\n    do {\n      const buf = p.data\n\n      if (n > buf.length) {\n        TypedArrayPrototypeSet(ret, buf, retLen - n)\n        n -= buf.length\n      } else {\n        if (n === buf.length) {\n          TypedArrayPrototypeSet(ret, buf, retLen - n)\n          ++c\n          if (p.next) this.head = p.next\n          else this.head = this.tail = null\n        } else {\n          TypedArrayPrototypeSet(ret, new Uint8Array(buf.buffer, buf.byteOffset, n), retLen - n)\n          this.head = p\n          p.data = buf.slice(n)\n        }\n\n        break\n      }\n\n      ++c\n    } while ((p = p.next) !== null)\n\n    this.length -= c\n    return ret\n  } // Make sure the linked list only shows the minimal necessary information.\n\n  [Symbol.for('nodejs.util.inspect.custom')](_, options) {\n    return inspect(this, {\n      ...options,\n      // Only inspect one level.\n      depth: 0,\n      // It should not recurse.\n      customInspect: false\n    })\n  }\n}\n","'use strict'\n\nconst { pipeline } = require('./pipeline')\n\nconst Duplex = require('./duplex')\n\nconst { destroyer } = require('./destroy')\n\nconst { isNodeStream, isReadable, isWritable } = require('./utils')\n\nconst {\n  AbortError,\n  codes: { ERR_INVALID_ARG_VALUE, ERR_MISSING_ARGS }\n} = require('../../ours/errors')\n\nmodule.exports = function compose(...streams) {\n  if (streams.length === 0) {\n    throw new ERR_MISSING_ARGS('streams')\n  }\n\n  if (streams.length === 1) {\n    return Duplex.from(streams[0])\n  }\n\n  const orgStreams = [...streams]\n\n  if (typeof streams[0] === 'function') {\n    streams[0] = Duplex.from(streams[0])\n  }\n\n  if (typeof streams[streams.length - 1] === 'function') {\n    const idx = streams.length - 1\n    streams[idx] = Duplex.from(streams[idx])\n  }\n\n  for (let n = 0; n < streams.length; ++n) {\n    if (!isNodeStream(streams[n])) {\n      // TODO(ronag): Add checks for non streams.\n      continue\n    }\n\n    if (n < streams.length - 1 && !isReadable(streams[n])) {\n      throw new ERR_INVALID_ARG_VALUE(`streams[${n}]`, orgStreams[n], 'must be readable')\n    }\n\n    if (n > 0 && !isWritable(streams[n])) {\n      throw new ERR_INVALID_ARG_VALUE(`streams[${n}]`, orgStreams[n], 'must be writable')\n    }\n  }\n\n  let ondrain\n  let onfinish\n  let onreadable\n  let onclose\n  let d\n\n  function onfinished(err) {\n    const cb = onclose\n    onclose = null\n\n    if (cb) {\n      cb(err)\n    } else if (err) {\n      d.destroy(err)\n    } else if (!readable && !writable) {\n      d.destroy()\n    }\n  }\n\n  const head = streams[0]\n  const tail = pipeline(streams, onfinished)\n  const writable = !!isWritable(head)\n  const readable = !!isReadable(tail) // TODO(ronag): Avoid double buffering.\n  // Implement Writable/Readable/Duplex traits.\n  // See, https://github.com/nodejs/node/pull/33515.\n\n  d = new Duplex({\n    // TODO (ronag): highWaterMark?\n    writableObjectMode: !!(head !== null && head !== undefined && head.writableObjectMode),\n    readableObjectMode: !!(tail !== null && tail !== undefined && tail.writableObjectMode),\n    writable,\n    readable\n  })\n\n  if (writable) {\n    d._write = function (chunk, encoding, callback) {\n      if (head.write(chunk, encoding)) {\n        callback()\n      } else {\n        ondrain = callback\n      }\n    }\n\n    d._final = function (callback) {\n      head.end()\n      onfinish = callback\n    }\n\n    head.on('drain', function () {\n      if (ondrain) {\n        const cb = ondrain\n        ondrain = null\n        cb()\n      }\n    })\n    tail.on('finish', function () {\n      if (onfinish) {\n        const cb = onfinish\n        onfinish = null\n        cb()\n      }\n    })\n  }\n\n  if (readable) {\n    tail.on('readable', function () {\n      if (onreadable) {\n        const cb = onreadable\n        onreadable = null\n        cb()\n      }\n    })\n    tail.on('end', function () {\n      d.push(null)\n    })\n\n    d._read = function () {\n      while (true) {\n        const buf = tail.read()\n\n        if (buf === null) {\n          onreadable = d._read\n          return\n        }\n\n        if (!d.push(buf)) {\n          return\n        }\n      }\n    }\n  }\n\n  d._destroy = function (err, callback) {\n    if (!err && onclose !== null) {\n      err = new AbortError()\n    }\n\n    onreadable = null\n    ondrain = null\n    onfinish = null\n\n    if (onclose === null) {\n      callback(err)\n    } else {\n      onclose = callback\n      destroyer(tail, err)\n    }\n  }\n\n  return d\n}\n","'use strict'\n\nconst {\n  aggregateTwoErrors,\n  codes: { ERR_MULTIPLE_CALLBACK },\n  AbortError\n} = require('../../ours/errors')\n\nconst { Symbol } = require('../../ours/primordials')\n\nconst { kDestroyed, isDestroyed, isFinished, isServerRequest } = require('./utils')\n\nconst kDestroy = Symbol('kDestroy')\nconst kConstruct = Symbol('kConstruct')\n\nfunction checkError(err, w, r) {\n  if (err) {\n    // Avoid V8 leak, https://github.com/nodejs/node/pull/34103#issuecomment-652002364\n    err.stack // eslint-disable-line no-unused-expressions\n\n    if (w && !w.errored) {\n      w.errored = err\n    }\n\n    if (r && !r.errored) {\n      r.errored = err\n    }\n  }\n} // Backwards compat. cb() is undocumented and unused in core but\n// unfortunately might be used by modules.\n\nfunction destroy(err, cb) {\n  const r = this._readableState\n  const w = this._writableState // With duplex streams we use the writable side for state.\n\n  const s = w || r\n\n  if ((w && w.destroyed) || (r && r.destroyed)) {\n    if (typeof cb === 'function') {\n      cb()\n    }\n\n    return this\n  } // We set destroyed to true before firing error callbacks in order\n  // to make it re-entrance safe in case destroy() is called within callbacks\n\n  checkError(err, w, r)\n\n  if (w) {\n    w.destroyed = true\n  }\n\n  if (r) {\n    r.destroyed = true\n  } // If still constructing then defer calling _destroy.\n\n  if (!s.constructed) {\n    this.once(kDestroy, function (er) {\n      _destroy(this, aggregateTwoErrors(er, err), cb)\n    })\n  } else {\n    _destroy(this, err, cb)\n  }\n\n  return this\n}\n\nfunction _destroy(self, err, cb) {\n  let called = false\n\n  function onDestroy(err) {\n    if (called) {\n      return\n    }\n\n    called = true\n    const r = self._readableState\n    const w = self._writableState\n    checkError(err, w, r)\n\n    if (w) {\n      w.closed = true\n    }\n\n    if (r) {\n      r.closed = true\n    }\n\n    if (typeof cb === 'function') {\n      cb(err)\n    }\n\n    if (err) {\n      process.nextTick(emitErrorCloseNT, self, err)\n    } else {\n      process.nextTick(emitCloseNT, self)\n    }\n  }\n\n  try {\n    self._destroy(err || null, onDestroy)\n  } catch (err) {\n    onDestroy(err)\n  }\n}\n\nfunction emitErrorCloseNT(self, err) {\n  emitErrorNT(self, err)\n  emitCloseNT(self)\n}\n\nfunction emitCloseNT(self) {\n  const r = self._readableState\n  const w = self._writableState\n\n  if (w) {\n    w.closeEmitted = true\n  }\n\n  if (r) {\n    r.closeEmitted = true\n  }\n\n  if ((w && w.emitClose) || (r && r.emitClose)) {\n    self.emit('close')\n  }\n}\n\nfunction emitErrorNT(self, err) {\n  const r = self._readableState\n  const w = self._writableState\n\n  if ((w && w.errorEmitted) || (r && r.errorEmitted)) {\n    return\n  }\n\n  if (w) {\n    w.errorEmitted = true\n  }\n\n  if (r) {\n    r.errorEmitted = true\n  }\n\n  self.emit('error', err)\n}\n\nfunction undestroy() {\n  const r = this._readableState\n  const w = this._writableState\n\n  if (r) {\n    r.constructed = true\n    r.closed = false\n    r.closeEmitted = false\n    r.destroyed = false\n    r.errored = null\n    r.errorEmitted = false\n    r.reading = false\n    r.ended = r.readable === false\n    r.endEmitted = r.readable === false\n  }\n\n  if (w) {\n    w.constructed = true\n    w.destroyed = false\n    w.closed = false\n    w.closeEmitted = false\n    w.errored = null\n    w.errorEmitted = false\n    w.finalCalled = false\n    w.prefinished = false\n    w.ended = w.writable === false\n    w.ending = w.writable === false\n    w.finished = w.writable === false\n  }\n}\n\nfunction errorOrDestroy(stream, err, sync) {\n  // We have tests that rely on errors being emitted\n  // in the same tick, so changing this is semver major.\n  // For now when you opt-in to autoDestroy we allow\n  // the error to be emitted nextTick. In a future\n  // semver major update we should change the default to this.\n  const r = stream._readableState\n  const w = stream._writableState\n\n  if ((w && w.destroyed) || (r && r.destroyed)) {\n    return this\n  }\n\n  if ((r && r.autoDestroy) || (w && w.autoDestroy)) stream.destroy(err)\n  else if (err) {\n    // Avoid V8 leak, https://github.com/nodejs/node/pull/34103#issuecomment-652002364\n    err.stack // eslint-disable-line no-unused-expressions\n\n    if (w && !w.errored) {\n      w.errored = err\n    }\n\n    if (r && !r.errored) {\n      r.errored = err\n    }\n\n    if (sync) {\n      process.nextTick(emitErrorNT, stream, err)\n    } else {\n      emitErrorNT(stream, err)\n    }\n  }\n}\n\nfunction construct(stream, cb) {\n  if (typeof stream._construct !== 'function') {\n    return\n  }\n\n  const r = stream._readableState\n  const w = stream._writableState\n\n  if (r) {\n    r.constructed = false\n  }\n\n  if (w) {\n    w.constructed = false\n  }\n\n  stream.once(kConstruct, cb)\n\n  if (stream.listenerCount(kConstruct) > 1) {\n    // Duplex\n    return\n  }\n\n  process.nextTick(constructNT, stream)\n}\n\nfunction constructNT(stream) {\n  let called = false\n\n  function onConstruct(err) {\n    if (called) {\n      errorOrDestroy(stream, err !== null && err !== undefined ? err : new ERR_MULTIPLE_CALLBACK())\n      return\n    }\n\n    called = true\n    const r = stream._readableState\n    const w = stream._writableState\n    const s = w || r\n\n    if (r) {\n      r.constructed = true\n    }\n\n    if (w) {\n      w.constructed = true\n    }\n\n    if (s.destroyed) {\n      stream.emit(kDestroy, err)\n    } else if (err) {\n      errorOrDestroy(stream, err, true)\n    } else {\n      process.nextTick(emitConstructNT, stream)\n    }\n  }\n\n  try {\n    stream._construct(onConstruct)\n  } catch (err) {\n    onConstruct(err)\n  }\n}\n\nfunction emitConstructNT(stream) {\n  stream.emit(kConstruct)\n}\n\nfunction isRequest(stream) {\n  return stream && stream.setHeader && typeof stream.abort === 'function'\n}\n\nfunction emitCloseLegacy(stream) {\n  stream.emit('close')\n}\n\nfunction emitErrorCloseLegacy(stream, err) {\n  stream.emit('error', err)\n  process.nextTick(emitCloseLegacy, stream)\n} // Normalize destroy for legacy.\n\nfunction destroyer(stream, err) {\n  if (!stream || isDestroyed(stream)) {\n    return\n  }\n\n  if (!err && !isFinished(stream)) {\n    err = new AbortError()\n  } // TODO: Remove isRequest branches.\n\n  if (isServerRequest(stream)) {\n    stream.socket = null\n    stream.destroy(err)\n  } else if (isRequest(stream)) {\n    stream.abort()\n  } else if (isRequest(stream.req)) {\n    stream.req.abort()\n  } else if (typeof stream.destroy === 'function') {\n    stream.destroy(err)\n  } else if (typeof stream.close === 'function') {\n    // TODO: Don't lose err?\n    stream.close()\n  } else if (err) {\n    process.nextTick(emitErrorCloseLegacy, stream)\n  } else {\n    process.nextTick(emitCloseLegacy, stream)\n  }\n\n  if (!stream.destroyed) {\n    stream[kDestroyed] = true\n  }\n}\n\nmodule.exports = {\n  construct,\n  destroyer,\n  destroy,\n  undestroy,\n  errorOrDestroy\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototype inheritance, this class\n// prototypically inherits from Readable, and then parasitically from\n// Writable.\n'use strict'\n\nconst {\n  ObjectDefineProperties,\n  ObjectGetOwnPropertyDescriptor,\n  ObjectKeys,\n  ObjectSetPrototypeOf\n} = require('../../ours/primordials')\n\nmodule.exports = Duplex\n\nconst Readable = require('./readable')\n\nconst Writable = require('./writable')\n\nObjectSetPrototypeOf(Duplex.prototype, Readable.prototype)\nObjectSetPrototypeOf(Duplex, Readable)\n{\n  const keys = ObjectKeys(Writable.prototype) // Allow the keys array to be GC'ed.\n\n  for (let i = 0; i < keys.length; i++) {\n    const method = keys[i]\n    if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method]\n  }\n}\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options)\n  Readable.call(this, options)\n  Writable.call(this, options)\n\n  if (options) {\n    this.allowHalfOpen = options.allowHalfOpen !== false\n\n    if (options.readable === false) {\n      this._readableState.readable = false\n      this._readableState.ended = true\n      this._readableState.endEmitted = true\n    }\n\n    if (options.writable === false) {\n      this._writableState.writable = false\n      this._writableState.ending = true\n      this._writableState.ended = true\n      this._writableState.finished = true\n    }\n  } else {\n    this.allowHalfOpen = true\n  }\n}\n\nObjectDefineProperties(Duplex.prototype, {\n  writable: ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writable'),\n  writableHighWaterMark: ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableHighWaterMark'),\n  writableObjectMode: ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableObjectMode'),\n  writableBuffer: ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableBuffer'),\n  writableLength: ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableLength'),\n  writableFinished: ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableFinished'),\n  writableCorked: ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableCorked'),\n  writableEnded: ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableEnded'),\n  writableNeedDrain: ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableNeedDrain'),\n  destroyed: {\n    get() {\n      if (this._readableState === undefined || this._writableState === undefined) {\n        return false\n      }\n\n      return this._readableState.destroyed && this._writableState.destroyed\n    },\n\n    set(value) {\n      // Backward compatibility, the user is explicitly\n      // managing destroyed.\n      if (this._readableState && this._writableState) {\n        this._readableState.destroyed = value\n        this._writableState.destroyed = value\n      }\n    }\n  }\n})\nlet webStreamsAdapters // Lazy to avoid circular references\n\nfunction lazyWebStreams() {\n  if (webStreamsAdapters === undefined) webStreamsAdapters = {}\n  return webStreamsAdapters\n}\n\nDuplex.fromWeb = function (pair, options) {\n  return lazyWebStreams().newStreamDuplexFromReadableWritablePair(pair, options)\n}\n\nDuplex.toWeb = function (duplex) {\n  return lazyWebStreams().newReadableWritablePairFromDuplex(duplex)\n}\n\nlet duplexify\n\nDuplex.from = function (body) {\n  if (!duplexify) {\n    duplexify = require('./duplexify')\n  }\n\n  return duplexify(body, 'body')\n}\n","'use strict'\n\nconst bufferModule = require('buffer')\n\nconst {\n  isReadable,\n  isWritable,\n  isIterable,\n  isNodeStream,\n  isReadableNodeStream,\n  isWritableNodeStream,\n  isDuplexNodeStream\n} = require('./utils')\n\nconst eos = require('./end-of-stream')\n\nconst {\n  AbortError,\n  codes: { ERR_INVALID_ARG_TYPE, ERR_INVALID_RETURN_VALUE }\n} = require('../../ours/errors')\n\nconst { destroyer } = require('./destroy')\n\nconst Duplex = require('./duplex')\n\nconst Readable = require('./readable')\n\nconst { createDeferredPromise } = require('../../ours/util')\n\nconst from = require('./from')\n\nconst Blob = globalThis.Blob || bufferModule.Blob\nconst isBlob =\n  typeof Blob !== 'undefined'\n    ? function isBlob(b) {\n        return b instanceof Blob\n      }\n    : function isBlob(b) {\n        return false\n      }\n\nconst AbortController = globalThis.AbortController || require('abort-controller').AbortController\n\nconst { FunctionPrototypeCall } = require('../../ours/primordials') // This is needed for pre node 17.\n\nclass Duplexify extends Duplex {\n  constructor(options) {\n    super(options) // https://github.com/nodejs/node/pull/34385\n\n    if ((options === null || options === undefined ? undefined : options.readable) === false) {\n      this._readableState.readable = false\n      this._readableState.ended = true\n      this._readableState.endEmitted = true\n    }\n\n    if ((options === null || options === undefined ? undefined : options.writable) === false) {\n      this._writableState.writable = false\n      this._writableState.ending = true\n      this._writableState.ended = true\n      this._writableState.finished = true\n    }\n  }\n}\n\nmodule.exports = function duplexify(body, name) {\n  if (isDuplexNodeStream(body)) {\n    return body\n  }\n\n  if (isReadableNodeStream(body)) {\n    return _duplexify({\n      readable: body\n    })\n  }\n\n  if (isWritableNodeStream(body)) {\n    return _duplexify({\n      writable: body\n    })\n  }\n\n  if (isNodeStream(body)) {\n    return _duplexify({\n      writable: false,\n      readable: false\n    })\n  } // TODO: Webstreams\n  // if (isReadableStream(body)) {\n  //   return _duplexify({ readable: Readable.fromWeb(body) });\n  // }\n  // TODO: Webstreams\n  // if (isWritableStream(body)) {\n  //   return _duplexify({ writable: Writable.fromWeb(body) });\n  // }\n\n  if (typeof body === 'function') {\n    const { value, write, final, destroy } = fromAsyncGen(body)\n\n    if (isIterable(value)) {\n      return from(Duplexify, value, {\n        // TODO (ronag): highWaterMark?\n        objectMode: true,\n        write,\n        final,\n        destroy\n      })\n    }\n\n    const then = value === null || value === undefined ? undefined : value.then\n\n    if (typeof then === 'function') {\n      let d\n      const promise = FunctionPrototypeCall(\n        then,\n        value,\n        (val) => {\n          if (val != null) {\n            throw new ERR_INVALID_RETURN_VALUE('nully', 'body', val)\n          }\n        },\n        (err) => {\n          destroyer(d, err)\n        }\n      )\n      return (d = new Duplexify({\n        // TODO (ronag): highWaterMark?\n        objectMode: true,\n        readable: false,\n        write,\n\n        final(cb) {\n          final(async () => {\n            try {\n              await promise\n              process.nextTick(cb, null)\n            } catch (err) {\n              process.nextTick(cb, err)\n            }\n          })\n        },\n\n        destroy\n      }))\n    }\n\n    throw new ERR_INVALID_RETURN_VALUE('Iterable, AsyncIterable or AsyncFunction', name, value)\n  }\n\n  if (isBlob(body)) {\n    return duplexify(body.arrayBuffer())\n  }\n\n  if (isIterable(body)) {\n    return from(Duplexify, body, {\n      // TODO (ronag): highWaterMark?\n      objectMode: true,\n      writable: false\n    })\n  } // TODO: Webstreams.\n  // if (\n  //   isReadableStream(body?.readable) &&\n  //   isWritableStream(body?.writable)\n  // ) {\n  //   return Duplexify.fromWeb(body);\n  // }\n\n  if (\n    typeof (body === null || body === undefined ? undefined : body.writable) === 'object' ||\n    typeof (body === null || body === undefined ? undefined : body.readable) === 'object'\n  ) {\n    const readable =\n      body !== null && body !== undefined && body.readable\n        ? isReadableNodeStream(body === null || body === undefined ? undefined : body.readable)\n          ? body === null || body === undefined\n            ? undefined\n            : body.readable\n          : duplexify(body.readable)\n        : undefined\n    const writable =\n      body !== null && body !== undefined && body.writable\n        ? isWritableNodeStream(body === null || body === undefined ? undefined : body.writable)\n          ? body === null || body === undefined\n            ? undefined\n            : body.writable\n          : duplexify(body.writable)\n        : undefined\n    return _duplexify({\n      readable,\n      writable\n    })\n  }\n\n  const then = body === null || body === undefined ? undefined : body.then\n\n  if (typeof then === 'function') {\n    let d\n    FunctionPrototypeCall(\n      then,\n      body,\n      (val) => {\n        if (val != null) {\n          d.push(val)\n        }\n\n        d.push(null)\n      },\n      (err) => {\n        destroyer(d, err)\n      }\n    )\n    return (d = new Duplexify({\n      objectMode: true,\n      writable: false,\n\n      read() {}\n    }))\n  }\n\n  throw new ERR_INVALID_ARG_TYPE(\n    name,\n    [\n      'Blob',\n      'ReadableStream',\n      'WritableStream',\n      'Stream',\n      'Iterable',\n      'AsyncIterable',\n      'Function',\n      '{ readable, writable } pair',\n      'Promise'\n    ],\n    body\n  )\n}\n\nfunction fromAsyncGen(fn) {\n  let { promise, resolve } = createDeferredPromise()\n  const ac = new AbortController()\n  const signal = ac.signal\n  const value = fn(\n    (async function* () {\n      while (true) {\n        const _promise = promise\n        promise = null\n        const { chunk, done, cb } = await _promise\n        process.nextTick(cb)\n        if (done) return\n        if (signal.aborted)\n          throw new AbortError(undefined, {\n            cause: signal.reason\n          })\n        ;({ promise, resolve } = createDeferredPromise())\n        yield chunk\n      }\n    })(),\n    {\n      signal\n    }\n  )\n  return {\n    value,\n\n    write(chunk, encoding, cb) {\n      const _resolve = resolve\n      resolve = null\n\n      _resolve({\n        chunk,\n        done: false,\n        cb\n      })\n    },\n\n    final(cb) {\n      const _resolve = resolve\n      resolve = null\n\n      _resolve({\n        done: true,\n        cb\n      })\n    },\n\n    destroy(err, cb) {\n      ac.abort()\n      cb(err)\n    }\n  }\n}\n\nfunction _duplexify(pair) {\n  const r = pair.readable && typeof pair.readable.read !== 'function' ? Readable.wrap(pair.readable) : pair.readable\n  const w = pair.writable\n  let readable = !!isReadable(r)\n  let writable = !!isWritable(w)\n  let ondrain\n  let onfinish\n  let onreadable\n  let onclose\n  let d\n\n  function onfinished(err) {\n    const cb = onclose\n    onclose = null\n\n    if (cb) {\n      cb(err)\n    } else if (err) {\n      d.destroy(err)\n    } else if (!readable && !writable) {\n      d.destroy()\n    }\n  } // TODO(ronag): Avoid double buffering.\n  // Implement Writable/Readable/Duplex traits.\n  // See, https://github.com/nodejs/node/pull/33515.\n\n  d = new Duplexify({\n    // TODO (ronag): highWaterMark?\n    readableObjectMode: !!(r !== null && r !== undefined && r.readableObjectMode),\n    writableObjectMode: !!(w !== null && w !== undefined && w.writableObjectMode),\n    readable,\n    writable\n  })\n\n  if (writable) {\n    eos(w, (err) => {\n      writable = false\n\n      if (err) {\n        destroyer(r, err)\n      }\n\n      onfinished(err)\n    })\n\n    d._write = function (chunk, encoding, callback) {\n      if (w.write(chunk, encoding)) {\n        callback()\n      } else {\n        ondrain = callback\n      }\n    }\n\n    d._final = function (callback) {\n      w.end()\n      onfinish = callback\n    }\n\n    w.on('drain', function () {\n      if (ondrain) {\n        const cb = ondrain\n        ondrain = null\n        cb()\n      }\n    })\n    w.on('finish', function () {\n      if (onfinish) {\n        const cb = onfinish\n        onfinish = null\n        cb()\n      }\n    })\n  }\n\n  if (readable) {\n    eos(r, (err) => {\n      readable = false\n\n      if (err) {\n        destroyer(r, err)\n      }\n\n      onfinished(err)\n    })\n    r.on('readable', function () {\n      if (onreadable) {\n        const cb = onreadable\n        onreadable = null\n        cb()\n      }\n    })\n    r.on('end', function () {\n      d.push(null)\n    })\n\n    d._read = function () {\n      while (true) {\n        const buf = r.read()\n\n        if (buf === null) {\n          onreadable = d._read\n          return\n        }\n\n        if (!d.push(buf)) {\n          return\n        }\n      }\n    }\n  }\n\n  d._destroy = function (err, callback) {\n    if (!err && onclose !== null) {\n      err = new AbortError()\n    }\n\n    onreadable = null\n    ondrain = null\n    onfinish = null\n\n    if (onclose === null) {\n      callback(err)\n    } else {\n      onclose = callback\n      destroyer(w, err)\n      destroyer(r, err)\n    }\n  }\n\n  return d\n}\n","// Ported from https://github.com/mafintosh/end-of-stream with\n// permission from the author, Mathias Buus (@mafintosh).\n'use strict'\n\nconst { AbortError, codes } = require('../../ours/errors')\n\nconst { ERR_INVALID_ARG_TYPE, ERR_STREAM_PREMATURE_CLOSE } = codes\n\nconst { once } = require('../../ours/util')\n\nconst { validateAbortSignal, validateFunction, validateObject } = require('../validators')\n\nconst { Promise } = require('../../ours/primordials')\n\nconst {\n  isClosed,\n  isReadable,\n  isReadableNodeStream,\n  isReadableFinished,\n  isReadableErrored,\n  isWritable,\n  isWritableNodeStream,\n  isWritableFinished,\n  isWritableErrored,\n  isNodeStream,\n  willEmitClose: _willEmitClose\n} = require('./utils')\n\nfunction isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function'\n}\n\nconst nop = () => {}\n\nfunction eos(stream, options, callback) {\n  var _options$readable, _options$writable\n\n  if (arguments.length === 2) {\n    callback = options\n    options = {}\n  } else if (options == null) {\n    options = {}\n  } else {\n    validateObject(options, 'options')\n  }\n\n  validateFunction(callback, 'callback')\n  validateAbortSignal(options.signal, 'options.signal')\n  callback = once(callback)\n  const readable =\n    (_options$readable = options.readable) !== null && _options$readable !== undefined\n      ? _options$readable\n      : isReadableNodeStream(stream)\n  const writable =\n    (_options$writable = options.writable) !== null && _options$writable !== undefined\n      ? _options$writable\n      : isWritableNodeStream(stream)\n\n  if (!isNodeStream(stream)) {\n    // TODO: Webstreams.\n    throw new ERR_INVALID_ARG_TYPE('stream', 'Stream', stream)\n  }\n\n  const wState = stream._writableState\n  const rState = stream._readableState\n\n  const onlegacyfinish = () => {\n    if (!stream.writable) {\n      onfinish()\n    }\n  } // TODO (ronag): Improve soft detection to include core modules and\n  // common ecosystem modules that do properly emit 'close' but fail\n  // this generic check.\n\n  let willEmitClose =\n    _willEmitClose(stream) && isReadableNodeStream(stream) === readable && isWritableNodeStream(stream) === writable\n  let writableFinished = isWritableFinished(stream, false)\n\n  const onfinish = () => {\n    writableFinished = true // Stream should not be destroyed here. If it is that\n    // means that user space is doing something differently and\n    // we cannot trust willEmitClose.\n\n    if (stream.destroyed) {\n      willEmitClose = false\n    }\n\n    if (willEmitClose && (!stream.readable || readable)) {\n      return\n    }\n\n    if (!readable || readableFinished) {\n      callback.call(stream)\n    }\n  }\n\n  let readableFinished = isReadableFinished(stream, false)\n\n  const onend = () => {\n    readableFinished = true // Stream should not be destroyed here. If it is that\n    // means that user space is doing something differently and\n    // we cannot trust willEmitClose.\n\n    if (stream.destroyed) {\n      willEmitClose = false\n    }\n\n    if (willEmitClose && (!stream.writable || writable)) {\n      return\n    }\n\n    if (!writable || writableFinished) {\n      callback.call(stream)\n    }\n  }\n\n  const onerror = (err) => {\n    callback.call(stream, err)\n  }\n\n  let closed = isClosed(stream)\n\n  const onclose = () => {\n    closed = true\n    const errored = isWritableErrored(stream) || isReadableErrored(stream)\n\n    if (errored && typeof errored !== 'boolean') {\n      return callback.call(stream, errored)\n    }\n\n    if (readable && !readableFinished && isReadableNodeStream(stream, true)) {\n      if (!isReadableFinished(stream, false)) return callback.call(stream, new ERR_STREAM_PREMATURE_CLOSE())\n    }\n\n    if (writable && !writableFinished) {\n      if (!isWritableFinished(stream, false)) return callback.call(stream, new ERR_STREAM_PREMATURE_CLOSE())\n    }\n\n    callback.call(stream)\n  }\n\n  const onrequest = () => {\n    stream.req.on('finish', onfinish)\n  }\n\n  if (isRequest(stream)) {\n    stream.on('complete', onfinish)\n\n    if (!willEmitClose) {\n      stream.on('abort', onclose)\n    }\n\n    if (stream.req) {\n      onrequest()\n    } else {\n      stream.on('request', onrequest)\n    }\n  } else if (writable && !wState) {\n    // legacy streams\n    stream.on('end', onlegacyfinish)\n    stream.on('close', onlegacyfinish)\n  } // Not all streams will emit 'close' after 'aborted'.\n\n  if (!willEmitClose && typeof stream.aborted === 'boolean') {\n    stream.on('aborted', onclose)\n  }\n\n  stream.on('end', onend)\n  stream.on('finish', onfinish)\n\n  if (options.error !== false) {\n    stream.on('error', onerror)\n  }\n\n  stream.on('close', onclose)\n\n  if (closed) {\n    process.nextTick(onclose)\n  } else if (\n    (wState !== null && wState !== undefined && wState.errorEmitted) ||\n    (rState !== null && rState !== undefined && rState.errorEmitted)\n  ) {\n    if (!willEmitClose) {\n      process.nextTick(onclose)\n    }\n  } else if (\n    !readable &&\n    (!willEmitClose || isReadable(stream)) &&\n    (writableFinished || isWritable(stream) === false)\n  ) {\n    process.nextTick(onclose)\n  } else if (\n    !writable &&\n    (!willEmitClose || isWritable(stream)) &&\n    (readableFinished || isReadable(stream) === false)\n  ) {\n    process.nextTick(onclose)\n  } else if (rState && stream.req && stream.aborted) {\n    process.nextTick(onclose)\n  }\n\n  const cleanup = () => {\n    callback = nop\n    stream.removeListener('aborted', onclose)\n    stream.removeListener('complete', onfinish)\n    stream.removeListener('abort', onclose)\n    stream.removeListener('request', onrequest)\n    if (stream.req) stream.req.removeListener('finish', onfinish)\n    stream.removeListener('end', onlegacyfinish)\n    stream.removeListener('close', onlegacyfinish)\n    stream.removeListener('finish', onfinish)\n    stream.removeListener('end', onend)\n    stream.removeListener('error', onerror)\n    stream.removeListener('close', onclose)\n  }\n\n  if (options.signal && !closed) {\n    const abort = () => {\n      // Keep it because cleanup removes it.\n      const endCallback = callback\n      cleanup()\n      endCallback.call(\n        stream,\n        new AbortError(undefined, {\n          cause: options.signal.reason\n        })\n      )\n    }\n\n    if (options.signal.aborted) {\n      process.nextTick(abort)\n    } else {\n      const originalCallback = callback\n      callback = once((...args) => {\n        options.signal.removeEventListener('abort', abort)\n        originalCallback.apply(stream, args)\n      })\n      options.signal.addEventListener('abort', abort)\n    }\n  }\n\n  return cleanup\n}\n\nfunction finished(stream, opts) {\n  return new Promise((resolve, reject) => {\n    eos(stream, opts, (err) => {\n      if (err) {\n        reject(err)\n      } else {\n        resolve()\n      }\n    })\n  })\n}\n\nmodule.exports = eos\nmodule.exports.finished = finished\n","'use strict'\n\nconst { PromisePrototypeThen, SymbolAsyncIterator, SymbolIterator } = require('../../ours/primordials')\n\nconst { ERR_INVALID_ARG_TYPE, ERR_STREAM_NULL_VALUES } = require('../../ours/errors').codes\n\nfunction from(Readable, iterable, opts) {\n  let iterator\n\n  if (typeof iterable === 'string' || iterable instanceof Buffer) {\n    return new Readable({\n      objectMode: true,\n      ...opts,\n\n      read() {\n        this.push(iterable)\n        this.push(null)\n      }\n    })\n  }\n\n  let isAsync\n\n  if (iterable && iterable[SymbolAsyncIterator]) {\n    isAsync = true\n    iterator = iterable[SymbolAsyncIterator]()\n  } else if (iterable && iterable[SymbolIterator]) {\n    isAsync = false\n    iterator = iterable[SymbolIterator]()\n  } else {\n    throw new ERR_INVALID_ARG_TYPE('iterable', ['Iterable'], iterable)\n  }\n\n  const readable = new Readable({\n    objectMode: true,\n    highWaterMark: 1,\n    // TODO(ronag): What options should be allowed?\n    ...opts\n  }) // Flag to protect against _read\n  // being called before last iteration completion.\n\n  let reading = false\n\n  readable._read = function () {\n    if (!reading) {\n      reading = true\n      next()\n    }\n  }\n\n  readable._destroy = function (error, cb) {\n    PromisePrototypeThen(\n      close(error),\n      () => process.nextTick(cb, error), // nextTick is here in case cb throws\n      (e) => process.nextTick(cb, e || error)\n    )\n  }\n\n  async function close(error) {\n    const hadError = error !== undefined && error !== null\n    const hasThrow = typeof iterator.throw === 'function'\n\n    if (hadError && hasThrow) {\n      const { value, done } = await iterator.throw(error)\n      await value\n\n      if (done) {\n        return\n      }\n    }\n\n    if (typeof iterator.return === 'function') {\n      const { value } = await iterator.return()\n      await value\n    }\n  }\n\n  async function next() {\n    for (;;) {\n      try {\n        const { value, done } = isAsync ? await iterator.next() : iterator.next()\n\n        if (done) {\n          readable.push(null)\n        } else {\n          const res = value && typeof value.then === 'function' ? await value : value\n\n          if (res === null) {\n            reading = false\n            throw new ERR_STREAM_NULL_VALUES()\n          } else if (readable.push(res)) {\n            continue\n          } else {\n            reading = false\n          }\n        }\n      } catch (err) {\n        readable.destroy(err)\n      }\n\n      break\n    }\n  }\n\n  return readable\n}\n\nmodule.exports = from\n","'use strict'\n\nconst { ArrayIsArray, ObjectSetPrototypeOf } = require('../../ours/primordials')\n\nconst { EventEmitter: EE } = require('events')\n\nfunction Stream(opts) {\n  EE.call(this, opts)\n}\n\nObjectSetPrototypeOf(Stream.prototype, EE.prototype)\nObjectSetPrototypeOf(Stream, EE)\n\nStream.prototype.pipe = function (dest, options) {\n  const source = this\n\n  function ondata(chunk) {\n    if (dest.writable && dest.write(chunk) === false && source.pause) {\n      source.pause()\n    }\n  }\n\n  source.on('data', ondata)\n\n  function ondrain() {\n    if (source.readable && source.resume) {\n      source.resume()\n    }\n  }\n\n  dest.on('drain', ondrain) // If the 'end' option is not supplied, dest.end() will be called when\n  // source gets the 'end' or 'close' events.  Only dest.end() once.\n\n  if (!dest._isStdio && (!options || options.end !== false)) {\n    source.on('end', onend)\n    source.on('close', onclose)\n  }\n\n  let didOnEnd = false\n\n  function onend() {\n    if (didOnEnd) return\n    didOnEnd = true\n    dest.end()\n  }\n\n  function onclose() {\n    if (didOnEnd) return\n    didOnEnd = true\n    if (typeof dest.destroy === 'function') dest.destroy()\n  } // Don't leave dangling pipes when there are errors.\n\n  function onerror(er) {\n    cleanup()\n\n    if (EE.listenerCount(this, 'error') === 0) {\n      this.emit('error', er)\n    }\n  }\n\n  prependListener(source, 'error', onerror)\n  prependListener(dest, 'error', onerror) // Remove all the event listeners that were added.\n\n  function cleanup() {\n    source.removeListener('data', ondata)\n    dest.removeListener('drain', ondrain)\n    source.removeListener('end', onend)\n    source.removeListener('close', onclose)\n    source.removeListener('error', onerror)\n    dest.removeListener('error', onerror)\n    source.removeListener('end', cleanup)\n    source.removeListener('close', cleanup)\n    dest.removeListener('close', cleanup)\n  }\n\n  source.on('end', cleanup)\n  source.on('close', cleanup)\n  dest.on('close', cleanup)\n  dest.emit('pipe', source) // Allow for unix-like usage: A.pipe(B).pipe(C)\n\n  return dest\n}\n\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') return emitter.prependListener(event, fn) // This is a hack to make sure that our error handler is attached before any\n  // userland ones.  NEVER DO THIS. This is here only because this code needs\n  // to continue to work with older versions of Node.js that do not include\n  // the prependListener() method. The goal is to eventually remove this hack.\n\n  if (!emitter._events || !emitter._events[event]) emitter.on(event, fn)\n  else if (ArrayIsArray(emitter._events[event])) emitter._events[event].unshift(fn)\n  else emitter._events[event] = [fn, emitter._events[event]]\n}\n\nmodule.exports = {\n  Stream,\n  prependListener\n}\n","'use strict'\n\nconst AbortController = globalThis.AbortController || require('abort-controller').AbortController\n\nconst {\n  codes: { ERR_INVALID_ARG_TYPE, ERR_MISSING_ARGS, ERR_OUT_OF_RANGE },\n  AbortError\n} = require('../../ours/errors')\n\nconst { validateAbortSignal, validateInteger, validateObject } = require('../validators')\n\nconst kWeakHandler = require('../../ours/primordials').Symbol('kWeak')\n\nconst { finished } = require('./end-of-stream')\n\nconst {\n  ArrayPrototypePush,\n  MathFloor,\n  Number,\n  NumberIsNaN,\n  Promise,\n  PromiseReject,\n  PromisePrototypeCatch,\n  Symbol\n} = require('../../ours/primordials')\n\nconst kEmpty = Symbol('kEmpty')\nconst kEof = Symbol('kEof')\n\nfunction map(fn, options) {\n  if (typeof fn !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('fn', ['Function', 'AsyncFunction'], fn)\n  }\n\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n\n  let concurrency = 1\n\n  if ((options === null || options === undefined ? undefined : options.concurrency) != null) {\n    concurrency = MathFloor(options.concurrency)\n  }\n\n  validateInteger(concurrency, 'concurrency', 1)\n  return async function* map() {\n    var _options$signal, _options$signal2\n\n    const ac = new AbortController()\n    const stream = this\n    const queue = []\n    const signal = ac.signal\n    const signalOpt = {\n      signal\n    }\n\n    const abort = () => ac.abort()\n\n    if (\n      options !== null &&\n      options !== undefined &&\n      (_options$signal = options.signal) !== null &&\n      _options$signal !== undefined &&\n      _options$signal.aborted\n    ) {\n      abort()\n    }\n\n    options === null || options === undefined\n      ? undefined\n      : (_options$signal2 = options.signal) === null || _options$signal2 === undefined\n      ? undefined\n      : _options$signal2.addEventListener('abort', abort)\n    let next\n    let resume\n    let done = false\n\n    function onDone() {\n      done = true\n    }\n\n    async function pump() {\n      try {\n        for await (let val of stream) {\n          var _val\n\n          if (done) {\n            return\n          }\n\n          if (signal.aborted) {\n            throw new AbortError()\n          }\n\n          try {\n            val = fn(val, signalOpt)\n          } catch (err) {\n            val = PromiseReject(err)\n          }\n\n          if (val === kEmpty) {\n            continue\n          }\n\n          if (typeof ((_val = val) === null || _val === undefined ? undefined : _val.catch) === 'function') {\n            val.catch(onDone)\n          }\n\n          queue.push(val)\n\n          if (next) {\n            next()\n            next = null\n          }\n\n          if (!done && queue.length && queue.length >= concurrency) {\n            await new Promise((resolve) => {\n              resume = resolve\n            })\n          }\n        }\n\n        queue.push(kEof)\n      } catch (err) {\n        const val = PromiseReject(err)\n        PromisePrototypeCatch(val, onDone)\n        queue.push(val)\n      } finally {\n        var _options$signal3\n\n        done = true\n\n        if (next) {\n          next()\n          next = null\n        }\n\n        options === null || options === undefined\n          ? undefined\n          : (_options$signal3 = options.signal) === null || _options$signal3 === undefined\n          ? undefined\n          : _options$signal3.removeEventListener('abort', abort)\n      }\n    }\n\n    pump()\n\n    try {\n      while (true) {\n        while (queue.length > 0) {\n          const val = await queue[0]\n\n          if (val === kEof) {\n            return\n          }\n\n          if (signal.aborted) {\n            throw new AbortError()\n          }\n\n          if (val !== kEmpty) {\n            yield val\n          }\n\n          queue.shift()\n\n          if (resume) {\n            resume()\n            resume = null\n          }\n        }\n\n        await new Promise((resolve) => {\n          next = resolve\n        })\n      }\n    } finally {\n      ac.abort()\n      done = true\n\n      if (resume) {\n        resume()\n        resume = null\n      }\n    }\n  }.call(this)\n}\n\nfunction asIndexedPairs(options = undefined) {\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n\n  return async function* asIndexedPairs() {\n    let index = 0\n\n    for await (const val of this) {\n      var _options$signal4\n\n      if (\n        options !== null &&\n        options !== undefined &&\n        (_options$signal4 = options.signal) !== null &&\n        _options$signal4 !== undefined &&\n        _options$signal4.aborted\n      ) {\n        throw new AbortError({\n          cause: options.signal.reason\n        })\n      }\n\n      yield [index++, val]\n    }\n  }.call(this)\n}\n\nasync function some(fn, options = undefined) {\n  // eslint-disable-next-line no-unused-vars\n  for await (const unused of filter.call(this, fn, options)) {\n    return true\n  }\n\n  return false\n}\n\nasync function every(fn, options = undefined) {\n  if (typeof fn !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('fn', ['Function', 'AsyncFunction'], fn)\n  } // https://en.wikipedia.org/wiki/De_Morgan%27s_laws\n\n  return !(await some.call(\n    this,\n    async (...args) => {\n      return !(await fn(...args))\n    },\n    options\n  ))\n}\n\nasync function find(fn, options) {\n  for await (const result of filter.call(this, fn, options)) {\n    return result\n  }\n\n  return undefined\n}\n\nasync function forEach(fn, options) {\n  if (typeof fn !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('fn', ['Function', 'AsyncFunction'], fn)\n  }\n\n  async function forEachFn(value, options) {\n    await fn(value, options)\n    return kEmpty\n  } // eslint-disable-next-line no-unused-vars\n\n  for await (const unused of map.call(this, forEachFn, options));\n}\n\nfunction filter(fn, options) {\n  if (typeof fn !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('fn', ['Function', 'AsyncFunction'], fn)\n  }\n\n  async function filterFn(value, options) {\n    if (await fn(value, options)) {\n      return value\n    }\n\n    return kEmpty\n  }\n\n  return map.call(this, filterFn, options)\n} // Specific to provide better error to reduce since the argument is only\n// missing if the stream has no items in it - but the code is still appropriate\n\nclass ReduceAwareErrMissingArgs extends ERR_MISSING_ARGS {\n  constructor() {\n    super('reduce')\n    this.message = 'Reduce of an empty stream requires an initial value'\n  }\n}\n\nasync function reduce(reducer, initialValue, options) {\n  var _options$signal5\n\n  if (typeof reducer !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('reducer', ['Function', 'AsyncFunction'], reducer)\n  }\n\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n\n  let hasInitialValue = arguments.length > 1\n\n  if (\n    options !== null &&\n    options !== undefined &&\n    (_options$signal5 = options.signal) !== null &&\n    _options$signal5 !== undefined &&\n    _options$signal5.aborted\n  ) {\n    const err = new AbortError(undefined, {\n      cause: options.signal.reason\n    })\n    this.once('error', () => {}) // The error is already propagated\n\n    await finished(this.destroy(err))\n    throw err\n  }\n\n  const ac = new AbortController()\n  const signal = ac.signal\n\n  if (options !== null && options !== undefined && options.signal) {\n    const opts = {\n      once: true,\n      [kWeakHandler]: this\n    }\n    options.signal.addEventListener('abort', () => ac.abort(), opts)\n  }\n\n  let gotAnyItemFromStream = false\n\n  try {\n    for await (const value of this) {\n      var _options$signal6\n\n      gotAnyItemFromStream = true\n\n      if (\n        options !== null &&\n        options !== undefined &&\n        (_options$signal6 = options.signal) !== null &&\n        _options$signal6 !== undefined &&\n        _options$signal6.aborted\n      ) {\n        throw new AbortError()\n      }\n\n      if (!hasInitialValue) {\n        initialValue = value\n        hasInitialValue = true\n      } else {\n        initialValue = await reducer(initialValue, value, {\n          signal\n        })\n      }\n    }\n\n    if (!gotAnyItemFromStream && !hasInitialValue) {\n      throw new ReduceAwareErrMissingArgs()\n    }\n  } finally {\n    ac.abort()\n  }\n\n  return initialValue\n}\n\nasync function toArray(options) {\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n\n  const result = []\n\n  for await (const val of this) {\n    var _options$signal7\n\n    if (\n      options !== null &&\n      options !== undefined &&\n      (_options$signal7 = options.signal) !== null &&\n      _options$signal7 !== undefined &&\n      _options$signal7.aborted\n    ) {\n      throw new AbortError(undefined, {\n        cause: options.signal.reason\n      })\n    }\n\n    ArrayPrototypePush(result, val)\n  }\n\n  return result\n}\n\nfunction flatMap(fn, options) {\n  const values = map.call(this, fn, options)\n  return async function* flatMap() {\n    for await (const val of values) {\n      yield* val\n    }\n  }.call(this)\n}\n\nfunction toIntegerOrInfinity(number) {\n  // We coerce here to align with the spec\n  // https://github.com/tc39/proposal-iterator-helpers/issues/169\n  number = Number(number)\n\n  if (NumberIsNaN(number)) {\n    return 0\n  }\n\n  if (number < 0) {\n    throw new ERR_OUT_OF_RANGE('number', '>= 0', number)\n  }\n\n  return number\n}\n\nfunction drop(number, options = undefined) {\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n\n  number = toIntegerOrInfinity(number)\n  return async function* drop() {\n    var _options$signal8\n\n    if (\n      options !== null &&\n      options !== undefined &&\n      (_options$signal8 = options.signal) !== null &&\n      _options$signal8 !== undefined &&\n      _options$signal8.aborted\n    ) {\n      throw new AbortError()\n    }\n\n    for await (const val of this) {\n      var _options$signal9\n\n      if (\n        options !== null &&\n        options !== undefined &&\n        (_options$signal9 = options.signal) !== null &&\n        _options$signal9 !== undefined &&\n        _options$signal9.aborted\n      ) {\n        throw new AbortError()\n      }\n\n      if (number-- <= 0) {\n        yield val\n      }\n    }\n  }.call(this)\n}\n\nfunction take(number, options = undefined) {\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n\n  number = toIntegerOrInfinity(number)\n  return async function* take() {\n    var _options$signal10\n\n    if (\n      options !== null &&\n      options !== undefined &&\n      (_options$signal10 = options.signal) !== null &&\n      _options$signal10 !== undefined &&\n      _options$signal10.aborted\n    ) {\n      throw new AbortError()\n    }\n\n    for await (const val of this) {\n      var _options$signal11\n\n      if (\n        options !== null &&\n        options !== undefined &&\n        (_options$signal11 = options.signal) !== null &&\n        _options$signal11 !== undefined &&\n        _options$signal11.aborted\n      ) {\n        throw new AbortError()\n      }\n\n      if (number-- > 0) {\n        yield val\n      } else {\n        return\n      }\n    }\n  }.call(this)\n}\n\nmodule.exports.streamReturningOperators = {\n  asIndexedPairs,\n  drop,\n  filter,\n  flatMap,\n  map,\n  take\n}\nmodule.exports.promiseReturningOperators = {\n  every,\n  forEach,\n  reduce,\n  toArray,\n  some,\n  find\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n'use strict'\n\nconst { ObjectSetPrototypeOf } = require('../../ours/primordials')\n\nmodule.exports = PassThrough\n\nconst Transform = require('./transform')\n\nObjectSetPrototypeOf(PassThrough.prototype, Transform.prototype)\nObjectSetPrototypeOf(PassThrough, Transform)\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options)\n  Transform.call(this, options)\n}\n\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk)\n}\n","// Ported from https://github.com/mafintosh/pump with\n// permission from the author, Mathias Buus (@mafintosh).\n'use strict'\n\nconst { ArrayIsArray, Promise, SymbolAsyncIterator } = require('../../ours/primordials')\n\nconst eos = require('./end-of-stream')\n\nconst { once } = require('../../ours/util')\n\nconst destroyImpl = require('./destroy')\n\nconst Duplex = require('./duplex')\n\nconst {\n  aggregateTwoErrors,\n  codes: { ERR_INVALID_ARG_TYPE, ERR_INVALID_RETURN_VALUE, ERR_MISSING_ARGS, ERR_STREAM_DESTROYED },\n  AbortError\n} = require('../../ours/errors')\n\nconst { validateFunction, validateAbortSignal } = require('../validators')\n\nconst { isIterable, isReadable, isReadableNodeStream, isNodeStream } = require('./utils')\n\nconst AbortController = globalThis.AbortController || require('abort-controller').AbortController\n\nlet PassThrough\nlet Readable\n\nfunction destroyer(stream, reading, writing) {\n  let finished = false\n  stream.on('close', () => {\n    finished = true\n  })\n  const cleanup = eos(\n    stream,\n    {\n      readable: reading,\n      writable: writing\n    },\n    (err) => {\n      finished = !err\n    }\n  )\n  return {\n    destroy: (err) => {\n      if (finished) return\n      finished = true\n      destroyImpl.destroyer(stream, err || new ERR_STREAM_DESTROYED('pipe'))\n    },\n    cleanup\n  }\n}\n\nfunction popCallback(streams) {\n  // Streams should never be an empty array. It should always contain at least\n  // a single stream. Therefore optimize for the average case instead of\n  // checking for length === 0 as well.\n  validateFunction(streams[streams.length - 1], 'streams[stream.length - 1]')\n  return streams.pop()\n}\n\nfunction makeAsyncIterable(val) {\n  if (isIterable(val)) {\n    return val\n  } else if (isReadableNodeStream(val)) {\n    // Legacy streams are not Iterable.\n    return fromReadable(val)\n  }\n\n  throw new ERR_INVALID_ARG_TYPE('val', ['Readable', 'Iterable', 'AsyncIterable'], val)\n}\n\nasync function* fromReadable(val) {\n  if (!Readable) {\n    Readable = require('./readable')\n  }\n\n  yield* Readable.prototype[SymbolAsyncIterator].call(val)\n}\n\nasync function pump(iterable, writable, finish, { end }) {\n  let error\n  let onresolve = null\n\n  const resume = (err) => {\n    if (err) {\n      error = err\n    }\n\n    if (onresolve) {\n      const callback = onresolve\n      onresolve = null\n      callback()\n    }\n  }\n\n  const wait = () =>\n    new Promise((resolve, reject) => {\n      if (error) {\n        reject(error)\n      } else {\n        onresolve = () => {\n          if (error) {\n            reject(error)\n          } else {\n            resolve()\n          }\n        }\n      }\n    })\n\n  writable.on('drain', resume)\n  const cleanup = eos(\n    writable,\n    {\n      readable: false\n    },\n    resume\n  )\n\n  try {\n    if (writable.writableNeedDrain) {\n      await wait()\n    }\n\n    for await (const chunk of iterable) {\n      if (!writable.write(chunk)) {\n        await wait()\n      }\n    }\n\n    if (end) {\n      writable.end()\n    }\n\n    await wait()\n    finish()\n  } catch (err) {\n    finish(error !== err ? aggregateTwoErrors(error, err) : err)\n  } finally {\n    cleanup()\n    writable.off('drain', resume)\n  }\n}\n\nfunction pipeline(...streams) {\n  return pipelineImpl(streams, once(popCallback(streams)))\n}\n\nfunction pipelineImpl(streams, callback, opts) {\n  if (streams.length === 1 && ArrayIsArray(streams[0])) {\n    streams = streams[0]\n  }\n\n  if (streams.length < 2) {\n    throw new ERR_MISSING_ARGS('streams')\n  }\n\n  const ac = new AbortController()\n  const signal = ac.signal\n  const outerSignal = opts === null || opts === undefined ? undefined : opts.signal // Need to cleanup event listeners if last stream is readable\n  // https://github.com/nodejs/node/issues/35452\n\n  const lastStreamCleanup = []\n  validateAbortSignal(outerSignal, 'options.signal')\n\n  function abort() {\n    finishImpl(new AbortError())\n  }\n\n  outerSignal === null || outerSignal === undefined ? undefined : outerSignal.addEventListener('abort', abort)\n  let error\n  let value\n  const destroys = []\n  let finishCount = 0\n\n  function finish(err) {\n    finishImpl(err, --finishCount === 0)\n  }\n\n  function finishImpl(err, final) {\n    if (err && (!error || error.code === 'ERR_STREAM_PREMATURE_CLOSE')) {\n      error = err\n    }\n\n    if (!error && !final) {\n      return\n    }\n\n    while (destroys.length) {\n      destroys.shift()(error)\n    }\n\n    outerSignal === null || outerSignal === undefined ? undefined : outerSignal.removeEventListener('abort', abort)\n    ac.abort()\n\n    if (final) {\n      if (!error) {\n        lastStreamCleanup.forEach((fn) => fn())\n      }\n\n      process.nextTick(callback, error, value)\n    }\n  }\n\n  let ret\n\n  for (let i = 0; i < streams.length; i++) {\n    const stream = streams[i]\n    const reading = i < streams.length - 1\n    const writing = i > 0\n    const end = reading || (opts === null || opts === undefined ? undefined : opts.end) !== false\n    const isLastStream = i === streams.length - 1\n\n    if (isNodeStream(stream)) {\n      if (end) {\n        const { destroy, cleanup } = destroyer(stream, reading, writing)\n        destroys.push(destroy)\n\n        if (isReadable(stream) && isLastStream) {\n          lastStreamCleanup.push(cleanup)\n        }\n      } // Catch stream errors that occur after pipe/pump has completed.\n\n      function onError(err) {\n        if (err && err.name !== 'AbortError' && err.code !== 'ERR_STREAM_PREMATURE_CLOSE') {\n          finish(err)\n        }\n      }\n\n      stream.on('error', onError)\n\n      if (isReadable(stream) && isLastStream) {\n        lastStreamCleanup.push(() => {\n          stream.removeListener('error', onError)\n        })\n      }\n    }\n\n    if (i === 0) {\n      if (typeof stream === 'function') {\n        ret = stream({\n          signal\n        })\n\n        if (!isIterable(ret)) {\n          throw new ERR_INVALID_RETURN_VALUE('Iterable, AsyncIterable or Stream', 'source', ret)\n        }\n      } else if (isIterable(stream) || isReadableNodeStream(stream)) {\n        ret = stream\n      } else {\n        ret = Duplex.from(stream)\n      }\n    } else if (typeof stream === 'function') {\n      ret = makeAsyncIterable(ret)\n      ret = stream(ret, {\n        signal\n      })\n\n      if (reading) {\n        if (!isIterable(ret, true)) {\n          throw new ERR_INVALID_RETURN_VALUE('AsyncIterable', `transform[${i - 1}]`, ret)\n        }\n      } else {\n        var _ret\n\n        if (!PassThrough) {\n          PassThrough = require('./passthrough')\n        } // If the last argument to pipeline is not a stream\n        // we must create a proxy stream so that pipeline(...)\n        // always returns a stream which can be further\n        // composed through `.pipe(stream)`.\n\n        const pt = new PassThrough({\n          objectMode: true\n        }) // Handle Promises/A+ spec, `then` could be a getter that throws on\n        // second use.\n\n        const then = (_ret = ret) === null || _ret === undefined ? undefined : _ret.then\n\n        if (typeof then === 'function') {\n          finishCount++\n          then.call(\n            ret,\n            (val) => {\n              value = val\n\n              if (val != null) {\n                pt.write(val)\n              }\n\n              if (end) {\n                pt.end()\n              }\n\n              process.nextTick(finish)\n            },\n            (err) => {\n              pt.destroy(err)\n              process.nextTick(finish, err)\n            }\n          )\n        } else if (isIterable(ret, true)) {\n          finishCount++\n          pump(ret, pt, finish, {\n            end\n          })\n        } else {\n          throw new ERR_INVALID_RETURN_VALUE('AsyncIterable or Promise', 'destination', ret)\n        }\n\n        ret = pt\n        const { destroy, cleanup } = destroyer(ret, false, true)\n        destroys.push(destroy)\n\n        if (isLastStream) {\n          lastStreamCleanup.push(cleanup)\n        }\n      }\n    } else if (isNodeStream(stream)) {\n      if (isReadableNodeStream(ret)) {\n        finishCount += 2\n        const cleanup = pipe(ret, stream, finish, {\n          end\n        })\n\n        if (isReadable(stream) && isLastStream) {\n          lastStreamCleanup.push(cleanup)\n        }\n      } else if (isIterable(ret)) {\n        finishCount++\n        pump(ret, stream, finish, {\n          end\n        })\n      } else {\n        throw new ERR_INVALID_ARG_TYPE('val', ['Readable', 'Iterable', 'AsyncIterable'], ret)\n      }\n\n      ret = stream\n    } else {\n      ret = Duplex.from(stream)\n    }\n  }\n\n  if (\n    (signal !== null && signal !== undefined && signal.aborted) ||\n    (outerSignal !== null && outerSignal !== undefined && outerSignal.aborted)\n  ) {\n    process.nextTick(abort)\n  }\n\n  return ret\n}\n\nfunction pipe(src, dst, finish, { end }) {\n  src.pipe(dst, {\n    end\n  })\n\n  if (end) {\n    // Compat. Before node v10.12.0 stdio used to throw an error so\n    // pipe() did/does not end() stdio destinations.\n    // Now they allow it but \"secretly\" don't close the underlying fd.\n    src.once('end', () => dst.end())\n  } else {\n    finish()\n  }\n\n  eos(\n    src,\n    {\n      readable: true,\n      writable: false\n    },\n    (err) => {\n      const rState = src._readableState\n\n      if (\n        err &&\n        err.code === 'ERR_STREAM_PREMATURE_CLOSE' &&\n        rState &&\n        rState.ended &&\n        !rState.errored &&\n        !rState.errorEmitted\n      ) {\n        // Some readable streams will emit 'close' before 'end'. However, since\n        // this is on the readable side 'end' should still be emitted if the\n        // stream has been ended and no error emitted. This should be allowed in\n        // favor of backwards compatibility. Since the stream is piped to a\n        // destination this should not result in any observable difference.\n        // We don't need to check if this is a writable premature close since\n        // eos will only fail with premature close on the reading side for\n        // duplex streams.\n        src.once('end', finish).once('error', finish)\n      } else {\n        finish(err)\n      }\n    }\n  )\n  return eos(\n    dst,\n    {\n      readable: false,\n      writable: true\n    },\n    finish\n  )\n}\n\nmodule.exports = {\n  pipelineImpl,\n  pipeline\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n'use strict'\n\nconst {\n  ArrayPrototypeIndexOf,\n  NumberIsInteger,\n  NumberIsNaN,\n  NumberParseInt,\n  ObjectDefineProperties,\n  ObjectKeys,\n  ObjectSetPrototypeOf,\n  Promise,\n  SafeSet,\n  SymbolAsyncIterator,\n  Symbol\n} = require('../../ours/primordials')\n\nmodule.exports = Readable\nReadable.ReadableState = ReadableState\n\nconst { EventEmitter: EE } = require('events')\n\nconst { Stream, prependListener } = require('./legacy')\n\nconst { addAbortSignal } = require('./add-abort-signal')\n\nconst eos = require('./end-of-stream')\n\nlet debug = require('../../ours/util').debuglog('stream', (fn) => {\n  debug = fn\n})\n\nconst BufferList = require('./buffer_list')\n\nconst destroyImpl = require('./destroy')\n\nconst { getHighWaterMark, getDefaultHighWaterMark } = require('./state')\n\nconst {\n  aggregateTwoErrors,\n  codes: {\n    ERR_INVALID_ARG_TYPE,\n    ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_OUT_OF_RANGE,\n    ERR_STREAM_PUSH_AFTER_EOF,\n    ERR_STREAM_UNSHIFT_AFTER_END_EVENT\n  }\n} = require('../../ours/errors')\n\nconst { validateObject } = require('../validators')\n\nconst kPaused = Symbol('kPaused')\n\nconst { StringDecoder } = require('string_decoder')\n\nconst from = require('./from')\n\nObjectSetPrototypeOf(Readable.prototype, Stream.prototype)\nObjectSetPrototypeOf(Readable, Stream)\n\nconst nop = () => {}\n\nconst { errorOrDestroy } = destroyImpl\n\nfunction ReadableState(options, stream, isDuplex) {\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof require('./duplex') // Object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away.\n\n  this.objectMode = !!(options && options.objectMode)\n  if (isDuplex) this.objectMode = this.objectMode || !!(options && options.readableObjectMode) // The point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n\n  this.highWaterMark = options\n    ? getHighWaterMark(this, options, 'readableHighWaterMark', isDuplex)\n    : getDefaultHighWaterMark(false) // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift().\n\n  this.buffer = new BufferList()\n  this.length = 0\n  this.pipes = []\n  this.flowing = null\n  this.ended = false\n  this.endEmitted = false\n  this.reading = false // Stream is still being constructed and cannot be\n  // destroyed until construction finished or failed.\n  // Async construction is opt in, therefore we start as\n  // constructed.\n\n  this.constructed = true // A flag to be able to tell if the event 'readable'/'data' is emitted\n  // immediately, or on a later tick.  We set this to true at first, because\n  // any actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first read call.\n\n  this.sync = true // Whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n\n  this.needReadable = false\n  this.emittedReadable = false\n  this.readableListening = false\n  this.resumeScheduled = false\n  this[kPaused] = null // True if the error was already emitted and should not be thrown again.\n\n  this.errorEmitted = false // Should close be emitted on destroy. Defaults to true.\n\n  this.emitClose = !options || options.emitClose !== false // Should .destroy() be called after 'end' (and potentially 'finish').\n\n  this.autoDestroy = !options || options.autoDestroy !== false // Has it been destroyed.\n\n  this.destroyed = false // Indicates whether the stream has errored. When true no further\n  // _read calls, 'data' or 'readable' events should occur. This is needed\n  // since when autoDestroy is disabled we need a way to tell whether the\n  // stream has failed.\n\n  this.errored = null // Indicates whether the stream has finished destroying.\n\n  this.closed = false // True if close has been emitted or would have been emitted\n  // depending on emitClose.\n\n  this.closeEmitted = false // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n\n  this.defaultEncoding = (options && options.defaultEncoding) || 'utf8' // Ref the piped dest which we need a drain event on it\n  // type: null | Writable | Set<Writable>.\n\n  this.awaitDrainWriters = null\n  this.multiAwaitDrain = false // If true, a maybeReadMore has been scheduled.\n\n  this.readingMore = false\n  this.dataEmitted = false\n  this.decoder = null\n  this.encoding = null\n\n  if (options && options.encoding) {\n    this.decoder = new StringDecoder(options.encoding)\n    this.encoding = options.encoding\n  }\n}\n\nfunction Readable(options) {\n  if (!(this instanceof Readable)) return new Readable(options) // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the ReadableState constructor, at least with V8 6.5.\n\n  const isDuplex = this instanceof require('./duplex')\n\n  this._readableState = new ReadableState(options, this, isDuplex)\n\n  if (options) {\n    if (typeof options.read === 'function') this._read = options.read\n    if (typeof options.destroy === 'function') this._destroy = options.destroy\n    if (typeof options.construct === 'function') this._construct = options.construct\n    if (options.signal && !isDuplex) addAbortSignal(options.signal, this)\n  }\n\n  Stream.call(this, options)\n  destroyImpl.construct(this, () => {\n    if (this._readableState.needReadable) {\n      maybeReadMore(this, this._readableState)\n    }\n  })\n}\n\nReadable.prototype.destroy = destroyImpl.destroy\nReadable.prototype._undestroy = destroyImpl.undestroy\n\nReadable.prototype._destroy = function (err, cb) {\n  cb(err)\n}\n\nReadable.prototype[EE.captureRejectionSymbol] = function (err) {\n  this.destroy(err)\n} // Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\n\nReadable.prototype.push = function (chunk, encoding) {\n  return readableAddChunk(this, chunk, encoding, false)\n} // Unshift should *always* be something directly out of read().\n\nReadable.prototype.unshift = function (chunk, encoding) {\n  return readableAddChunk(this, chunk, encoding, true)\n}\n\nfunction readableAddChunk(stream, chunk, encoding, addToFront) {\n  debug('readableAddChunk', chunk)\n  const state = stream._readableState\n  let err\n\n  if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      encoding = encoding || state.defaultEncoding\n\n      if (state.encoding !== encoding) {\n        if (addToFront && state.encoding) {\n          // When unshifting, if state.encoding is set, we have to save\n          // the string in the BufferList with the state encoding.\n          chunk = Buffer.from(chunk, encoding).toString(state.encoding)\n        } else {\n          chunk = Buffer.from(chunk, encoding)\n          encoding = ''\n        }\n      }\n    } else if (chunk instanceof Buffer) {\n      encoding = ''\n    } else if (Stream._isUint8Array(chunk)) {\n      chunk = Stream._uint8ArrayToBuffer(chunk)\n      encoding = ''\n    } else if (chunk != null) {\n      err = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer', 'Uint8Array'], chunk)\n    }\n  }\n\n  if (err) {\n    errorOrDestroy(stream, err)\n  } else if (chunk === null) {\n    state.reading = false\n    onEofChunk(stream, state)\n  } else if (state.objectMode || (chunk && chunk.length > 0)) {\n    if (addToFront) {\n      if (state.endEmitted) errorOrDestroy(stream, new ERR_STREAM_UNSHIFT_AFTER_END_EVENT())\n      else if (state.destroyed || state.errored) return false\n      else addChunk(stream, state, chunk, true)\n    } else if (state.ended) {\n      errorOrDestroy(stream, new ERR_STREAM_PUSH_AFTER_EOF())\n    } else if (state.destroyed || state.errored) {\n      return false\n    } else {\n      state.reading = false\n\n      if (state.decoder && !encoding) {\n        chunk = state.decoder.write(chunk)\n        if (state.objectMode || chunk.length !== 0) addChunk(stream, state, chunk, false)\n        else maybeReadMore(stream, state)\n      } else {\n        addChunk(stream, state, chunk, false)\n      }\n    }\n  } else if (!addToFront) {\n    state.reading = false\n    maybeReadMore(stream, state)\n  } // We can push more data if we are below the highWaterMark.\n  // Also, if we have no data yet, we can stand some more bytes.\n  // This is to work around cases where hwm=0, such as the repl.\n\n  return !state.ended && (state.length < state.highWaterMark || state.length === 0)\n}\n\nfunction addChunk(stream, state, chunk, addToFront) {\n  if (state.flowing && state.length === 0 && !state.sync && stream.listenerCount('data') > 0) {\n    // Use the guard to avoid creating `Set()` repeatedly\n    // when we have multiple pipes.\n    if (state.multiAwaitDrain) {\n      state.awaitDrainWriters.clear()\n    } else {\n      state.awaitDrainWriters = null\n    }\n\n    state.dataEmitted = true\n    stream.emit('data', chunk)\n  } else {\n    // Update the buffer info.\n    state.length += state.objectMode ? 1 : chunk.length\n    if (addToFront) state.buffer.unshift(chunk)\n    else state.buffer.push(chunk)\n    if (state.needReadable) emitReadable(stream)\n  }\n\n  maybeReadMore(stream, state)\n}\n\nReadable.prototype.isPaused = function () {\n  const state = this._readableState\n  return state[kPaused] === true || state.flowing === false\n} // Backwards compatibility.\n\nReadable.prototype.setEncoding = function (enc) {\n  const decoder = new StringDecoder(enc)\n  this._readableState.decoder = decoder // If setEncoding(null), decoder.encoding equals utf8.\n\n  this._readableState.encoding = this._readableState.decoder.encoding\n  const buffer = this._readableState.buffer // Iterate over current buffer to convert already stored Buffers:\n\n  let content = ''\n\n  for (const data of buffer) {\n    content += decoder.write(data)\n  }\n\n  buffer.clear()\n  if (content !== '') buffer.push(content)\n  this._readableState.length = content.length\n  return this\n} // Don't raise the hwm > 1GB.\n\nconst MAX_HWM = 0x40000000\n\nfunction computeNewHighWaterMark(n) {\n  if (n > MAX_HWM) {\n    throw new ERR_OUT_OF_RANGE('size', '<= 1GiB', n)\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts.\n    n--\n    n |= n >>> 1\n    n |= n >>> 2\n    n |= n >>> 4\n    n |= n >>> 8\n    n |= n >>> 16\n    n++\n  }\n\n  return n\n} // This function is designed to be inlinable, so please take care when making\n// changes to the function body.\n\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || (state.length === 0 && state.ended)) return 0\n  if (state.objectMode) return 1\n\n  if (NumberIsNaN(n)) {\n    // Only flow one buffer at a time.\n    if (state.flowing && state.length) return state.buffer.first().length\n    return state.length\n  }\n\n  if (n <= state.length) return n\n  return state.ended ? state.length : 0\n} // You can override either this method, or the async _read(n) below.\n\nReadable.prototype.read = function (n) {\n  debug('read', n) // Same as parseInt(undefined, 10), however V8 7.3 performance regressed\n  // in this scenario, so we are doing it manually.\n\n  if (n === undefined) {\n    n = NaN\n  } else if (!NumberIsInteger(n)) {\n    n = NumberParseInt(n, 10)\n  }\n\n  const state = this._readableState\n  const nOrig = n // If we're asking for more than the current hwm, then raise the hwm.\n\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n)\n  if (n !== 0) state.emittedReadable = false // If we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n\n  if (\n    n === 0 &&\n    state.needReadable &&\n    ((state.highWaterMark !== 0 ? state.length >= state.highWaterMark : state.length > 0) || state.ended)\n  ) {\n    debug('read: emitReadable', state.length, state.ended)\n    if (state.length === 0 && state.ended) endReadable(this)\n    else emitReadable(this)\n    return null\n  }\n\n  n = howMuchToRead(n, state) // If we've ended, and we're now clear, then finish it up.\n\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this)\n    return null\n  } // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n  // if we need a readable event, then we need to do some reading.\n\n  let doRead = state.needReadable\n  debug('need readable', doRead) // If we currently have less than the highWaterMark, then also read some.\n\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true\n    debug('length less than watermark', doRead)\n  } // However, if we've ended, then there's no point, if we're already\n  // reading, then it's unnecessary, if we're constructing we have to wait,\n  // and if we're destroyed or errored, then it's not allowed,\n\n  if (state.ended || state.reading || state.destroyed || state.errored || !state.constructed) {\n    doRead = false\n    debug('reading, ended or constructing', doRead)\n  } else if (doRead) {\n    debug('do read')\n    state.reading = true\n    state.sync = true // If the length is currently zero, then we *need* a readable event.\n\n    if (state.length === 0) state.needReadable = true // Call internal read method\n\n    try {\n      this._read(state.highWaterMark)\n    } catch (err) {\n      errorOrDestroy(this, err)\n    }\n\n    state.sync = false // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n\n    if (!state.reading) n = howMuchToRead(nOrig, state)\n  }\n\n  let ret\n  if (n > 0) ret = fromList(n, state)\n  else ret = null\n\n  if (ret === null) {\n    state.needReadable = state.length <= state.highWaterMark\n    n = 0\n  } else {\n    state.length -= n\n\n    if (state.multiAwaitDrain) {\n      state.awaitDrainWriters.clear()\n    } else {\n      state.awaitDrainWriters = null\n    }\n  }\n\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true // If we tried to read() past the EOF, then emit end on the next tick.\n\n    if (nOrig !== n && state.ended) endReadable(this)\n  }\n\n  if (ret !== null && !state.errorEmitted && !state.closeEmitted) {\n    state.dataEmitted = true\n    this.emit('data', ret)\n  }\n\n  return ret\n}\n\nfunction onEofChunk(stream, state) {\n  debug('onEofChunk')\n  if (state.ended) return\n\n  if (state.decoder) {\n    const chunk = state.decoder.end()\n\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk)\n      state.length += state.objectMode ? 1 : chunk.length\n    }\n  }\n\n  state.ended = true\n\n  if (state.sync) {\n    // If we are sync, wait until next tick to emit the data.\n    // Otherwise we risk emitting data in the flow()\n    // the readable code triggers during a read() call.\n    emitReadable(stream)\n  } else {\n    // Emit 'readable' now to make sure it gets picked up.\n    state.needReadable = false\n    state.emittedReadable = true // We have to emit readable now that we are EOF. Modules\n    // in the ecosystem (e.g. dicer) rely on this event being sync.\n\n    emitReadable_(stream)\n  }\n} // Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\n\nfunction emitReadable(stream) {\n  const state = stream._readableState\n  debug('emitReadable', state.needReadable, state.emittedReadable)\n  state.needReadable = false\n\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing)\n    state.emittedReadable = true\n    process.nextTick(emitReadable_, stream)\n  }\n}\n\nfunction emitReadable_(stream) {\n  const state = stream._readableState\n  debug('emitReadable_', state.destroyed, state.length, state.ended)\n\n  if (!state.destroyed && !state.errored && (state.length || state.ended)) {\n    stream.emit('readable')\n    state.emittedReadable = false\n  } // The stream needs another readable event if:\n  // 1. It is not flowing, as the flow mechanism will take\n  //    care of it.\n  // 2. It is not ended.\n  // 3. It is below the highWaterMark, so we can schedule\n  //    another readable later.\n\n  state.needReadable = !state.flowing && !state.ended && state.length <= state.highWaterMark\n  flow(stream)\n} // At this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\n\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore && state.constructed) {\n    state.readingMore = true\n    process.nextTick(maybeReadMore_, stream, state)\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  // Attempt to read more data if we should.\n  //\n  // The conditions for reading more data are (one of):\n  // - Not enough data buffered (state.length < state.highWaterMark). The loop\n  //   is responsible for filling the buffer with enough data if such data\n  //   is available. If highWaterMark is 0 and we are not in the flowing mode\n  //   we should _not_ attempt to buffer any extra data. We'll get more data\n  //   when the stream consumer calls read() instead.\n  // - No data in the buffer, and the stream is in flowing mode. In this mode\n  //   the loop below is responsible for ensuring read() is called. Failing to\n  //   call read here would abort the flow and there's no other mechanism for\n  //   continuing the flow if the stream consumer has just subscribed to the\n  //   'data' event.\n  //\n  // In addition to the above conditions to keep reading data, the following\n  // conditions prevent the data from being read:\n  // - The stream has ended (state.ended).\n  // - There is already a pending 'read' operation (state.reading). This is a\n  //   case where the stream has called the implementation defined _read()\n  //   method, but they are processing the call asynchronously and have _not_\n  //   called push() with new data. In this case we skip performing more\n  //   read()s. The execution ends in this method again after the _read() ends\n  //   up calling push() with more data.\n  while (\n    !state.reading &&\n    !state.ended &&\n    (state.length < state.highWaterMark || (state.flowing && state.length === 0))\n  ) {\n    const len = state.length\n    debug('maybeReadMore read 0')\n    stream.read(0)\n    if (len === state.length)\n      // Didn't get any data, stop spinning.\n      break\n  }\n\n  state.readingMore = false\n} // Abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\n\nReadable.prototype._read = function (n) {\n  throw new ERR_METHOD_NOT_IMPLEMENTED('_read()')\n}\n\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  const src = this\n  const state = this._readableState\n\n  if (state.pipes.length === 1) {\n    if (!state.multiAwaitDrain) {\n      state.multiAwaitDrain = true\n      state.awaitDrainWriters = new SafeSet(state.awaitDrainWriters ? [state.awaitDrainWriters] : [])\n    }\n  }\n\n  state.pipes.push(dest)\n  debug('pipe count=%d opts=%j', state.pipes.length, pipeOpts)\n  const doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr\n  const endFn = doEnd ? onend : unpipe\n  if (state.endEmitted) process.nextTick(endFn)\n  else src.once('end', endFn)\n  dest.on('unpipe', onunpipe)\n\n  function onunpipe(readable, unpipeInfo) {\n    debug('onunpipe')\n\n    if (readable === src) {\n      if (unpipeInfo && unpipeInfo.hasUnpiped === false) {\n        unpipeInfo.hasUnpiped = true\n        cleanup()\n      }\n    }\n  }\n\n  function onend() {\n    debug('onend')\n    dest.end()\n  }\n\n  let ondrain\n  let cleanedUp = false\n\n  function cleanup() {\n    debug('cleanup') // Cleanup event handlers once the pipe is broken.\n\n    dest.removeListener('close', onclose)\n    dest.removeListener('finish', onfinish)\n\n    if (ondrain) {\n      dest.removeListener('drain', ondrain)\n    }\n\n    dest.removeListener('error', onerror)\n    dest.removeListener('unpipe', onunpipe)\n    src.removeListener('end', onend)\n    src.removeListener('end', unpipe)\n    src.removeListener('data', ondata)\n    cleanedUp = true // If the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n\n    if (ondrain && state.awaitDrainWriters && (!dest._writableState || dest._writableState.needDrain)) ondrain()\n  }\n\n  function pause() {\n    // If the user unpiped during `dest.write()`, it is possible\n    // to get stuck in a permanently paused state if that write\n    // also returned false.\n    // => Check whether `dest` is still a piping destination.\n    if (!cleanedUp) {\n      if (state.pipes.length === 1 && state.pipes[0] === dest) {\n        debug('false write response, pause', 0)\n        state.awaitDrainWriters = dest\n        state.multiAwaitDrain = false\n      } else if (state.pipes.length > 1 && state.pipes.includes(dest)) {\n        debug('false write response, pause', state.awaitDrainWriters.size)\n        state.awaitDrainWriters.add(dest)\n      }\n\n      src.pause()\n    }\n\n    if (!ondrain) {\n      // When the dest drains, it reduces the awaitDrain counter\n      // on the source.  This would be more elegant with a .once()\n      // handler in flow(), but adding and removing repeatedly is\n      // too slow.\n      ondrain = pipeOnDrain(src, dest)\n      dest.on('drain', ondrain)\n    }\n  }\n\n  src.on('data', ondata)\n\n  function ondata(chunk) {\n    debug('ondata')\n    const ret = dest.write(chunk)\n    debug('dest.write', ret)\n\n    if (ret === false) {\n      pause()\n    }\n  } // If the dest has an error, then stop piping into it.\n  // However, don't suppress the throwing behavior for this.\n\n  function onerror(er) {\n    debug('onerror', er)\n    unpipe()\n    dest.removeListener('error', onerror)\n\n    if (dest.listenerCount('error') === 0) {\n      const s = dest._writableState || dest._readableState\n\n      if (s && !s.errorEmitted) {\n        // User incorrectly emitted 'error' directly on the stream.\n        errorOrDestroy(dest, er)\n      } else {\n        dest.emit('error', er)\n      }\n    }\n  } // Make sure our error handler is attached before userland ones.\n\n  prependListener(dest, 'error', onerror) // Both close and finish should trigger unpipe, but only once.\n\n  function onclose() {\n    dest.removeListener('finish', onfinish)\n    unpipe()\n  }\n\n  dest.once('close', onclose)\n\n  function onfinish() {\n    debug('onfinish')\n    dest.removeListener('close', onclose)\n    unpipe()\n  }\n\n  dest.once('finish', onfinish)\n\n  function unpipe() {\n    debug('unpipe')\n    src.unpipe(dest)\n  } // Tell the dest that it's being piped to.\n\n  dest.emit('pipe', src) // Start the flow if it hasn't been started already.\n\n  if (dest.writableNeedDrain === true) {\n    if (state.flowing) {\n      pause()\n    }\n  } else if (!state.flowing) {\n    debug('pipe resume')\n    src.resume()\n  }\n\n  return dest\n}\n\nfunction pipeOnDrain(src, dest) {\n  return function pipeOnDrainFunctionResult() {\n    const state = src._readableState // `ondrain` will call directly,\n    // `this` maybe not a reference to dest,\n    // so we use the real dest here.\n\n    if (state.awaitDrainWriters === dest) {\n      debug('pipeOnDrain', 1)\n      state.awaitDrainWriters = null\n    } else if (state.multiAwaitDrain) {\n      debug('pipeOnDrain', state.awaitDrainWriters.size)\n      state.awaitDrainWriters.delete(dest)\n    }\n\n    if ((!state.awaitDrainWriters || state.awaitDrainWriters.size === 0) && src.listenerCount('data')) {\n      src.resume()\n    }\n  }\n}\n\nReadable.prototype.unpipe = function (dest) {\n  const state = this._readableState\n  const unpipeInfo = {\n    hasUnpiped: false\n  } // If we're not piping anywhere, then do nothing.\n\n  if (state.pipes.length === 0) return this\n\n  if (!dest) {\n    // remove all.\n    const dests = state.pipes\n    state.pipes = []\n    this.pause()\n\n    for (let i = 0; i < dests.length; i++)\n      dests[i].emit('unpipe', this, {\n        hasUnpiped: false\n      })\n\n    return this\n  } // Try to find the right one.\n\n  const index = ArrayPrototypeIndexOf(state.pipes, dest)\n  if (index === -1) return this\n  state.pipes.splice(index, 1)\n  if (state.pipes.length === 0) this.pause()\n  dest.emit('unpipe', this, unpipeInfo)\n  return this\n} // Set up data events if they are asked for\n// Ensure readable listeners eventually get something.\n\nReadable.prototype.on = function (ev, fn) {\n  const res = Stream.prototype.on.call(this, ev, fn)\n  const state = this._readableState\n\n  if (ev === 'data') {\n    // Update readableListening so that resume() may be a no-op\n    // a few lines down. This is needed to support once('readable').\n    state.readableListening = this.listenerCount('readable') > 0 // Try start flowing on next tick if stream isn't explicitly paused.\n\n    if (state.flowing !== false) this.resume()\n  } else if (ev === 'readable') {\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true\n      state.flowing = false\n      state.emittedReadable = false\n      debug('on readable', state.length, state.reading)\n\n      if (state.length) {\n        emitReadable(this)\n      } else if (!state.reading) {\n        process.nextTick(nReadingNextTick, this)\n      }\n    }\n  }\n\n  return res\n}\n\nReadable.prototype.addListener = Readable.prototype.on\n\nReadable.prototype.removeListener = function (ev, fn) {\n  const res = Stream.prototype.removeListener.call(this, ev, fn)\n\n  if (ev === 'readable') {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this)\n  }\n\n  return res\n}\n\nReadable.prototype.off = Readable.prototype.removeListener\n\nReadable.prototype.removeAllListeners = function (ev) {\n  const res = Stream.prototype.removeAllListeners.apply(this, arguments)\n\n  if (ev === 'readable' || ev === undefined) {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this)\n  }\n\n  return res\n}\n\nfunction updateReadableListening(self) {\n  const state = self._readableState\n  state.readableListening = self.listenerCount('readable') > 0\n\n  if (state.resumeScheduled && state[kPaused] === false) {\n    // Flowing needs to be set to true now, otherwise\n    // the upcoming resume will not flow.\n    state.flowing = true // Crude way to check if we should resume.\n  } else if (self.listenerCount('data') > 0) {\n    self.resume()\n  } else if (!state.readableListening) {\n    state.flowing = null\n  }\n}\n\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0')\n  self.read(0)\n} // pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\n\nReadable.prototype.resume = function () {\n  const state = this._readableState\n\n  if (!state.flowing) {\n    debug('resume') // We flow only if there is no one listening\n    // for readable, but we still have to call\n    // resume().\n\n    state.flowing = !state.readableListening\n    resume(this, state)\n  }\n\n  state[kPaused] = false\n  return this\n}\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true\n    process.nextTick(resume_, stream, state)\n  }\n}\n\nfunction resume_(stream, state) {\n  debug('resume', state.reading)\n\n  if (!state.reading) {\n    stream.read(0)\n  }\n\n  state.resumeScheduled = false\n  stream.emit('resume')\n  flow(stream)\n  if (state.flowing && !state.reading) stream.read(0)\n}\n\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing)\n\n  if (this._readableState.flowing !== false) {\n    debug('pause')\n    this._readableState.flowing = false\n    this.emit('pause')\n  }\n\n  this._readableState[kPaused] = true\n  return this\n}\n\nfunction flow(stream) {\n  const state = stream._readableState\n  debug('flow', state.flowing)\n\n  while (state.flowing && stream.read() !== null);\n} // Wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\n\nReadable.prototype.wrap = function (stream) {\n  let paused = false // TODO (ronag): Should this.destroy(err) emit\n  // 'error' on the wrapped stream? Would require\n  // a static factory method, e.g. Readable.wrap(stream).\n\n  stream.on('data', (chunk) => {\n    if (!this.push(chunk) && stream.pause) {\n      paused = true\n      stream.pause()\n    }\n  })\n  stream.on('end', () => {\n    this.push(null)\n  })\n  stream.on('error', (err) => {\n    errorOrDestroy(this, err)\n  })\n  stream.on('close', () => {\n    this.destroy()\n  })\n  stream.on('destroy', () => {\n    this.destroy()\n  })\n\n  this._read = () => {\n    if (paused && stream.resume) {\n      paused = false\n      stream.resume()\n    }\n  } // Proxy all the other methods. Important when wrapping filters and duplexes.\n\n  const streamKeys = ObjectKeys(stream)\n\n  for (let j = 1; j < streamKeys.length; j++) {\n    const i = streamKeys[j]\n\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = stream[i].bind(stream)\n    }\n  }\n\n  return this\n}\n\nReadable.prototype[SymbolAsyncIterator] = function () {\n  return streamToAsyncIterator(this)\n}\n\nReadable.prototype.iterator = function (options) {\n  if (options !== undefined) {\n    validateObject(options, 'options')\n  }\n\n  return streamToAsyncIterator(this, options)\n}\n\nfunction streamToAsyncIterator(stream, options) {\n  if (typeof stream.read !== 'function') {\n    stream = Readable.wrap(stream, {\n      objectMode: true\n    })\n  }\n\n  const iter = createAsyncIterator(stream, options)\n  iter.stream = stream\n  return iter\n}\n\nasync function* createAsyncIterator(stream, options) {\n  let callback = nop\n\n  function next(resolve) {\n    if (this === stream) {\n      callback()\n      callback = nop\n    } else {\n      callback = resolve\n    }\n  }\n\n  stream.on('readable', next)\n  let error\n  const cleanup = eos(\n    stream,\n    {\n      writable: false\n    },\n    (err) => {\n      error = err ? aggregateTwoErrors(error, err) : null\n      callback()\n      callback = nop\n    }\n  )\n\n  try {\n    while (true) {\n      const chunk = stream.destroyed ? null : stream.read()\n\n      if (chunk !== null) {\n        yield chunk\n      } else if (error) {\n        throw error\n      } else if (error === null) {\n        return\n      } else {\n        await new Promise(next)\n      }\n    }\n  } catch (err) {\n    error = aggregateTwoErrors(error, err)\n    throw error\n  } finally {\n    if (\n      (error || (options === null || options === undefined ? undefined : options.destroyOnReturn) !== false) &&\n      (error === undefined || stream._readableState.autoDestroy)\n    ) {\n      destroyImpl.destroyer(stream, null)\n    } else {\n      stream.off('readable', next)\n      cleanup()\n    }\n  }\n} // Making it explicit these properties are not enumerable\n// because otherwise some prototype manipulation in\n// userland will fail.\n\nObjectDefineProperties(Readable.prototype, {\n  readable: {\n    get() {\n      const r = this._readableState // r.readable === false means that this is part of a Duplex stream\n      // where the readable side was disabled upon construction.\n      // Compat. The user might manually disable readable side through\n      // deprecated setter.\n\n      return !!r && r.readable !== false && !r.destroyed && !r.errorEmitted && !r.endEmitted\n    },\n\n    set(val) {\n      // Backwards compat.\n      if (this._readableState) {\n        this._readableState.readable = !!val\n      }\n    }\n  },\n  readableDidRead: {\n    enumerable: false,\n    get: function () {\n      return this._readableState.dataEmitted\n    }\n  },\n  readableAborted: {\n    enumerable: false,\n    get: function () {\n      return !!(\n        this._readableState.readable !== false &&\n        (this._readableState.destroyed || this._readableState.errored) &&\n        !this._readableState.endEmitted\n      )\n    }\n  },\n  readableHighWaterMark: {\n    enumerable: false,\n    get: function () {\n      return this._readableState.highWaterMark\n    }\n  },\n  readableBuffer: {\n    enumerable: false,\n    get: function () {\n      return this._readableState && this._readableState.buffer\n    }\n  },\n  readableFlowing: {\n    enumerable: false,\n    get: function () {\n      return this._readableState.flowing\n    },\n    set: function (state) {\n      if (this._readableState) {\n        this._readableState.flowing = state\n      }\n    }\n  },\n  readableLength: {\n    enumerable: false,\n\n    get() {\n      return this._readableState.length\n    }\n  },\n  readableObjectMode: {\n    enumerable: false,\n\n    get() {\n      return this._readableState ? this._readableState.objectMode : false\n    }\n  },\n  readableEncoding: {\n    enumerable: false,\n\n    get() {\n      return this._readableState ? this._readableState.encoding : null\n    }\n  },\n  errored: {\n    enumerable: false,\n\n    get() {\n      return this._readableState ? this._readableState.errored : null\n    }\n  },\n  closed: {\n    get() {\n      return this._readableState ? this._readableState.closed : false\n    }\n  },\n  destroyed: {\n    enumerable: false,\n\n    get() {\n      return this._readableState ? this._readableState.destroyed : false\n    },\n\n    set(value) {\n      // We ignore the value if the stream\n      // has not been initialized yet.\n      if (!this._readableState) {\n        return\n      } // Backward compatibility, the user is explicitly\n      // managing destroyed.\n\n      this._readableState.destroyed = value\n    }\n  },\n  readableEnded: {\n    enumerable: false,\n\n    get() {\n      return this._readableState ? this._readableState.endEmitted : false\n    }\n  }\n})\nObjectDefineProperties(ReadableState.prototype, {\n  // Legacy getter for `pipesCount`.\n  pipesCount: {\n    get() {\n      return this.pipes.length\n    }\n  },\n  // Legacy property for `paused`.\n  paused: {\n    get() {\n      return this[kPaused] !== false\n    },\n\n    set(value) {\n      this[kPaused] = !!value\n    }\n  }\n}) // Exposed for testing purposes only.\n\nReadable._fromList = fromList // Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\n\nfunction fromList(n, state) {\n  // nothing buffered.\n  if (state.length === 0) return null\n  let ret\n  if (state.objectMode) ret = state.buffer.shift()\n  else if (!n || n >= state.length) {\n    // Read it all, truncate the list.\n    if (state.decoder) ret = state.buffer.join('')\n    else if (state.buffer.length === 1) ret = state.buffer.first()\n    else ret = state.buffer.concat(state.length)\n    state.buffer.clear()\n  } else {\n    // read part of list.\n    ret = state.buffer.consume(n, state.decoder)\n  }\n  return ret\n}\n\nfunction endReadable(stream) {\n  const state = stream._readableState\n  debug('endReadable', state.endEmitted)\n\n  if (!state.endEmitted) {\n    state.ended = true\n    process.nextTick(endReadableNT, state, stream)\n  }\n}\n\nfunction endReadableNT(state, stream) {\n  debug('endReadableNT', state.endEmitted, state.length) // Check that we didn't get one last unshift.\n\n  if (!state.errored && !state.closeEmitted && !state.endEmitted && state.length === 0) {\n    state.endEmitted = true\n    stream.emit('end')\n\n    if (stream.writable && stream.allowHalfOpen === false) {\n      process.nextTick(endWritableNT, stream)\n    } else if (state.autoDestroy) {\n      // In case of duplex streams we need a way to detect\n      // if the writable side is ready for autoDestroy as well.\n      const wState = stream._writableState\n      const autoDestroy =\n        !wState ||\n        (wState.autoDestroy && // We don't expect the writable to ever 'finish'\n          // if writable is explicitly set to false.\n          (wState.finished || wState.writable === false))\n\n      if (autoDestroy) {\n        stream.destroy()\n      }\n    }\n  }\n}\n\nfunction endWritableNT(stream) {\n  const writable = stream.writable && !stream.writableEnded && !stream.destroyed\n\n  if (writable) {\n    stream.end()\n  }\n}\n\nReadable.from = function (iterable, opts) {\n  return from(Readable, iterable, opts)\n}\n\nlet webStreamsAdapters // Lazy to avoid circular references\n\nfunction lazyWebStreams() {\n  if (webStreamsAdapters === undefined) webStreamsAdapters = {}\n  return webStreamsAdapters\n}\n\nReadable.fromWeb = function (readableStream, options) {\n  return lazyWebStreams().newStreamReadableFromReadableStream(readableStream, options)\n}\n\nReadable.toWeb = function (streamReadable) {\n  return lazyWebStreams().newReadableStreamFromStreamReadable(streamReadable)\n}\n\nReadable.wrap = function (src, options) {\n  var _ref, _src$readableObjectMo\n\n  return new Readable({\n    objectMode:\n      (_ref =\n        (_src$readableObjectMo = src.readableObjectMode) !== null && _src$readableObjectMo !== undefined\n          ? _src$readableObjectMo\n          : src.objectMode) !== null && _ref !== undefined\n        ? _ref\n        : true,\n    ...options,\n\n    destroy(err, callback) {\n      destroyImpl.destroyer(src, err)\n      callback(err)\n    }\n  }).wrap(src)\n}\n","'use strict'\n\nconst { MathFloor, NumberIsInteger } = require('../../ours/primordials')\n\nconst { ERR_INVALID_ARG_VALUE } = require('../../ours/errors').codes\n\nfunction highWaterMarkFrom(options, isDuplex, duplexKey) {\n  return options.highWaterMark != null ? options.highWaterMark : isDuplex ? options[duplexKey] : null\n}\n\nfunction getDefaultHighWaterMark(objectMode) {\n  return objectMode ? 16 : 16 * 1024\n}\n\nfunction getHighWaterMark(state, options, duplexKey, isDuplex) {\n  const hwm = highWaterMarkFrom(options, isDuplex, duplexKey)\n\n  if (hwm != null) {\n    if (!NumberIsInteger(hwm) || hwm < 0) {\n      const name = isDuplex ? `options.${duplexKey}` : 'options.highWaterMark'\n      throw new ERR_INVALID_ARG_VALUE(name, hwm)\n    }\n\n    return MathFloor(hwm)\n  } // Default value\n\n  return getDefaultHighWaterMark(state.objectMode)\n}\n\nmodule.exports = {\n  getHighWaterMark,\n  getDefaultHighWaterMark\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n'use strict'\n\nconst { ObjectSetPrototypeOf, Symbol } = require('../../ours/primordials')\n\nmodule.exports = Transform\n\nconst { ERR_METHOD_NOT_IMPLEMENTED } = require('../../ours/errors').codes\n\nconst Duplex = require('./duplex')\n\nObjectSetPrototypeOf(Transform.prototype, Duplex.prototype)\nObjectSetPrototypeOf(Transform, Duplex)\nconst kCallback = Symbol('kCallback')\n\nfunction Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options)\n  Duplex.call(this, options) // We have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n\n  this._readableState.sync = false\n  this[kCallback] = null\n\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform\n    if (typeof options.flush === 'function') this._flush = options.flush\n  } // When the writable side finishes, then flush out anything remaining.\n  // Backwards compat. Some Transform streams incorrectly implement _final\n  // instead of or in addition to _flush. By using 'prefinish' instead of\n  // implementing _final we continue supporting this unfortunate use case.\n\n  this.on('prefinish', prefinish)\n}\n\nfunction final(cb) {\n  if (typeof this._flush === 'function' && !this.destroyed) {\n    this._flush((er, data) => {\n      if (er) {\n        if (cb) {\n          cb(er)\n        } else {\n          this.destroy(er)\n        }\n\n        return\n      }\n\n      if (data != null) {\n        this.push(data)\n      }\n\n      this.push(null)\n\n      if (cb) {\n        cb()\n      }\n    })\n  } else {\n    this.push(null)\n\n    if (cb) {\n      cb()\n    }\n  }\n}\n\nfunction prefinish() {\n  if (this._final !== final) {\n    final.call(this)\n  }\n}\n\nTransform.prototype._final = final\n\nTransform.prototype._transform = function (chunk, encoding, callback) {\n  throw new ERR_METHOD_NOT_IMPLEMENTED('_transform()')\n}\n\nTransform.prototype._write = function (chunk, encoding, callback) {\n  const rState = this._readableState\n  const wState = this._writableState\n  const length = rState.length\n\n  this._transform(chunk, encoding, (err, val) => {\n    if (err) {\n      callback(err)\n      return\n    }\n\n    if (val != null) {\n      this.push(val)\n    }\n\n    if (\n      wState.ended || // Backwards compat.\n      length === rState.length || // Backwards compat.\n      rState.length < rState.highWaterMark ||\n      rState.highWaterMark === 0 ||\n      rState.length === 0\n    ) {\n      callback()\n    } else {\n      this[kCallback] = callback\n    }\n  })\n}\n\nTransform.prototype._read = function () {\n  if (this[kCallback]) {\n    const callback = this[kCallback]\n    this[kCallback] = null\n    callback()\n  }\n}\n","'use strict'\n\nconst { Symbol, SymbolAsyncIterator, SymbolIterator } = require('../../ours/primordials')\n\nconst kDestroyed = Symbol('kDestroyed')\nconst kIsErrored = Symbol('kIsErrored')\nconst kIsReadable = Symbol('kIsReadable')\nconst kIsDisturbed = Symbol('kIsDisturbed')\n\nfunction isReadableNodeStream(obj, strict = false) {\n  var _obj$_readableState\n\n  return !!(\n    (\n      obj &&\n      typeof obj.pipe === 'function' &&\n      typeof obj.on === 'function' &&\n      (!strict || (typeof obj.pause === 'function' && typeof obj.resume === 'function')) &&\n      (!obj._writableState ||\n        ((_obj$_readableState = obj._readableState) === null || _obj$_readableState === undefined\n          ? undefined\n          : _obj$_readableState.readable) !== false) && // Duplex\n      (!obj._writableState || obj._readableState)\n    ) // Writable has .pipe.\n  )\n}\n\nfunction isWritableNodeStream(obj) {\n  var _obj$_writableState\n\n  return !!(\n    (\n      obj &&\n      typeof obj.write === 'function' &&\n      typeof obj.on === 'function' &&\n      (!obj._readableState ||\n        ((_obj$_writableState = obj._writableState) === null || _obj$_writableState === undefined\n          ? undefined\n          : _obj$_writableState.writable) !== false)\n    ) // Duplex\n  )\n}\n\nfunction isDuplexNodeStream(obj) {\n  return !!(\n    obj &&\n    typeof obj.pipe === 'function' &&\n    obj._readableState &&\n    typeof obj.on === 'function' &&\n    typeof obj.write === 'function'\n  )\n}\n\nfunction isNodeStream(obj) {\n  return (\n    obj &&\n    (obj._readableState ||\n      obj._writableState ||\n      (typeof obj.write === 'function' && typeof obj.on === 'function') ||\n      (typeof obj.pipe === 'function' && typeof obj.on === 'function'))\n  )\n}\n\nfunction isIterable(obj, isAsync) {\n  if (obj == null) return false\n  if (isAsync === true) return typeof obj[SymbolAsyncIterator] === 'function'\n  if (isAsync === false) return typeof obj[SymbolIterator] === 'function'\n  return typeof obj[SymbolAsyncIterator] === 'function' || typeof obj[SymbolIterator] === 'function'\n}\n\nfunction isDestroyed(stream) {\n  if (!isNodeStream(stream)) return null\n  const wState = stream._writableState\n  const rState = stream._readableState\n  const state = wState || rState\n  return !!(stream.destroyed || stream[kDestroyed] || (state !== null && state !== undefined && state.destroyed))\n} // Have been end():d.\n\nfunction isWritableEnded(stream) {\n  if (!isWritableNodeStream(stream)) return null\n  if (stream.writableEnded === true) return true\n  const wState = stream._writableState\n  if (wState !== null && wState !== undefined && wState.errored) return false\n  if (typeof (wState === null || wState === undefined ? undefined : wState.ended) !== 'boolean') return null\n  return wState.ended\n} // Have emitted 'finish'.\n\nfunction isWritableFinished(stream, strict) {\n  if (!isWritableNodeStream(stream)) return null\n  if (stream.writableFinished === true) return true\n  const wState = stream._writableState\n  if (wState !== null && wState !== undefined && wState.errored) return false\n  if (typeof (wState === null || wState === undefined ? undefined : wState.finished) !== 'boolean') return null\n  return !!(wState.finished || (strict === false && wState.ended === true && wState.length === 0))\n} // Have been push(null):d.\n\nfunction isReadableEnded(stream) {\n  if (!isReadableNodeStream(stream)) return null\n  if (stream.readableEnded === true) return true\n  const rState = stream._readableState\n  if (!rState || rState.errored) return false\n  if (typeof (rState === null || rState === undefined ? undefined : rState.ended) !== 'boolean') return null\n  return rState.ended\n} // Have emitted 'end'.\n\nfunction isReadableFinished(stream, strict) {\n  if (!isReadableNodeStream(stream)) return null\n  const rState = stream._readableState\n  if (rState !== null && rState !== undefined && rState.errored) return false\n  if (typeof (rState === null || rState === undefined ? undefined : rState.endEmitted) !== 'boolean') return null\n  return !!(rState.endEmitted || (strict === false && rState.ended === true && rState.length === 0))\n}\n\nfunction isReadable(stream) {\n  if (stream && stream[kIsReadable] != null) return stream[kIsReadable]\n  if (typeof (stream === null || stream === undefined ? undefined : stream.readable) !== 'boolean') return null\n  if (isDestroyed(stream)) return false\n  return isReadableNodeStream(stream) && stream.readable && !isReadableFinished(stream)\n}\n\nfunction isWritable(stream) {\n  if (typeof (stream === null || stream === undefined ? undefined : stream.writable) !== 'boolean') return null\n  if (isDestroyed(stream)) return false\n  return isWritableNodeStream(stream) && stream.writable && !isWritableEnded(stream)\n}\n\nfunction isFinished(stream, opts) {\n  if (!isNodeStream(stream)) {\n    return null\n  }\n\n  if (isDestroyed(stream)) {\n    return true\n  }\n\n  if ((opts === null || opts === undefined ? undefined : opts.readable) !== false && isReadable(stream)) {\n    return false\n  }\n\n  if ((opts === null || opts === undefined ? undefined : opts.writable) !== false && isWritable(stream)) {\n    return false\n  }\n\n  return true\n}\n\nfunction isWritableErrored(stream) {\n  var _stream$_writableStat, _stream$_writableStat2\n\n  if (!isNodeStream(stream)) {\n    return null\n  }\n\n  if (stream.writableErrored) {\n    return stream.writableErrored\n  }\n\n  return (_stream$_writableStat =\n    (_stream$_writableStat2 = stream._writableState) === null || _stream$_writableStat2 === undefined\n      ? undefined\n      : _stream$_writableStat2.errored) !== null && _stream$_writableStat !== undefined\n    ? _stream$_writableStat\n    : null\n}\n\nfunction isReadableErrored(stream) {\n  var _stream$_readableStat, _stream$_readableStat2\n\n  if (!isNodeStream(stream)) {\n    return null\n  }\n\n  if (stream.readableErrored) {\n    return stream.readableErrored\n  }\n\n  return (_stream$_readableStat =\n    (_stream$_readableStat2 = stream._readableState) === null || _stream$_readableStat2 === undefined\n      ? undefined\n      : _stream$_readableStat2.errored) !== null && _stream$_readableStat !== undefined\n    ? _stream$_readableStat\n    : null\n}\n\nfunction isClosed(stream) {\n  if (!isNodeStream(stream)) {\n    return null\n  }\n\n  if (typeof stream.closed === 'boolean') {\n    return stream.closed\n  }\n\n  const wState = stream._writableState\n  const rState = stream._readableState\n\n  if (\n    typeof (wState === null || wState === undefined ? undefined : wState.closed) === 'boolean' ||\n    typeof (rState === null || rState === undefined ? undefined : rState.closed) === 'boolean'\n  ) {\n    return (\n      (wState === null || wState === undefined ? undefined : wState.closed) ||\n      (rState === null || rState === undefined ? undefined : rState.closed)\n    )\n  }\n\n  if (typeof stream._closed === 'boolean' && isOutgoingMessage(stream)) {\n    return stream._closed\n  }\n\n  return null\n}\n\nfunction isOutgoingMessage(stream) {\n  return (\n    typeof stream._closed === 'boolean' &&\n    typeof stream._defaultKeepAlive === 'boolean' &&\n    typeof stream._removedConnection === 'boolean' &&\n    typeof stream._removedContLen === 'boolean'\n  )\n}\n\nfunction isServerResponse(stream) {\n  return typeof stream._sent100 === 'boolean' && isOutgoingMessage(stream)\n}\n\nfunction isServerRequest(stream) {\n  var _stream$req\n\n  return (\n    typeof stream._consuming === 'boolean' &&\n    typeof stream._dumped === 'boolean' &&\n    ((_stream$req = stream.req) === null || _stream$req === undefined ? undefined : _stream$req.upgradeOrConnect) ===\n      undefined\n  )\n}\n\nfunction willEmitClose(stream) {\n  if (!isNodeStream(stream)) return null\n  const wState = stream._writableState\n  const rState = stream._readableState\n  const state = wState || rState\n  return (\n    (!state && isServerResponse(stream)) || !!(state && state.autoDestroy && state.emitClose && state.closed === false)\n  )\n}\n\nfunction isDisturbed(stream) {\n  var _stream$kIsDisturbed\n\n  return !!(\n    stream &&\n    ((_stream$kIsDisturbed = stream[kIsDisturbed]) !== null && _stream$kIsDisturbed !== undefined\n      ? _stream$kIsDisturbed\n      : stream.readableDidRead || stream.readableAborted)\n  )\n}\n\nfunction isErrored(stream) {\n  var _ref,\n    _ref2,\n    _ref3,\n    _ref4,\n    _ref5,\n    _stream$kIsErrored,\n    _stream$_readableStat3,\n    _stream$_writableStat3,\n    _stream$_readableStat4,\n    _stream$_writableStat4\n\n  return !!(\n    stream &&\n    ((_ref =\n      (_ref2 =\n        (_ref3 =\n          (_ref4 =\n            (_ref5 =\n              (_stream$kIsErrored = stream[kIsErrored]) !== null && _stream$kIsErrored !== undefined\n                ? _stream$kIsErrored\n                : stream.readableErrored) !== null && _ref5 !== undefined\n              ? _ref5\n              : stream.writableErrored) !== null && _ref4 !== undefined\n            ? _ref4\n            : (_stream$_readableStat3 = stream._readableState) === null || _stream$_readableStat3 === undefined\n            ? undefined\n            : _stream$_readableStat3.errorEmitted) !== null && _ref3 !== undefined\n          ? _ref3\n          : (_stream$_writableStat3 = stream._writableState) === null || _stream$_writableStat3 === undefined\n          ? undefined\n          : _stream$_writableStat3.errorEmitted) !== null && _ref2 !== undefined\n        ? _ref2\n        : (_stream$_readableStat4 = stream._readableState) === null || _stream$_readableStat4 === undefined\n        ? undefined\n        : _stream$_readableStat4.errored) !== null && _ref !== undefined\n      ? _ref\n      : (_stream$_writableStat4 = stream._writableState) === null || _stream$_writableStat4 === undefined\n      ? undefined\n      : _stream$_writableStat4.errored)\n  )\n}\n\nmodule.exports = {\n  kDestroyed,\n  isDisturbed,\n  kIsDisturbed,\n  isErrored,\n  kIsErrored,\n  isReadable,\n  kIsReadable,\n  isClosed,\n  isDestroyed,\n  isDuplexNodeStream,\n  isFinished,\n  isIterable,\n  isReadableNodeStream,\n  isReadableEnded,\n  isReadableFinished,\n  isReadableErrored,\n  isNodeStream,\n  isWritable,\n  isWritableNodeStream,\n  isWritableEnded,\n  isWritableFinished,\n  isWritableErrored,\n  isServerRequest,\n  isServerResponse,\n  willEmitClose\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n'use strict'\n\nconst {\n  ArrayPrototypeSlice,\n  Error,\n  FunctionPrototypeSymbolHasInstance,\n  ObjectDefineProperty,\n  ObjectDefineProperties,\n  ObjectSetPrototypeOf,\n  StringPrototypeToLowerCase,\n  Symbol,\n  SymbolHasInstance\n} = require('../../ours/primordials')\n\nmodule.exports = Writable\nWritable.WritableState = WritableState\n\nconst { EventEmitter: EE } = require('events')\n\nconst Stream = require('./legacy').Stream\n\nconst destroyImpl = require('./destroy')\n\nconst { addAbortSignal } = require('./add-abort-signal')\n\nconst { getHighWaterMark, getDefaultHighWaterMark } = require('./state')\n\nconst {\n  ERR_INVALID_ARG_TYPE,\n  ERR_METHOD_NOT_IMPLEMENTED,\n  ERR_MULTIPLE_CALLBACK,\n  ERR_STREAM_CANNOT_PIPE,\n  ERR_STREAM_DESTROYED,\n  ERR_STREAM_ALREADY_FINISHED,\n  ERR_STREAM_NULL_VALUES,\n  ERR_STREAM_WRITE_AFTER_END,\n  ERR_UNKNOWN_ENCODING\n} = require('../../ours/errors').codes\n\nconst { errorOrDestroy } = destroyImpl\nObjectSetPrototypeOf(Writable.prototype, Stream.prototype)\nObjectSetPrototypeOf(Writable, Stream)\n\nfunction nop() {}\n\nconst kOnFinished = Symbol('kOnFinished')\n\nfunction WritableState(options, stream, isDuplex) {\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream,\n  // e.g. options.readableObjectMode vs. options.writableObjectMode, etc.\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof require('./duplex') // Object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n\n  this.objectMode = !!(options && options.objectMode)\n  if (isDuplex) this.objectMode = this.objectMode || !!(options && options.writableObjectMode) // The point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write().\n\n  this.highWaterMark = options\n    ? getHighWaterMark(this, options, 'writableHighWaterMark', isDuplex)\n    : getDefaultHighWaterMark(false) // if _final has been called.\n\n  this.finalCalled = false // drain event flag.\n\n  this.needDrain = false // At the start of calling end()\n\n  this.ending = false // When end() has been called, and returned.\n\n  this.ended = false // When 'finish' is emitted.\n\n  this.finished = false // Has it been destroyed\n\n  this.destroyed = false // Should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n\n  const noDecode = !!(options && options.decodeStrings === false)\n  this.decodeStrings = !noDecode // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n\n  this.defaultEncoding = (options && options.defaultEncoding) || 'utf8' // Not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n\n  this.length = 0 // A flag to see when we're in the middle of a write.\n\n  this.writing = false // When true all writes will be buffered until .uncork() call.\n\n  this.corked = 0 // A flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n\n  this.sync = true // A flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n\n  this.bufferProcessing = false // The callback that's passed to _write(chunk, cb).\n\n  this.onwrite = onwrite.bind(undefined, stream) // The callback that the user supplies to write(chunk, encoding, cb).\n\n  this.writecb = null // The amount that is being written when _write is called.\n\n  this.writelen = 0 // Storage for data passed to the afterWrite() callback in case of\n  // synchronous _write() completion.\n\n  this.afterWriteTickInfo = null\n  resetBuffer(this) // Number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted.\n\n  this.pendingcb = 0 // Stream is still being constructed and cannot be\n  // destroyed until construction finished or failed.\n  // Async construction is opt in, therefore we start as\n  // constructed.\n\n  this.constructed = true // Emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams.\n\n  this.prefinished = false // True if the error was already emitted and should not be thrown again.\n\n  this.errorEmitted = false // Should close be emitted on destroy. Defaults to true.\n\n  this.emitClose = !options || options.emitClose !== false // Should .destroy() be called after 'finish' (and potentially 'end').\n\n  this.autoDestroy = !options || options.autoDestroy !== false // Indicates whether the stream has errored. When true all write() calls\n  // should return false. This is needed since when autoDestroy\n  // is disabled we need a way to tell whether the stream has failed.\n\n  this.errored = null // Indicates whether the stream has finished destroying.\n\n  this.closed = false // True if close has been emitted or would have been emitted\n  // depending on emitClose.\n\n  this.closeEmitted = false\n  this[kOnFinished] = []\n}\n\nfunction resetBuffer(state) {\n  state.buffered = []\n  state.bufferedIndex = 0\n  state.allBuffers = true\n  state.allNoop = true\n}\n\nWritableState.prototype.getBuffer = function getBuffer() {\n  return ArrayPrototypeSlice(this.buffered, this.bufferedIndex)\n}\n\nObjectDefineProperty(WritableState.prototype, 'bufferedRequestCount', {\n  get() {\n    return this.buffered.length - this.bufferedIndex\n  }\n})\n\nfunction Writable(options) {\n  // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n  // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the WritableState constructor, at least with V8 6.5.\n  const isDuplex = this instanceof require('./duplex')\n\n  if (!isDuplex && !FunctionPrototypeSymbolHasInstance(Writable, this)) return new Writable(options)\n  this._writableState = new WritableState(options, this, isDuplex)\n\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write\n    if (typeof options.writev === 'function') this._writev = options.writev\n    if (typeof options.destroy === 'function') this._destroy = options.destroy\n    if (typeof options.final === 'function') this._final = options.final\n    if (typeof options.construct === 'function') this._construct = options.construct\n    if (options.signal) addAbortSignal(options.signal, this)\n  }\n\n  Stream.call(this, options)\n  destroyImpl.construct(this, () => {\n    const state = this._writableState\n\n    if (!state.writing) {\n      clearBuffer(this, state)\n    }\n\n    finishMaybe(this, state)\n  })\n}\n\nObjectDefineProperty(Writable, SymbolHasInstance, {\n  value: function (object) {\n    if (FunctionPrototypeSymbolHasInstance(this, object)) return true\n    if (this !== Writable) return false\n    return object && object._writableState instanceof WritableState\n  }\n}) // Otherwise people can pipe Writable streams, which is just wrong.\n\nWritable.prototype.pipe = function () {\n  errorOrDestroy(this, new ERR_STREAM_CANNOT_PIPE())\n}\n\nfunction _write(stream, chunk, encoding, cb) {\n  const state = stream._writableState\n\n  if (typeof encoding === 'function') {\n    cb = encoding\n    encoding = state.defaultEncoding\n  } else {\n    if (!encoding) encoding = state.defaultEncoding\n    else if (encoding !== 'buffer' && !Buffer.isEncoding(encoding)) throw new ERR_UNKNOWN_ENCODING(encoding)\n    if (typeof cb !== 'function') cb = nop\n  }\n\n  if (chunk === null) {\n    throw new ERR_STREAM_NULL_VALUES()\n  } else if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      if (state.decodeStrings !== false) {\n        chunk = Buffer.from(chunk, encoding)\n        encoding = 'buffer'\n      }\n    } else if (chunk instanceof Buffer) {\n      encoding = 'buffer'\n    } else if (Stream._isUint8Array(chunk)) {\n      chunk = Stream._uint8ArrayToBuffer(chunk)\n      encoding = 'buffer'\n    } else {\n      throw new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer', 'Uint8Array'], chunk)\n    }\n  }\n\n  let err\n\n  if (state.ending) {\n    err = new ERR_STREAM_WRITE_AFTER_END()\n  } else if (state.destroyed) {\n    err = new ERR_STREAM_DESTROYED('write')\n  }\n\n  if (err) {\n    process.nextTick(cb, err)\n    errorOrDestroy(stream, err, true)\n    return err\n  }\n\n  state.pendingcb++\n  return writeOrBuffer(stream, state, chunk, encoding, cb)\n}\n\nWritable.prototype.write = function (chunk, encoding, cb) {\n  return _write(this, chunk, encoding, cb) === true\n}\n\nWritable.prototype.cork = function () {\n  this._writableState.corked++\n}\n\nWritable.prototype.uncork = function () {\n  const state = this._writableState\n\n  if (state.corked) {\n    state.corked--\n    if (!state.writing) clearBuffer(this, state)\n  }\n}\n\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = StringPrototypeToLowerCase(encoding)\n  if (!Buffer.isEncoding(encoding)) throw new ERR_UNKNOWN_ENCODING(encoding)\n  this._writableState.defaultEncoding = encoding\n  return this\n} // If we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\n\nfunction writeOrBuffer(stream, state, chunk, encoding, callback) {\n  const len = state.objectMode ? 1 : chunk.length\n  state.length += len // stream._write resets state.length\n\n  const ret = state.length < state.highWaterMark // We must ensure that previous needDrain will not be reset to false.\n\n  if (!ret) state.needDrain = true\n\n  if (state.writing || state.corked || state.errored || !state.constructed) {\n    state.buffered.push({\n      chunk,\n      encoding,\n      callback\n    })\n\n    if (state.allBuffers && encoding !== 'buffer') {\n      state.allBuffers = false\n    }\n\n    if (state.allNoop && callback !== nop) {\n      state.allNoop = false\n    }\n  } else {\n    state.writelen = len\n    state.writecb = callback\n    state.writing = true\n    state.sync = true\n\n    stream._write(chunk, encoding, state.onwrite)\n\n    state.sync = false\n  } // Return false if errored or destroyed in order to break\n  // any synchronous while(stream.write(data)) loops.\n\n  return ret && !state.errored && !state.destroyed\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len\n  state.writecb = cb\n  state.writing = true\n  state.sync = true\n  if (state.destroyed) state.onwrite(new ERR_STREAM_DESTROYED('write'))\n  else if (writev) stream._writev(chunk, state.onwrite)\n  else stream._write(chunk, encoding, state.onwrite)\n  state.sync = false\n}\n\nfunction onwriteError(stream, state, er, cb) {\n  --state.pendingcb\n  cb(er) // Ensure callbacks are invoked even when autoDestroy is\n  // not enabled. Passing `er` here doesn't make sense since\n  // it's related to one specific write, not to the buffered\n  // writes.\n\n  errorBuffer(state) // This can emit error, but error must always follow cb.\n\n  errorOrDestroy(stream, er)\n}\n\nfunction onwrite(stream, er) {\n  const state = stream._writableState\n  const sync = state.sync\n  const cb = state.writecb\n\n  if (typeof cb !== 'function') {\n    errorOrDestroy(stream, new ERR_MULTIPLE_CALLBACK())\n    return\n  }\n\n  state.writing = false\n  state.writecb = null\n  state.length -= state.writelen\n  state.writelen = 0\n\n  if (er) {\n    // Avoid V8 leak, https://github.com/nodejs/node/pull/34103#issuecomment-652002364\n    er.stack // eslint-disable-line no-unused-expressions\n\n    if (!state.errored) {\n      state.errored = er\n    } // In case of duplex streams we need to notify the readable side of the\n    // error.\n\n    if (stream._readableState && !stream._readableState.errored) {\n      stream._readableState.errored = er\n    }\n\n    if (sync) {\n      process.nextTick(onwriteError, stream, state, er, cb)\n    } else {\n      onwriteError(stream, state, er, cb)\n    }\n  } else {\n    if (state.buffered.length > state.bufferedIndex) {\n      clearBuffer(stream, state)\n    }\n\n    if (sync) {\n      // It is a common case that the callback passed to .write() is always\n      // the same. In that case, we do not schedule a new nextTick(), but\n      // rather just increase a counter, to improve performance and avoid\n      // memory allocations.\n      if (state.afterWriteTickInfo !== null && state.afterWriteTickInfo.cb === cb) {\n        state.afterWriteTickInfo.count++\n      } else {\n        state.afterWriteTickInfo = {\n          count: 1,\n          cb,\n          stream,\n          state\n        }\n        process.nextTick(afterWriteTick, state.afterWriteTickInfo)\n      }\n    } else {\n      afterWrite(stream, state, 1, cb)\n    }\n  }\n}\n\nfunction afterWriteTick({ stream, state, count, cb }) {\n  state.afterWriteTickInfo = null\n  return afterWrite(stream, state, count, cb)\n}\n\nfunction afterWrite(stream, state, count, cb) {\n  const needDrain = !state.ending && !stream.destroyed && state.length === 0 && state.needDrain\n\n  if (needDrain) {\n    state.needDrain = false\n    stream.emit('drain')\n  }\n\n  while (count-- > 0) {\n    state.pendingcb--\n    cb()\n  }\n\n  if (state.destroyed) {\n    errorBuffer(state)\n  }\n\n  finishMaybe(stream, state)\n} // If there's something in the buffer waiting, then invoke callbacks.\n\nfunction errorBuffer(state) {\n  if (state.writing) {\n    return\n  }\n\n  for (let n = state.bufferedIndex; n < state.buffered.length; ++n) {\n    var _state$errored\n\n    const { chunk, callback } = state.buffered[n]\n    const len = state.objectMode ? 1 : chunk.length\n    state.length -= len\n    callback(\n      (_state$errored = state.errored) !== null && _state$errored !== undefined\n        ? _state$errored\n        : new ERR_STREAM_DESTROYED('write')\n    )\n  }\n\n  const onfinishCallbacks = state[kOnFinished].splice(0)\n\n  for (let i = 0; i < onfinishCallbacks.length; i++) {\n    var _state$errored2\n\n    onfinishCallbacks[i](\n      (_state$errored2 = state.errored) !== null && _state$errored2 !== undefined\n        ? _state$errored2\n        : new ERR_STREAM_DESTROYED('end')\n    )\n  }\n\n  resetBuffer(state)\n} // If there's something in the buffer waiting, then process it.\n\nfunction clearBuffer(stream, state) {\n  if (state.corked || state.bufferProcessing || state.destroyed || !state.constructed) {\n    return\n  }\n\n  const { buffered, bufferedIndex, objectMode } = state\n  const bufferedLength = buffered.length - bufferedIndex\n\n  if (!bufferedLength) {\n    return\n  }\n\n  let i = bufferedIndex\n  state.bufferProcessing = true\n\n  if (bufferedLength > 1 && stream._writev) {\n    state.pendingcb -= bufferedLength - 1\n    const callback = state.allNoop\n      ? nop\n      : (err) => {\n          for (let n = i; n < buffered.length; ++n) {\n            buffered[n].callback(err)\n          }\n        } // Make a copy of `buffered` if it's going to be used by `callback` above,\n    // since `doWrite` will mutate the array.\n\n    const chunks = state.allNoop && i === 0 ? buffered : ArrayPrototypeSlice(buffered, i)\n    chunks.allBuffers = state.allBuffers\n    doWrite(stream, state, true, state.length, chunks, '', callback)\n    resetBuffer(state)\n  } else {\n    do {\n      const { chunk, encoding, callback } = buffered[i]\n      buffered[i++] = null\n      const len = objectMode ? 1 : chunk.length\n      doWrite(stream, state, false, len, chunk, encoding, callback)\n    } while (i < buffered.length && !state.writing)\n\n    if (i === buffered.length) {\n      resetBuffer(state)\n    } else if (i > 256) {\n      buffered.splice(0, i)\n      state.bufferedIndex = 0\n    } else {\n      state.bufferedIndex = i\n    }\n  }\n\n  state.bufferProcessing = false\n}\n\nWritable.prototype._write = function (chunk, encoding, cb) {\n  if (this._writev) {\n    this._writev(\n      [\n        {\n          chunk,\n          encoding\n        }\n      ],\n      cb\n    )\n  } else {\n    throw new ERR_METHOD_NOT_IMPLEMENTED('_write()')\n  }\n}\n\nWritable.prototype._writev = null\n\nWritable.prototype.end = function (chunk, encoding, cb) {\n  const state = this._writableState\n\n  if (typeof chunk === 'function') {\n    cb = chunk\n    chunk = null\n    encoding = null\n  } else if (typeof encoding === 'function') {\n    cb = encoding\n    encoding = null\n  }\n\n  let err\n\n  if (chunk !== null && chunk !== undefined) {\n    const ret = _write(this, chunk, encoding)\n\n    if (ret instanceof Error) {\n      err = ret\n    }\n  } // .end() fully uncorks.\n\n  if (state.corked) {\n    state.corked = 1\n    this.uncork()\n  }\n\n  if (err) {\n    // Do nothing...\n  } else if (!state.errored && !state.ending) {\n    // This is forgiving in terms of unnecessary calls to end() and can hide\n    // logic errors. However, usually such errors are harmless and causing a\n    // hard error can be disproportionately destructive. It is not always\n    // trivial for the user to determine whether end() needs to be called\n    // or not.\n    state.ending = true\n    finishMaybe(this, state, true)\n    state.ended = true\n  } else if (state.finished) {\n    err = new ERR_STREAM_ALREADY_FINISHED('end')\n  } else if (state.destroyed) {\n    err = new ERR_STREAM_DESTROYED('end')\n  }\n\n  if (typeof cb === 'function') {\n    if (err || state.finished) {\n      process.nextTick(cb, err)\n    } else {\n      state[kOnFinished].push(cb)\n    }\n  }\n\n  return this\n}\n\nfunction needFinish(state) {\n  return (\n    state.ending &&\n    !state.destroyed &&\n    state.constructed &&\n    state.length === 0 &&\n    !state.errored &&\n    state.buffered.length === 0 &&\n    !state.finished &&\n    !state.writing &&\n    !state.errorEmitted &&\n    !state.closeEmitted\n  )\n}\n\nfunction callFinal(stream, state) {\n  let called = false\n\n  function onFinish(err) {\n    if (called) {\n      errorOrDestroy(stream, err !== null && err !== undefined ? err : ERR_MULTIPLE_CALLBACK())\n      return\n    }\n\n    called = true\n    state.pendingcb--\n\n    if (err) {\n      const onfinishCallbacks = state[kOnFinished].splice(0)\n\n      for (let i = 0; i < onfinishCallbacks.length; i++) {\n        onfinishCallbacks[i](err)\n      }\n\n      errorOrDestroy(stream, err, state.sync)\n    } else if (needFinish(state)) {\n      state.prefinished = true\n      stream.emit('prefinish') // Backwards compat. Don't check state.sync here.\n      // Some streams assume 'finish' will be emitted\n      // asynchronously relative to _final callback.\n\n      state.pendingcb++\n      process.nextTick(finish, stream, state)\n    }\n  }\n\n  state.sync = true\n  state.pendingcb++\n\n  try {\n    stream._final(onFinish)\n  } catch (err) {\n    onFinish(err)\n  }\n\n  state.sync = false\n}\n\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function' && !state.destroyed) {\n      state.finalCalled = true\n      callFinal(stream, state)\n    } else {\n      state.prefinished = true\n      stream.emit('prefinish')\n    }\n  }\n}\n\nfunction finishMaybe(stream, state, sync) {\n  if (needFinish(state)) {\n    prefinish(stream, state)\n\n    if (state.pendingcb === 0) {\n      if (sync) {\n        state.pendingcb++\n        process.nextTick(\n          (stream, state) => {\n            if (needFinish(state)) {\n              finish(stream, state)\n            } else {\n              state.pendingcb--\n            }\n          },\n          stream,\n          state\n        )\n      } else if (needFinish(state)) {\n        state.pendingcb++\n        finish(stream, state)\n      }\n    }\n  }\n}\n\nfunction finish(stream, state) {\n  state.pendingcb--\n  state.finished = true\n  const onfinishCallbacks = state[kOnFinished].splice(0)\n\n  for (let i = 0; i < onfinishCallbacks.length; i++) {\n    onfinishCallbacks[i]()\n  }\n\n  stream.emit('finish')\n\n  if (state.autoDestroy) {\n    // In case of duplex streams we need a way to detect\n    // if the readable side is ready for autoDestroy as well.\n    const rState = stream._readableState\n    const autoDestroy =\n      !rState ||\n      (rState.autoDestroy && // We don't expect the readable to ever 'end'\n        // if readable is explicitly set to false.\n        (rState.endEmitted || rState.readable === false))\n\n    if (autoDestroy) {\n      stream.destroy()\n    }\n  }\n}\n\nObjectDefineProperties(Writable.prototype, {\n  closed: {\n    get() {\n      return this._writableState ? this._writableState.closed : false\n    }\n  },\n  destroyed: {\n    get() {\n      return this._writableState ? this._writableState.destroyed : false\n    },\n\n    set(value) {\n      // Backward compatibility, the user is explicitly managing destroyed.\n      if (this._writableState) {\n        this._writableState.destroyed = value\n      }\n    }\n  },\n  writable: {\n    get() {\n      const w = this._writableState // w.writable === false means that this is part of a Duplex stream\n      // where the writable side was disabled upon construction.\n      // Compat. The user might manually disable writable side through\n      // deprecated setter.\n\n      return !!w && w.writable !== false && !w.destroyed && !w.errored && !w.ending && !w.ended\n    },\n\n    set(val) {\n      // Backwards compatible.\n      if (this._writableState) {\n        this._writableState.writable = !!val\n      }\n    }\n  },\n  writableFinished: {\n    get() {\n      return this._writableState ? this._writableState.finished : false\n    }\n  },\n  writableObjectMode: {\n    get() {\n      return this._writableState ? this._writableState.objectMode : false\n    }\n  },\n  writableBuffer: {\n    get() {\n      return this._writableState && this._writableState.getBuffer()\n    }\n  },\n  writableEnded: {\n    get() {\n      return this._writableState ? this._writableState.ending : false\n    }\n  },\n  writableNeedDrain: {\n    get() {\n      const wState = this._writableState\n      if (!wState) return false\n      return !wState.destroyed && !wState.ending && wState.needDrain\n    }\n  },\n  writableHighWaterMark: {\n    get() {\n      return this._writableState && this._writableState.highWaterMark\n    }\n  },\n  writableCorked: {\n    get() {\n      return this._writableState ? this._writableState.corked : 0\n    }\n  },\n  writableLength: {\n    get() {\n      return this._writableState && this._writableState.length\n    }\n  },\n  errored: {\n    enumerable: false,\n\n    get() {\n      return this._writableState ? this._writableState.errored : null\n    }\n  },\n  writableAborted: {\n    enumerable: false,\n    get: function () {\n      return !!(\n        this._writableState.writable !== false &&\n        (this._writableState.destroyed || this._writableState.errored) &&\n        !this._writableState.finished\n      )\n    }\n  }\n})\nconst destroy = destroyImpl.destroy\n\nWritable.prototype.destroy = function (err, cb) {\n  const state = this._writableState // Invoke pending callbacks.\n\n  if (!state.destroyed && (state.bufferedIndex < state.buffered.length || state[kOnFinished].length)) {\n    process.nextTick(errorBuffer, state)\n  }\n\n  destroy.call(this, err, cb)\n  return this\n}\n\nWritable.prototype._undestroy = destroyImpl.undestroy\n\nWritable.prototype._destroy = function (err, cb) {\n  cb(err)\n}\n\nWritable.prototype[EE.captureRejectionSymbol] = function (err) {\n  this.destroy(err)\n}\n\nlet webStreamsAdapters // Lazy to avoid circular references\n\nfunction lazyWebStreams() {\n  if (webStreamsAdapters === undefined) webStreamsAdapters = {}\n  return webStreamsAdapters\n}\n\nWritable.fromWeb = function (writableStream, options) {\n  return lazyWebStreams().newStreamWritableFromWritableStream(writableStream, options)\n}\n\nWritable.toWeb = function (streamWritable) {\n  return lazyWebStreams().newWritableStreamFromStreamWritable(streamWritable)\n}\n","'use strict'\n\nconst {\n  ArrayIsArray,\n  ArrayPrototypeIncludes,\n  ArrayPrototypeJoin,\n  ArrayPrototypeMap,\n  NumberIsInteger,\n  NumberMAX_SAFE_INTEGER,\n  NumberMIN_SAFE_INTEGER,\n  NumberParseInt,\n  RegExpPrototypeTest,\n  String,\n  StringPrototypeToUpperCase,\n  StringPrototypeTrim\n} = require('../ours/primordials')\n\nconst {\n  hideStackFrames,\n  codes: { ERR_SOCKET_BAD_PORT, ERR_INVALID_ARG_TYPE, ERR_INVALID_ARG_VALUE, ERR_OUT_OF_RANGE, ERR_UNKNOWN_SIGNAL }\n} = require('../ours/errors')\n\nconst { normalizeEncoding } = require('../ours/util')\n\nconst { isAsyncFunction, isArrayBufferView } = require('../ours/util').types\n\nconst signals = {}\n\nfunction isInt32(value) {\n  return value === (value | 0)\n}\n\nfunction isUint32(value) {\n  return value === value >>> 0\n}\n\nconst octalReg = /^[0-7]+$/\nconst modeDesc = 'must be a 32-bit unsigned integer or an octal string'\n/**\n * Parse and validate values that will be converted into mode_t (the S_*\n * constants). Only valid numbers and octal strings are allowed. They could be\n * converted to 32-bit unsigned integers or non-negative signed integers in the\n * C++ land, but any value higher than 0o777 will result in platform-specific\n * behaviors.\n *\n * @param {*} value Values to be validated\n * @param {string} name Name of the argument\n * @param {number} [def] If specified, will be returned for invalid values\n * @returns {number}\n */\n\nfunction parseFileMode(value, name, def) {\n  if (typeof value === 'undefined') {\n    value = def\n  }\n\n  if (typeof value === 'string') {\n    if (!RegExpPrototypeTest(octalReg, value)) {\n      throw new ERR_INVALID_ARG_VALUE(name, value, modeDesc)\n    }\n\n    value = NumberParseInt(value, 8)\n  }\n\n  validateInt32(value, name, 0, 2 ** 32 - 1)\n  return value\n}\n\nconst validateInteger = hideStackFrames((value, name, min = NumberMIN_SAFE_INTEGER, max = NumberMAX_SAFE_INTEGER) => {\n  if (typeof value !== 'number') throw new ERR_INVALID_ARG_TYPE(name, 'number', value)\n  if (!NumberIsInteger(value)) throw new ERR_OUT_OF_RANGE(name, 'an integer', value)\n  if (value < min || value > max) throw new ERR_OUT_OF_RANGE(name, `>= ${min} && <= ${max}`, value)\n})\nconst validateInt32 = hideStackFrames((value, name, min = -2147483648, max = 2147483647) => {\n  // The defaults for min and max correspond to the limits of 32-bit integers.\n  if (typeof value !== 'number') {\n    throw new ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n\n  if (!isInt32(value)) {\n    if (!NumberIsInteger(value)) {\n      throw new ERR_OUT_OF_RANGE(name, 'an integer', value)\n    }\n\n    throw new ERR_OUT_OF_RANGE(name, `>= ${min} && <= ${max}`, value)\n  }\n\n  if (value < min || value > max) {\n    throw new ERR_OUT_OF_RANGE(name, `>= ${min} && <= ${max}`, value)\n  }\n})\nconst validateUint32 = hideStackFrames((value, name, positive) => {\n  if (typeof value !== 'number') {\n    throw new ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n\n  if (!isUint32(value)) {\n    if (!NumberIsInteger(value)) {\n      throw new ERR_OUT_OF_RANGE(name, 'an integer', value)\n    }\n\n    const min = positive ? 1 : 0 // 2 ** 32 === 4294967296\n\n    throw new ERR_OUT_OF_RANGE(name, `>= ${min} && < 4294967296`, value)\n  }\n\n  if (positive && value === 0) {\n    throw new ERR_OUT_OF_RANGE(name, '>= 1 && < 4294967296', value)\n  }\n})\n\nfunction validateString(value, name) {\n  if (typeof value !== 'string') throw new ERR_INVALID_ARG_TYPE(name, 'string', value)\n}\n\nfunction validateNumber(value, name) {\n  if (typeof value !== 'number') throw new ERR_INVALID_ARG_TYPE(name, 'number', value)\n}\n\nconst validateOneOf = hideStackFrames((value, name, oneOf) => {\n  if (!ArrayPrototypeIncludes(oneOf, value)) {\n    const allowed = ArrayPrototypeJoin(\n      ArrayPrototypeMap(oneOf, (v) => (typeof v === 'string' ? `'${v}'` : String(v))),\n      ', '\n    )\n    const reason = 'must be one of: ' + allowed\n    throw new ERR_INVALID_ARG_VALUE(name, value, reason)\n  }\n})\n\nfunction validateBoolean(value, name) {\n  if (typeof value !== 'boolean') throw new ERR_INVALID_ARG_TYPE(name, 'boolean', value)\n}\n/**\n * @param {unknown} value\n * @param {string} name\n * @param {{\n *   allowArray?: boolean,\n *   allowFunction?: boolean,\n *   nullable?: boolean\n * }} [options]\n */\n\nconst validateObject = hideStackFrames((value, name, options) => {\n  const useDefaultOptions = options == null\n  const allowArray = useDefaultOptions ? false : options.allowArray\n  const allowFunction = useDefaultOptions ? false : options.allowFunction\n  const nullable = useDefaultOptions ? false : options.nullable\n\n  if (\n    (!nullable && value === null) ||\n    (!allowArray && ArrayIsArray(value)) ||\n    (typeof value !== 'object' && (!allowFunction || typeof value !== 'function'))\n  ) {\n    throw new ERR_INVALID_ARG_TYPE(name, 'Object', value)\n  }\n})\nconst validateArray = hideStackFrames((value, name, minLength = 0) => {\n  if (!ArrayIsArray(value)) {\n    throw new ERR_INVALID_ARG_TYPE(name, 'Array', value)\n  }\n\n  if (value.length < minLength) {\n    const reason = `must be longer than ${minLength}`\n    throw new ERR_INVALID_ARG_VALUE(name, value, reason)\n  }\n})\n\nfunction validateSignalName(signal, name = 'signal') {\n  validateString(signal, name)\n\n  if (signals[signal] === undefined) {\n    if (signals[StringPrototypeToUpperCase(signal)] !== undefined) {\n      throw new ERR_UNKNOWN_SIGNAL(signal + ' (signals must use all capital letters)')\n    }\n\n    throw new ERR_UNKNOWN_SIGNAL(signal)\n  }\n}\n\nconst validateBuffer = hideStackFrames((buffer, name = 'buffer') => {\n  if (!isArrayBufferView(buffer)) {\n    throw new ERR_INVALID_ARG_TYPE(name, ['Buffer', 'TypedArray', 'DataView'], buffer)\n  }\n})\n\nfunction validateEncoding(data, encoding) {\n  const normalizedEncoding = normalizeEncoding(encoding)\n  const length = data.length\n\n  if (normalizedEncoding === 'hex' && length % 2 !== 0) {\n    throw new ERR_INVALID_ARG_VALUE('encoding', encoding, `is invalid for data of length ${length}`)\n  }\n} // Check that the port number is not NaN when coerced to a number,\n// is an integer and that it falls within the legal range of port numbers.\n\nfunction validatePort(port, name = 'Port', allowZero = true) {\n  if (\n    (typeof port !== 'number' && typeof port !== 'string') ||\n    (typeof port === 'string' && StringPrototypeTrim(port).length === 0) ||\n    +port !== +port >>> 0 ||\n    port > 0xffff ||\n    (port === 0 && !allowZero)\n  ) {\n    throw new ERR_SOCKET_BAD_PORT(name, port, allowZero)\n  }\n\n  return port | 0\n}\n\nconst validateAbortSignal = hideStackFrames((signal, name) => {\n  if (signal !== undefined && (signal === null || typeof signal !== 'object' || !('aborted' in signal))) {\n    throw new ERR_INVALID_ARG_TYPE(name, 'AbortSignal', signal)\n  }\n})\nconst validateFunction = hideStackFrames((value, name) => {\n  if (typeof value !== 'function') throw new ERR_INVALID_ARG_TYPE(name, 'Function', value)\n})\nconst validatePlainFunction = hideStackFrames((value, name) => {\n  if (typeof value !== 'function' || isAsyncFunction(value)) throw new ERR_INVALID_ARG_TYPE(name, 'Function', value)\n})\nconst validateUndefined = hideStackFrames((value, name) => {\n  if (value !== undefined) throw new ERR_INVALID_ARG_TYPE(name, 'undefined', value)\n})\nmodule.exports = {\n  isInt32,\n  isUint32,\n  parseFileMode,\n  validateArray,\n  validateBoolean,\n  validateBuffer,\n  validateEncoding,\n  validateFunction,\n  validateInt32,\n  validateInteger,\n  validateNumber,\n  validateObject,\n  validateOneOf,\n  validatePlainFunction,\n  validatePort,\n  validateSignalName,\n  validateString,\n  validateUint32,\n  validateUndefined,\n  validateAbortSignal\n}\n","'use strict'\n\nconst CustomStream = require('../stream')\n\nconst promises = require('../stream/promises')\n\nconst originalDestroy = CustomStream.Readable.destroy\nmodule.exports = CustomStream.Readable // Explicit export naming is needed for ESM\n\nmodule.exports._uint8ArrayToBuffer = CustomStream._uint8ArrayToBuffer\nmodule.exports._isUint8Array = CustomStream._isUint8Array\nmodule.exports.isDisturbed = CustomStream.isDisturbed\nmodule.exports.isErrored = CustomStream.isErrored\nmodule.exports.isReadable = CustomStream.isReadable\nmodule.exports.Readable = CustomStream.Readable\nmodule.exports.Writable = CustomStream.Writable\nmodule.exports.Duplex = CustomStream.Duplex\nmodule.exports.Transform = CustomStream.Transform\nmodule.exports.PassThrough = CustomStream.PassThrough\nmodule.exports.addAbortSignal = CustomStream.addAbortSignal\nmodule.exports.finished = CustomStream.finished\nmodule.exports.destroy = CustomStream.destroy\nmodule.exports.destroy = originalDestroy\nmodule.exports.pipeline = CustomStream.pipeline\nmodule.exports.compose = CustomStream.compose\nObject.defineProperty(CustomStream, 'promises', {\n  configurable: true,\n  enumerable: true,\n\n  get() {\n    return promises\n  }\n})\nmodule.exports.Stream = CustomStream.Stream // Allow default importing\n\nmodule.exports.default = module.exports\n","'use strict'\n\nconst { format, inspect, AggregateError: CustomAggregateError } = require('./util')\n/*\n  This file is a reduced and adapted version of the main lib/internal/errors.js file defined at\n\n  https://github.com/nodejs/node/blob/master/lib/internal/errors.js\n\n  Don't try to replace with the original file and keep it up to date (starting from E(...) definitions)\n  with the upstream file.\n*/\n\nconst AggregateError = globalThis.AggregateError || CustomAggregateError\nconst kIsNodeError = Symbol('kIsNodeError')\nconst kTypes = [\n  'string',\n  'function',\n  'number',\n  'object', // Accept 'Function' and 'Object' as alternative to the lower cased version.\n  'Function',\n  'Object',\n  'boolean',\n  'bigint',\n  'symbol'\n]\nconst classRegExp = /^([A-Z][a-z0-9]*)+$/\nconst nodeInternalPrefix = '__node_internal_'\nconst codes = {}\n\nfunction assert(value, message) {\n  if (!value) {\n    throw new codes.ERR_INTERNAL_ASSERTION(message)\n  }\n} // Only use this for integers! Decimal numbers do not work with this function.\n\nfunction addNumericalSeparator(val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n\n  return `${val.slice(0, i)}${res}`\n}\n\nfunction getMessage(key, msg, args) {\n  if (typeof msg === 'function') {\n    assert(\n      msg.length <= args.length, // Default options do not count.\n      `Code: ${key}; The provided arguments length (${args.length}) does not match the required ones (${msg.length}).`\n    )\n    return msg(...args)\n  }\n\n  const expectedLength = (msg.match(/%[dfijoOs]/g) || []).length\n  assert(\n    expectedLength === args.length,\n    `Code: ${key}; The provided arguments length (${args.length}) does not match the required ones (${expectedLength}).`\n  )\n\n  if (args.length === 0) {\n    return msg\n  }\n\n  return format(msg, ...args)\n}\n\nfunction E(code, message, Base) {\n  if (!Base) {\n    Base = Error\n  }\n\n  class NodeError extends Base {\n    constructor(...args) {\n      super(getMessage(code, message, args))\n    }\n\n    toString() {\n      return `${this.name} [${code}]: ${this.message}`\n    }\n  }\n\n  Object.defineProperties(NodeError.prototype, {\n    name: {\n      value: Base.name,\n      writable: true,\n      enumerable: false,\n      configurable: true\n    },\n    toString: {\n      value() {\n        return `${this.name} [${code}]: ${this.message}`\n      },\n\n      writable: true,\n      enumerable: false,\n      configurable: true\n    }\n  })\n  NodeError.prototype.code = code\n  NodeError.prototype[kIsNodeError] = true\n  codes[code] = NodeError\n}\n\nfunction hideStackFrames(fn) {\n  // We rename the functions that will be hidden to cut off the stacktrace\n  // at the outermost one\n  const hidden = nodeInternalPrefix + fn.name\n  Object.defineProperty(fn, 'name', {\n    value: hidden\n  })\n  return fn\n}\n\nfunction aggregateTwoErrors(innerError, outerError) {\n  if (innerError && outerError && innerError !== outerError) {\n    if (Array.isArray(outerError.errors)) {\n      // If `outerError` is already an `AggregateError`.\n      outerError.errors.push(innerError)\n      return outerError\n    }\n\n    const err = new AggregateError([outerError, innerError], outerError.message)\n    err.code = outerError.code\n    return err\n  }\n\n  return innerError || outerError\n}\n\nclass AbortError extends Error {\n  constructor(message = 'The operation was aborted', options = undefined) {\n    if (options !== undefined && typeof options !== 'object') {\n      throw new codes.ERR_INVALID_ARG_TYPE('options', 'Object', options)\n    }\n\n    super(message, options)\n    this.code = 'ABORT_ERR'\n    this.name = 'AbortError'\n  }\n}\n\nE('ERR_ASSERTION', '%s', Error)\nE(\n  'ERR_INVALID_ARG_TYPE',\n  (name, expected, actual) => {\n    assert(typeof name === 'string', \"'name' must be a string\")\n\n    if (!Array.isArray(expected)) {\n      expected = [expected]\n    }\n\n    let msg = 'The '\n\n    if (name.endsWith(' argument')) {\n      // For cases like 'first argument'\n      msg += `${name} `\n    } else {\n      msg += `\"${name}\" ${name.includes('.') ? 'property' : 'argument'} `\n    }\n\n    msg += 'must be '\n    const types = []\n    const instances = []\n    const other = []\n\n    for (const value of expected) {\n      assert(typeof value === 'string', 'All expected entries have to be of type string')\n\n      if (kTypes.includes(value)) {\n        types.push(value.toLowerCase())\n      } else if (classRegExp.test(value)) {\n        instances.push(value)\n      } else {\n        assert(value !== 'object', 'The value \"object\" should be written as \"Object\"')\n        other.push(value)\n      }\n    } // Special handle `object` in case other instances are allowed to outline\n    // the differences between each other.\n\n    if (instances.length > 0) {\n      const pos = types.indexOf('object')\n\n      if (pos !== -1) {\n        types.splice(types, pos, 1)\n        instances.push('Object')\n      }\n    }\n\n    if (types.length > 0) {\n      switch (types.length) {\n        case 1:\n          msg += `of type ${types[0]}`\n          break\n\n        case 2:\n          msg += `one of type ${types[0]} or ${types[1]}`\n          break\n\n        default: {\n          const last = types.pop()\n          msg += `one of type ${types.join(', ')}, or ${last}`\n        }\n      }\n\n      if (instances.length > 0 || other.length > 0) {\n        msg += ' or '\n      }\n    }\n\n    if (instances.length > 0) {\n      switch (instances.length) {\n        case 1:\n          msg += `an instance of ${instances[0]}`\n          break\n\n        case 2:\n          msg += `an instance of ${instances[0]} or ${instances[1]}`\n          break\n\n        default: {\n          const last = instances.pop()\n          msg += `an instance of ${instances.join(', ')}, or ${last}`\n        }\n      }\n\n      if (other.length > 0) {\n        msg += ' or '\n      }\n    }\n\n    switch (other.length) {\n      case 0:\n        break\n\n      case 1:\n        if (other[0].toLowerCase() !== other[0]) {\n          msg += 'an '\n        }\n\n        msg += `${other[0]}`\n        break\n\n      case 2:\n        msg += `one of ${other[0]} or ${other[1]}`\n        break\n\n      default: {\n        const last = other.pop()\n        msg += `one of ${other.join(', ')}, or ${last}`\n      }\n    }\n\n    if (actual == null) {\n      msg += `. Received ${actual}`\n    } else if (typeof actual === 'function' && actual.name) {\n      msg += `. Received function ${actual.name}`\n    } else if (typeof actual === 'object') {\n      var _actual$constructor\n\n      if (\n        (_actual$constructor = actual.constructor) !== null &&\n        _actual$constructor !== undefined &&\n        _actual$constructor.name\n      ) {\n        msg += `. Received an instance of ${actual.constructor.name}`\n      } else {\n        const inspected = inspect(actual, {\n          depth: -1\n        })\n        msg += `. Received ${inspected}`\n      }\n    } else {\n      let inspected = inspect(actual, {\n        colors: false\n      })\n\n      if (inspected.length > 25) {\n        inspected = `${inspected.slice(0, 25)}...`\n      }\n\n      msg += `. Received type ${typeof actual} (${inspected})`\n    }\n\n    return msg\n  },\n  TypeError\n)\nE(\n  'ERR_INVALID_ARG_VALUE',\n  (name, value, reason = 'is invalid') => {\n    let inspected = inspect(value)\n\n    if (inspected.length > 128) {\n      inspected = inspected.slice(0, 128) + '...'\n    }\n\n    const type = name.includes('.') ? 'property' : 'argument'\n    return `The ${type} '${name}' ${reason}. Received ${inspected}`\n  },\n  TypeError\n)\nE(\n  'ERR_INVALID_RETURN_VALUE',\n  (input, name, value) => {\n    var _value$constructor\n\n    const type =\n      value !== null &&\n      value !== undefined &&\n      (_value$constructor = value.constructor) !== null &&\n      _value$constructor !== undefined &&\n      _value$constructor.name\n        ? `instance of ${value.constructor.name}`\n        : `type ${typeof value}`\n    return `Expected ${input} to be returned from the \"${name}\"` + ` function but got ${type}.`\n  },\n  TypeError\n)\nE(\n  'ERR_MISSING_ARGS',\n  (...args) => {\n    assert(args.length > 0, 'At least one arg needs to be specified')\n    let msg\n    const len = args.length\n    args = (Array.isArray(args) ? args : [args]).map((a) => `\"${a}\"`).join(' or ')\n\n    switch (len) {\n      case 1:\n        msg += `The ${args[0]} argument`\n        break\n\n      case 2:\n        msg += `The ${args[0]} and ${args[1]} arguments`\n        break\n\n      default:\n        {\n          const last = args.pop()\n          msg += `The ${args.join(', ')}, and ${last} arguments`\n        }\n        break\n    }\n\n    return `${msg} must be specified`\n  },\n  TypeError\n)\nE(\n  'ERR_OUT_OF_RANGE',\n  (str, range, input) => {\n    assert(range, 'Missing \"range\" argument')\n    let received\n\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n\n      if (input > 2n ** 32n || input < -(2n ** 32n)) {\n        received = addNumericalSeparator(received)\n      }\n\n      received += 'n'\n    } else {\n      received = inspect(input)\n    }\n\n    return `The value of \"${str}\" is out of range. It must be ${range}. Received ${received}`\n  },\n  RangeError\n)\nE('ERR_MULTIPLE_CALLBACK', 'Callback called multiple times', Error)\nE('ERR_METHOD_NOT_IMPLEMENTED', 'The %s method is not implemented', Error)\nE('ERR_STREAM_ALREADY_FINISHED', 'Cannot call %s after a stream was finished', Error)\nE('ERR_STREAM_CANNOT_PIPE', 'Cannot pipe, not readable', Error)\nE('ERR_STREAM_DESTROYED', 'Cannot call %s after a stream was destroyed', Error)\nE('ERR_STREAM_NULL_VALUES', 'May not write null values to stream', TypeError)\nE('ERR_STREAM_PREMATURE_CLOSE', 'Premature close', Error)\nE('ERR_STREAM_PUSH_AFTER_EOF', 'stream.push() after EOF', Error)\nE('ERR_STREAM_UNSHIFT_AFTER_END_EVENT', 'stream.unshift() after end event', Error)\nE('ERR_STREAM_WRITE_AFTER_END', 'write after end', Error)\nE('ERR_UNKNOWN_ENCODING', 'Unknown encoding: %s', TypeError)\nmodule.exports = {\n  AbortError,\n  aggregateTwoErrors: hideStackFrames(aggregateTwoErrors),\n  hideStackFrames,\n  codes\n}\n","'use strict'\n/*\n  This file is a reduced and adapted version of the main lib/internal/per_context/primordials.js file defined at\n\n  https://github.com/nodejs/node/blob/master/lib/internal/per_context/primordials.js\n\n  Don't try to replace with the original file and keep it up to date with the upstream file.\n*/\n\nmodule.exports = {\n  ArrayIsArray(self) {\n    return Array.isArray(self)\n  },\n\n  ArrayPrototypeIncludes(self, el) {\n    return self.includes(el)\n  },\n\n  ArrayPrototypeIndexOf(self, el) {\n    return self.indexOf(el)\n  },\n\n  ArrayPrototypeJoin(self, sep) {\n    return self.join(sep)\n  },\n\n  ArrayPrototypeMap(self, fn) {\n    return self.map(fn)\n  },\n\n  ArrayPrototypePop(self, el) {\n    return self.pop(el)\n  },\n\n  ArrayPrototypePush(self, el) {\n    return self.push(el)\n  },\n\n  ArrayPrototypeSlice(self, start, end) {\n    return self.slice(start, end)\n  },\n\n  Error,\n\n  FunctionPrototypeCall(fn, thisArgs, ...args) {\n    return fn.call(thisArgs, ...args)\n  },\n\n  FunctionPrototypeSymbolHasInstance(self, instance) {\n    return Function.prototype[Symbol.hasInstance].call(self, instance)\n  },\n\n  MathFloor: Math.floor,\n  Number,\n  NumberIsInteger: Number.isInteger,\n  NumberIsNaN: Number.isNaN,\n  NumberMAX_SAFE_INTEGER: Number.MAX_SAFE_INTEGER,\n  NumberMIN_SAFE_INTEGER: Number.MIN_SAFE_INTEGER,\n  NumberParseInt: Number.parseInt,\n\n  ObjectDefineProperties(self, props) {\n    return Object.defineProperties(self, props)\n  },\n\n  ObjectDefineProperty(self, name, prop) {\n    return Object.defineProperty(self, name, prop)\n  },\n\n  ObjectGetOwnPropertyDescriptor(self, name) {\n    return Object.getOwnPropertyDescriptor(self, name)\n  },\n\n  ObjectKeys(obj) {\n    return Object.keys(obj)\n  },\n\n  ObjectSetPrototypeOf(target, proto) {\n    return Object.setPrototypeOf(target, proto)\n  },\n\n  Promise,\n\n  PromisePrototypeCatch(self, fn) {\n    return self.catch(fn)\n  },\n\n  PromisePrototypeThen(self, thenFn, catchFn) {\n    return self.then(thenFn, catchFn)\n  },\n\n  PromiseReject(err) {\n    return Promise.reject(err)\n  },\n\n  ReflectApply: Reflect.apply,\n\n  RegExpPrototypeTest(self, value) {\n    return self.test(value)\n  },\n\n  SafeSet: Set,\n  String,\n\n  StringPrototypeSlice(self, start, end) {\n    return self.slice(start, end)\n  },\n\n  StringPrototypeToLowerCase(self) {\n    return self.toLowerCase()\n  },\n\n  StringPrototypeToUpperCase(self) {\n    return self.toUpperCase()\n  },\n\n  StringPrototypeTrim(self) {\n    return self.trim()\n  },\n\n  Symbol,\n  SymbolAsyncIterator: Symbol.asyncIterator,\n  SymbolHasInstance: Symbol.hasInstance,\n  SymbolIterator: Symbol.iterator,\n\n  TypedArrayPrototypeSet(self, buf, len) {\n    return self.set(buf, len)\n  },\n\n  Uint8Array\n}\n","'use strict'\n\nconst bufferModule = require('buffer')\n\nconst AsyncFunction = Object.getPrototypeOf(async function () {}).constructor\nconst Blob = globalThis.Blob || bufferModule.Blob\n/* eslint-disable indent */\n\nconst isBlob =\n  typeof Blob !== 'undefined'\n    ? function isBlob(b) {\n        // eslint-disable-next-line indent\n        return b instanceof Blob\n      }\n    : function isBlob(b) {\n        return false\n      }\n/* eslint-enable indent */\n// This is a simplified version of AggregateError\n\nclass AggregateError extends Error {\n  constructor(errors) {\n    if (!Array.isArray(errors)) {\n      throw new TypeError(`Expected input to be an Array, got ${typeof errors}`)\n    }\n\n    let message = ''\n\n    for (let i = 0; i < errors.length; i++) {\n      message += `    ${errors[i].stack}\\n`\n    }\n\n    super(message)\n    this.name = 'AggregateError'\n    this.errors = errors\n  }\n}\n\nmodule.exports = {\n  AggregateError,\n\n  once(callback) {\n    let called = false\n    return function (...args) {\n      if (called) {\n        return\n      }\n\n      called = true\n      callback.apply(this, args)\n    }\n  },\n\n  createDeferredPromise: function () {\n    let resolve\n    let reject // eslint-disable-next-line promise/param-names\n\n    const promise = new Promise((res, rej) => {\n      resolve = res\n      reject = rej\n    })\n    return {\n      promise,\n      resolve,\n      reject\n    }\n  },\n\n  promisify(fn) {\n    return new Promise((resolve, reject) => {\n      fn((err, ...args) => {\n        if (err) {\n          return reject(err)\n        }\n\n        return resolve(...args)\n      })\n    })\n  },\n\n  debuglog() {\n    return function () {}\n  },\n\n  format(format, ...args) {\n    // Simplified version of https://nodejs.org/api/util.html#utilformatformat-args\n    return format.replace(/%([sdifj])/g, function (...[_unused, type]) {\n      const replacement = args.shift()\n\n      if (type === 'f') {\n        return replacement.toFixed(6)\n      } else if (type === 'j') {\n        return JSON.stringify(replacement)\n      } else if (type === 's' && typeof replacement === 'object') {\n        const ctor = replacement.constructor !== Object ? replacement.constructor.name : ''\n        return `${ctor} {}`.trim()\n      } else {\n        return replacement.toString()\n      }\n    })\n  },\n\n  inspect(value) {\n    // Vastly simplified version of https://nodejs.org/api/util.html#utilinspectobject-options\n    switch (typeof value) {\n      case 'string':\n        if (value.includes(\"'\")) {\n          if (!value.includes('\"')) {\n            return `\"${value}\"`\n          } else if (!value.includes('`') && !value.includes('${')) {\n            return `\\`${value}\\``\n          }\n        }\n\n        return `'${value}'`\n\n      case 'number':\n        if (isNaN(value)) {\n          return 'NaN'\n        } else if (Object.is(value, -0)) {\n          return String(value)\n        }\n\n        return value\n\n      case 'bigint':\n        return `${String(value)}n`\n\n      case 'boolean':\n      case 'undefined':\n        return String(value)\n\n      case 'object':\n        return '{}'\n    }\n  },\n\n  types: {\n    isAsyncFunction(fn) {\n      return fn instanceof AsyncFunction\n    },\n\n    isArrayBufferView(arr) {\n      return ArrayBuffer.isView(arr)\n    }\n  },\n  isBlob\n}\nmodule.exports.promisify.custom = Symbol.for('nodejs.util.promisify.custom')\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n'use strict'\n\nconst { ObjectDefineProperty, ObjectKeys, ReflectApply } = require('./ours/primordials')\n\nconst {\n  promisify: { custom: customPromisify }\n} = require('./ours/util')\n\nconst { streamReturningOperators, promiseReturningOperators } = require('./internal/streams/operators')\n\nconst {\n  codes: { ERR_ILLEGAL_CONSTRUCTOR }\n} = require('./ours/errors')\n\nconst compose = require('./internal/streams/compose')\n\nconst { pipeline } = require('./internal/streams/pipeline')\n\nconst { destroyer } = require('./internal/streams/destroy')\n\nconst eos = require('./internal/streams/end-of-stream')\n\nconst internalBuffer = {}\n\nconst promises = require('./stream/promises')\n\nconst utils = require('./internal/streams/utils')\n\nconst Stream = (module.exports = require('./internal/streams/legacy').Stream)\n\nStream.isDisturbed = utils.isDisturbed\nStream.isErrored = utils.isErrored\nStream.isReadable = utils.isReadable\nStream.Readable = require('./internal/streams/readable')\n\nfor (const key of ObjectKeys(streamReturningOperators)) {\n  const op = streamReturningOperators[key]\n\n  function fn(...args) {\n    if (new.target) {\n      throw ERR_ILLEGAL_CONSTRUCTOR()\n    }\n\n    return Stream.Readable.from(ReflectApply(op, this, args))\n  }\n\n  ObjectDefineProperty(fn, 'name', {\n    value: op.name\n  })\n  ObjectDefineProperty(fn, 'length', {\n    value: op.length\n  })\n  ObjectDefineProperty(Stream.Readable.prototype, key, {\n    value: fn,\n    enumerable: false,\n    configurable: true,\n    writable: true\n  })\n}\n\nfor (const key of ObjectKeys(promiseReturningOperators)) {\n  const op = promiseReturningOperators[key]\n\n  function fn(...args) {\n    if (new.target) {\n      throw ERR_ILLEGAL_CONSTRUCTOR()\n    }\n\n    return ReflectApply(op, this, args)\n  }\n\n  ObjectDefineProperty(fn, 'name', {\n    value: op.name\n  })\n  ObjectDefineProperty(fn, 'length', {\n    value: op.length\n  })\n  ObjectDefineProperty(Stream.Readable.prototype, key, {\n    value: fn,\n    enumerable: false,\n    configurable: true,\n    writable: true\n  })\n}\n\nStream.Writable = require('./internal/streams/writable')\nStream.Duplex = require('./internal/streams/duplex')\nStream.Transform = require('./internal/streams/transform')\nStream.PassThrough = require('./internal/streams/passthrough')\nStream.pipeline = pipeline\n\nconst { addAbortSignal } = require('./internal/streams/add-abort-signal')\n\nStream.addAbortSignal = addAbortSignal\nStream.finished = eos\nStream.destroy = destroyer\nStream.compose = compose\nObjectDefineProperty(Stream, 'promises', {\n  configurable: true,\n  enumerable: true,\n\n  get() {\n    return promises\n  }\n})\nObjectDefineProperty(pipeline, customPromisify, {\n  enumerable: true,\n\n  get() {\n    return promises.pipeline\n  }\n})\nObjectDefineProperty(eos, customPromisify, {\n  enumerable: true,\n\n  get() {\n    return promises.finished\n  }\n}) // Backwards-compat with node 0.4.x\n\nStream.Stream = Stream\n\nStream._isUint8Array = function isUint8Array(value) {\n  return value instanceof Uint8Array\n}\n\nStream._uint8ArrayToBuffer = function _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk.buffer, chunk.byteOffset, chunk.byteLength)\n}\n","'use strict'\n\nconst { ArrayPrototypePop, Promise } = require('../ours/primordials')\n\nconst { isIterable, isNodeStream } = require('../internal/streams/utils')\n\nconst { pipelineImpl: pl } = require('../internal/streams/pipeline')\n\nconst { finished } = require('../internal/streams/end-of-stream')\n\nfunction pipeline(...streams) {\n  return new Promise((resolve, reject) => {\n    let signal\n    let end\n    const lastArg = streams[streams.length - 1]\n\n    if (lastArg && typeof lastArg === 'object' && !isNodeStream(lastArg) && !isIterable(lastArg)) {\n      const options = ArrayPrototypePop(streams)\n      signal = options.signal\n      end = options.end\n    }\n\n    pl(\n      streams,\n      (err, value) => {\n        if (err) {\n          reject(err)\n        } else {\n          resolve(value)\n        }\n      },\n      {\n        signal,\n        end\n      }\n    )\n  })\n}\n\nmodule.exports = {\n  finished,\n  pipeline\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReadableWebToNodeStream = void 0;\nconst readable_stream_1 = require(\"readable-stream\");\n/**\n * Converts a Web-API stream into Node stream.Readable class\n * Node stream readable: https://nodejs.org/api/stream.html#stream_readable_streams\n * Web API readable-stream: https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream\n * Node readable stream: https://nodejs.org/api/stream.html#stream_readable_streams\n */\nclass ReadableWebToNodeStream extends readable_stream_1.Readable {\n    /**\n     *\n     * @param stream ReadableStream: https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream\n     */\n    constructor(stream) {\n        super();\n        this.bytesRead = 0;\n        this.released = false;\n        this.reader = stream.getReader();\n    }\n    /**\n     * Implementation of readable._read(size).\n     * When readable._read() is called, if data is available from the resource,\n     * the implementation should begin pushing that data into the read queue\n     * https://nodejs.org/api/stream.html#stream_readable_read_size_1\n     */\n    async _read() {\n        // Should start pushing data into the queue\n        // Read data from the underlying Web-API-readable-stream\n        if (this.released) {\n            this.push(null); // Signal EOF\n            return;\n        }\n        this.pendingRead = this.reader.read();\n        const data = await this.pendingRead;\n        // clear the promise before pushing pushing new data to the queue and allow sequential calls to _read()\n        delete this.pendingRead;\n        if (data.done || this.released) {\n            this.push(null); // Signal EOF\n        }\n        else {\n            this.bytesRead += data.value.length;\n            this.push(data.value); // Push new data to the queue\n        }\n    }\n    /**\n     * If there is no unresolved read call to Web-API ReadableStream immediately returns;\n     * otherwise will wait until the read is resolved.\n     */\n    async waitForReadToComplete() {\n        if (this.pendingRead) {\n            await this.pendingRead;\n        }\n    }\n    /**\n     * Close wrapper\n     */\n    async close() {\n        await this.syncAndRelease();\n    }\n    async syncAndRelease() {\n        this.released = true;\n        await this.waitForReadToComplete();\n        await this.reader.releaseLock();\n    }\n}\nexports.ReadableWebToNodeStream = ReadableWebToNodeStream;\n//# sourceMappingURL=index.js.map","'use strict';\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar codes = {};\n\nfunction createErrorType(code, message, Base) {\n  if (!Base) {\n    Base = Error;\n  }\n\n  function getMessage(arg1, arg2, arg3) {\n    if (typeof message === 'string') {\n      return message;\n    } else {\n      return message(arg1, arg2, arg3);\n    }\n  }\n\n  var NodeError =\n  /*#__PURE__*/\n  function (_Base) {\n    _inheritsLoose(NodeError, _Base);\n\n    function NodeError(arg1, arg2, arg3) {\n      return _Base.call(this, getMessage(arg1, arg2, arg3)) || this;\n    }\n\n    return NodeError;\n  }(Base);\n\n  NodeError.prototype.name = Base.name;\n  NodeError.prototype.code = code;\n  codes[code] = NodeError;\n} // https://github.com/nodejs/node/blob/v10.8.0/lib/internal/errors.js\n\n\nfunction oneOf(expected, thing) {\n  if (Array.isArray(expected)) {\n    var len = expected.length;\n    expected = expected.map(function (i) {\n      return String(i);\n    });\n\n    if (len > 2) {\n      return \"one of \".concat(thing, \" \").concat(expected.slice(0, len - 1).join(', '), \", or \") + expected[len - 1];\n    } else if (len === 2) {\n      return \"one of \".concat(thing, \" \").concat(expected[0], \" or \").concat(expected[1]);\n    } else {\n      return \"of \".concat(thing, \" \").concat(expected[0]);\n    }\n  } else {\n    return \"of \".concat(thing, \" \").concat(String(expected));\n  }\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith\n\n\nfunction startsWith(str, search, pos) {\n  return str.substr(!pos || pos < 0 ? 0 : +pos, search.length) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith\n\n\nfunction endsWith(str, search, this_len) {\n  if (this_len === undefined || this_len > str.length) {\n    this_len = str.length;\n  }\n\n  return str.substring(this_len - search.length, this_len) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes\n\n\nfunction includes(str, search, start) {\n  if (typeof start !== 'number') {\n    start = 0;\n  }\n\n  if (start + search.length > str.length) {\n    return false;\n  } else {\n    return str.indexOf(search, start) !== -1;\n  }\n}\n\ncreateErrorType('ERR_INVALID_OPT_VALUE', function (name, value) {\n  return 'The value \"' + value + '\" is invalid for option \"' + name + '\"';\n}, TypeError);\ncreateErrorType('ERR_INVALID_ARG_TYPE', function (name, expected, actual) {\n  // determiner: 'must be' or 'must not be'\n  var determiner;\n\n  if (typeof expected === 'string' && startsWith(expected, 'not ')) {\n    determiner = 'must not be';\n    expected = expected.replace(/^not /, '');\n  } else {\n    determiner = 'must be';\n  }\n\n  var msg;\n\n  if (endsWith(name, ' argument')) {\n    // For cases like 'first argument'\n    msg = \"The \".concat(name, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n  } else {\n    var type = includes(name, '.') ? 'property' : 'argument';\n    msg = \"The \\\"\".concat(name, \"\\\" \").concat(type, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n  }\n\n  msg += \". Received type \".concat(typeof actual);\n  return msg;\n}, TypeError);\ncreateErrorType('ERR_STREAM_PUSH_AFTER_EOF', 'stream.push() after EOF');\ncreateErrorType('ERR_METHOD_NOT_IMPLEMENTED', function (name) {\n  return 'The ' + name + ' method is not implemented';\n});\ncreateErrorType('ERR_STREAM_PREMATURE_CLOSE', 'Premature close');\ncreateErrorType('ERR_STREAM_DESTROYED', function (name) {\n  return 'Cannot call ' + name + ' after a stream was destroyed';\n});\ncreateErrorType('ERR_MULTIPLE_CALLBACK', 'Callback called multiple times');\ncreateErrorType('ERR_STREAM_CANNOT_PIPE', 'Cannot pipe, not readable');\ncreateErrorType('ERR_STREAM_WRITE_AFTER_END', 'write after end');\ncreateErrorType('ERR_STREAM_NULL_VALUES', 'May not write null values to stream', TypeError);\ncreateErrorType('ERR_UNKNOWN_ENCODING', function (arg) {\n  return 'Unknown encoding: ' + arg;\n}, TypeError);\ncreateErrorType('ERR_STREAM_UNSHIFT_AFTER_END_EVENT', 'stream.unshift() after end event');\nmodule.exports.codes = codes;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n'use strict';\n/*<replacement>*/\n\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n\n  for (var key in obj) {\n    keys.push(key);\n  }\n\n  return keys;\n};\n/*</replacement>*/\n\n\nmodule.exports = Duplex;\n\nvar Readable = require('./_stream_readable');\n\nvar Writable = require('./_stream_writable');\n\nrequire('inherits')(Duplex, Readable);\n\n{\n  // Allow the keys array to be GC'ed.\n  var keys = objectKeys(Writable.prototype);\n\n  for (var v = 0; v < keys.length; v++) {\n    var method = keys[v];\n    if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method];\n  }\n}\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options);\n  Readable.call(this, options);\n  Writable.call(this, options);\n  this.allowHalfOpen = true;\n\n  if (options) {\n    if (options.readable === false) this.readable = false;\n    if (options.writable === false) this.writable = false;\n\n    if (options.allowHalfOpen === false) {\n      this.allowHalfOpen = false;\n      this.once('end', onend);\n    }\n  }\n}\n\nObject.defineProperty(Duplex.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.highWaterMark;\n  }\n});\nObject.defineProperty(Duplex.prototype, 'writableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState && this._writableState.getBuffer();\n  }\n});\nObject.defineProperty(Duplex.prototype, 'writableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.length;\n  }\n}); // the no-half-open enforcer\n\nfunction onend() {\n  // If the writable side ended, then we're ok.\n  if (this._writableState.ended) return; // no more data can be written.\n  // But allow more writes to happen in this tick.\n\n  process.nextTick(onEndNT, this);\n}\n\nfunction onEndNT(self) {\n  self.end();\n}\n\nObject.defineProperty(Duplex.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return false;\n    }\n\n    return this._readableState.destroyed && this._writableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return;\n    } // backward compatibility, the user is explicitly\n    // managing destroyed\n\n\n    this._readableState.destroyed = value;\n    this._writableState.destroyed = value;\n  }\n});","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n'use strict';\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\nrequire('inherits')(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options);\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk);\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n'use strict';\n\nmodule.exports = Readable;\n/*<replacement>*/\n\nvar Duplex;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n/*<replacement>*/\n\nvar EE = require('events').EventEmitter;\n\nvar EElistenerCount = function EElistenerCount(emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\n/*<replacement>*/\n\n\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n\nvar Buffer = require('buffer').Buffer;\n\nvar OurUint8Array = global.Uint8Array || function () {};\n\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\n\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n/*<replacement>*/\n\n\nvar debugUtil = require('util');\n\nvar debug;\n\nif (debugUtil && debugUtil.debuglog) {\n  debug = debugUtil.debuglog('stream');\n} else {\n  debug = function debug() {};\n}\n/*</replacement>*/\n\n\nvar BufferList = require('./internal/streams/buffer_list');\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nvar _require = require('./internal/streams/state'),\n    getHighWaterMark = _require.getHighWaterMark;\n\nvar _require$codes = require('../errors').codes,\n    ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE,\n    ERR_STREAM_PUSH_AFTER_EOF = _require$codes.ERR_STREAM_PUSH_AFTER_EOF,\n    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_STREAM_UNSHIFT_AFTER_END_EVENT = _require$codes.ERR_STREAM_UNSHIFT_AFTER_END_EVENT; // Lazy loaded to improve the startup performance.\n\n\nvar StringDecoder;\nvar createReadableStreamAsyncIterator;\nvar from;\n\nrequire('inherits')(Readable, Stream);\n\nvar errorOrDestroy = destroyImpl.errorOrDestroy;\nvar kProxyEvents = ['error', 'close', 'destroy', 'pause', 'resume'];\n\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') return emitter.prependListener(event, fn); // This is a hack to make sure that our error handler is attached before any\n  // userland ones.  NEVER DO THIS. This is here only because this code needs\n  // to continue to work with older versions of Node.js that do not include\n  // the prependListener() method. The goal is to eventually remove this hack.\n\n  if (!emitter._events || !emitter._events[event]) emitter.on(event, fn);else if (Array.isArray(emitter._events[event])) emitter._events[event].unshift(fn);else emitter._events[event] = [fn, emitter._events[event]];\n}\n\nfunction ReadableState(options, stream, isDuplex) {\n  Duplex = Duplex || require('./_stream_duplex');\n  options = options || {}; // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof Duplex; // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n\n  this.objectMode = !!options.objectMode;\n  if (isDuplex) this.objectMode = this.objectMode || !!options.readableObjectMode; // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n\n  this.highWaterMark = getHighWaterMark(this, options, 'readableHighWaterMark', isDuplex); // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift()\n\n  this.buffer = new BufferList();\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false; // a flag to be able to tell if the event 'readable'/'data' is emitted\n  // immediately, or on a later tick.  We set this to true at first, because\n  // any actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first read call.\n\n  this.sync = true; // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n  this.resumeScheduled = false;\n  this.paused = true; // Should close be emitted on destroy. Defaults to true.\n\n  this.emitClose = options.emitClose !== false; // Should .destroy() be called after 'end' (and potentially 'finish')\n\n  this.autoDestroy = !!options.autoDestroy; // has it been destroyed\n\n  this.destroyed = false; // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n\n  this.defaultEncoding = options.defaultEncoding || 'utf8'; // the number of writers that are awaiting a drain event in .pipe()s\n\n  this.awaitDrain = 0; // if true, a maybeReadMore has been scheduled\n\n  this.readingMore = false;\n  this.decoder = null;\n  this.encoding = null;\n\n  if (options.encoding) {\n    if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n  if (!(this instanceof Readable)) return new Readable(options); // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the ReadableState constructor, at least with V8 6.5\n\n  var isDuplex = this instanceof Duplex;\n  this._readableState = new ReadableState(options, this, isDuplex); // legacy\n\n  this.readable = true;\n\n  if (options) {\n    if (typeof options.read === 'function') this._read = options.read;\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n  }\n\n  Stream.call(this);\n}\n\nObject.defineProperty(Readable.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._readableState === undefined) {\n      return false;\n    }\n\n    return this._readableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._readableState) {\n      return;\n    } // backward compatibility, the user is explicitly\n    // managing destroyed\n\n\n    this._readableState.destroyed = value;\n  }\n});\nReadable.prototype.destroy = destroyImpl.destroy;\nReadable.prototype._undestroy = destroyImpl.undestroy;\n\nReadable.prototype._destroy = function (err, cb) {\n  cb(err);\n}; // Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\n\n\nReadable.prototype.push = function (chunk, encoding) {\n  var state = this._readableState;\n  var skipChunkCheck;\n\n  if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      encoding = encoding || state.defaultEncoding;\n\n      if (encoding !== state.encoding) {\n        chunk = Buffer.from(chunk, encoding);\n        encoding = '';\n      }\n\n      skipChunkCheck = true;\n    }\n  } else {\n    skipChunkCheck = true;\n  }\n\n  return readableAddChunk(this, chunk, encoding, false, skipChunkCheck);\n}; // Unshift should *always* be something directly out of read()\n\n\nReadable.prototype.unshift = function (chunk) {\n  return readableAddChunk(this, chunk, null, true, false);\n};\n\nfunction readableAddChunk(stream, chunk, encoding, addToFront, skipChunkCheck) {\n  debug('readableAddChunk', chunk);\n  var state = stream._readableState;\n\n  if (chunk === null) {\n    state.reading = false;\n    onEofChunk(stream, state);\n  } else {\n    var er;\n    if (!skipChunkCheck) er = chunkInvalid(state, chunk);\n\n    if (er) {\n      errorOrDestroy(stream, er);\n    } else if (state.objectMode || chunk && chunk.length > 0) {\n      if (typeof chunk !== 'string' && !state.objectMode && Object.getPrototypeOf(chunk) !== Buffer.prototype) {\n        chunk = _uint8ArrayToBuffer(chunk);\n      }\n\n      if (addToFront) {\n        if (state.endEmitted) errorOrDestroy(stream, new ERR_STREAM_UNSHIFT_AFTER_END_EVENT());else addChunk(stream, state, chunk, true);\n      } else if (state.ended) {\n        errorOrDestroy(stream, new ERR_STREAM_PUSH_AFTER_EOF());\n      } else if (state.destroyed) {\n        return false;\n      } else {\n        state.reading = false;\n\n        if (state.decoder && !encoding) {\n          chunk = state.decoder.write(chunk);\n          if (state.objectMode || chunk.length !== 0) addChunk(stream, state, chunk, false);else maybeReadMore(stream, state);\n        } else {\n          addChunk(stream, state, chunk, false);\n        }\n      }\n    } else if (!addToFront) {\n      state.reading = false;\n      maybeReadMore(stream, state);\n    }\n  } // We can push more data if we are below the highWaterMark.\n  // Also, if we have no data yet, we can stand some more bytes.\n  // This is to work around cases where hwm=0, such as the repl.\n\n\n  return !state.ended && (state.length < state.highWaterMark || state.length === 0);\n}\n\nfunction addChunk(stream, state, chunk, addToFront) {\n  if (state.flowing && state.length === 0 && !state.sync) {\n    state.awaitDrain = 0;\n    stream.emit('data', chunk);\n  } else {\n    // update the buffer info.\n    state.length += state.objectMode ? 1 : chunk.length;\n    if (addToFront) state.buffer.unshift(chunk);else state.buffer.push(chunk);\n    if (state.needReadable) emitReadable(stream);\n  }\n\n  maybeReadMore(stream, state);\n}\n\nfunction chunkInvalid(state, chunk) {\n  var er;\n\n  if (!_isUint8Array(chunk) && typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer', 'Uint8Array'], chunk);\n  }\n\n  return er;\n}\n\nReadable.prototype.isPaused = function () {\n  return this._readableState.flowing === false;\n}; // backwards compatibility.\n\n\nReadable.prototype.setEncoding = function (enc) {\n  if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n  var decoder = new StringDecoder(enc);\n  this._readableState.decoder = decoder; // If setEncoding(null), decoder.encoding equals utf8\n\n  this._readableState.encoding = this._readableState.decoder.encoding; // Iterate over current buffer to convert already stored Buffers:\n\n  var p = this._readableState.buffer.head;\n  var content = '';\n\n  while (p !== null) {\n    content += decoder.write(p.data);\n    p = p.next;\n  }\n\n  this._readableState.buffer.clear();\n\n  if (content !== '') this._readableState.buffer.push(content);\n  this._readableState.length = content.length;\n  return this;\n}; // Don't raise the hwm > 1GB\n\n\nvar MAX_HWM = 0x40000000;\n\nfunction computeNewHighWaterMark(n) {\n  if (n >= MAX_HWM) {\n    // TODO(ronag): Throw ERR_VALUE_OUT_OF_RANGE.\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts\n    n--;\n    n |= n >>> 1;\n    n |= n >>> 2;\n    n |= n >>> 4;\n    n |= n >>> 8;\n    n |= n >>> 16;\n    n++;\n  }\n\n  return n;\n} // This function is designed to be inlinable, so please take care when making\n// changes to the function body.\n\n\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || state.length === 0 && state.ended) return 0;\n  if (state.objectMode) return 1;\n\n  if (n !== n) {\n    // Only flow one buffer at a time\n    if (state.flowing && state.length) return state.buffer.head.data.length;else return state.length;\n  } // If we're asking for more than the current hwm, then raise the hwm.\n\n\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n);\n  if (n <= state.length) return n; // Don't have enough\n\n  if (!state.ended) {\n    state.needReadable = true;\n    return 0;\n  }\n\n  return state.length;\n} // you can override either this method, or the async _read(n) below.\n\n\nReadable.prototype.read = function (n) {\n  debug('read', n);\n  n = parseInt(n, 10);\n  var state = this._readableState;\n  var nOrig = n;\n  if (n !== 0) state.emittedReadable = false; // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n\n  if (n === 0 && state.needReadable && ((state.highWaterMark !== 0 ? state.length >= state.highWaterMark : state.length > 0) || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended) endReadable(this);else emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state); // if we've ended, and we're now clear, then finish it up.\n\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this);\n    return null;\n  } // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n  // if we need a readable event, then we need to do some reading.\n\n\n  var doRead = state.needReadable;\n  debug('need readable', doRead); // if we currently have less than the highWaterMark, then also read some\n\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  } // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n\n\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  } else if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true; // if the length is currently zero, then we *need* a readable event.\n\n    if (state.length === 0) state.needReadable = true; // call internal read method\n\n    this._read(state.highWaterMark);\n\n    state.sync = false; // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n\n    if (!state.reading) n = howMuchToRead(nOrig, state);\n  }\n\n  var ret;\n  if (n > 0) ret = fromList(n, state);else ret = null;\n\n  if (ret === null) {\n    state.needReadable = state.length <= state.highWaterMark;\n    n = 0;\n  } else {\n    state.length -= n;\n    state.awaitDrain = 0;\n  }\n\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true; // If we tried to read() past the EOF, then emit end on the next tick.\n\n    if (nOrig !== n && state.ended) endReadable(this);\n  }\n\n  if (ret !== null) this.emit('data', ret);\n  return ret;\n};\n\nfunction onEofChunk(stream, state) {\n  debug('onEofChunk');\n  if (state.ended) return;\n\n  if (state.decoder) {\n    var chunk = state.decoder.end();\n\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n\n  state.ended = true;\n\n  if (state.sync) {\n    // if we are sync, wait until next tick to emit the data.\n    // Otherwise we risk emitting data in the flow()\n    // the readable code triggers during a read() call\n    emitReadable(stream);\n  } else {\n    // emit 'readable' now to make sure it gets picked up.\n    state.needReadable = false;\n\n    if (!state.emittedReadable) {\n      state.emittedReadable = true;\n      emitReadable_(stream);\n    }\n  }\n} // Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\n\n\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  debug('emitReadable', state.needReadable, state.emittedReadable);\n  state.needReadable = false;\n\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    process.nextTick(emitReadable_, stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  var state = stream._readableState;\n  debug('emitReadable_', state.destroyed, state.length, state.ended);\n\n  if (!state.destroyed && (state.length || state.ended)) {\n    stream.emit('readable');\n    state.emittedReadable = false;\n  } // The stream needs another readable event if\n  // 1. It is not flowing, as the flow mechanism will take\n  //    care of it.\n  // 2. It is not ended.\n  // 3. It is below the highWaterMark, so we can schedule\n  //    another readable later.\n\n\n  state.needReadable = !state.flowing && !state.ended && state.length <= state.highWaterMark;\n  flow(stream);\n} // at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\n\n\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    process.nextTick(maybeReadMore_, stream, state);\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  // Attempt to read more data if we should.\n  //\n  // The conditions for reading more data are (one of):\n  // - Not enough data buffered (state.length < state.highWaterMark). The loop\n  //   is responsible for filling the buffer with enough data if such data\n  //   is available. If highWaterMark is 0 and we are not in the flowing mode\n  //   we should _not_ attempt to buffer any extra data. We'll get more data\n  //   when the stream consumer calls read() instead.\n  // - No data in the buffer, and the stream is in flowing mode. In this mode\n  //   the loop below is responsible for ensuring read() is called. Failing to\n  //   call read here would abort the flow and there's no other mechanism for\n  //   continuing the flow if the stream consumer has just subscribed to the\n  //   'data' event.\n  //\n  // In addition to the above conditions to keep reading data, the following\n  // conditions prevent the data from being read:\n  // - The stream has ended (state.ended).\n  // - There is already a pending 'read' operation (state.reading). This is a\n  //   case where the the stream has called the implementation defined _read()\n  //   method, but they are processing the call asynchronously and have _not_\n  //   called push() with new data. In this case we skip performing more\n  //   read()s. The execution ends in this method again after the _read() ends\n  //   up calling push() with more data.\n  while (!state.reading && !state.ended && (state.length < state.highWaterMark || state.flowing && state.length === 0)) {\n    var len = state.length;\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length) // didn't get any data, stop spinning.\n      break;\n  }\n\n  state.readingMore = false;\n} // abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\n\n\nReadable.prototype._read = function (n) {\n  errorOrDestroy(this, new ERR_METHOD_NOT_IMPLEMENTED('_read()'));\n};\n\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr;\n  var endFn = doEnd ? onend : unpipe;\n  if (state.endEmitted) process.nextTick(endFn);else src.once('end', endFn);\n  dest.on('unpipe', onunpipe);\n\n  function onunpipe(readable, unpipeInfo) {\n    debug('onunpipe');\n\n    if (readable === src) {\n      if (unpipeInfo && unpipeInfo.hasUnpiped === false) {\n        unpipeInfo.hasUnpiped = true;\n        cleanup();\n      }\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  } // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n\n\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n  var cleanedUp = false;\n\n  function cleanup() {\n    debug('cleanup'); // cleanup event handlers once the pipe is broken\n\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', unpipe);\n    src.removeListener('data', ondata);\n    cleanedUp = true; // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n\n    if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain)) ondrain();\n  }\n\n  src.on('data', ondata);\n\n  function ondata(chunk) {\n    debug('ondata');\n    var ret = dest.write(chunk);\n    debug('dest.write', ret);\n\n    if (ret === false) {\n      // If the user unpiped during `dest.write()`, it is possible\n      // to get stuck in a permanently paused state if that write\n      // also returned false.\n      // => Check whether `dest` is still a piping destination.\n      if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {\n        debug('false write response, pause', state.awaitDrain);\n        state.awaitDrain++;\n      }\n\n      src.pause();\n    }\n  } // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n\n\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EElistenerCount(dest, 'error') === 0) errorOrDestroy(dest, er);\n  } // Make sure our error handler is attached before userland ones.\n\n\n  prependListener(dest, 'error', onerror); // Both close and finish should trigger unpipe, but only once.\n\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n\n  dest.once('close', onclose);\n\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  } // tell the dest that it's being piped to\n\n\n  dest.emit('pipe', src); // start the flow if it hasn't been started already.\n\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function pipeOnDrainFunctionResult() {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain) state.awaitDrain--;\n\n    if (state.awaitDrain === 0 && EElistenerCount(src, 'data')) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\nReadable.prototype.unpipe = function (dest) {\n  var state = this._readableState;\n  var unpipeInfo = {\n    hasUnpiped: false\n  }; // if we're not piping anywhere, then do nothing.\n\n  if (state.pipesCount === 0) return this; // just one destination.  most common case.\n\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes) return this;\n    if (!dest) dest = state.pipes; // got a match.\n\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest) dest.emit('unpipe', this, unpipeInfo);\n    return this;\n  } // slow case. multiple pipe destinations.\n\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++) {\n      dests[i].emit('unpipe', this, {\n        hasUnpiped: false\n      });\n    }\n\n    return this;\n  } // try to find the right one.\n\n\n  var index = indexOf(state.pipes, dest);\n  if (index === -1) return this;\n  state.pipes.splice(index, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1) state.pipes = state.pipes[0];\n  dest.emit('unpipe', this, unpipeInfo);\n  return this;\n}; // set up data events if they are asked for\n// Ensure readable listeners eventually get something\n\n\nReadable.prototype.on = function (ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n  var state = this._readableState;\n\n  if (ev === 'data') {\n    // update readableListening so that resume() may be a no-op\n    // a few lines down. This is needed to support once('readable').\n    state.readableListening = this.listenerCount('readable') > 0; // Try start flowing on next tick if stream isn't explicitly paused\n\n    if (state.flowing !== false) this.resume();\n  } else if (ev === 'readable') {\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true;\n      state.flowing = false;\n      state.emittedReadable = false;\n      debug('on readable', state.length, state.reading);\n\n      if (state.length) {\n        emitReadable(this);\n      } else if (!state.reading) {\n        process.nextTick(nReadingNextTick, this);\n      }\n    }\n  }\n\n  return res;\n};\n\nReadable.prototype.addListener = Readable.prototype.on;\n\nReadable.prototype.removeListener = function (ev, fn) {\n  var res = Stream.prototype.removeListener.call(this, ev, fn);\n\n  if (ev === 'readable') {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this);\n  }\n\n  return res;\n};\n\nReadable.prototype.removeAllListeners = function (ev) {\n  var res = Stream.prototype.removeAllListeners.apply(this, arguments);\n\n  if (ev === 'readable' || ev === undefined) {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this);\n  }\n\n  return res;\n};\n\nfunction updateReadableListening(self) {\n  var state = self._readableState;\n  state.readableListening = self.listenerCount('readable') > 0;\n\n  if (state.resumeScheduled && !state.paused) {\n    // flowing needs to be set to true now, otherwise\n    // the upcoming resume will not flow.\n    state.flowing = true; // crude way to check if we should resume\n  } else if (self.listenerCount('data') > 0) {\n    self.resume();\n  }\n}\n\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0');\n  self.read(0);\n} // pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\n\n\nReadable.prototype.resume = function () {\n  var state = this._readableState;\n\n  if (!state.flowing) {\n    debug('resume'); // we flow only if there is no one listening\n    // for readable, but we still have to call\n    // resume()\n\n    state.flowing = !state.readableListening;\n    resume(this, state);\n  }\n\n  state.paused = false;\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    process.nextTick(resume_, stream, state);\n  }\n}\n\nfunction resume_(stream, state) {\n  debug('resume', state.reading);\n\n  if (!state.reading) {\n    stream.read(0);\n  }\n\n  state.resumeScheduled = false;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading) stream.read(0);\n}\n\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing);\n\n  if (this._readableState.flowing !== false) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n\n  this._readableState.paused = true;\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n\n  while (state.flowing && stream.read() !== null) {\n    ;\n  }\n} // wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\n\n\nReadable.prototype.wrap = function (stream) {\n  var _this = this;\n\n  var state = this._readableState;\n  var paused = false;\n  stream.on('end', function () {\n    debug('wrapped end');\n\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length) _this.push(chunk);\n    }\n\n    _this.push(null);\n  });\n  stream.on('data', function (chunk) {\n    debug('wrapped data');\n    if (state.decoder) chunk = state.decoder.write(chunk); // don't skip over falsy values in objectMode\n\n    if (state.objectMode && (chunk === null || chunk === undefined)) return;else if (!state.objectMode && (!chunk || !chunk.length)) return;\n\n    var ret = _this.push(chunk);\n\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  }); // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n\n  for (var i in stream) {\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = function methodWrap(method) {\n        return function methodWrapReturnFunction() {\n          return stream[method].apply(stream, arguments);\n        };\n      }(i);\n    }\n  } // proxy certain important events.\n\n\n  for (var n = 0; n < kProxyEvents.length; n++) {\n    stream.on(kProxyEvents[n], this.emit.bind(this, kProxyEvents[n]));\n  } // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n\n\n  this._read = function (n) {\n    debug('wrapped _read', n);\n\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return this;\n};\n\nif (typeof Symbol === 'function') {\n  Readable.prototype[Symbol.asyncIterator] = function () {\n    if (createReadableStreamAsyncIterator === undefined) {\n      createReadableStreamAsyncIterator = require('./internal/streams/async_iterator');\n    }\n\n    return createReadableStreamAsyncIterator(this);\n  };\n}\n\nObject.defineProperty(Readable.prototype, 'readableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.highWaterMark;\n  }\n});\nObject.defineProperty(Readable.prototype, 'readableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState && this._readableState.buffer;\n  }\n});\nObject.defineProperty(Readable.prototype, 'readableFlowing', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.flowing;\n  },\n  set: function set(state) {\n    if (this._readableState) {\n      this._readableState.flowing = state;\n    }\n  }\n}); // exposed for testing purposes only.\n\nReadable._fromList = fromList;\nObject.defineProperty(Readable.prototype, 'readableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.length;\n  }\n}); // Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\n\nfunction fromList(n, state) {\n  // nothing buffered\n  if (state.length === 0) return null;\n  var ret;\n  if (state.objectMode) ret = state.buffer.shift();else if (!n || n >= state.length) {\n    // read it all, truncate the list\n    if (state.decoder) ret = state.buffer.join('');else if (state.buffer.length === 1) ret = state.buffer.first();else ret = state.buffer.concat(state.length);\n    state.buffer.clear();\n  } else {\n    // read part of list\n    ret = state.buffer.consume(n, state.decoder);\n  }\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n  debug('endReadable', state.endEmitted);\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    process.nextTick(endReadableNT, state, stream);\n  }\n}\n\nfunction endReadableNT(state, stream) {\n  debug('endReadableNT', state.endEmitted, state.length); // Check that we didn't get one last unshift.\n\n  if (!state.endEmitted && state.length === 0) {\n    state.endEmitted = true;\n    stream.readable = false;\n    stream.emit('end');\n\n    if (state.autoDestroy) {\n      // In case of duplex streams we need a way to detect\n      // if the writable side is ready for autoDestroy as well\n      var wState = stream._writableState;\n\n      if (!wState || wState.autoDestroy && wState.finished) {\n        stream.destroy();\n      }\n    }\n  }\n}\n\nif (typeof Symbol === 'function') {\n  Readable.from = function (iterable, opts) {\n    if (from === undefined) {\n      from = require('./internal/streams/from');\n    }\n\n    return from(Readable, iterable, opts);\n  };\n}\n\nfunction indexOf(xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n\n  return -1;\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n'use strict';\n\nmodule.exports = Transform;\n\nvar _require$codes = require('../errors').codes,\n    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_MULTIPLE_CALLBACK = _require$codes.ERR_MULTIPLE_CALLBACK,\n    ERR_TRANSFORM_ALREADY_TRANSFORMING = _require$codes.ERR_TRANSFORM_ALREADY_TRANSFORMING,\n    ERR_TRANSFORM_WITH_LENGTH_0 = _require$codes.ERR_TRANSFORM_WITH_LENGTH_0;\n\nvar Duplex = require('./_stream_duplex');\n\nrequire('inherits')(Transform, Duplex);\n\nfunction afterTransform(er, data) {\n  var ts = this._transformState;\n  ts.transforming = false;\n  var cb = ts.writecb;\n\n  if (cb === null) {\n    return this.emit('error', new ERR_MULTIPLE_CALLBACK());\n  }\n\n  ts.writechunk = null;\n  ts.writecb = null;\n  if (data != null) // single equals check for both `null` and `undefined`\n    this.push(data);\n  cb(er);\n  var rs = this._readableState;\n  rs.reading = false;\n\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    this._read(rs.highWaterMark);\n  }\n}\n\nfunction Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options);\n  Duplex.call(this, options);\n  this._transformState = {\n    afterTransform: afterTransform.bind(this),\n    needTransform: false,\n    transforming: false,\n    writecb: null,\n    writechunk: null,\n    writeencoding: null\n  }; // start out asking for a readable event once data is transformed.\n\n  this._readableState.needReadable = true; // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n\n  this._readableState.sync = false;\n\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform;\n    if (typeof options.flush === 'function') this._flush = options.flush;\n  } // When the writable side finishes, then flush out anything remaining.\n\n\n  this.on('prefinish', prefinish);\n}\n\nfunction prefinish() {\n  var _this = this;\n\n  if (typeof this._flush === 'function' && !this._readableState.destroyed) {\n    this._flush(function (er, data) {\n      done(_this, er, data);\n    });\n  } else {\n    done(this, null, null);\n  }\n}\n\nTransform.prototype.push = function (chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n}; // This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\n\n\nTransform.prototype._transform = function (chunk, encoding, cb) {\n  cb(new ERR_METHOD_NOT_IMPLEMENTED('_transform()'));\n};\n\nTransform.prototype._write = function (chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark) this._read(rs.highWaterMark);\n  }\n}; // Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\n\n\nTransform.prototype._read = function (n) {\n  var ts = this._transformState;\n\n  if (ts.writechunk !== null && !ts.transforming) {\n    ts.transforming = true;\n\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\nTransform.prototype._destroy = function (err, cb) {\n  Duplex.prototype._destroy.call(this, err, function (err2) {\n    cb(err2);\n  });\n};\n\nfunction done(stream, er, data) {\n  if (er) return stream.emit('error', er);\n  if (data != null) // single equals check for both `null` and `undefined`\n    stream.push(data); // TODO(BridgeAR): Write a test for these two error cases\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n\n  if (stream._writableState.length) throw new ERR_TRANSFORM_WITH_LENGTH_0();\n  if (stream._transformState.transforming) throw new ERR_TRANSFORM_ALREADY_TRANSFORMING();\n  return stream.push(null);\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n'use strict';\n\nmodule.exports = Writable;\n/* <replacement> */\n\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n} // It seems a linked list but it is not\n// there will be only 2 of these for each stream\n\n\nfunction CorkedRequest(state) {\n  var _this = this;\n\n  this.next = null;\n  this.entry = null;\n\n  this.finish = function () {\n    onCorkedFinish(_this, state);\n  };\n}\n/* </replacement> */\n\n/*<replacement>*/\n\n\nvar Duplex;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n/*<replacement>*/\n\nvar internalUtil = {\n  deprecate: require('util-deprecate')\n};\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n\nvar Buffer = require('buffer').Buffer;\n\nvar OurUint8Array = global.Uint8Array || function () {};\n\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\n\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nvar _require = require('./internal/streams/state'),\n    getHighWaterMark = _require.getHighWaterMark;\n\nvar _require$codes = require('../errors').codes,\n    ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE,\n    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_MULTIPLE_CALLBACK = _require$codes.ERR_MULTIPLE_CALLBACK,\n    ERR_STREAM_CANNOT_PIPE = _require$codes.ERR_STREAM_CANNOT_PIPE,\n    ERR_STREAM_DESTROYED = _require$codes.ERR_STREAM_DESTROYED,\n    ERR_STREAM_NULL_VALUES = _require$codes.ERR_STREAM_NULL_VALUES,\n    ERR_STREAM_WRITE_AFTER_END = _require$codes.ERR_STREAM_WRITE_AFTER_END,\n    ERR_UNKNOWN_ENCODING = _require$codes.ERR_UNKNOWN_ENCODING;\n\nvar errorOrDestroy = destroyImpl.errorOrDestroy;\n\nrequire('inherits')(Writable, Stream);\n\nfunction nop() {}\n\nfunction WritableState(options, stream, isDuplex) {\n  Duplex = Duplex || require('./_stream_duplex');\n  options = options || {}; // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream,\n  // e.g. options.readableObjectMode vs. options.writableObjectMode, etc.\n\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof Duplex; // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n\n  this.objectMode = !!options.objectMode;\n  if (isDuplex) this.objectMode = this.objectMode || !!options.writableObjectMode; // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n\n  this.highWaterMark = getHighWaterMark(this, options, 'writableHighWaterMark', isDuplex); // if _final has been called\n\n  this.finalCalled = false; // drain event flag.\n\n  this.needDrain = false; // at the start of calling end()\n\n  this.ending = false; // when end() has been called, and returned\n\n  this.ended = false; // when 'finish' is emitted\n\n  this.finished = false; // has it been destroyed\n\n  this.destroyed = false; // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode; // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n\n  this.defaultEncoding = options.defaultEncoding || 'utf8'; // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n\n  this.length = 0; // a flag to see when we're in the middle of a write.\n\n  this.writing = false; // when true all writes will be buffered until .uncork() call\n\n  this.corked = 0; // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n\n  this.sync = true; // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n\n  this.bufferProcessing = false; // the callback that's passed to _write(chunk,cb)\n\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  }; // the callback that the user supplies to write(chunk,encoding,cb)\n\n\n  this.writecb = null; // the amount that is being written when _write is called.\n\n  this.writelen = 0;\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null; // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n\n  this.pendingcb = 0; // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n\n  this.prefinished = false; // True if the error was already emitted and should not be thrown again\n\n  this.errorEmitted = false; // Should close be emitted on destroy. Defaults to true.\n\n  this.emitClose = options.emitClose !== false; // Should .destroy() be called after 'finish' (and potentially 'end')\n\n  this.autoDestroy = !!options.autoDestroy; // count buffered requests\n\n  this.bufferedRequestCount = 0; // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\n\nWritableState.prototype.getBuffer = function getBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n\n  return out;\n};\n\n(function () {\n  try {\n    Object.defineProperty(WritableState.prototype, 'buffer', {\n      get: internalUtil.deprecate(function writableStateBufferGetter() {\n        return this.getBuffer();\n      }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.', 'DEP0003')\n    });\n  } catch (_) {}\n})(); // Test _writableState for inheritance to account for Duplex streams,\n// whose prototype chain only points to Readable.\n\n\nvar realHasInstance;\n\nif (typeof Symbol === 'function' && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] === 'function') {\n  realHasInstance = Function.prototype[Symbol.hasInstance];\n  Object.defineProperty(Writable, Symbol.hasInstance, {\n    value: function value(object) {\n      if (realHasInstance.call(this, object)) return true;\n      if (this !== Writable) return false;\n      return object && object._writableState instanceof WritableState;\n    }\n  });\n} else {\n  realHasInstance = function realHasInstance(object) {\n    return object instanceof this;\n  };\n}\n\nfunction Writable(options) {\n  Duplex = Duplex || require('./_stream_duplex'); // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n  // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the WritableState constructor, at least with V8 6.5\n\n  var isDuplex = this instanceof Duplex;\n  if (!isDuplex && !realHasInstance.call(Writable, this)) return new Writable(options);\n  this._writableState = new WritableState(options, this, isDuplex); // legacy.\n\n  this.writable = true;\n\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n    if (typeof options.writev === 'function') this._writev = options.writev;\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n    if (typeof options.final === 'function') this._final = options.final;\n  }\n\n  Stream.call(this);\n} // Otherwise people can pipe Writable streams, which is just wrong.\n\n\nWritable.prototype.pipe = function () {\n  errorOrDestroy(this, new ERR_STREAM_CANNOT_PIPE());\n};\n\nfunction writeAfterEnd(stream, cb) {\n  var er = new ERR_STREAM_WRITE_AFTER_END(); // TODO: defer error events consistently everywhere, not just the cb\n\n  errorOrDestroy(stream, er);\n  process.nextTick(cb, er);\n} // Checks that a user-supplied chunk is valid, especially for the particular\n// mode the stream is in. Currently this means that `null` is never accepted\n// and undefined/non-string values are only allowed in object mode.\n\n\nfunction validChunk(stream, state, chunk, cb) {\n  var er;\n\n  if (chunk === null) {\n    er = new ERR_STREAM_NULL_VALUES();\n  } else if (typeof chunk !== 'string' && !state.objectMode) {\n    er = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer'], chunk);\n  }\n\n  if (er) {\n    errorOrDestroy(stream, er);\n    process.nextTick(cb, er);\n    return false;\n  }\n\n  return true;\n}\n\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n\n  var isBuf = !state.objectMode && _isUint8Array(chunk);\n\n  if (isBuf && !Buffer.isBuffer(chunk)) {\n    chunk = _uint8ArrayToBuffer(chunk);\n  }\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (isBuf) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n  if (typeof cb !== 'function') cb = nop;\n  if (state.ending) writeAfterEnd(this, cb);else if (isBuf || validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, isBuf, chunk, encoding, cb);\n  }\n  return ret;\n};\n\nWritable.prototype.cork = function () {\n  this._writableState.corked++;\n};\n\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n    if (!state.writing && !state.corked && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\n\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new ERR_UNKNOWN_ENCODING(encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\n\nObject.defineProperty(Writable.prototype, 'writableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState && this._writableState.getBuffer();\n  }\n});\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = Buffer.from(chunk, encoding);\n  }\n\n  return chunk;\n}\n\nObject.defineProperty(Writable.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.highWaterMark;\n  }\n}); // if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\n\nfunction writeOrBuffer(stream, state, isBuf, chunk, encoding, cb) {\n  if (!isBuf) {\n    var newChunk = decodeChunk(state, chunk, encoding);\n\n    if (chunk !== newChunk) {\n      isBuf = true;\n      encoding = 'buffer';\n      chunk = newChunk;\n    }\n  }\n\n  var len = state.objectMode ? 1 : chunk.length;\n  state.length += len;\n  var ret = state.length < state.highWaterMark; // we must ensure that previous needDrain will not be reset to false.\n\n  if (!ret) state.needDrain = true;\n\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = {\n      chunk: chunk,\n      encoding: encoding,\n      isBuf: isBuf,\n      callback: cb,\n      next: null\n    };\n\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (state.destroyed) state.onwrite(new ERR_STREAM_DESTROYED('write'));else if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n\n  if (sync) {\n    // defer the callback if we are being called synchronously\n    // to avoid piling up things on the stack\n    process.nextTick(cb, er); // this can emit finish, and it will always happen\n    // after error\n\n    process.nextTick(finishMaybe, stream, state);\n    stream._writableState.errorEmitted = true;\n    errorOrDestroy(stream, er);\n  } else {\n    // the caller expect this to happen before if\n    // it is async\n    cb(er);\n    stream._writableState.errorEmitted = true;\n    errorOrDestroy(stream, er); // this can emit finish, but finish must\n    // always follow error\n\n    finishMaybe(stream, state);\n  }\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n  if (typeof cb !== 'function') throw new ERR_MULTIPLE_CALLBACK();\n  onwriteStateUpdate(state);\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state) || stream.destroyed;\n\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      process.nextTick(afterWrite, stream, state, finished, cb);\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n} // Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\n\n\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n} // if there's something in the buffer waiting, then process it\n\n\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n    var count = 0;\n    var allBuffers = true;\n\n    while (entry) {\n      buffer[count] = entry;\n      if (!entry.isBuf) allBuffers = false;\n      entry = entry.next;\n      count += 1;\n    }\n\n    buffer.allBuffers = allBuffers;\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish); // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n\n    state.bufferedRequestCount = 0;\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      state.bufferedRequestCount--; // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n\n      if (state.writing) {\n        break;\n      }\n    }\n\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new ERR_METHOD_NOT_IMPLEMENTED('_write()'));\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding); // .end() fully uncorks\n\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  } // ignore unnecessary end() calls.\n\n\n  if (!state.ending) endWritable(this, state, cb);\n  return this;\n};\n\nObject.defineProperty(Writable.prototype, 'writableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.length;\n  }\n});\n\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\n\nfunction callFinal(stream, state) {\n  stream._final(function (err) {\n    state.pendingcb--;\n\n    if (err) {\n      errorOrDestroy(stream, err);\n    }\n\n    state.prefinished = true;\n    stream.emit('prefinish');\n    finishMaybe(stream, state);\n  });\n}\n\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function' && !state.destroyed) {\n      state.pendingcb++;\n      state.finalCalled = true;\n      process.nextTick(callFinal, stream, state);\n    } else {\n      state.prefinished = true;\n      stream.emit('prefinish');\n    }\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n\n  if (need) {\n    prefinish(stream, state);\n\n    if (state.pendingcb === 0) {\n      state.finished = true;\n      stream.emit('finish');\n\n      if (state.autoDestroy) {\n        // In case of duplex streams we need a way to detect\n        // if the readable side is ready for autoDestroy as well\n        var rState = stream._readableState;\n\n        if (!rState || rState.autoDestroy && rState.endEmitted) {\n          stream.destroy();\n        }\n      }\n    }\n  }\n\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n\n  if (cb) {\n    if (state.finished) process.nextTick(cb);else stream.once('finish', cb);\n  }\n\n  state.ended = true;\n  stream.writable = false;\n}\n\nfunction onCorkedFinish(corkReq, state, err) {\n  var entry = corkReq.entry;\n  corkReq.entry = null;\n\n  while (entry) {\n    var cb = entry.callback;\n    state.pendingcb--;\n    cb(err);\n    entry = entry.next;\n  } // reuse the free corkReq.\n\n\n  state.corkedRequestsFree.next = corkReq;\n}\n\nObject.defineProperty(Writable.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._writableState === undefined) {\n      return false;\n    }\n\n    return this._writableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._writableState) {\n      return;\n    } // backward compatibility, the user is explicitly\n    // managing destroyed\n\n\n    this._writableState.destroyed = value;\n  }\n});\nWritable.prototype.destroy = destroyImpl.destroy;\nWritable.prototype._undestroy = destroyImpl.undestroy;\n\nWritable.prototype._destroy = function (err, cb) {\n  cb(err);\n};","'use strict';\n\nvar _Object$setPrototypeO;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar finished = require('./end-of-stream');\n\nvar kLastResolve = Symbol('lastResolve');\nvar kLastReject = Symbol('lastReject');\nvar kError = Symbol('error');\nvar kEnded = Symbol('ended');\nvar kLastPromise = Symbol('lastPromise');\nvar kHandlePromise = Symbol('handlePromise');\nvar kStream = Symbol('stream');\n\nfunction createIterResult(value, done) {\n  return {\n    value: value,\n    done: done\n  };\n}\n\nfunction readAndResolve(iter) {\n  var resolve = iter[kLastResolve];\n\n  if (resolve !== null) {\n    var data = iter[kStream].read(); // we defer if data is null\n    // we can be expecting either 'end' or\n    // 'error'\n\n    if (data !== null) {\n      iter[kLastPromise] = null;\n      iter[kLastResolve] = null;\n      iter[kLastReject] = null;\n      resolve(createIterResult(data, false));\n    }\n  }\n}\n\nfunction onReadable(iter) {\n  // we wait for the next tick, because it might\n  // emit an error with process.nextTick\n  process.nextTick(readAndResolve, iter);\n}\n\nfunction wrapForNext(lastPromise, iter) {\n  return function (resolve, reject) {\n    lastPromise.then(function () {\n      if (iter[kEnded]) {\n        resolve(createIterResult(undefined, true));\n        return;\n      }\n\n      iter[kHandlePromise](resolve, reject);\n    }, reject);\n  };\n}\n\nvar AsyncIteratorPrototype = Object.getPrototypeOf(function () {});\nvar ReadableStreamAsyncIteratorPrototype = Object.setPrototypeOf((_Object$setPrototypeO = {\n  get stream() {\n    return this[kStream];\n  },\n\n  next: function next() {\n    var _this = this;\n\n    // if we have detected an error in the meanwhile\n    // reject straight away\n    var error = this[kError];\n\n    if (error !== null) {\n      return Promise.reject(error);\n    }\n\n    if (this[kEnded]) {\n      return Promise.resolve(createIterResult(undefined, true));\n    }\n\n    if (this[kStream].destroyed) {\n      // We need to defer via nextTick because if .destroy(err) is\n      // called, the error will be emitted via nextTick, and\n      // we cannot guarantee that there is no error lingering around\n      // waiting to be emitted.\n      return new Promise(function (resolve, reject) {\n        process.nextTick(function () {\n          if (_this[kError]) {\n            reject(_this[kError]);\n          } else {\n            resolve(createIterResult(undefined, true));\n          }\n        });\n      });\n    } // if we have multiple next() calls\n    // we will wait for the previous Promise to finish\n    // this logic is optimized to support for await loops,\n    // where next() is only called once at a time\n\n\n    var lastPromise = this[kLastPromise];\n    var promise;\n\n    if (lastPromise) {\n      promise = new Promise(wrapForNext(lastPromise, this));\n    } else {\n      // fast path needed to support multiple this.push()\n      // without triggering the next() queue\n      var data = this[kStream].read();\n\n      if (data !== null) {\n        return Promise.resolve(createIterResult(data, false));\n      }\n\n      promise = new Promise(this[kHandlePromise]);\n    }\n\n    this[kLastPromise] = promise;\n    return promise;\n  }\n}, _defineProperty(_Object$setPrototypeO, Symbol.asyncIterator, function () {\n  return this;\n}), _defineProperty(_Object$setPrototypeO, \"return\", function _return() {\n  var _this2 = this;\n\n  // destroy(err, cb) is a private API\n  // we can guarantee we have that here, because we control the\n  // Readable class this is attached to\n  return new Promise(function (resolve, reject) {\n    _this2[kStream].destroy(null, function (err) {\n      if (err) {\n        reject(err);\n        return;\n      }\n\n      resolve(createIterResult(undefined, true));\n    });\n  });\n}), _Object$setPrototypeO), AsyncIteratorPrototype);\n\nvar createReadableStreamAsyncIterator = function createReadableStreamAsyncIterator(stream) {\n  var _Object$create;\n\n  var iterator = Object.create(ReadableStreamAsyncIteratorPrototype, (_Object$create = {}, _defineProperty(_Object$create, kStream, {\n    value: stream,\n    writable: true\n  }), _defineProperty(_Object$create, kLastResolve, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kLastReject, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kError, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kEnded, {\n    value: stream._readableState.endEmitted,\n    writable: true\n  }), _defineProperty(_Object$create, kHandlePromise, {\n    value: function value(resolve, reject) {\n      var data = iterator[kStream].read();\n\n      if (data) {\n        iterator[kLastPromise] = null;\n        iterator[kLastResolve] = null;\n        iterator[kLastReject] = null;\n        resolve(createIterResult(data, false));\n      } else {\n        iterator[kLastResolve] = resolve;\n        iterator[kLastReject] = reject;\n      }\n    },\n    writable: true\n  }), _Object$create));\n  iterator[kLastPromise] = null;\n  finished(stream, function (err) {\n    if (err && err.code !== 'ERR_STREAM_PREMATURE_CLOSE') {\n      var reject = iterator[kLastReject]; // reject if we are waiting for data in the Promise\n      // returned by next() and store the error\n\n      if (reject !== null) {\n        iterator[kLastPromise] = null;\n        iterator[kLastResolve] = null;\n        iterator[kLastReject] = null;\n        reject(err);\n      }\n\n      iterator[kError] = err;\n      return;\n    }\n\n    var resolve = iterator[kLastResolve];\n\n    if (resolve !== null) {\n      iterator[kLastPromise] = null;\n      iterator[kLastResolve] = null;\n      iterator[kLastReject] = null;\n      resolve(createIterResult(undefined, true));\n    }\n\n    iterator[kEnded] = true;\n  });\n  stream.on('readable', onReadable.bind(null, iterator));\n  return iterator;\n};\n\nmodule.exports = createReadableStreamAsyncIterator;","'use strict';\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar _require = require('buffer'),\n    Buffer = _require.Buffer;\n\nvar _require2 = require('util'),\n    inspect = _require2.inspect;\n\nvar custom = inspect && inspect.custom || 'inspect';\n\nfunction copyBuffer(src, target, offset) {\n  Buffer.prototype.copy.call(src, target, offset);\n}\n\nmodule.exports =\n/*#__PURE__*/\nfunction () {\n  function BufferList() {\n    _classCallCheck(this, BufferList);\n\n    this.head = null;\n    this.tail = null;\n    this.length = 0;\n  }\n\n  _createClass(BufferList, [{\n    key: \"push\",\n    value: function push(v) {\n      var entry = {\n        data: v,\n        next: null\n      };\n      if (this.length > 0) this.tail.next = entry;else this.head = entry;\n      this.tail = entry;\n      ++this.length;\n    }\n  }, {\n    key: \"unshift\",\n    value: function unshift(v) {\n      var entry = {\n        data: v,\n        next: this.head\n      };\n      if (this.length === 0) this.tail = entry;\n      this.head = entry;\n      ++this.length;\n    }\n  }, {\n    key: \"shift\",\n    value: function shift() {\n      if (this.length === 0) return;\n      var ret = this.head.data;\n      if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;\n      --this.length;\n      return ret;\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.head = this.tail = null;\n      this.length = 0;\n    }\n  }, {\n    key: \"join\",\n    value: function join(s) {\n      if (this.length === 0) return '';\n      var p = this.head;\n      var ret = '' + p.data;\n\n      while (p = p.next) {\n        ret += s + p.data;\n      }\n\n      return ret;\n    }\n  }, {\n    key: \"concat\",\n    value: function concat(n) {\n      if (this.length === 0) return Buffer.alloc(0);\n      var ret = Buffer.allocUnsafe(n >>> 0);\n      var p = this.head;\n      var i = 0;\n\n      while (p) {\n        copyBuffer(p.data, ret, i);\n        i += p.data.length;\n        p = p.next;\n      }\n\n      return ret;\n    } // Consumes a specified amount of bytes or characters from the buffered data.\n\n  }, {\n    key: \"consume\",\n    value: function consume(n, hasStrings) {\n      var ret;\n\n      if (n < this.head.data.length) {\n        // `slice` is the same for buffers and strings.\n        ret = this.head.data.slice(0, n);\n        this.head.data = this.head.data.slice(n);\n      } else if (n === this.head.data.length) {\n        // First chunk is a perfect match.\n        ret = this.shift();\n      } else {\n        // Result spans more than one buffer.\n        ret = hasStrings ? this._getString(n) : this._getBuffer(n);\n      }\n\n      return ret;\n    }\n  }, {\n    key: \"first\",\n    value: function first() {\n      return this.head.data;\n    } // Consumes a specified amount of characters from the buffered data.\n\n  }, {\n    key: \"_getString\",\n    value: function _getString(n) {\n      var p = this.head;\n      var c = 1;\n      var ret = p.data;\n      n -= ret.length;\n\n      while (p = p.next) {\n        var str = p.data;\n        var nb = n > str.length ? str.length : n;\n        if (nb === str.length) ret += str;else ret += str.slice(0, n);\n        n -= nb;\n\n        if (n === 0) {\n          if (nb === str.length) {\n            ++c;\n            if (p.next) this.head = p.next;else this.head = this.tail = null;\n          } else {\n            this.head = p;\n            p.data = str.slice(nb);\n          }\n\n          break;\n        }\n\n        ++c;\n      }\n\n      this.length -= c;\n      return ret;\n    } // Consumes a specified amount of bytes from the buffered data.\n\n  }, {\n    key: \"_getBuffer\",\n    value: function _getBuffer(n) {\n      var ret = Buffer.allocUnsafe(n);\n      var p = this.head;\n      var c = 1;\n      p.data.copy(ret);\n      n -= p.data.length;\n\n      while (p = p.next) {\n        var buf = p.data;\n        var nb = n > buf.length ? buf.length : n;\n        buf.copy(ret, ret.length - n, 0, nb);\n        n -= nb;\n\n        if (n === 0) {\n          if (nb === buf.length) {\n            ++c;\n            if (p.next) this.head = p.next;else this.head = this.tail = null;\n          } else {\n            this.head = p;\n            p.data = buf.slice(nb);\n          }\n\n          break;\n        }\n\n        ++c;\n      }\n\n      this.length -= c;\n      return ret;\n    } // Make sure the linked list only shows the minimal necessary information.\n\n  }, {\n    key: custom,\n    value: function value(_, options) {\n      return inspect(this, _objectSpread({}, options, {\n        // Only inspect one level.\n        depth: 0,\n        // It should not recurse.\n        customInspect: false\n      }));\n    }\n  }]);\n\n  return BufferList;\n}();","'use strict'; // undocumented cb() API, needed for core, not for public API\n\nfunction destroy(err, cb) {\n  var _this = this;\n\n  var readableDestroyed = this._readableState && this._readableState.destroyed;\n  var writableDestroyed = this._writableState && this._writableState.destroyed;\n\n  if (readableDestroyed || writableDestroyed) {\n    if (cb) {\n      cb(err);\n    } else if (err) {\n      if (!this._writableState) {\n        process.nextTick(emitErrorNT, this, err);\n      } else if (!this._writableState.errorEmitted) {\n        this._writableState.errorEmitted = true;\n        process.nextTick(emitErrorNT, this, err);\n      }\n    }\n\n    return this;\n  } // we set destroyed to true before firing error callbacks in order\n  // to make it re-entrance safe in case destroy() is called within callbacks\n\n\n  if (this._readableState) {\n    this._readableState.destroyed = true;\n  } // if this is a duplex stream mark the writable part as destroyed as well\n\n\n  if (this._writableState) {\n    this._writableState.destroyed = true;\n  }\n\n  this._destroy(err || null, function (err) {\n    if (!cb && err) {\n      if (!_this._writableState) {\n        process.nextTick(emitErrorAndCloseNT, _this, err);\n      } else if (!_this._writableState.errorEmitted) {\n        _this._writableState.errorEmitted = true;\n        process.nextTick(emitErrorAndCloseNT, _this, err);\n      } else {\n        process.nextTick(emitCloseNT, _this);\n      }\n    } else if (cb) {\n      process.nextTick(emitCloseNT, _this);\n      cb(err);\n    } else {\n      process.nextTick(emitCloseNT, _this);\n    }\n  });\n\n  return this;\n}\n\nfunction emitErrorAndCloseNT(self, err) {\n  emitErrorNT(self, err);\n  emitCloseNT(self);\n}\n\nfunction emitCloseNT(self) {\n  if (self._writableState && !self._writableState.emitClose) return;\n  if (self._readableState && !self._readableState.emitClose) return;\n  self.emit('close');\n}\n\nfunction undestroy() {\n  if (this._readableState) {\n    this._readableState.destroyed = false;\n    this._readableState.reading = false;\n    this._readableState.ended = false;\n    this._readableState.endEmitted = false;\n  }\n\n  if (this._writableState) {\n    this._writableState.destroyed = false;\n    this._writableState.ended = false;\n    this._writableState.ending = false;\n    this._writableState.finalCalled = false;\n    this._writableState.prefinished = false;\n    this._writableState.finished = false;\n    this._writableState.errorEmitted = false;\n  }\n}\n\nfunction emitErrorNT(self, err) {\n  self.emit('error', err);\n}\n\nfunction errorOrDestroy(stream, err) {\n  // We have tests that rely on errors being emitted\n  // in the same tick, so changing this is semver major.\n  // For now when you opt-in to autoDestroy we allow\n  // the error to be emitted nextTick. In a future\n  // semver major update we should change the default to this.\n  var rState = stream._readableState;\n  var wState = stream._writableState;\n  if (rState && rState.autoDestroy || wState && wState.autoDestroy) stream.destroy(err);else stream.emit('error', err);\n}\n\nmodule.exports = {\n  destroy: destroy,\n  undestroy: undestroy,\n  errorOrDestroy: errorOrDestroy\n};","// Ported from https://github.com/mafintosh/end-of-stream with\n// permission from the author, Mathias Buus (@mafintosh).\n'use strict';\n\nvar ERR_STREAM_PREMATURE_CLOSE = require('../../../errors').codes.ERR_STREAM_PREMATURE_CLOSE;\n\nfunction once(callback) {\n  var called = false;\n  return function () {\n    if (called) return;\n    called = true;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    callback.apply(this, args);\n  };\n}\n\nfunction noop() {}\n\nfunction isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function';\n}\n\nfunction eos(stream, opts, callback) {\n  if (typeof opts === 'function') return eos(stream, null, opts);\n  if (!opts) opts = {};\n  callback = once(callback || noop);\n  var readable = opts.readable || opts.readable !== false && stream.readable;\n  var writable = opts.writable || opts.writable !== false && stream.writable;\n\n  var onlegacyfinish = function onlegacyfinish() {\n    if (!stream.writable) onfinish();\n  };\n\n  var writableEnded = stream._writableState && stream._writableState.finished;\n\n  var onfinish = function onfinish() {\n    writable = false;\n    writableEnded = true;\n    if (!readable) callback.call(stream);\n  };\n\n  var readableEnded = stream._readableState && stream._readableState.endEmitted;\n\n  var onend = function onend() {\n    readable = false;\n    readableEnded = true;\n    if (!writable) callback.call(stream);\n  };\n\n  var onerror = function onerror(err) {\n    callback.call(stream, err);\n  };\n\n  var onclose = function onclose() {\n    var err;\n\n    if (readable && !readableEnded) {\n      if (!stream._readableState || !stream._readableState.ended) err = new ERR_STREAM_PREMATURE_CLOSE();\n      return callback.call(stream, err);\n    }\n\n    if (writable && !writableEnded) {\n      if (!stream._writableState || !stream._writableState.ended) err = new ERR_STREAM_PREMATURE_CLOSE();\n      return callback.call(stream, err);\n    }\n  };\n\n  var onrequest = function onrequest() {\n    stream.req.on('finish', onfinish);\n  };\n\n  if (isRequest(stream)) {\n    stream.on('complete', onfinish);\n    stream.on('abort', onclose);\n    if (stream.req) onrequest();else stream.on('request', onrequest);\n  } else if (writable && !stream._writableState) {\n    // legacy streams\n    stream.on('end', onlegacyfinish);\n    stream.on('close', onlegacyfinish);\n  }\n\n  stream.on('end', onend);\n  stream.on('finish', onfinish);\n  if (opts.error !== false) stream.on('error', onerror);\n  stream.on('close', onclose);\n  return function () {\n    stream.removeListener('complete', onfinish);\n    stream.removeListener('abort', onclose);\n    stream.removeListener('request', onrequest);\n    if (stream.req) stream.req.removeListener('finish', onfinish);\n    stream.removeListener('end', onlegacyfinish);\n    stream.removeListener('close', onlegacyfinish);\n    stream.removeListener('finish', onfinish);\n    stream.removeListener('end', onend);\n    stream.removeListener('error', onerror);\n    stream.removeListener('close', onclose);\n  };\n}\n\nmodule.exports = eos;","module.exports = function () {\n  throw new Error('Readable.from is not available in the browser')\n};\n","// Ported from https://github.com/mafintosh/pump with\n// permission from the author, Mathias Buus (@mafintosh).\n'use strict';\n\nvar eos;\n\nfunction once(callback) {\n  var called = false;\n  return function () {\n    if (called) return;\n    called = true;\n    callback.apply(void 0, arguments);\n  };\n}\n\nvar _require$codes = require('../../../errors').codes,\n    ERR_MISSING_ARGS = _require$codes.ERR_MISSING_ARGS,\n    ERR_STREAM_DESTROYED = _require$codes.ERR_STREAM_DESTROYED;\n\nfunction noop(err) {\n  // Rethrow the error if it exists to avoid swallowing it\n  if (err) throw err;\n}\n\nfunction isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function';\n}\n\nfunction destroyer(stream, reading, writing, callback) {\n  callback = once(callback);\n  var closed = false;\n  stream.on('close', function () {\n    closed = true;\n  });\n  if (eos === undefined) eos = require('./end-of-stream');\n  eos(stream, {\n    readable: reading,\n    writable: writing\n  }, function (err) {\n    if (err) return callback(err);\n    closed = true;\n    callback();\n  });\n  var destroyed = false;\n  return function (err) {\n    if (closed) return;\n    if (destroyed) return;\n    destroyed = true; // request.destroy just do .end - .abort is what we want\n\n    if (isRequest(stream)) return stream.abort();\n    if (typeof stream.destroy === 'function') return stream.destroy();\n    callback(err || new ERR_STREAM_DESTROYED('pipe'));\n  };\n}\n\nfunction call(fn) {\n  fn();\n}\n\nfunction pipe(from, to) {\n  return from.pipe(to);\n}\n\nfunction popCallback(streams) {\n  if (!streams.length) return noop;\n  if (typeof streams[streams.length - 1] !== 'function') return noop;\n  return streams.pop();\n}\n\nfunction pipeline() {\n  for (var _len = arguments.length, streams = new Array(_len), _key = 0; _key < _len; _key++) {\n    streams[_key] = arguments[_key];\n  }\n\n  var callback = popCallback(streams);\n  if (Array.isArray(streams[0])) streams = streams[0];\n\n  if (streams.length < 2) {\n    throw new ERR_MISSING_ARGS('streams');\n  }\n\n  var error;\n  var destroys = streams.map(function (stream, i) {\n    var reading = i < streams.length - 1;\n    var writing = i > 0;\n    return destroyer(stream, reading, writing, function (err) {\n      if (!error) error = err;\n      if (err) destroys.forEach(call);\n      if (reading) return;\n      destroys.forEach(call);\n      callback(error);\n    });\n  });\n  return streams.reduce(pipe);\n}\n\nmodule.exports = pipeline;","'use strict';\n\nvar ERR_INVALID_OPT_VALUE = require('../../../errors').codes.ERR_INVALID_OPT_VALUE;\n\nfunction highWaterMarkFrom(options, isDuplex, duplexKey) {\n  return options.highWaterMark != null ? options.highWaterMark : isDuplex ? options[duplexKey] : null;\n}\n\nfunction getHighWaterMark(state, options, duplexKey, isDuplex) {\n  var hwm = highWaterMarkFrom(options, isDuplex, duplexKey);\n\n  if (hwm != null) {\n    if (!(isFinite(hwm) && Math.floor(hwm) === hwm) || hwm < 0) {\n      var name = isDuplex ? duplexKey : 'highWaterMark';\n      throw new ERR_INVALID_OPT_VALUE(name, hwm);\n    }\n\n    return Math.floor(hwm);\n  } // Default value\n\n\n  return state.objectMode ? 16 : 16 * 1024;\n}\n\nmodule.exports = {\n  getHighWaterMark: getHighWaterMark\n};","module.exports = require('events').EventEmitter;\n","exports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = exports;\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\nexports.finished = require('./lib/internal/streams/end-of-stream.js');\nexports.pipeline = require('./lib/internal/streams/pipeline.js');\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./lib/Resolve\"));\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Convert the given relative IRI to an absolute IRI\n * by taking into account the given optional baseIRI.\n *\n * @param {string} relativeIRI The relative IRI to convert to an absolute IRI.\n * @param {string} baseIRI The optional base IRI.\n * @return {string} an absolute IRI.\n */\nfunction resolve(relativeIRI, baseIRI) {\n    baseIRI = baseIRI || '';\n    const baseFragmentPos = baseIRI.indexOf('#');\n    // Ignore any fragments in the base IRI\n    if (baseFragmentPos > 0) {\n        baseIRI = baseIRI.substr(0, baseFragmentPos);\n    }\n    // Convert empty value directly to base IRI\n    if (!relativeIRI.length) {\n        // At this point, the baseIRI MUST be absolute, otherwise we error\n        if (baseIRI.indexOf(':') < 0) {\n            throw new Error(`Found invalid baseIRI '${baseIRI}' for value '${relativeIRI}'`);\n        }\n        return baseIRI;\n    }\n    // If the value starts with a query character, concat directly (but strip the existing query)\n    if (relativeIRI.startsWith('?')) {\n        const baseQueryPos = baseIRI.indexOf('?');\n        if (baseQueryPos > 0) {\n            baseIRI = baseIRI.substr(0, baseQueryPos);\n        }\n        return baseIRI + relativeIRI;\n    }\n    // If the value starts with a fragment character, concat directly\n    if (relativeIRI.startsWith('#')) {\n        return baseIRI + relativeIRI;\n    }\n    // Ignore baseIRI if it is empty\n    if (!baseIRI.length) {\n        const relativeColonPos = relativeIRI.indexOf(':');\n        if (relativeColonPos < 0) {\n            throw new Error(`Found invalid relative IRI '${relativeIRI}' for a missing baseIRI`);\n        }\n        return removeDotSegmentsOfPath(relativeIRI, relativeColonPos);\n    }\n    // Ignore baseIRI if the value is absolute\n    const valueColonPos = relativeIRI.indexOf(':');\n    if (valueColonPos >= 0) {\n        return removeDotSegmentsOfPath(relativeIRI, valueColonPos);\n    }\n    // At this point, the baseIRI MUST be absolute, otherwise we error\n    const baseColonPos = baseIRI.indexOf(':');\n    if (baseColonPos < 0) {\n        throw new Error(`Found invalid baseIRI '${baseIRI}' for value '${relativeIRI}'`);\n    }\n    const baseIRIScheme = baseIRI.substr(0, baseColonPos + 1);\n    // Inherit the baseIRI scheme if the value starts with '//'\n    if (relativeIRI.indexOf('//') === 0) {\n        return baseIRIScheme + removeDotSegmentsOfPath(relativeIRI, valueColonPos);\n    }\n    // Check cases where '://' occurs in the baseIRI, and where there is no '/' after a ':' anymore.\n    let baseSlashAfterColonPos;\n    if (baseIRI.indexOf('//', baseColonPos) === baseColonPos + 1) {\n        // If there is no additional '/' after the '//'.\n        baseSlashAfterColonPos = baseIRI.indexOf('/', baseColonPos + 3);\n        if (baseSlashAfterColonPos < 0) {\n            // If something other than a '/' follows the '://', append the value after a '/',\n            // otherwise, prefix the value with only the baseIRI scheme.\n            if (baseIRI.length > baseColonPos + 3) {\n                return baseIRI + '/' + removeDotSegmentsOfPath(relativeIRI, valueColonPos);\n            }\n            else {\n                return baseIRIScheme + removeDotSegmentsOfPath(relativeIRI, valueColonPos);\n            }\n        }\n    }\n    else {\n        // If there is not even a single '/' after the ':'\n        baseSlashAfterColonPos = baseIRI.indexOf('/', baseColonPos + 1);\n        if (baseSlashAfterColonPos < 0) {\n            // If we don't have a '/' after the ':',\n            // prefix the value with only the baseIRI scheme.\n            return baseIRIScheme + removeDotSegmentsOfPath(relativeIRI, valueColonPos);\n        }\n    }\n    // If the value starts with a '/', then prefix it with everything before the first effective slash of the base IRI.\n    if (relativeIRI.indexOf('/') === 0) {\n        return baseIRI.substr(0, baseSlashAfterColonPos) + removeDotSegments(relativeIRI);\n    }\n    let baseIRIPath = baseIRI.substr(baseSlashAfterColonPos);\n    const baseIRILastSlashPos = baseIRIPath.lastIndexOf('/');\n    // Ignore everything after the last '/' in the baseIRI path\n    if (baseIRILastSlashPos >= 0 && baseIRILastSlashPos < baseIRIPath.length - 1) {\n        baseIRIPath = baseIRIPath.substr(0, baseIRILastSlashPos + 1);\n        // Also remove the first character of the relative path if it starts with '.' (and not '..' or './')\n        // This change is only allowed if there is something else following the path\n        if (relativeIRI[0] === '.' && relativeIRI[1] !== '.' && relativeIRI[1] !== '/' && relativeIRI[2]) {\n            relativeIRI = relativeIRI.substr(1);\n        }\n    }\n    // Prefix the value with the baseIRI path where\n    relativeIRI = baseIRIPath + relativeIRI;\n    // Remove dot segment from the IRI\n    relativeIRI = removeDotSegments(relativeIRI);\n    // Prefix our transformed value with the part of the baseIRI until the first '/' after the first ':'.\n    return baseIRI.substr(0, baseSlashAfterColonPos) + relativeIRI;\n}\nexports.resolve = resolve;\n/**\n * Remove dot segments from the given path,\n * as described in https://www.ietf.org/rfc/rfc3986.txt (page 32).\n * @param {string} path An IRI path.\n * @return {string} A path, will always start with a '/'.\n */\nfunction removeDotSegments(path) {\n    // Prepare a buffer with segments between each '/.\n    // Each segment represents an array of characters.\n    const segmentBuffers = [];\n    let i = 0;\n    while (i < path.length) {\n        // Remove '/.' or '/..'\n        switch (path[i]) {\n            case '/':\n                if (path[i + 1] === '.') {\n                    if (path[i + 2] === '.') {\n                        // Start a new segment if we find an invalid character after the '.'\n                        if (!isCharacterAllowedAfterRelativePathSegment(path[i + 3])) {\n                            segmentBuffers.push([]);\n                            i++;\n                            break;\n                        }\n                        // Go to parent directory,\n                        // so we remove a parent segment\n                        segmentBuffers.pop();\n                        // Ensure that we end with a slash if there is a trailing '/..'\n                        if (!path[i + 3]) {\n                            segmentBuffers.push([]);\n                        }\n                        i += 3;\n                    }\n                    else {\n                        // Start a new segment if we find an invalid character after the '.'\n                        if (!isCharacterAllowedAfterRelativePathSegment(path[i + 2])) {\n                            segmentBuffers.push([]);\n                            i++;\n                            break;\n                        }\n                        // Ensure that we end with a slash if there is a trailing '/.'\n                        if (!path[i + 2]) {\n                            segmentBuffers.push([]);\n                        }\n                        // Go to the current directory,\n                        // so we do nothing\n                        i += 2;\n                    }\n                }\n                else {\n                    // Start a new segment\n                    segmentBuffers.push([]);\n                    i++;\n                }\n                break;\n            case '#':\n            case '?':\n                // Query and fragment string should be appended unchanged\n                if (!segmentBuffers.length) {\n                    segmentBuffers.push([]);\n                }\n                segmentBuffers[segmentBuffers.length - 1].push(path.substr(i));\n                // Break the while loop\n                i = path.length;\n                break;\n            default:\n                // Not a special character, just append it to our buffer\n                if (!segmentBuffers.length) {\n                    segmentBuffers.push([]);\n                }\n                segmentBuffers[segmentBuffers.length - 1].push(path[i]);\n                i++;\n                break;\n        }\n    }\n    return '/' + segmentBuffers.map((buffer) => buffer.join('')).join('/');\n}\nexports.removeDotSegments = removeDotSegments;\n/**\n * Removes dot segments of the given IRI.\n * @param {string} iri An IRI (or part of IRI).\n * @param {number} colonPosition The position of the first ':' in the IRI.\n * @return {string} The IRI where dot segments were removed.\n */\nfunction removeDotSegmentsOfPath(iri, colonPosition) {\n    // Determine where we should start looking for the first '/' that indicates the start of the path\n    let searchOffset = colonPosition + 1;\n    if (colonPosition >= 0) {\n        if (iri[colonPosition + 1] === '/' && iri[colonPosition + 2] === '/') {\n            searchOffset = colonPosition + 3;\n        }\n    }\n    else {\n        if (iri[0] === '/' && iri[1] === '/') {\n            searchOffset = 2;\n        }\n    }\n    // Determine the path\n    const pathSeparator = iri.indexOf('/', searchOffset);\n    if (pathSeparator < 0) {\n        return iri;\n    }\n    const base = iri.substr(0, pathSeparator);\n    const path = iri.substr(pathSeparator);\n    // Remove dot segments from the path\n    return base + removeDotSegments(path);\n}\nexports.removeDotSegmentsOfPath = removeDotSegmentsOfPath;\nfunction isCharacterAllowedAfterRelativePathSegment(character) {\n    return !character || character === '#' || character === '?' || character === '/';\n}\n//# sourceMappingURL=Resolve.js.map","/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\n/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.prototype = Object.create(Buffer.prototype)\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SaxesParser = exports.EVENTS = void 0;\nconst ed5 = require(\"xmlchars/xml/1.0/ed5\");\nconst ed2 = require(\"xmlchars/xml/1.1/ed2\");\nconst NSed3 = require(\"xmlchars/xmlns/1.0/ed3\");\nvar isS = ed5.isS;\nvar isChar10 = ed5.isChar;\nvar isNameStartChar = ed5.isNameStartChar;\nvar isNameChar = ed5.isNameChar;\nvar S_LIST = ed5.S_LIST;\nvar NAME_RE = ed5.NAME_RE;\nvar isChar11 = ed2.isChar;\nvar isNCNameStartChar = NSed3.isNCNameStartChar;\nvar isNCNameChar = NSed3.isNCNameChar;\nvar NC_NAME_RE = NSed3.NC_NAME_RE;\nconst XML_NAMESPACE = \"http://www.w3.org/XML/1998/namespace\";\nconst XMLNS_NAMESPACE = \"http://www.w3.org/2000/xmlns/\";\nconst rootNS = {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/no-unsafe-assignment\n    __proto__: null,\n    xml: XML_NAMESPACE,\n    xmlns: XMLNS_NAMESPACE,\n};\nconst XML_ENTITIES = {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/no-unsafe-assignment\n    __proto__: null,\n    amp: \"&\",\n    gt: \">\",\n    lt: \"<\",\n    quot: \"\\\"\",\n    apos: \"'\",\n};\n// EOC: end-of-chunk\nconst EOC = -1;\nconst NL_LIKE = -2;\nconst S_BEGIN = 0; // Initial state.\nconst S_BEGIN_WHITESPACE = 1; // leading whitespace\nconst S_DOCTYPE = 2; // <!DOCTYPE\nconst S_DOCTYPE_QUOTE = 3; // <!DOCTYPE \"//blah\nconst S_DTD = 4; // <!DOCTYPE \"//blah\" [ ...\nconst S_DTD_QUOTED = 5; // <!DOCTYPE \"//blah\" [ \"foo\nconst S_DTD_OPEN_WAKA = 6;\nconst S_DTD_OPEN_WAKA_BANG = 7;\nconst S_DTD_COMMENT = 8; // <!--\nconst S_DTD_COMMENT_ENDING = 9; // <!-- blah -\nconst S_DTD_COMMENT_ENDED = 10; // <!-- blah --\nconst S_DTD_PI = 11; // <?\nconst S_DTD_PI_ENDING = 12; // <?hi \"there\" ?\nconst S_TEXT = 13; // general stuff\nconst S_ENTITY = 14; // &amp and such\nconst S_OPEN_WAKA = 15; // <\nconst S_OPEN_WAKA_BANG = 16; // <!...\nconst S_COMMENT = 17; // <!--\nconst S_COMMENT_ENDING = 18; // <!-- blah -\nconst S_COMMENT_ENDED = 19; // <!-- blah --\nconst S_CDATA = 20; // <![CDATA[ something\nconst S_CDATA_ENDING = 21; // ]\nconst S_CDATA_ENDING_2 = 22; // ]]\nconst S_PI_FIRST_CHAR = 23; // <?hi, first char\nconst S_PI_REST = 24; // <?hi, rest of the name\nconst S_PI_BODY = 25; // <?hi there\nconst S_PI_ENDING = 26; // <?hi \"there\" ?\nconst S_XML_DECL_NAME_START = 27; // <?xml\nconst S_XML_DECL_NAME = 28; // <?xml foo\nconst S_XML_DECL_EQ = 29; // <?xml foo=\nconst S_XML_DECL_VALUE_START = 30; // <?xml foo=\nconst S_XML_DECL_VALUE = 31; // <?xml foo=\"bar\"\nconst S_XML_DECL_SEPARATOR = 32; // <?xml foo=\"bar\"\nconst S_XML_DECL_ENDING = 33; // <?xml ... ?\nconst S_OPEN_TAG = 34; // <strong\nconst S_OPEN_TAG_SLASH = 35; // <strong /\nconst S_ATTRIB = 36; // <a\nconst S_ATTRIB_NAME = 37; // <a foo\nconst S_ATTRIB_NAME_SAW_WHITE = 38; // <a foo _\nconst S_ATTRIB_VALUE = 39; // <a foo=\nconst S_ATTRIB_VALUE_QUOTED = 40; // <a foo=\"bar\nconst S_ATTRIB_VALUE_CLOSED = 41; // <a foo=\"bar\"\nconst S_ATTRIB_VALUE_UNQUOTED = 42; // <a foo=bar\nconst S_CLOSE_TAG = 43; // </a\nconst S_CLOSE_TAG_SAW_WHITE = 44; // </a   >\nconst TAB = 9;\nconst NL = 0xA;\nconst CR = 0xD;\nconst SPACE = 0x20;\nconst BANG = 0x21;\nconst DQUOTE = 0x22;\nconst AMP = 0x26;\nconst SQUOTE = 0x27;\nconst MINUS = 0x2D;\nconst FORWARD_SLASH = 0x2F;\nconst SEMICOLON = 0x3B;\nconst LESS = 0x3C;\nconst EQUAL = 0x3D;\nconst GREATER = 0x3E;\nconst QUESTION = 0x3F;\nconst OPEN_BRACKET = 0x5B;\nconst CLOSE_BRACKET = 0x5D;\nconst NEL = 0x85;\nconst LS = 0x2028; // Line Separator\nconst isQuote = (c) => c === DQUOTE || c === SQUOTE;\nconst QUOTES = [DQUOTE, SQUOTE];\nconst DOCTYPE_TERMINATOR = [...QUOTES, OPEN_BRACKET, GREATER];\nconst DTD_TERMINATOR = [...QUOTES, LESS, CLOSE_BRACKET];\nconst XML_DECL_NAME_TERMINATOR = [EQUAL, QUESTION, ...S_LIST];\nconst ATTRIB_VALUE_UNQUOTED_TERMINATOR = [...S_LIST, GREATER, AMP, LESS];\nfunction nsPairCheck(parser, prefix, uri) {\n    switch (prefix) {\n        case \"xml\":\n            if (uri !== XML_NAMESPACE) {\n                parser.fail(`xml prefix must be bound to ${XML_NAMESPACE}.`);\n            }\n            break;\n        case \"xmlns\":\n            if (uri !== XMLNS_NAMESPACE) {\n                parser.fail(`xmlns prefix must be bound to ${XMLNS_NAMESPACE}.`);\n            }\n            break;\n        default:\n    }\n    switch (uri) {\n        case XMLNS_NAMESPACE:\n            parser.fail(prefix === \"\" ?\n                `the default namespace may not be set to ${uri}.` :\n                `may not assign a prefix (even \"xmlns\") to the URI \\\n${XMLNS_NAMESPACE}.`);\n            break;\n        case XML_NAMESPACE:\n            switch (prefix) {\n                case \"xml\":\n                    // Assinging the XML namespace to \"xml\" is fine.\n                    break;\n                case \"\":\n                    parser.fail(`the default namespace may not be set to ${uri}.`);\n                    break;\n                default:\n                    parser.fail(\"may not assign the xml namespace to another prefix.\");\n            }\n            break;\n        default:\n    }\n}\nfunction nsMappingCheck(parser, mapping) {\n    for (const local of Object.keys(mapping)) {\n        nsPairCheck(parser, local, mapping[local]);\n    }\n}\nconst isNCName = (name) => NC_NAME_RE.test(name);\nconst isName = (name) => NAME_RE.test(name);\nconst FORBIDDEN_START = 0;\nconst FORBIDDEN_BRACKET = 1;\nconst FORBIDDEN_BRACKET_BRACKET = 2;\n/**\n * The list of supported events.\n */\nexports.EVENTS = [\n    \"xmldecl\",\n    \"text\",\n    \"processinginstruction\",\n    \"doctype\",\n    \"comment\",\n    \"opentagstart\",\n    \"attribute\",\n    \"opentag\",\n    \"closetag\",\n    \"cdata\",\n    \"error\",\n    \"end\",\n    \"ready\",\n];\nconst EVENT_NAME_TO_HANDLER_NAME = {\n    xmldecl: \"xmldeclHandler\",\n    text: \"textHandler\",\n    processinginstruction: \"piHandler\",\n    doctype: \"doctypeHandler\",\n    comment: \"commentHandler\",\n    opentagstart: \"openTagStartHandler\",\n    attribute: \"attributeHandler\",\n    opentag: \"openTagHandler\",\n    closetag: \"closeTagHandler\",\n    cdata: \"cdataHandler\",\n    error: \"errorHandler\",\n    end: \"endHandler\",\n    ready: \"readyHandler\",\n};\n// eslint-disable-next-line @typescript-eslint/ban-types\nclass SaxesParser {\n    /**\n     * @param opt The parser options.\n     */\n    constructor(opt) {\n        this.opt = opt !== null && opt !== void 0 ? opt : {};\n        this.fragmentOpt = !!this.opt.fragment;\n        const xmlnsOpt = this.xmlnsOpt = !!this.opt.xmlns;\n        this.trackPosition = this.opt.position !== false;\n        this.fileName = this.opt.fileName;\n        if (xmlnsOpt) {\n            // This is the function we use to perform name checks on PIs and entities.\n            // When namespaces are used, colons are not allowed in PI target names or\n            // entity names. So the check depends on whether namespaces are used. See:\n            //\n            // https://www.w3.org/XML/xml-names-19990114-errata.html\n            // NE08\n            //\n            this.nameStartCheck = isNCNameStartChar;\n            this.nameCheck = isNCNameChar;\n            this.isName = isNCName;\n            // eslint-disable-next-line @typescript-eslint/unbound-method\n            this.processAttribs = this.processAttribsNS;\n            // eslint-disable-next-line @typescript-eslint/unbound-method\n            this.pushAttrib = this.pushAttribNS;\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/no-unsafe-assignment\n            this.ns = Object.assign({ __proto__: null }, rootNS);\n            const additional = this.opt.additionalNamespaces;\n            if (additional != null) {\n                nsMappingCheck(this, additional);\n                Object.assign(this.ns, additional);\n            }\n        }\n        else {\n            this.nameStartCheck = isNameStartChar;\n            this.nameCheck = isNameChar;\n            this.isName = isName;\n            // eslint-disable-next-line @typescript-eslint/unbound-method\n            this.processAttribs = this.processAttribsPlain;\n            // eslint-disable-next-line @typescript-eslint/unbound-method\n            this.pushAttrib = this.pushAttribPlain;\n        }\n        //\n        // The order of the members in this table needs to correspond to the state\n        // numbers given to the states that correspond to the methods being recorded\n        // here.\n        //\n        this.stateTable = [\n            /* eslint-disable @typescript-eslint/unbound-method */\n            this.sBegin,\n            this.sBeginWhitespace,\n            this.sDoctype,\n            this.sDoctypeQuote,\n            this.sDTD,\n            this.sDTDQuoted,\n            this.sDTDOpenWaka,\n            this.sDTDOpenWakaBang,\n            this.sDTDComment,\n            this.sDTDCommentEnding,\n            this.sDTDCommentEnded,\n            this.sDTDPI,\n            this.sDTDPIEnding,\n            this.sText,\n            this.sEntity,\n            this.sOpenWaka,\n            this.sOpenWakaBang,\n            this.sComment,\n            this.sCommentEnding,\n            this.sCommentEnded,\n            this.sCData,\n            this.sCDataEnding,\n            this.sCDataEnding2,\n            this.sPIFirstChar,\n            this.sPIRest,\n            this.sPIBody,\n            this.sPIEnding,\n            this.sXMLDeclNameStart,\n            this.sXMLDeclName,\n            this.sXMLDeclEq,\n            this.sXMLDeclValueStart,\n            this.sXMLDeclValue,\n            this.sXMLDeclSeparator,\n            this.sXMLDeclEnding,\n            this.sOpenTag,\n            this.sOpenTagSlash,\n            this.sAttrib,\n            this.sAttribName,\n            this.sAttribNameSawWhite,\n            this.sAttribValue,\n            this.sAttribValueQuoted,\n            this.sAttribValueClosed,\n            this.sAttribValueUnquoted,\n            this.sCloseTag,\n            this.sCloseTagSawWhite,\n            /* eslint-enable @typescript-eslint/unbound-method */\n        ];\n        this._init();\n    }\n    /**\n     * Indicates whether or not the parser is closed. If ``true``, wait for\n     * the ``ready`` event to write again.\n     */\n    get closed() {\n        return this._closed;\n    }\n    _init() {\n        var _a;\n        this.openWakaBang = \"\";\n        this.text = \"\";\n        this.name = \"\";\n        this.piTarget = \"\";\n        this.entity = \"\";\n        this.q = null;\n        this.tags = [];\n        this.tag = null;\n        this.topNS = null;\n        this.chunk = \"\";\n        this.chunkPosition = 0;\n        this.i = 0;\n        this.prevI = 0;\n        this.carriedFromPrevious = undefined;\n        this.forbiddenState = FORBIDDEN_START;\n        this.attribList = [];\n        // The logic is organized so as to minimize the need to check\n        // this.opt.fragment while parsing.\n        const { fragmentOpt } = this;\n        this.state = fragmentOpt ? S_TEXT : S_BEGIN;\n        // We want these to be all true if we are dealing with a fragment.\n        this.reportedTextBeforeRoot = this.reportedTextAfterRoot = this.closedRoot =\n            this.sawRoot = fragmentOpt;\n        // An XML declaration is intially possible only when parsing whole\n        // documents.\n        this.xmlDeclPossible = !fragmentOpt;\n        this.xmlDeclExpects = [\"version\"];\n        this.entityReturnState = undefined;\n        let { defaultXMLVersion } = this.opt;\n        if (defaultXMLVersion === undefined) {\n            if (this.opt.forceXMLVersion === true) {\n                throw new Error(\"forceXMLVersion set but defaultXMLVersion is not set\");\n            }\n            defaultXMLVersion = \"1.0\";\n        }\n        this.setXMLVersion(defaultXMLVersion);\n        this.positionAtNewLine = 0;\n        this.doctype = false;\n        this._closed = false;\n        this.xmlDecl = {\n            version: undefined,\n            encoding: undefined,\n            standalone: undefined,\n        };\n        this.line = 1;\n        this.column = 0;\n        this.ENTITIES = Object.create(XML_ENTITIES);\n        (_a = this.readyHandler) === null || _a === void 0 ? void 0 : _a.call(this);\n    }\n    /**\n     * The stream position the parser is currently looking at. This field is\n     * zero-based.\n     *\n     * This field is not based on counting Unicode characters but is to be\n     * interpreted as a plain index into a JavaScript string.\n     */\n    get position() {\n        return this.chunkPosition + this.i;\n    }\n    /**\n     * The column number of the next character to be read by the parser.  *\n     * This field is zero-based. (The first column in a line is 0.)\n     *\n     * This field reports the index at which the next character would be in the\n     * line if the line were represented as a JavaScript string.  Note that this\n     * *can* be different to a count based on the number of *Unicode characters*\n     * due to how JavaScript handles astral plane characters.\n     *\n     * See [[column]] for a number that corresponds to a count of Unicode\n     * characters.\n     */\n    get columnIndex() {\n        return this.position - this.positionAtNewLine;\n    }\n    /**\n     * Set an event listener on an event. The parser supports one handler per\n     * event type. If you try to set an event handler over an existing handler,\n     * the old handler is silently overwritten.\n     *\n     * @param name The event to listen to.\n     *\n     * @param handler The handler to set.\n     */\n    on(name, handler) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/no-unsafe-member-access\n        this[EVENT_NAME_TO_HANDLER_NAME[name]] = handler;\n    }\n    /**\n     * Unset an event handler.\n     *\n     * @parma name The event to stop listening to.\n     */\n    off(name) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/no-unsafe-member-access\n        this[EVENT_NAME_TO_HANDLER_NAME[name]] = undefined;\n    }\n    /**\n     * Make an error object. The error object will have a message that contains\n     * the ``fileName`` option passed at the creation of the parser. If position\n     * tracking was turned on, it will also have line and column number\n     * information.\n     *\n     * @param message The message describing the error to report.\n     *\n     * @returns An error object with a properly formatted message.\n     */\n    makeError(message) {\n        var _a;\n        let msg = (_a = this.fileName) !== null && _a !== void 0 ? _a : \"\";\n        if (this.trackPosition) {\n            if (msg.length > 0) {\n                msg += \":\";\n            }\n            msg += `${this.line}:${this.column}`;\n        }\n        if (msg.length > 0) {\n            msg += \": \";\n        }\n        return new Error(msg + message);\n    }\n    /**\n     * Report a parsing error. This method is made public so that client code may\n     * check for issues that are outside the scope of this project and can report\n     * errors.\n     *\n     * @param message The error to report.\n     *\n     * @returns this\n     */\n    fail(message) {\n        const err = this.makeError(message);\n        const handler = this.errorHandler;\n        if (handler === undefined) {\n            throw err;\n        }\n        else {\n            handler(err);\n        }\n        return this;\n    }\n    /**\n     * Write a XML data to the parser.\n     *\n     * @param chunk The XML data to write.\n     *\n     * @returns this\n     */\n    // We do need object for the type here. Yes, it often causes problems\n    // but not in this case.\n    write(chunk) {\n        if (this.closed) {\n            return this.fail(\"cannot write after close; assign an onready handler.\");\n        }\n        let end = false;\n        if (chunk === null) {\n            // We cannot return immediately because carriedFromPrevious may need\n            // processing.\n            end = true;\n            chunk = \"\";\n        }\n        else if (typeof chunk === \"object\") {\n            chunk = chunk.toString();\n        }\n        // We checked if performing a pre-decomposition of the string into an array\n        // of single complete characters (``Array.from(chunk)``) would be faster\n        // than the current repeated calls to ``charCodeAt``. As of August 2018, it\n        // isn't. (There may be Node-specific code that would perform faster than\n        // ``Array.from`` but don't want to be dependent on Node.)\n        if (this.carriedFromPrevious !== undefined) {\n            // The previous chunk had char we must carry over.\n            chunk = `${this.carriedFromPrevious}${chunk}`;\n            this.carriedFromPrevious = undefined;\n        }\n        let limit = chunk.length;\n        const lastCode = chunk.charCodeAt(limit - 1);\n        if (!end &&\n            // A trailing CR or surrogate must be carried over to the next\n            // chunk.\n            (lastCode === CR || (lastCode >= 0xD800 && lastCode <= 0xDBFF))) {\n            // The chunk ends with a character that must be carried over. We cannot\n            // know how to handle it until we get the next chunk or the end of the\n            // stream. So save it for later.\n            this.carriedFromPrevious = chunk[limit - 1];\n            limit--;\n            chunk = chunk.slice(0, limit);\n        }\n        const { stateTable } = this;\n        this.chunk = chunk;\n        this.i = 0;\n        while (this.i < limit) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/no-unsafe-argument\n            stateTable[this.state].call(this);\n        }\n        this.chunkPosition += limit;\n        return end ? this.end() : this;\n    }\n    /**\n     * Close the current stream. Perform final well-formedness checks and reset\n     * the parser tstate.\n     *\n     * @returns this\n     */\n    close() {\n        return this.write(null);\n    }\n    /**\n     * Get a single code point out of the current chunk. This updates the current\n     * position if we do position tracking.\n     *\n     * This is the algorithm to use for XML 1.0.\n     *\n     * @returns The character read.\n     */\n    getCode10() {\n        const { chunk, i } = this;\n        this.prevI = i;\n        // Yes, we do this instead of doing this.i++. Doing it this way, we do not\n        // read this.i again, which is a bit faster.\n        this.i = i + 1;\n        if (i >= chunk.length) {\n            return EOC;\n        }\n        // Using charCodeAt and handling the surrogates ourselves is faster\n        // than using codePointAt.\n        const code = chunk.charCodeAt(i);\n        this.column++;\n        if (code < 0xD800) {\n            if (code >= SPACE || code === TAB) {\n                return code;\n            }\n            switch (code) {\n                case NL:\n                    this.line++;\n                    this.column = 0;\n                    this.positionAtNewLine = this.position;\n                    return NL;\n                case CR:\n                    // We may get NaN if we read past the end of the chunk, which is fine.\n                    if (chunk.charCodeAt(i + 1) === NL) {\n                        // A \\r\\n sequence is converted to \\n so we have to skip over the\n                        // next character. We already know it has a size of 1 so ++ is fine\n                        // here.\n                        this.i = i + 2;\n                    }\n                    // Otherwise, a \\r is just converted to \\n, so we don't have to skip\n                    // ahead.\n                    // In either case, \\r becomes \\n.\n                    this.line++;\n                    this.column = 0;\n                    this.positionAtNewLine = this.position;\n                    return NL_LIKE;\n                default:\n                    // If we get here, then code < SPACE and it is not NL CR or TAB.\n                    this.fail(\"disallowed character.\");\n                    return code;\n            }\n        }\n        if (code > 0xDBFF) {\n            // This is a specialized version of isChar10 that takes into account\n            // that in this context code > 0xDBFF and code <= 0xFFFF. So it does not\n            // test cases that don't need testing.\n            if (!(code >= 0xE000 && code <= 0xFFFD)) {\n                this.fail(\"disallowed character.\");\n            }\n            return code;\n        }\n        const final = 0x10000 + ((code - 0xD800) * 0x400) +\n            (chunk.charCodeAt(i + 1) - 0xDC00);\n        this.i = i + 2;\n        // This is a specialized version of isChar10 that takes into account that in\n        // this context necessarily final >= 0x10000.\n        if (final > 0x10FFFF) {\n            this.fail(\"disallowed character.\");\n        }\n        return final;\n    }\n    /**\n     * Get a single code point out of the current chunk. This updates the current\n     * position if we do position tracking.\n     *\n     * This is the algorithm to use for XML 1.1.\n     *\n     * @returns {number} The character read.\n     */\n    getCode11() {\n        const { chunk, i } = this;\n        this.prevI = i;\n        // Yes, we do this instead of doing this.i++. Doing it this way, we do not\n        // read this.i again, which is a bit faster.\n        this.i = i + 1;\n        if (i >= chunk.length) {\n            return EOC;\n        }\n        // Using charCodeAt and handling the surrogates ourselves is faster\n        // than using codePointAt.\n        const code = chunk.charCodeAt(i);\n        this.column++;\n        if (code < 0xD800) {\n            if ((code > 0x1F && code < 0x7F) || (code > 0x9F && code !== LS) ||\n                code === TAB) {\n                return code;\n            }\n            switch (code) {\n                case NL: // 0xA\n                    this.line++;\n                    this.column = 0;\n                    this.positionAtNewLine = this.position;\n                    return NL;\n                case CR: { // 0xD\n                    // We may get NaN if we read past the end of the chunk, which is\n                    // fine.\n                    const next = chunk.charCodeAt(i + 1);\n                    if (next === NL || next === NEL) {\n                        // A CR NL or CR NEL sequence is converted to NL so we have to skip\n                        // over the next character. We already know it has a size of 1.\n                        this.i = i + 2;\n                    }\n                    // Otherwise, a CR is just converted to NL, no skip.\n                }\n                /* yes, fall through */\n                case NEL: // 0x85\n                case LS: // Ox2028\n                    this.line++;\n                    this.column = 0;\n                    this.positionAtNewLine = this.position;\n                    return NL_LIKE;\n                default:\n                    this.fail(\"disallowed character.\");\n                    return code;\n            }\n        }\n        if (code > 0xDBFF) {\n            // This is a specialized version of isCharAndNotRestricted that takes into\n            // account that in this context code > 0xDBFF and code <= 0xFFFF. So it\n            // does not test cases that don't need testing.\n            if (!(code >= 0xE000 && code <= 0xFFFD)) {\n                this.fail(\"disallowed character.\");\n            }\n            return code;\n        }\n        const final = 0x10000 + ((code - 0xD800) * 0x400) +\n            (chunk.charCodeAt(i + 1) - 0xDC00);\n        this.i = i + 2;\n        // This is a specialized version of isCharAndNotRestricted that takes into\n        // account that in this context necessarily final >= 0x10000.\n        if (final > 0x10FFFF) {\n            this.fail(\"disallowed character.\");\n        }\n        return final;\n    }\n    /**\n     * Like ``getCode`` but with the return value normalized so that ``NL`` is\n     * returned for ``NL_LIKE``.\n     */\n    getCodeNorm() {\n        const c = this.getCode();\n        return c === NL_LIKE ? NL : c;\n    }\n    unget() {\n        this.i = this.prevI;\n        this.column--;\n    }\n    /**\n     * Capture characters into a buffer until encountering one of a set of\n     * characters.\n     *\n     * @param chars An array of codepoints. Encountering a character in the array\n     * ends the capture. (``chars`` may safely contain ``NL``.)\n     *\n     * @return The character code that made the capture end, or ``EOC`` if we hit\n     * the end of the chunk. The return value cannot be NL_LIKE: NL is returned\n     * instead.\n     */\n    captureTo(chars) {\n        let { i: start } = this;\n        const { chunk } = this;\n        // eslint-disable-next-line no-constant-condition\n        while (true) {\n            const c = this.getCode();\n            const isNLLike = c === NL_LIKE;\n            const final = isNLLike ? NL : c;\n            if (final === EOC || chars.includes(final)) {\n                this.text += chunk.slice(start, this.prevI);\n                return final;\n            }\n            if (isNLLike) {\n                this.text += `${chunk.slice(start, this.prevI)}\\n`;\n                start = this.i;\n            }\n        }\n    }\n    /**\n     * Capture characters into a buffer until encountering a character.\n     *\n     * @param char The codepoint that ends the capture. **NOTE ``char`` MAY NOT\n     * CONTAIN ``NL``.** Passing ``NL`` will result in buggy behavior.\n     *\n     * @return ``true`` if we ran into the character. Otherwise, we ran into the\n     * end of the current chunk.\n     */\n    captureToChar(char) {\n        let { i: start } = this;\n        const { chunk } = this;\n        // eslint-disable-next-line no-constant-condition\n        while (true) {\n            let c = this.getCode();\n            switch (c) {\n                case NL_LIKE:\n                    this.text += `${chunk.slice(start, this.prevI)}\\n`;\n                    start = this.i;\n                    c = NL;\n                    break;\n                case EOC:\n                    this.text += chunk.slice(start);\n                    return false;\n                default:\n            }\n            if (c === char) {\n                this.text += chunk.slice(start, this.prevI);\n                return true;\n            }\n        }\n    }\n    /**\n     * Capture characters that satisfy ``isNameChar`` into the ``name`` field of\n     * this parser.\n     *\n     * @return The character code that made the test fail, or ``EOC`` if we hit\n     * the end of the chunk. The return value cannot be NL_LIKE: NL is returned\n     * instead.\n     */\n    captureNameChars() {\n        const { chunk, i: start } = this;\n        // eslint-disable-next-line no-constant-condition\n        while (true) {\n            const c = this.getCode();\n            if (c === EOC) {\n                this.name += chunk.slice(start);\n                return EOC;\n            }\n            // NL is not a name char so we don't have to test specifically for it.\n            if (!isNameChar(c)) {\n                this.name += chunk.slice(start, this.prevI);\n                return c === NL_LIKE ? NL : c;\n            }\n        }\n    }\n    /**\n     * Skip white spaces.\n     *\n     * @return The character that ended the skip, or ``EOC`` if we hit\n     * the end of the chunk. The return value cannot be NL_LIKE: NL is returned\n     * instead.\n     */\n    skipSpaces() {\n        // eslint-disable-next-line no-constant-condition\n        while (true) {\n            const c = this.getCodeNorm();\n            if (c === EOC || !isS(c)) {\n                return c;\n            }\n        }\n    }\n    setXMLVersion(version) {\n        this.currentXMLVersion = version;\n        /*  eslint-disable @typescript-eslint/unbound-method */\n        if (version === \"1.0\") {\n            this.isChar = isChar10;\n            this.getCode = this.getCode10;\n        }\n        else {\n            this.isChar = isChar11;\n            this.getCode = this.getCode11;\n        }\n        /* eslint-enable @typescript-eslint/unbound-method */\n    }\n    // STATE ENGINE METHODS\n    // This needs to be a state separate from S_BEGIN_WHITESPACE because we want\n    // to be sure never to come back to this state later.\n    sBegin() {\n        // We are essentially peeking at the first character of the chunk. Since\n        // S_BEGIN can be in effect only when we start working on the first chunk,\n        // the index at which we must look is necessarily 0. Note also that the\n        // following test does not depend on decoding surrogates.\n        // If the initial character is 0xFEFF, ignore it.\n        if (this.chunk.charCodeAt(0) === 0xFEFF) {\n            this.i++;\n            this.column++;\n        }\n        this.state = S_BEGIN_WHITESPACE;\n    }\n    sBeginWhitespace() {\n        // We need to know whether we've encountered spaces or not because as soon\n        // as we run into a space, an XML declaration is no longer possible. Rather\n        // than slow down skipSpaces even in places where we don't care whether it\n        // skipped anything or not, we check whether prevI is equal to the value of\n        // i from before we skip spaces.\n        const iBefore = this.i;\n        const c = this.skipSpaces();\n        if (this.prevI !== iBefore) {\n            this.xmlDeclPossible = false;\n        }\n        switch (c) {\n            case LESS:\n                this.state = S_OPEN_WAKA;\n                // We could naively call closeText but in this state, it is not normal\n                // to have text be filled with any data.\n                if (this.text.length !== 0) {\n                    throw new Error(\"no-empty text at start\");\n                }\n                break;\n            case EOC:\n                break;\n            default:\n                this.unget();\n                this.state = S_TEXT;\n                this.xmlDeclPossible = false;\n        }\n    }\n    sDoctype() {\n        var _a;\n        const c = this.captureTo(DOCTYPE_TERMINATOR);\n        switch (c) {\n            case GREATER: {\n                (_a = this.doctypeHandler) === null || _a === void 0 ? void 0 : _a.call(this, this.text);\n                this.text = \"\";\n                this.state = S_TEXT;\n                this.doctype = true; // just remember that we saw it.\n                break;\n            }\n            case EOC:\n                break;\n            default:\n                this.text += String.fromCodePoint(c);\n                if (c === OPEN_BRACKET) {\n                    this.state = S_DTD;\n                }\n                else if (isQuote(c)) {\n                    this.state = S_DOCTYPE_QUOTE;\n                    this.q = c;\n                }\n        }\n    }\n    sDoctypeQuote() {\n        const q = this.q;\n        if (this.captureToChar(q)) {\n            this.text += String.fromCodePoint(q);\n            this.q = null;\n            this.state = S_DOCTYPE;\n        }\n    }\n    sDTD() {\n        const c = this.captureTo(DTD_TERMINATOR);\n        if (c === EOC) {\n            return;\n        }\n        this.text += String.fromCodePoint(c);\n        if (c === CLOSE_BRACKET) {\n            this.state = S_DOCTYPE;\n        }\n        else if (c === LESS) {\n            this.state = S_DTD_OPEN_WAKA;\n        }\n        else if (isQuote(c)) {\n            this.state = S_DTD_QUOTED;\n            this.q = c;\n        }\n    }\n    sDTDQuoted() {\n        const q = this.q;\n        if (this.captureToChar(q)) {\n            this.text += String.fromCodePoint(q);\n            this.state = S_DTD;\n            this.q = null;\n        }\n    }\n    sDTDOpenWaka() {\n        const c = this.getCodeNorm();\n        this.text += String.fromCodePoint(c);\n        switch (c) {\n            case BANG:\n                this.state = S_DTD_OPEN_WAKA_BANG;\n                this.openWakaBang = \"\";\n                break;\n            case QUESTION:\n                this.state = S_DTD_PI;\n                break;\n            default:\n                this.state = S_DTD;\n        }\n    }\n    sDTDOpenWakaBang() {\n        const char = String.fromCodePoint(this.getCodeNorm());\n        const owb = this.openWakaBang += char;\n        this.text += char;\n        if (owb !== \"-\") {\n            this.state = owb === \"--\" ? S_DTD_COMMENT : S_DTD;\n            this.openWakaBang = \"\";\n        }\n    }\n    sDTDComment() {\n        if (this.captureToChar(MINUS)) {\n            this.text += \"-\";\n            this.state = S_DTD_COMMENT_ENDING;\n        }\n    }\n    sDTDCommentEnding() {\n        const c = this.getCodeNorm();\n        this.text += String.fromCodePoint(c);\n        this.state = c === MINUS ? S_DTD_COMMENT_ENDED : S_DTD_COMMENT;\n    }\n    sDTDCommentEnded() {\n        const c = this.getCodeNorm();\n        this.text += String.fromCodePoint(c);\n        if (c === GREATER) {\n            this.state = S_DTD;\n        }\n        else {\n            this.fail(\"malformed comment.\");\n            // <!-- blah -- bloo --> will be recorded as\n            // a comment of \" blah -- bloo \"\n            this.state = S_DTD_COMMENT;\n        }\n    }\n    sDTDPI() {\n        if (this.captureToChar(QUESTION)) {\n            this.text += \"?\";\n            this.state = S_DTD_PI_ENDING;\n        }\n    }\n    sDTDPIEnding() {\n        const c = this.getCodeNorm();\n        this.text += String.fromCodePoint(c);\n        if (c === GREATER) {\n            this.state = S_DTD;\n        }\n    }\n    sText() {\n        //\n        // We did try a version of saxes where the S_TEXT state was split in two\n        // states: one for text inside the root element, and one for text\n        // outside. This was avoiding having to test this.tags.length to decide\n        // what implementation to actually use.\n        //\n        // Peformance testing on gigabyte-size files did not show any advantage to\n        // using the two states solution instead of the current one. Conversely, it\n        // made the code a bit more complicated elsewhere. For instance, a comment\n        // can appear before the root element so when a comment ended it was\n        // necessary to determine whether to return to the S_TEXT state or to the\n        // new text-outside-root state.\n        //\n        if (this.tags.length !== 0) {\n            this.handleTextInRoot();\n        }\n        else {\n            this.handleTextOutsideRoot();\n        }\n    }\n    sEntity() {\n        // This is essentially a specialized version of captureToChar(SEMICOLON...)\n        let { i: start } = this;\n        const { chunk } = this;\n        // eslint-disable-next-line no-labels, no-restricted-syntax\n        loop: \n        // eslint-disable-next-line no-constant-condition\n        while (true) {\n            switch (this.getCode()) {\n                case NL_LIKE:\n                    this.entity += `${chunk.slice(start, this.prevI)}\\n`;\n                    start = this.i;\n                    break;\n                case SEMICOLON: {\n                    const { entityReturnState } = this;\n                    const entity = this.entity + chunk.slice(start, this.prevI);\n                    this.state = entityReturnState;\n                    let parsed;\n                    if (entity === \"\") {\n                        this.fail(\"empty entity name.\");\n                        parsed = \"&;\";\n                    }\n                    else {\n                        parsed = this.parseEntity(entity);\n                        this.entity = \"\";\n                    }\n                    if (entityReturnState !== S_TEXT || this.textHandler !== undefined) {\n                        this.text += parsed;\n                    }\n                    // eslint-disable-next-line no-labels\n                    break loop;\n                }\n                case EOC:\n                    this.entity += chunk.slice(start);\n                    // eslint-disable-next-line no-labels\n                    break loop;\n                default:\n            }\n        }\n    }\n    sOpenWaka() {\n        // Reminder: a state handler is called with at least one character\n        // available in the current chunk. So the first call to get code inside of\n        // a state handler cannot return ``EOC``. That's why we don't test\n        // for it.\n        const c = this.getCode();\n        // either a /, ?, !, or text is coming next.\n        if (isNameStartChar(c)) {\n            this.state = S_OPEN_TAG;\n            this.unget();\n            this.xmlDeclPossible = false;\n        }\n        else {\n            switch (c) {\n                case FORWARD_SLASH:\n                    this.state = S_CLOSE_TAG;\n                    this.xmlDeclPossible = false;\n                    break;\n                case BANG:\n                    this.state = S_OPEN_WAKA_BANG;\n                    this.openWakaBang = \"\";\n                    this.xmlDeclPossible = false;\n                    break;\n                case QUESTION:\n                    this.state = S_PI_FIRST_CHAR;\n                    break;\n                default:\n                    this.fail(\"disallowed character in tag name\");\n                    this.state = S_TEXT;\n                    this.xmlDeclPossible = false;\n            }\n        }\n    }\n    sOpenWakaBang() {\n        this.openWakaBang += String.fromCodePoint(this.getCodeNorm());\n        switch (this.openWakaBang) {\n            case \"[CDATA[\":\n                if (!this.sawRoot && !this.reportedTextBeforeRoot) {\n                    this.fail(\"text data outside of root node.\");\n                    this.reportedTextBeforeRoot = true;\n                }\n                if (this.closedRoot && !this.reportedTextAfterRoot) {\n                    this.fail(\"text data outside of root node.\");\n                    this.reportedTextAfterRoot = true;\n                }\n                this.state = S_CDATA;\n                this.openWakaBang = \"\";\n                break;\n            case \"--\":\n                this.state = S_COMMENT;\n                this.openWakaBang = \"\";\n                break;\n            case \"DOCTYPE\":\n                this.state = S_DOCTYPE;\n                if (this.doctype || this.sawRoot) {\n                    this.fail(\"inappropriately located doctype declaration.\");\n                }\n                this.openWakaBang = \"\";\n                break;\n            default:\n                // 7 happens to be the maximum length of the string that can possibly\n                // match one of the cases above.\n                if (this.openWakaBang.length >= 7) {\n                    this.fail(\"incorrect syntax.\");\n                }\n        }\n    }\n    sComment() {\n        if (this.captureToChar(MINUS)) {\n            this.state = S_COMMENT_ENDING;\n        }\n    }\n    sCommentEnding() {\n        var _a;\n        const c = this.getCodeNorm();\n        if (c === MINUS) {\n            this.state = S_COMMENT_ENDED;\n            (_a = this.commentHandler) === null || _a === void 0 ? void 0 : _a.call(this, this.text);\n            this.text = \"\";\n        }\n        else {\n            this.text += `-${String.fromCodePoint(c)}`;\n            this.state = S_COMMENT;\n        }\n    }\n    sCommentEnded() {\n        const c = this.getCodeNorm();\n        if (c !== GREATER) {\n            this.fail(\"malformed comment.\");\n            // <!-- blah -- bloo --> will be recorded as\n            // a comment of \" blah -- bloo \"\n            this.text += `--${String.fromCodePoint(c)}`;\n            this.state = S_COMMENT;\n        }\n        else {\n            this.state = S_TEXT;\n        }\n    }\n    sCData() {\n        if (this.captureToChar(CLOSE_BRACKET)) {\n            this.state = S_CDATA_ENDING;\n        }\n    }\n    sCDataEnding() {\n        const c = this.getCodeNorm();\n        if (c === CLOSE_BRACKET) {\n            this.state = S_CDATA_ENDING_2;\n        }\n        else {\n            this.text += `]${String.fromCodePoint(c)}`;\n            this.state = S_CDATA;\n        }\n    }\n    sCDataEnding2() {\n        var _a;\n        const c = this.getCodeNorm();\n        switch (c) {\n            case GREATER: {\n                (_a = this.cdataHandler) === null || _a === void 0 ? void 0 : _a.call(this, this.text);\n                this.text = \"\";\n                this.state = S_TEXT;\n                break;\n            }\n            case CLOSE_BRACKET:\n                this.text += \"]\";\n                break;\n            default:\n                this.text += `]]${String.fromCodePoint(c)}`;\n                this.state = S_CDATA;\n        }\n    }\n    // We need this separate state to check the first character fo the pi target\n    // with this.nameStartCheck which allows less characters than this.nameCheck.\n    sPIFirstChar() {\n        const c = this.getCodeNorm();\n        // This is first because in the case where the file is well-formed this is\n        // the branch taken. We optimize for well-formedness.\n        if (this.nameStartCheck(c)) {\n            this.piTarget += String.fromCodePoint(c);\n            this.state = S_PI_REST;\n        }\n        else if (c === QUESTION || isS(c)) {\n            this.fail(\"processing instruction without a target.\");\n            this.state = c === QUESTION ? S_PI_ENDING : S_PI_BODY;\n        }\n        else {\n            this.fail(\"disallowed character in processing instruction name.\");\n            this.piTarget += String.fromCodePoint(c);\n            this.state = S_PI_REST;\n        }\n    }\n    sPIRest() {\n        // Capture characters into a piTarget while ``this.nameCheck`` run on the\n        // character read returns true.\n        const { chunk, i: start } = this;\n        // eslint-disable-next-line no-constant-condition\n        while (true) {\n            const c = this.getCodeNorm();\n            if (c === EOC) {\n                this.piTarget += chunk.slice(start);\n                return;\n            }\n            // NL cannot satisfy this.nameCheck so we don't have to test specifically\n            // for it.\n            if (!this.nameCheck(c)) {\n                this.piTarget += chunk.slice(start, this.prevI);\n                const isQuestion = c === QUESTION;\n                if (isQuestion || isS(c)) {\n                    if (this.piTarget === \"xml\") {\n                        if (!this.xmlDeclPossible) {\n                            this.fail(\"an XML declaration must be at the start of the document.\");\n                        }\n                        this.state = isQuestion ? S_XML_DECL_ENDING : S_XML_DECL_NAME_START;\n                    }\n                    else {\n                        this.state = isQuestion ? S_PI_ENDING : S_PI_BODY;\n                    }\n                }\n                else {\n                    this.fail(\"disallowed character in processing instruction name.\");\n                    this.piTarget += String.fromCodePoint(c);\n                }\n                break;\n            }\n        }\n    }\n    sPIBody() {\n        if (this.text.length === 0) {\n            const c = this.getCodeNorm();\n            if (c === QUESTION) {\n                this.state = S_PI_ENDING;\n            }\n            else if (!isS(c)) {\n                this.text = String.fromCodePoint(c);\n            }\n        }\n        // The question mark character is not valid inside any of the XML\n        // declaration name/value pairs.\n        else if (this.captureToChar(QUESTION)) {\n            this.state = S_PI_ENDING;\n        }\n    }\n    sPIEnding() {\n        var _a;\n        const c = this.getCodeNorm();\n        if (c === GREATER) {\n            const { piTarget } = this;\n            if (piTarget.toLowerCase() === \"xml\") {\n                this.fail(\"the XML declaration must appear at the start of the document.\");\n            }\n            (_a = this.piHandler) === null || _a === void 0 ? void 0 : _a.call(this, {\n                target: piTarget,\n                body: this.text,\n            });\n            this.piTarget = this.text = \"\";\n            this.state = S_TEXT;\n        }\n        else if (c === QUESTION) {\n            // We ran into ?? as part of a processing instruction. We initially took\n            // the first ? as a sign that the PI was ending, but it is not. So we have\n            // to add it to the body but we take the new ? as a sign that the PI is\n            // ending.\n            this.text += \"?\";\n        }\n        else {\n            this.text += `?${String.fromCodePoint(c)}`;\n            this.state = S_PI_BODY;\n        }\n        this.xmlDeclPossible = false;\n    }\n    sXMLDeclNameStart() {\n        const c = this.skipSpaces();\n        // The question mark character is not valid inside any of the XML\n        // declaration name/value pairs.\n        if (c === QUESTION) {\n            // It is valid to go to S_XML_DECL_ENDING from this state.\n            this.state = S_XML_DECL_ENDING;\n            return;\n        }\n        if (c !== EOC) {\n            this.state = S_XML_DECL_NAME;\n            this.name = String.fromCodePoint(c);\n        }\n    }\n    sXMLDeclName() {\n        const c = this.captureTo(XML_DECL_NAME_TERMINATOR);\n        // The question mark character is not valid inside any of the XML\n        // declaration name/value pairs.\n        if (c === QUESTION) {\n            this.state = S_XML_DECL_ENDING;\n            this.name += this.text;\n            this.text = \"\";\n            this.fail(\"XML declaration is incomplete.\");\n            return;\n        }\n        if (!(isS(c) || c === EQUAL)) {\n            return;\n        }\n        this.name += this.text;\n        this.text = \"\";\n        if (!this.xmlDeclExpects.includes(this.name)) {\n            switch (this.name.length) {\n                case 0:\n                    this.fail(\"did not expect any more name/value pairs.\");\n                    break;\n                case 1:\n                    this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);\n                    break;\n                default:\n                    this.fail(`expected one of ${this.xmlDeclExpects.join(\", \")}`);\n            }\n        }\n        this.state = c === EQUAL ? S_XML_DECL_VALUE_START : S_XML_DECL_EQ;\n    }\n    sXMLDeclEq() {\n        const c = this.getCodeNorm();\n        // The question mark character is not valid inside any of the XML\n        // declaration name/value pairs.\n        if (c === QUESTION) {\n            this.state = S_XML_DECL_ENDING;\n            this.fail(\"XML declaration is incomplete.\");\n            return;\n        }\n        if (isS(c)) {\n            return;\n        }\n        if (c !== EQUAL) {\n            this.fail(\"value required.\");\n        }\n        this.state = S_XML_DECL_VALUE_START;\n    }\n    sXMLDeclValueStart() {\n        const c = this.getCodeNorm();\n        // The question mark character is not valid inside any of the XML\n        // declaration name/value pairs.\n        if (c === QUESTION) {\n            this.state = S_XML_DECL_ENDING;\n            this.fail(\"XML declaration is incomplete.\");\n            return;\n        }\n        if (isS(c)) {\n            return;\n        }\n        if (!isQuote(c)) {\n            this.fail(\"value must be quoted.\");\n            this.q = SPACE;\n        }\n        else {\n            this.q = c;\n        }\n        this.state = S_XML_DECL_VALUE;\n    }\n    sXMLDeclValue() {\n        const c = this.captureTo([this.q, QUESTION]);\n        // The question mark character is not valid inside any of the XML\n        // declaration name/value pairs.\n        if (c === QUESTION) {\n            this.state = S_XML_DECL_ENDING;\n            this.text = \"\";\n            this.fail(\"XML declaration is incomplete.\");\n            return;\n        }\n        if (c === EOC) {\n            return;\n        }\n        const value = this.text;\n        this.text = \"\";\n        switch (this.name) {\n            case \"version\": {\n                this.xmlDeclExpects = [\"encoding\", \"standalone\"];\n                const version = value;\n                this.xmlDecl.version = version;\n                // This is the test specified by XML 1.0 but it is fine for XML 1.1.\n                if (!/^1\\.[0-9]+$/.test(version)) {\n                    this.fail(\"version number must match /^1\\\\.[0-9]+$/.\");\n                }\n                // When forceXMLVersion is set, the XML declaration is ignored.\n                else if (!this.opt.forceXMLVersion) {\n                    this.setXMLVersion(version);\n                }\n                break;\n            }\n            case \"encoding\":\n                if (!/^[A-Za-z][A-Za-z0-9._-]*$/.test(value)) {\n                    this.fail(\"encoding value must match \\\n/^[A-Za-z0-9][A-Za-z0-9._-]*$/.\");\n                }\n                this.xmlDeclExpects = [\"standalone\"];\n                this.xmlDecl.encoding = value;\n                break;\n            case \"standalone\":\n                if (value !== \"yes\" && value !== \"no\") {\n                    this.fail(\"standalone value must match \\\"yes\\\" or \\\"no\\\".\");\n                }\n                this.xmlDeclExpects = [];\n                this.xmlDecl.standalone = value;\n                break;\n            default:\n            // We don't need to raise an error here since we've already raised one\n            // when checking what name was expected.\n        }\n        this.name = \"\";\n        this.state = S_XML_DECL_SEPARATOR;\n    }\n    sXMLDeclSeparator() {\n        const c = this.getCodeNorm();\n        // The question mark character is not valid inside any of the XML\n        // declaration name/value pairs.\n        if (c === QUESTION) {\n            // It is valid to go to S_XML_DECL_ENDING from this state.\n            this.state = S_XML_DECL_ENDING;\n            return;\n        }\n        if (!isS(c)) {\n            this.fail(\"whitespace required.\");\n            this.unget();\n        }\n        this.state = S_XML_DECL_NAME_START;\n    }\n    sXMLDeclEnding() {\n        var _a;\n        const c = this.getCodeNorm();\n        if (c === GREATER) {\n            if (this.piTarget !== \"xml\") {\n                this.fail(\"processing instructions are not allowed before root.\");\n            }\n            else if (this.name !== \"version\" &&\n                this.xmlDeclExpects.includes(\"version\")) {\n                this.fail(\"XML declaration must contain a version.\");\n            }\n            (_a = this.xmldeclHandler) === null || _a === void 0 ? void 0 : _a.call(this, this.xmlDecl);\n            this.name = \"\";\n            this.piTarget = this.text = \"\";\n            this.state = S_TEXT;\n        }\n        else {\n            // We got here because the previous character was a ?, but the question\n            // mark character is not valid inside any of the XML declaration\n            // name/value pairs.\n            this.fail(\"The character ? is disallowed anywhere in XML declarations.\");\n        }\n        this.xmlDeclPossible = false;\n    }\n    sOpenTag() {\n        var _a;\n        const c = this.captureNameChars();\n        if (c === EOC) {\n            return;\n        }\n        const tag = this.tag = {\n            name: this.name,\n            attributes: Object.create(null),\n        };\n        this.name = \"\";\n        if (this.xmlnsOpt) {\n            this.topNS = tag.ns = Object.create(null);\n        }\n        (_a = this.openTagStartHandler) === null || _a === void 0 ? void 0 : _a.call(this, tag);\n        this.sawRoot = true;\n        if (!this.fragmentOpt && this.closedRoot) {\n            this.fail(\"documents may contain only one root.\");\n        }\n        switch (c) {\n            case GREATER:\n                this.openTag();\n                break;\n            case FORWARD_SLASH:\n                this.state = S_OPEN_TAG_SLASH;\n                break;\n            default:\n                if (!isS(c)) {\n                    this.fail(\"disallowed character in tag name.\");\n                }\n                this.state = S_ATTRIB;\n        }\n    }\n    sOpenTagSlash() {\n        if (this.getCode() === GREATER) {\n            this.openSelfClosingTag();\n        }\n        else {\n            this.fail(\"forward-slash in opening tag not followed by >.\");\n            this.state = S_ATTRIB;\n        }\n    }\n    sAttrib() {\n        const c = this.skipSpaces();\n        if (c === EOC) {\n            return;\n        }\n        if (isNameStartChar(c)) {\n            this.unget();\n            this.state = S_ATTRIB_NAME;\n        }\n        else if (c === GREATER) {\n            this.openTag();\n        }\n        else if (c === FORWARD_SLASH) {\n            this.state = S_OPEN_TAG_SLASH;\n        }\n        else {\n            this.fail(\"disallowed character in attribute name.\");\n        }\n    }\n    sAttribName() {\n        const c = this.captureNameChars();\n        if (c === EQUAL) {\n            this.state = S_ATTRIB_VALUE;\n        }\n        else if (isS(c)) {\n            this.state = S_ATTRIB_NAME_SAW_WHITE;\n        }\n        else if (c === GREATER) {\n            this.fail(\"attribute without value.\");\n            this.pushAttrib(this.name, this.name);\n            this.name = this.text = \"\";\n            this.openTag();\n        }\n        else if (c !== EOC) {\n            this.fail(\"disallowed character in attribute name.\");\n        }\n    }\n    sAttribNameSawWhite() {\n        const c = this.skipSpaces();\n        switch (c) {\n            case EOC:\n                return;\n            case EQUAL:\n                this.state = S_ATTRIB_VALUE;\n                break;\n            default:\n                this.fail(\"attribute without value.\");\n                // Should we do this???\n                // this.tag.attributes[this.name] = \"\";\n                this.text = \"\";\n                this.name = \"\";\n                if (c === GREATER) {\n                    this.openTag();\n                }\n                else if (isNameStartChar(c)) {\n                    this.unget();\n                    this.state = S_ATTRIB_NAME;\n                }\n                else {\n                    this.fail(\"disallowed character in attribute name.\");\n                    this.state = S_ATTRIB;\n                }\n        }\n    }\n    sAttribValue() {\n        const c = this.getCodeNorm();\n        if (isQuote(c)) {\n            this.q = c;\n            this.state = S_ATTRIB_VALUE_QUOTED;\n        }\n        else if (!isS(c)) {\n            this.fail(\"unquoted attribute value.\");\n            this.state = S_ATTRIB_VALUE_UNQUOTED;\n            this.unget();\n        }\n    }\n    sAttribValueQuoted() {\n        // We deliberately do not use captureTo here. The specialized code we use\n        // here is faster than using captureTo.\n        const { q, chunk } = this;\n        let { i: start } = this;\n        // eslint-disable-next-line no-constant-condition\n        while (true) {\n            switch (this.getCode()) {\n                case q:\n                    this.pushAttrib(this.name, this.text + chunk.slice(start, this.prevI));\n                    this.name = this.text = \"\";\n                    this.q = null;\n                    this.state = S_ATTRIB_VALUE_CLOSED;\n                    return;\n                case AMP:\n                    this.text += chunk.slice(start, this.prevI);\n                    this.state = S_ENTITY;\n                    this.entityReturnState = S_ATTRIB_VALUE_QUOTED;\n                    return;\n                case NL:\n                case NL_LIKE:\n                case TAB:\n                    this.text += `${chunk.slice(start, this.prevI)} `;\n                    start = this.i;\n                    break;\n                case LESS:\n                    this.text += chunk.slice(start, this.prevI);\n                    this.fail(\"disallowed character.\");\n                    return;\n                case EOC:\n                    this.text += chunk.slice(start);\n                    return;\n                default:\n            }\n        }\n    }\n    sAttribValueClosed() {\n        const c = this.getCodeNorm();\n        if (isS(c)) {\n            this.state = S_ATTRIB;\n        }\n        else if (c === GREATER) {\n            this.openTag();\n        }\n        else if (c === FORWARD_SLASH) {\n            this.state = S_OPEN_TAG_SLASH;\n        }\n        else if (isNameStartChar(c)) {\n            this.fail(\"no whitespace between attributes.\");\n            this.unget();\n            this.state = S_ATTRIB_NAME;\n        }\n        else {\n            this.fail(\"disallowed character in attribute name.\");\n        }\n    }\n    sAttribValueUnquoted() {\n        // We don't do anything regarding EOL or space handling for unquoted\n        // attributes. We already have failed by the time we get here, and the\n        // contract that saxes upholds states that upon failure, it is not safe to\n        // rely on the data passed to event handlers (other than\n        // ``onerror``). Passing \"bad\" data is not a problem.\n        const c = this.captureTo(ATTRIB_VALUE_UNQUOTED_TERMINATOR);\n        switch (c) {\n            case AMP:\n                this.state = S_ENTITY;\n                this.entityReturnState = S_ATTRIB_VALUE_UNQUOTED;\n                break;\n            case LESS:\n                this.fail(\"disallowed character.\");\n                break;\n            case EOC:\n                break;\n            default:\n                if (this.text.includes(\"]]>\")) {\n                    this.fail(\"the string \\\"]]>\\\" is disallowed in char data.\");\n                }\n                this.pushAttrib(this.name, this.text);\n                this.name = this.text = \"\";\n                if (c === GREATER) {\n                    this.openTag();\n                }\n                else {\n                    this.state = S_ATTRIB;\n                }\n        }\n    }\n    sCloseTag() {\n        const c = this.captureNameChars();\n        if (c === GREATER) {\n            this.closeTag();\n        }\n        else if (isS(c)) {\n            this.state = S_CLOSE_TAG_SAW_WHITE;\n        }\n        else if (c !== EOC) {\n            this.fail(\"disallowed character in closing tag.\");\n        }\n    }\n    sCloseTagSawWhite() {\n        switch (this.skipSpaces()) {\n            case GREATER:\n                this.closeTag();\n                break;\n            case EOC:\n                break;\n            default:\n                this.fail(\"disallowed character in closing tag.\");\n        }\n    }\n    // END OF STATE ENGINE METHODS\n    handleTextInRoot() {\n        // This is essentially a specialized version of captureTo which is optimized\n        // for performing the ]]> check. A previous version of this code, checked\n        // ``this.text`` for the presence of ]]>. It simplified the code but was\n        // very costly when character data contained a lot of entities to be parsed.\n        //\n        // Since we are using a specialized loop, we also keep track of the presence\n        // of ]]> in text data. The sequence ]]> is forbidden to appear as-is.\n        //\n        let { i: start, forbiddenState } = this;\n        const { chunk, textHandler: handler } = this;\n        // eslint-disable-next-line no-labels, no-restricted-syntax\n        scanLoop: \n        // eslint-disable-next-line no-constant-condition\n        while (true) {\n            switch (this.getCode()) {\n                case LESS: {\n                    this.state = S_OPEN_WAKA;\n                    if (handler !== undefined) {\n                        const { text } = this;\n                        const slice = chunk.slice(start, this.prevI);\n                        if (text.length !== 0) {\n                            handler(text + slice);\n                            this.text = \"\";\n                        }\n                        else if (slice.length !== 0) {\n                            handler(slice);\n                        }\n                    }\n                    forbiddenState = FORBIDDEN_START;\n                    // eslint-disable-next-line no-labels\n                    break scanLoop;\n                }\n                case AMP:\n                    this.state = S_ENTITY;\n                    this.entityReturnState = S_TEXT;\n                    if (handler !== undefined) {\n                        this.text += chunk.slice(start, this.prevI);\n                    }\n                    forbiddenState = FORBIDDEN_START;\n                    // eslint-disable-next-line no-labels\n                    break scanLoop;\n                case CLOSE_BRACKET:\n                    switch (forbiddenState) {\n                        case FORBIDDEN_START:\n                            forbiddenState = FORBIDDEN_BRACKET;\n                            break;\n                        case FORBIDDEN_BRACKET:\n                            forbiddenState = FORBIDDEN_BRACKET_BRACKET;\n                            break;\n                        case FORBIDDEN_BRACKET_BRACKET:\n                            break;\n                        default:\n                            throw new Error(\"impossible state\");\n                    }\n                    break;\n                case GREATER:\n                    if (forbiddenState === FORBIDDEN_BRACKET_BRACKET) {\n                        this.fail(\"the string \\\"]]>\\\" is disallowed in char data.\");\n                    }\n                    forbiddenState = FORBIDDEN_START;\n                    break;\n                case NL_LIKE:\n                    if (handler !== undefined) {\n                        this.text += `${chunk.slice(start, this.prevI)}\\n`;\n                    }\n                    start = this.i;\n                    forbiddenState = FORBIDDEN_START;\n                    break;\n                case EOC:\n                    if (handler !== undefined) {\n                        this.text += chunk.slice(start);\n                    }\n                    // eslint-disable-next-line no-labels\n                    break scanLoop;\n                default:\n                    forbiddenState = FORBIDDEN_START;\n            }\n        }\n        this.forbiddenState = forbiddenState;\n    }\n    handleTextOutsideRoot() {\n        // This is essentially a specialized version of captureTo which is optimized\n        // for a specialized task. We keep track of the presence of non-space\n        // characters in the text since these are errors when appearing outside the\n        // document root element.\n        let { i: start } = this;\n        const { chunk, textHandler: handler } = this;\n        let nonSpace = false;\n        // eslint-disable-next-line no-labels, no-restricted-syntax\n        outRootLoop: \n        // eslint-disable-next-line no-constant-condition\n        while (true) {\n            const code = this.getCode();\n            switch (code) {\n                case LESS: {\n                    this.state = S_OPEN_WAKA;\n                    if (handler !== undefined) {\n                        const { text } = this;\n                        const slice = chunk.slice(start, this.prevI);\n                        if (text.length !== 0) {\n                            handler(text + slice);\n                            this.text = \"\";\n                        }\n                        else if (slice.length !== 0) {\n                            handler(slice);\n                        }\n                    }\n                    // eslint-disable-next-line no-labels\n                    break outRootLoop;\n                }\n                case AMP:\n                    this.state = S_ENTITY;\n                    this.entityReturnState = S_TEXT;\n                    if (handler !== undefined) {\n                        this.text += chunk.slice(start, this.prevI);\n                    }\n                    nonSpace = true;\n                    // eslint-disable-next-line no-labels\n                    break outRootLoop;\n                case NL_LIKE:\n                    if (handler !== undefined) {\n                        this.text += `${chunk.slice(start, this.prevI)}\\n`;\n                    }\n                    start = this.i;\n                    break;\n                case EOC:\n                    if (handler !== undefined) {\n                        this.text += chunk.slice(start);\n                    }\n                    // eslint-disable-next-line no-labels\n                    break outRootLoop;\n                default:\n                    if (!isS(code)) {\n                        nonSpace = true;\n                    }\n            }\n        }\n        if (!nonSpace) {\n            return;\n        }\n        // We use the reportedTextBeforeRoot and reportedTextAfterRoot flags\n        // to avoid reporting errors for every single character that is out of\n        // place.\n        if (!this.sawRoot && !this.reportedTextBeforeRoot) {\n            this.fail(\"text data outside of root node.\");\n            this.reportedTextBeforeRoot = true;\n        }\n        if (this.closedRoot && !this.reportedTextAfterRoot) {\n            this.fail(\"text data outside of root node.\");\n            this.reportedTextAfterRoot = true;\n        }\n    }\n    pushAttribNS(name, value) {\n        var _a;\n        const { prefix, local } = this.qname(name);\n        const attr = { name, prefix, local, value };\n        this.attribList.push(attr);\n        (_a = this.attributeHandler) === null || _a === void 0 ? void 0 : _a.call(this, attr);\n        if (prefix === \"xmlns\") {\n            const trimmed = value.trim();\n            if (this.currentXMLVersion === \"1.0\" && trimmed === \"\") {\n                this.fail(\"invalid attempt to undefine prefix in XML 1.0\");\n            }\n            this.topNS[local] = trimmed;\n            nsPairCheck(this, local, trimmed);\n        }\n        else if (name === \"xmlns\") {\n            const trimmed = value.trim();\n            this.topNS[\"\"] = trimmed;\n            nsPairCheck(this, \"\", trimmed);\n        }\n    }\n    pushAttribPlain(name, value) {\n        var _a;\n        const attr = { name, value };\n        this.attribList.push(attr);\n        (_a = this.attributeHandler) === null || _a === void 0 ? void 0 : _a.call(this, attr);\n    }\n    /**\n     * End parsing. This performs final well-formedness checks and resets the\n     * parser to a clean state.\n     *\n     * @returns this\n     */\n    end() {\n        var _a, _b;\n        if (!this.sawRoot) {\n            this.fail(\"document must contain a root element.\");\n        }\n        const { tags } = this;\n        while (tags.length > 0) {\n            const tag = tags.pop();\n            this.fail(`unclosed tag: ${tag.name}`);\n        }\n        if ((this.state !== S_BEGIN) && (this.state !== S_TEXT)) {\n            this.fail(\"unexpected end.\");\n        }\n        const { text } = this;\n        if (text.length !== 0) {\n            (_a = this.textHandler) === null || _a === void 0 ? void 0 : _a.call(this, text);\n            this.text = \"\";\n        }\n        this._closed = true;\n        (_b = this.endHandler) === null || _b === void 0 ? void 0 : _b.call(this);\n        this._init();\n        return this;\n    }\n    /**\n     * Resolve a namespace prefix.\n     *\n     * @param prefix The prefix to resolve.\n     *\n     * @returns The namespace URI or ``undefined`` if the prefix is not defined.\n     */\n    resolve(prefix) {\n        var _a, _b;\n        let uri = this.topNS[prefix];\n        if (uri !== undefined) {\n            return uri;\n        }\n        const { tags } = this;\n        for (let index = tags.length - 1; index >= 0; index--) {\n            uri = tags[index].ns[prefix];\n            if (uri !== undefined) {\n                return uri;\n            }\n        }\n        uri = this.ns[prefix];\n        if (uri !== undefined) {\n            return uri;\n        }\n        return (_b = (_a = this.opt).resolvePrefix) === null || _b === void 0 ? void 0 : _b.call(_a, prefix);\n    }\n    /**\n     * Parse a qname into its prefix and local name parts.\n     *\n     * @param name The name to parse\n     *\n     * @returns\n     */\n    qname(name) {\n        // This is faster than using name.split(\":\").\n        const colon = name.indexOf(\":\");\n        if (colon === -1) {\n            return { prefix: \"\", local: name };\n        }\n        const local = name.slice(colon + 1);\n        const prefix = name.slice(0, colon);\n        if (prefix === \"\" || local === \"\" || local.includes(\":\")) {\n            this.fail(`malformed name: ${name}.`);\n        }\n        return { prefix, local };\n    }\n    processAttribsNS() {\n        var _a;\n        const { attribList } = this;\n        const tag = this.tag;\n        {\n            // add namespace info to tag\n            const { prefix, local } = this.qname(tag.name);\n            tag.prefix = prefix;\n            tag.local = local;\n            const uri = tag.uri = (_a = this.resolve(prefix)) !== null && _a !== void 0 ? _a : \"\";\n            if (prefix !== \"\") {\n                if (prefix === \"xmlns\") {\n                    this.fail(\"tags may not have \\\"xmlns\\\" as prefix.\");\n                }\n                if (uri === \"\") {\n                    this.fail(`unbound namespace prefix: ${JSON.stringify(prefix)}.`);\n                    tag.uri = prefix;\n                }\n            }\n        }\n        if (attribList.length === 0) {\n            return;\n        }\n        const { attributes } = tag;\n        const seen = new Set();\n        // Note: do not apply default ns to attributes:\n        //   http://www.w3.org/TR/REC-xml-names/#defaulting\n        for (const attr of attribList) {\n            const { name, prefix, local } = attr;\n            let uri;\n            let eqname;\n            if (prefix === \"\") {\n                uri = name === \"xmlns\" ? XMLNS_NAMESPACE : \"\";\n                eqname = name;\n            }\n            else {\n                uri = this.resolve(prefix);\n                // if there's any attributes with an undefined namespace,\n                // then fail on them now.\n                if (uri === undefined) {\n                    this.fail(`unbound namespace prefix: ${JSON.stringify(prefix)}.`);\n                    uri = prefix;\n                }\n                eqname = `{${uri}}${local}`;\n            }\n            if (seen.has(eqname)) {\n                this.fail(`duplicate attribute: ${eqname}.`);\n            }\n            seen.add(eqname);\n            attr.uri = uri;\n            attributes[name] = attr;\n        }\n        this.attribList = [];\n    }\n    processAttribsPlain() {\n        const { attribList } = this;\n        // eslint-disable-next-line prefer-destructuring\n        const attributes = this.tag.attributes;\n        for (const { name, value } of attribList) {\n            if (attributes[name] !== undefined) {\n                this.fail(`duplicate attribute: ${name}.`);\n            }\n            attributes[name] = value;\n        }\n        this.attribList = [];\n    }\n    /**\n     * Handle a complete open tag. This parser code calls this once it has seen\n     * the whole tag. This method checks for well-formeness and then emits\n     * ``onopentag``.\n     */\n    openTag() {\n        var _a;\n        this.processAttribs();\n        const { tags } = this;\n        const tag = this.tag;\n        tag.isSelfClosing = false;\n        // There cannot be any pending text here due to the onopentagstart that was\n        // necessarily emitted before we get here. So we do not check text.\n        (_a = this.openTagHandler) === null || _a === void 0 ? void 0 : _a.call(this, tag);\n        tags.push(tag);\n        this.state = S_TEXT;\n        this.name = \"\";\n    }\n    /**\n     * Handle a complete self-closing tag. This parser code calls this once it has\n     * seen the whole tag. This method checks for well-formeness and then emits\n     * ``onopentag`` and ``onclosetag``.\n     */\n    openSelfClosingTag() {\n        var _a, _b, _c;\n        this.processAttribs();\n        const { tags } = this;\n        const tag = this.tag;\n        tag.isSelfClosing = true;\n        // There cannot be any pending text here due to the onopentagstart that was\n        // necessarily emitted before we get here. So we do not check text.\n        (_a = this.openTagHandler) === null || _a === void 0 ? void 0 : _a.call(this, tag);\n        (_b = this.closeTagHandler) === null || _b === void 0 ? void 0 : _b.call(this, tag);\n        const top = this.tag = (_c = tags[tags.length - 1]) !== null && _c !== void 0 ? _c : null;\n        if (top === null) {\n            this.closedRoot = true;\n        }\n        this.state = S_TEXT;\n        this.name = \"\";\n    }\n    /**\n     * Handle a complete close tag. This parser code calls this once it has seen\n     * the whole tag. This method checks for well-formeness and then emits\n     * ``onclosetag``.\n     */\n    closeTag() {\n        const { tags, name } = this;\n        // Our state after this will be S_TEXT, no matter what, and we can clear\n        // tagName now.\n        this.state = S_TEXT;\n        this.name = \"\";\n        if (name === \"\") {\n            this.fail(\"weird empty close tag.\");\n            this.text += \"</>\";\n            return;\n        }\n        const handler = this.closeTagHandler;\n        let l = tags.length;\n        while (l-- > 0) {\n            const tag = this.tag = tags.pop();\n            this.topNS = tag.ns;\n            handler === null || handler === void 0 ? void 0 : handler(tag);\n            if (tag.name === name) {\n                break;\n            }\n            this.fail(\"unexpected close tag.\");\n        }\n        if (l === 0) {\n            this.closedRoot = true;\n        }\n        else if (l < 0) {\n            this.fail(`unmatched closing tag: ${name}.`);\n            this.text += `</${name}>`;\n        }\n    }\n    /**\n     * Resolves an entity. Makes any necessary well-formedness checks.\n     *\n     * @param entity The entity to resolve.\n     *\n     * @returns The parsed entity.\n     */\n    parseEntity(entity) {\n        // startsWith would be significantly slower for this test.\n        if (entity[0] !== \"#\") {\n            const defined = this.ENTITIES[entity];\n            if (defined !== undefined) {\n                return defined;\n            }\n            this.fail(this.isName(entity) ? \"undefined entity.\" :\n                \"disallowed character in entity name.\");\n            return `&${entity};`;\n        }\n        let num = NaN;\n        if (entity[1] === \"x\" && /^#x[0-9a-f]+$/i.test(entity)) {\n            num = parseInt(entity.slice(2), 16);\n        }\n        else if (/^#[0-9]+$/.test(entity)) {\n            num = parseInt(entity.slice(1), 10);\n        }\n        // The character reference is required to match the CHAR production.\n        if (!this.isChar(num)) {\n            this.fail(\"malformed character entity.\");\n            return `&${entity};`;\n        }\n        return String.fromCodePoint(num);\n    }\n}\nexports.SaxesParser = SaxesParser;\n//# sourceMappingURL=saxes.js.map","(function (factory) {\n    if (typeof exports === 'object') {\n        // Node/CommonJS\n        module.exports = factory();\n    } else if (typeof define === 'function' && define.amd) {\n        // AMD\n        define(factory);\n    } else {\n        // Browser globals (with support for web workers)\n        var glob;\n\n        try {\n            glob = window;\n        } catch (e) {\n            glob = self;\n        }\n\n        glob.SparkMD5 = factory();\n    }\n}(function (undefined) {\n\n    'use strict';\n\n    /*\n     * Fastest md5 implementation around (JKM md5).\n     * Credits: Joseph Myers\n     *\n     * @see http://www.myersdaily.org/joseph/javascript/md5-text.html\n     * @see http://jsperf.com/md5-shootout/7\n     */\n\n    /* this function is much faster,\n      so if possible we use it. Some IEs\n      are the only ones I know of that\n      need the idiotic second function,\n      generated by an if clause.  */\n    var add32 = function (a, b) {\n        return (a + b) & 0xFFFFFFFF;\n    },\n        hex_chr = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'];\n\n\n    function cmn(q, a, b, x, s, t) {\n        a = add32(add32(a, q), add32(x, t));\n        return add32((a << s) | (a >>> (32 - s)), b);\n    }\n\n    function md5cycle(x, k) {\n        var a = x[0],\n            b = x[1],\n            c = x[2],\n            d = x[3];\n\n        a += (b & c | ~b & d) + k[0] - 680876936 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[1] - 389564586 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[2] + 606105819 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[3] - 1044525330 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[4] - 176418897 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[5] + 1200080426 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[6] - 1473231341 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[7] - 45705983 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[8] + 1770035416 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[9] - 1958414417 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[10] - 42063 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[11] - 1990404162 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[12] + 1804603682 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[13] - 40341101 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[14] - 1502002290 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[15] + 1236535329 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n\n        a += (b & d | c & ~d) + k[1] - 165796510 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[6] - 1069501632 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[11] + 643717713 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[0] - 373897302 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[5] - 701558691 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[10] + 38016083 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[15] - 660478335 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[4] - 405537848 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[9] + 568446438 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[14] - 1019803690 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[3] - 187363961 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[8] + 1163531501 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[13] - 1444681467 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[2] - 51403784 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[7] + 1735328473 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[12] - 1926607734 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n\n        a += (b ^ c ^ d) + k[5] - 378558 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[8] - 2022574463 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[11] + 1839030562 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[14] - 35309556 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[1] - 1530992060 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[4] + 1272893353 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[7] - 155497632 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[10] - 1094730640 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[13] + 681279174 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[0] - 358537222 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[3] - 722521979 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[6] + 76029189 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[9] - 640364487 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[12] - 421815835 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[15] + 530742520 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[2] - 995338651 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n\n        a += (c ^ (b | ~d)) + k[0] - 198630844 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[7] + 1126891415 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[14] - 1416354905 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[5] - 57434055 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[12] + 1700485571 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[3] - 1894986606 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[10] - 1051523 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[1] - 2054922799 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[8] + 1873313359 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[15] - 30611744 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[6] - 1560198380 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[13] + 1309151649 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[4] - 145523070 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[11] - 1120210379 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[2] + 718787259 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[9] - 343485551 | 0;\n        b  = (b << 21 | b >>> 11) + c | 0;\n\n        x[0] = a + x[0] | 0;\n        x[1] = b + x[1] | 0;\n        x[2] = c + x[2] | 0;\n        x[3] = d + x[3] | 0;\n    }\n\n    function md5blk(s) {\n        var md5blks = [],\n            i; /* Andy King said do it this way. */\n\n        for (i = 0; i < 64; i += 4) {\n            md5blks[i >> 2] = s.charCodeAt(i) + (s.charCodeAt(i + 1) << 8) + (s.charCodeAt(i + 2) << 16) + (s.charCodeAt(i + 3) << 24);\n        }\n        return md5blks;\n    }\n\n    function md5blk_array(a) {\n        var md5blks = [],\n            i; /* Andy King said do it this way. */\n\n        for (i = 0; i < 64; i += 4) {\n            md5blks[i >> 2] = a[i] + (a[i + 1] << 8) + (a[i + 2] << 16) + (a[i + 3] << 24);\n        }\n        return md5blks;\n    }\n\n    function md51(s) {\n        var n = s.length,\n            state = [1732584193, -271733879, -1732584194, 271733878],\n            i,\n            length,\n            tail,\n            tmp,\n            lo,\n            hi;\n\n        for (i = 64; i <= n; i += 64) {\n            md5cycle(state, md5blk(s.substring(i - 64, i)));\n        }\n        s = s.substring(i - 64);\n        length = s.length;\n        tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= s.charCodeAt(i) << ((i % 4) << 3);\n        }\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(state, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Beware that the final length might not fit in 32 bits so we take care of that\n        tmp = n * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n\n        md5cycle(state, tail);\n        return state;\n    }\n\n    function md51_array(a) {\n        var n = a.length,\n            state = [1732584193, -271733879, -1732584194, 271733878],\n            i,\n            length,\n            tail,\n            tmp,\n            lo,\n            hi;\n\n        for (i = 64; i <= n; i += 64) {\n            md5cycle(state, md5blk_array(a.subarray(i - 64, i)));\n        }\n\n        // Not sure if it is a bug, however IE10 will always produce a sub array of length 1\n        // containing the last element of the parent array if the sub array specified starts\n        // beyond the length of the parent array - weird.\n        // https://connect.microsoft.com/IE/feedback/details/771452/typed-array-subarray-issue\n        a = (i - 64) < n ? a.subarray(i - 64) : new Uint8Array(0);\n\n        length = a.length;\n        tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= a[i] << ((i % 4) << 3);\n        }\n\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(state, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Beware that the final length might not fit in 32 bits so we take care of that\n        tmp = n * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n\n        md5cycle(state, tail);\n\n        return state;\n    }\n\n    function rhex(n) {\n        var s = '',\n            j;\n        for (j = 0; j < 4; j += 1) {\n            s += hex_chr[(n >> (j * 8 + 4)) & 0x0F] + hex_chr[(n >> (j * 8)) & 0x0F];\n        }\n        return s;\n    }\n\n    function hex(x) {\n        var i;\n        for (i = 0; i < x.length; i += 1) {\n            x[i] = rhex(x[i]);\n        }\n        return x.join('');\n    }\n\n    // In some cases the fast add32 function cannot be used..\n    if (hex(md51('hello')) !== '5d41402abc4b2a76b9719d911017c592') {\n        add32 = function (x, y) {\n            var lsw = (x & 0xFFFF) + (y & 0xFFFF),\n                msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n            return (msw << 16) | (lsw & 0xFFFF);\n        };\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * ArrayBuffer slice polyfill.\n     *\n     * @see https://github.com/ttaubert/node-arraybuffer-slice\n     */\n\n    if (typeof ArrayBuffer !== 'undefined' && !ArrayBuffer.prototype.slice) {\n        (function () {\n            function clamp(val, length) {\n                val = (val | 0) || 0;\n\n                if (val < 0) {\n                    return Math.max(val + length, 0);\n                }\n\n                return Math.min(val, length);\n            }\n\n            ArrayBuffer.prototype.slice = function (from, to) {\n                var length = this.byteLength,\n                    begin = clamp(from, length),\n                    end = length,\n                    num,\n                    target,\n                    targetArray,\n                    sourceArray;\n\n                if (to !== undefined) {\n                    end = clamp(to, length);\n                }\n\n                if (begin > end) {\n                    return new ArrayBuffer(0);\n                }\n\n                num = end - begin;\n                target = new ArrayBuffer(num);\n                targetArray = new Uint8Array(target);\n\n                sourceArray = new Uint8Array(this, begin, num);\n                targetArray.set(sourceArray);\n\n                return target;\n            };\n        })();\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * Helpers.\n     */\n\n    function toUtf8(str) {\n        if (/[\\u0080-\\uFFFF]/.test(str)) {\n            str = unescape(encodeURIComponent(str));\n        }\n\n        return str;\n    }\n\n    function utf8Str2ArrayBuffer(str, returnUInt8Array) {\n        var length = str.length,\n           buff = new ArrayBuffer(length),\n           arr = new Uint8Array(buff),\n           i;\n\n        for (i = 0; i < length; i += 1) {\n            arr[i] = str.charCodeAt(i);\n        }\n\n        return returnUInt8Array ? arr : buff;\n    }\n\n    function arrayBuffer2Utf8Str(buff) {\n        return String.fromCharCode.apply(null, new Uint8Array(buff));\n    }\n\n    function concatenateArrayBuffers(first, second, returnUInt8Array) {\n        var result = new Uint8Array(first.byteLength + second.byteLength);\n\n        result.set(new Uint8Array(first));\n        result.set(new Uint8Array(second), first.byteLength);\n\n        return returnUInt8Array ? result : result.buffer;\n    }\n\n    function hexToBinaryString(hex) {\n        var bytes = [],\n            length = hex.length,\n            x;\n\n        for (x = 0; x < length - 1; x += 2) {\n            bytes.push(parseInt(hex.substr(x, 2), 16));\n        }\n\n        return String.fromCharCode.apply(String, bytes);\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * SparkMD5 OOP implementation.\n     *\n     * Use this class to perform an incremental md5, otherwise use the\n     * static methods instead.\n     */\n\n    function SparkMD5() {\n        // call reset to init the instance\n        this.reset();\n    }\n\n    /**\n     * Appends a string.\n     * A conversion will be applied if an utf8 string is detected.\n     *\n     * @param {String} str The string to be appended\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.append = function (str) {\n        // Converts the string to utf8 bytes if necessary\n        // Then append as binary\n        this.appendBinary(toUtf8(str));\n\n        return this;\n    };\n\n    /**\n     * Appends a binary string.\n     *\n     * @param {String} contents The binary string to be appended\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.appendBinary = function (contents) {\n        this._buff += contents;\n        this._length += contents.length;\n\n        var length = this._buff.length,\n            i;\n\n        for (i = 64; i <= length; i += 64) {\n            md5cycle(this._hash, md5blk(this._buff.substring(i - 64, i)));\n        }\n\n        this._buff = this._buff.substring(i - 64);\n\n        return this;\n    };\n\n    /**\n     * Finishes the incremental computation, reseting the internal state and\n     * returning the result.\n     *\n     * @param {Boolean} raw True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.prototype.end = function (raw) {\n        var buff = this._buff,\n            length = buff.length,\n            i,\n            tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n            ret;\n\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= buff.charCodeAt(i) << ((i % 4) << 3);\n        }\n\n        this._finish(tail, length);\n        ret = hex(this._hash);\n\n        if (raw) {\n            ret = hexToBinaryString(ret);\n        }\n\n        this.reset();\n\n        return ret;\n    };\n\n    /**\n     * Resets the internal state of the computation.\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.reset = function () {\n        this._buff = '';\n        this._length = 0;\n        this._hash = [1732584193, -271733879, -1732584194, 271733878];\n\n        return this;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @return {Object} The state\n     */\n    SparkMD5.prototype.getState = function () {\n        return {\n            buff: this._buff,\n            length: this._length,\n            hash: this._hash.slice()\n        };\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @param {Object} state The state\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.setState = function (state) {\n        this._buff = state.buff;\n        this._length = state.length;\n        this._hash = state.hash;\n\n        return this;\n    };\n\n    /**\n     * Releases memory used by the incremental buffer and other additional\n     * resources. If you plan to use the instance again, use reset instead.\n     */\n    SparkMD5.prototype.destroy = function () {\n        delete this._hash;\n        delete this._buff;\n        delete this._length;\n    };\n\n    /**\n     * Finish the final calculation based on the tail.\n     *\n     * @param {Array}  tail   The tail (will be modified)\n     * @param {Number} length The length of the remaining buffer\n     */\n    SparkMD5.prototype._finish = function (tail, length) {\n        var i = length,\n            tmp,\n            lo,\n            hi;\n\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(this._hash, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Do the final computation based on the tail and length\n        // Beware that the final length may not fit in 32 bits so we take care of that\n        tmp = this._length * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n        md5cycle(this._hash, tail);\n    };\n\n    /**\n     * Performs the md5 hash on a string.\n     * A conversion will be applied if utf8 string is detected.\n     *\n     * @param {String}  str The string\n     * @param {Boolean} [raw] True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.hash = function (str, raw) {\n        // Converts the string to utf8 bytes if necessary\n        // Then compute it using the binary function\n        return SparkMD5.hashBinary(toUtf8(str), raw);\n    };\n\n    /**\n     * Performs the md5 hash on a binary string.\n     *\n     * @param {String}  content The binary string\n     * @param {Boolean} [raw]     True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.hashBinary = function (content, raw) {\n        var hash = md51(content),\n            ret = hex(hash);\n\n        return raw ? hexToBinaryString(ret) : ret;\n    };\n\n    // ---------------------------------------------------\n\n    /**\n     * SparkMD5 OOP implementation for array buffers.\n     *\n     * Use this class to perform an incremental md5 ONLY for array buffers.\n     */\n    SparkMD5.ArrayBuffer = function () {\n        // call reset to init the instance\n        this.reset();\n    };\n\n    /**\n     * Appends an array buffer.\n     *\n     * @param {ArrayBuffer} arr The array to be appended\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.append = function (arr) {\n        var buff = concatenateArrayBuffers(this._buff.buffer, arr, true),\n            length = buff.length,\n            i;\n\n        this._length += arr.byteLength;\n\n        for (i = 64; i <= length; i += 64) {\n            md5cycle(this._hash, md5blk_array(buff.subarray(i - 64, i)));\n        }\n\n        this._buff = (i - 64) < length ? new Uint8Array(buff.buffer.slice(i - 64)) : new Uint8Array(0);\n\n        return this;\n    };\n\n    /**\n     * Finishes the incremental computation, reseting the internal state and\n     * returning the result.\n     *\n     * @param {Boolean} raw True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.ArrayBuffer.prototype.end = function (raw) {\n        var buff = this._buff,\n            length = buff.length,\n            tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n            i,\n            ret;\n\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= buff[i] << ((i % 4) << 3);\n        }\n\n        this._finish(tail, length);\n        ret = hex(this._hash);\n\n        if (raw) {\n            ret = hexToBinaryString(ret);\n        }\n\n        this.reset();\n\n        return ret;\n    };\n\n    /**\n     * Resets the internal state of the computation.\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.reset = function () {\n        this._buff = new Uint8Array(0);\n        this._length = 0;\n        this._hash = [1732584193, -271733879, -1732584194, 271733878];\n\n        return this;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @return {Object} The state\n     */\n    SparkMD5.ArrayBuffer.prototype.getState = function () {\n        var state = SparkMD5.prototype.getState.call(this);\n\n        // Convert buffer to a string\n        state.buff = arrayBuffer2Utf8Str(state.buff);\n\n        return state;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @param {Object} state The state\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.setState = function (state) {\n        // Convert string to buffer\n        state.buff = utf8Str2ArrayBuffer(state.buff, true);\n\n        return SparkMD5.prototype.setState.call(this, state);\n    };\n\n    SparkMD5.ArrayBuffer.prototype.destroy = SparkMD5.prototype.destroy;\n\n    SparkMD5.ArrayBuffer.prototype._finish = SparkMD5.prototype._finish;\n\n    /**\n     * Performs the md5 hash on an array buffer.\n     *\n     * @param {ArrayBuffer} arr The array buffer\n     * @param {Boolean}     [raw] True to get the raw string, false to get the hex one\n     *\n     * @return {String} The result\n     */\n    SparkMD5.ArrayBuffer.hash = function (arr, raw) {\n        var hash = md51_array(new Uint8Array(arr)),\n            ret = hex(hash);\n\n        return raw ? hexToBinaryString(ret) : ret;\n    };\n\n    return SparkMD5;\n}));\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Util = exports.toSparqlJs = exports.toSparql = exports.Factory = exports.Algebra = exports.translate = void 0;\nconst sparqlAlgebra_1 = __importDefault(require(\"./lib/sparqlAlgebra\"));\nexports.translate = sparqlAlgebra_1.default;\nconst Algebra = __importStar(require(\"./lib/algebra\"));\nexports.Algebra = Algebra;\nconst factory_1 = __importDefault(require(\"./lib/factory\"));\nexports.Factory = factory_1.default;\nconst sparql_1 = require(\"./lib/sparql\");\nObject.defineProperty(exports, \"toSparql\", { enumerable: true, get: function () { return sparql_1.toSparql; } });\nObject.defineProperty(exports, \"toSparqlJs\", { enumerable: true, get: function () { return sparql_1.toSparqlJs; } });\nconst util_1 = __importDefault(require(\"./lib/util\"));\nexports.Util = util_1.default;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.expressionTypes = exports.types = void 0;\nvar types;\n(function (types) {\n    types[\"ALT\"] = \"alt\";\n    types[\"ASK\"] = \"ask\";\n    types[\"BGP\"] = \"bgp\";\n    types[\"CONSTRUCT\"] = \"construct\";\n    types[\"DESCRIBE\"] = \"describe\";\n    types[\"DISTINCT\"] = \"distinct\";\n    types[\"EXPRESSION\"] = \"expression\";\n    types[\"EXTEND\"] = \"extend\";\n    types[\"FILTER\"] = \"filter\";\n    types[\"FROM\"] = \"from\";\n    types[\"GRAPH\"] = \"graph\";\n    types[\"GROUP\"] = \"group\";\n    types[\"INV\"] = \"inv\";\n    types[\"JOIN\"] = \"join\";\n    types[\"LEFT_JOIN\"] = \"leftjoin\";\n    types[\"LINK\"] = \"link\";\n    types[\"MINUS\"] = \"minus\";\n    types[\"NOP\"] = \"nop\";\n    types[\"NPS\"] = \"nps\";\n    types[\"ONE_OR_MORE_PATH\"] = \"OneOrMorePath\";\n    types[\"ORDER_BY\"] = \"orderby\";\n    types[\"PATH\"] = \"path\";\n    types[\"PATTERN\"] = \"pattern\";\n    types[\"PROJECT\"] = \"project\";\n    types[\"REDUCED\"] = \"reduced\";\n    types[\"SEQ\"] = \"seq\";\n    types[\"SERVICE\"] = \"service\";\n    types[\"SLICE\"] = \"slice\";\n    types[\"UNION\"] = \"union\";\n    types[\"VALUES\"] = \"values\";\n    types[\"ZERO_OR_MORE_PATH\"] = \"ZeroOrMorePath\";\n    types[\"ZERO_OR_ONE_PATH\"] = \"ZeroOrOnePath\";\n    types[\"COMPOSITE_UPDATE\"] = \"compositeupdate\";\n    types[\"DELETE_INSERT\"] = \"deleteinsert\";\n    types[\"LOAD\"] = \"load\";\n    types[\"CLEAR\"] = \"clear\";\n    types[\"CREATE\"] = \"create\";\n    types[\"DROP\"] = \"drop\";\n    types[\"ADD\"] = \"add\";\n    types[\"MOVE\"] = \"move\";\n    types[\"COPY\"] = \"copy\";\n})(types = exports.types || (exports.types = {}));\nvar expressionTypes;\n(function (expressionTypes) {\n    expressionTypes[\"AGGREGATE\"] = \"aggregate\";\n    expressionTypes[\"EXISTENCE\"] = \"existence\";\n    expressionTypes[\"NAMED\"] = \"named\";\n    expressionTypes[\"OPERATOR\"] = \"operator\";\n    expressionTypes[\"TERM\"] = \"term\";\n    expressionTypes[\"WILDCARD\"] = \"wildcard\";\n})(expressionTypes = exports.expressionTypes || (exports.expressionTypes = {}));\n//# sourceMappingURL=algebra.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst A = __importStar(require(\"./algebra\"));\nconst rdf_data_factory_1 = require(\"rdf-data-factory\");\nconst rdf_string_1 = require(\"rdf-string\");\nconst sparqljs_1 = require(\"sparqljs\");\nclass Factory {\n    constructor(dataFactory) {\n        this.dataFactory = dataFactory || new rdf_data_factory_1.DataFactory();\n        this.stringType = this.createTerm('http://www.w3.org/2001/XMLSchema#string');\n    }\n    createAlt(input, flatten = true) { return this.flattenMulti({ type: A.types.ALT, input }, flatten); }\n    createAsk(input) { return { type: A.types.ASK, input }; }\n    createBoundAggregate(variable, aggregate, expression, distinct, separator) {\n        const result = this.createAggregateExpression(aggregate, expression, distinct, separator);\n        result.variable = variable;\n        return result;\n    }\n    createBgp(patterns) { return { type: A.types.BGP, patterns }; }\n    createConstruct(input, template) { return { type: A.types.CONSTRUCT, input, template }; }\n    createDescribe(input, terms) { return { type: A.types.DESCRIBE, input, terms }; }\n    createDistinct(input) { return { type: A.types.DISTINCT, input }; }\n    createExtend(input, variable, expression) { return { type: A.types.EXTEND, input, variable, expression }; }\n    createFrom(input, def, named) { return { type: A.types.FROM, input, default: def, named }; }\n    createFilter(input, expression) { return { type: A.types.FILTER, input, expression }; }\n    createGraph(input, name) { return { type: A.types.GRAPH, input, name }; }\n    createGroup(input, variables, aggregates) { return { type: A.types.GROUP, input, variables, aggregates }; }\n    createInv(path) { return { type: A.types.INV, path }; }\n    createJoin(input, flatten = true) { return this.flattenMulti({ type: A.types.JOIN, input }, flatten); }\n    createLeftJoin(left, right, expression) {\n        if (expression)\n            return { type: A.types.LEFT_JOIN, input: [left, right], expression };\n        return { type: A.types.LEFT_JOIN, input: [left, right] };\n    }\n    createLink(iri) { return { type: A.types.LINK, iri }; }\n    createMinus(left, right) { return { type: A.types.MINUS, input: [left, right] }; }\n    createNop() { return { type: A.types.NOP }; }\n    createNps(iris) { return { type: A.types.NPS, iris }; }\n    createOneOrMorePath(path) { return { type: A.types.ONE_OR_MORE_PATH, path }; }\n    createOrderBy(input, expressions) { return { type: A.types.ORDER_BY, input, expressions }; }\n    createPath(subject, predicate, object, graph) {\n        if (graph)\n            return { type: A.types.PATH, subject, predicate, object, graph };\n        return { type: A.types.PATH, subject, predicate, object, graph: this.dataFactory.defaultGraph() };\n    }\n    createPattern(subject, predicate, object, graph) {\n        const pattern = this.dataFactory.quad(subject, predicate, object, graph);\n        pattern.type = A.types.PATTERN;\n        return pattern;\n    }\n    createProject(input, variables) { return { type: A.types.PROJECT, input, variables }; }\n    createReduced(input) { return { type: A.types.REDUCED, input }; }\n    createSeq(input, flatten = true) { return this.flattenMulti({ type: A.types.SEQ, input }, flatten); }\n    createService(input, name, silent) { return { type: A.types.SERVICE, input, name, silent: Boolean(silent) }; }\n    createSlice(input, start, length) {\n        start = start || 0;\n        if (length !== undefined)\n            return { type: A.types.SLICE, input, start, length };\n        return { type: A.types.SLICE, input, start };\n    }\n    createUnion(input, flatten = true) { return this.flattenMulti({ type: A.types.UNION, input }, flatten); }\n    createValues(variables, bindings) { return { type: A.types.VALUES, variables, bindings }; }\n    createZeroOrMorePath(path) { return { type: A.types.ZERO_OR_MORE_PATH, path }; }\n    createZeroOrOnePath(path) { return { type: A.types.ZERO_OR_ONE_PATH, path }; }\n    createAggregateExpression(aggregator, expression, distinct, separator) {\n        if (separator)\n            return { type: A.types.EXPRESSION, expressionType: A.expressionTypes.AGGREGATE, aggregator: aggregator, expression, separator, distinct };\n        return { type: A.types.EXPRESSION, expressionType: A.expressionTypes.AGGREGATE, aggregator: aggregator, expression, distinct };\n    }\n    createExistenceExpression(not, input) { return { type: A.types.EXPRESSION, expressionType: A.expressionTypes.EXISTENCE, not, input }; }\n    createNamedExpression(name, args) { return { type: A.types.EXPRESSION, expressionType: A.expressionTypes.NAMED, name, args }; }\n    createOperatorExpression(operator, args) { return { type: A.types.EXPRESSION, expressionType: A.expressionTypes.OPERATOR, operator, args }; }\n    createTermExpression(term) { return { type: A.types.EXPRESSION, expressionType: A.expressionTypes.TERM, term }; }\n    createWildcardExpression() { return { type: A.types.EXPRESSION, expressionType: A.expressionTypes.WILDCARD, wildcard: new sparqljs_1.Wildcard() }; }\n    createTerm(str) {\n        return (0, rdf_string_1.stringToTerm)(str, this.dataFactory);\n    }\n    // Update functions\n    createCompositeUpdate(updates) { return { type: A.types.COMPOSITE_UPDATE, updates }; }\n    createDeleteInsert(deleteQuads, insertQuads, where) {\n        const result = { type: A.types.DELETE_INSERT };\n        if (deleteQuads)\n            result.delete = deleteQuads;\n        if (insertQuads)\n            result.insert = insertQuads;\n        if (where)\n            result.where = where;\n        return result;\n    }\n    createLoad(source, destination, silent) {\n        const result = { type: A.types.LOAD, source };\n        if (destination)\n            result.destination = destination;\n        return this.addSilent(result, Boolean(silent));\n    }\n    createClear(source, silent) {\n        return this.addSilent({ type: A.types.CLEAR, source }, Boolean(silent));\n    }\n    createCreate(source, silent) {\n        return this.addSilent({ type: A.types.CREATE, source }, Boolean(silent));\n    }\n    createDrop(source, silent) {\n        return this.addSilent({ type: A.types.DROP, source }, Boolean(silent));\n    }\n    createAdd(source, destination, silent) {\n        return this.addSilent({ type: A.types.ADD, source, destination }, Boolean(silent));\n    }\n    createMove(source, destination, silent) {\n        return this.addSilent({ type: A.types.MOVE, source, destination }, Boolean(silent));\n    }\n    createCopy(source, destination, silent) {\n        return this.addSilent({ type: A.types.COPY, source, destination }, Boolean(silent));\n    }\n    addSilent(input, silent) {\n        if (silent)\n            input.silent = silent;\n        return input;\n    }\n    flattenMulti(input, flatten) {\n        if (!flatten) {\n            return input;\n        }\n        const type = input.type;\n        const children = input.input;\n        let newChildren = [];\n        for (const child of children) {\n            if (child.type === type) {\n                newChildren.push(...child.input);\n            }\n            else {\n                newChildren.push(child);\n            }\n        }\n        input.input = newChildren;\n        return input;\n    }\n}\nexports.default = Factory;\n//# sourceMappingURL=factory.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toSparqlJs = exports.toSparql = void 0;\nconst rdf_isomorphic_1 = require(\"rdf-isomorphic\");\nconst rdf_string_1 = require(\"rdf-string\");\nconst sparqljs_1 = require(\"sparqljs\");\nconst Algebra = __importStar(require(\"./algebra\"));\nconst factory_1 = __importDefault(require(\"./factory\"));\nconst util_1 = __importDefault(require(\"./util\"));\nconst types = Algebra.types;\nconst eTypes = Algebra.expressionTypes;\nlet context;\nconst factory = new factory_1.default();\nfunction toSparql(op, options = {}) {\n    let generator = new sparqljs_1.Generator(options);\n    return generator.stringify(toSparqlJs(op));\n}\nexports.toSparql = toSparql;\nfunction toSparqlJs(op) {\n    resetContext();\n    op = removeQuads(op);\n    let result = translateOperation(op);\n    if (result.type === 'group')\n        return result.patterns[0];\n    return result;\n}\nexports.toSparqlJs = toSparqlJs;\nfunction resetContext() {\n    context = { project: false, extend: [], group: [], aggregates: [], order: [] };\n}\nfunction translateOperation(op) {\n    // this allows us to differentiate between BIND and SELECT when translating EXTEND\n    // GRAPH was added because the way graphs get added back here is not the same as how they get added in the future\n    // ^ seems fine but might have to be changed if problems get detected in the future\n    if (op.type !== types.EXTEND && op.type !== types.ORDER_BY && op.type !== types.GRAPH)\n        context.project = false;\n    switch (op.type) {\n        case types.EXPRESSION: return translateExpression(op);\n        case types.ASK: return translateProject(op, types.ASK);\n        case types.BGP: return translateBgp(op);\n        case types.CONSTRUCT: return translateConstruct(op);\n        case types.DESCRIBE: return translateProject(op, types.DESCRIBE);\n        case types.DISTINCT: return translateDistinct(op);\n        case types.EXTEND: return translateExtend(op);\n        case types.FROM: return translateFrom(op);\n        case types.FILTER: return translateFilter(op);\n        case types.GRAPH: return translateGraph(op);\n        case types.GROUP: return translateGroup(op);\n        case types.JOIN: return translateJoin(op);\n        case types.LEFT_JOIN: return translateLeftJoin(op);\n        case types.MINUS: return translateMinus(op);\n        case types.NOP: return {};\n        case types.ORDER_BY: return translateOrderBy(op);\n        case types.PATH: return translatePath(op);\n        case types.PATTERN: return translatePattern(op);\n        case types.PROJECT: return translateProject(op, types.PROJECT);\n        case types.REDUCED: return translateReduced(op);\n        case types.SERVICE: return translateService(op);\n        case types.SLICE: return translateSlice(op);\n        case types.UNION: return translateUnion(op);\n        case types.VALUES: return translateValues(op);\n        // UPDATE operations\n        case types.COMPOSITE_UPDATE: return translateCompositeUpdate(op);\n        case types.DELETE_INSERT: return translateDeleteInsert(op);\n        case types.LOAD: return translateLoad(op);\n        case types.CLEAR: return translateClear(op);\n        case types.CREATE: return translateCreate(op);\n        case types.DROP: return translateDrop(op);\n        case types.ADD: return translateAdd(op);\n        case types.MOVE: return translateMove(op);\n        case types.COPY: return translateCopy(op);\n    }\n    throw new Error(`Unknown Operation type ${op.type}`);\n}\nfunction translateExpression(expr) {\n    switch (expr.expressionType) {\n        case eTypes.AGGREGATE: return translateAggregateExpression(expr);\n        case eTypes.EXISTENCE: return translateExistenceExpression(expr);\n        case eTypes.NAMED: return translateNamedExpression(expr);\n        case eTypes.OPERATOR: return translateOperatorExpression(expr);\n        case eTypes.TERM: return translateTermExpression(expr);\n        case eTypes.WILDCARD: return translateWildcardExpression(expr);\n    }\n    throw new Error(`Unknown Expression Operation type ${expr.expressionType}`);\n}\nfunction translatePathComponent(path) {\n    switch (path.type) {\n        case types.ALT: return translateAlt(path);\n        case types.INV: return translateInv(path);\n        case types.LINK: return translateLink(path);\n        case types.NPS: return translateNps(path);\n        case types.ONE_OR_MORE_PATH: return translateOneOrMorePath(path);\n        case types.SEQ: return translateSeq(path);\n        case types.ZERO_OR_MORE_PATH: return translateZeroOrMorePath(path);\n        case types.ZERO_OR_ONE_PATH: return translateZeroOrOnePath(path);\n    }\n    throw new Error(`Unknown Path type ${path.type}`);\n}\nfunction translateTerm(term) {\n    return (0, rdf_string_1.termToString)(term);\n}\n// ------------------------- EXPRESSIONS -------------------------\nfunction translateAggregateExpression(expr) {\n    const result = {\n        expression: translateExpression(expr.expression),\n        type: 'aggregate',\n        aggregation: expr.aggregator,\n        distinct: expr.distinct\n    };\n    if (expr.separator)\n        result.separator = expr.separator;\n    return result;\n}\nfunction translateExistenceExpression(expr) {\n    return {\n        type: 'operation',\n        operator: expr.not ? 'notexists' : 'exists',\n        args: util_1.default.flatten([\n            translateOperation(expr.input)\n        ])\n    };\n}\nfunction translateNamedExpression(expr) {\n    return {\n        type: 'functionCall',\n        // Wrong typings\n        function: expr.name,\n        args: expr.args.map(translateExpression)\n    };\n}\nfunction translateOperatorExpression(expr) {\n    if (expr.operator === 'desc') {\n        const result = { expression: translateExpression(expr.args[0]) };\n        result.descending = true;\n        return result;\n    }\n    const result = {\n        type: 'operation',\n        operator: expr.operator,\n        args: expr.args.map(translateExpression)\n    };\n    if (result.operator === 'in' || result.operator === 'notin')\n        result.args = [result.args[0]].concat([result.args.slice(1)]);\n    return result;\n}\nfunction translateTermExpression(expr) {\n    return expr.term;\n}\nfunction translateWildcardExpression(expr) {\n    return expr.wildcard;\n}\n// ------------------------- OPERATIONS -------------------------\n// these get translated in the project function\nfunction translateBoundAggregate(op) {\n    return op;\n}\nfunction translateBgp(op) {\n    let patterns = op.patterns.map(translatePattern);\n    if (patterns.length === 0)\n        return null;\n    return {\n        type: 'bgp',\n        triples: patterns\n    };\n}\nfunction translateConstruct(op) {\n    return {\n        type: 'query',\n        prefixes: {},\n        queryType: 'CONSTRUCT',\n        template: op.template.map(translatePattern),\n        where: util_1.default.flatten([\n            translateOperation(op.input)\n        ])\n    };\n}\nfunction translateDistinct(op) {\n    let result = translateOperation(op.input);\n    // project is nested in group object\n    result.patterns[0].distinct = true;\n    return result;\n}\nfunction translateExtend(op) {\n    if (context.project) {\n        context.extend.push(op);\n        return translateOperation(op.input);\n    }\n    return util_1.default.flatten([\n        translateOperation(op.input),\n        {\n            type: 'bind',\n            variable: op.variable,\n            expression: translateExpression(op.expression)\n        }\n    ]);\n}\nfunction translateFrom(op) {\n    const result = translateOperation(op.input);\n    // project is nested in group object\n    const obj = result.patterns[0];\n    obj.from = {\n        default: op.default,\n        named: op.named\n    };\n    return result;\n}\nfunction translateFilter(op) {\n    return {\n        type: 'group',\n        patterns: util_1.default.flatten([\n            translateOperation(op.input),\n            { type: 'filter', expression: translateExpression(op.expression) }\n        ])\n    };\n}\nfunction translateGraph(op) {\n    return {\n        type: 'graph',\n        patterns: util_1.default.flatten([translateOperation(op.input)]),\n        name: op.name\n    };\n}\nfunction translateGroup(op) {\n    const input = translateOperation(op.input);\n    const aggs = op.aggregates.map(translateBoundAggregate);\n    context.aggregates.push(...aggs);\n    // TODO: apply possible extends\n    context.group.push(...op.variables);\n    return input;\n}\nfunction translateJoin(op) {\n    const arr = util_1.default.flatten(op.input.map(translateOperation));\n    // Merge bgps\n    // This is possible if one side was a path and the other a bgp for example\n    return arr.reduce((result, val) => {\n        if (val.type !== 'bgp' || result.length == 0 || result[result.length - 1].type !== 'bgp') {\n            result.push(val);\n        }\n        else {\n            result[result.length - 1].triples.push(...val.triples);\n        }\n        return result;\n    }, []);\n}\nfunction translateLeftJoin(op) {\n    const leftjoin = {\n        type: 'optional',\n        patterns: [\n            translateOperation(op.input[1])\n        ]\n    };\n    if (op.expression) {\n        leftjoin.patterns.push({\n            type: 'filter',\n            expression: translateExpression(op.expression)\n        });\n    }\n    leftjoin.patterns = util_1.default.flatten(leftjoin.patterns);\n    return util_1.default.flatten([\n        translateOperation(op.input[0]),\n        leftjoin\n    ]);\n}\nfunction translateMinus(op) {\n    let patterns = translateOperation(op.input[1]);\n    if (patterns.type === 'group')\n        patterns = patterns.patterns;\n    if (!Array.isArray(patterns))\n        patterns = [patterns];\n    return util_1.default.flatten([\n        translateOperation(op.input[0]),\n        {\n            type: 'minus',\n            patterns: patterns\n        }\n    ]);\n}\nfunction translateOrderBy(op) {\n    context.order.push(...op.expressions);\n    return translateOperation(op.input);\n}\nfunction translatePath(op) {\n    return {\n        type: 'bgp',\n        triples: [{\n                subject: op.subject,\n                predicate: translatePathComponent(op.predicate),\n                object: op.object\n            }]\n    };\n}\nfunction translatePattern(op) {\n    return {\n        subject: op.subject,\n        predicate: op.predicate,\n        object: op.object\n    };\n}\nfunction replaceAggregatorVariables(s, map) {\n    let st = util_1.default.isSimpleTerm(s) ? translateTerm(s) : s;\n    if (typeof st === 'string') {\n        if (map[st])\n            return map[st];\n    }\n    else if (Array.isArray(s)) {\n        s = s.map(e => replaceAggregatorVariables(e, map));\n    }\n    else {\n        for (let key of Object.keys(s))\n            s[key] = replaceAggregatorVariables(s[key], map);\n    }\n    return s;\n}\nfunction translateProject(op, type) {\n    const result = {\n        type: 'query',\n        prefixes: {}\n    };\n    // Makes typing easier in some places\n    const select = result;\n    let variables;\n    if (type === types.PROJECT) {\n        result.queryType = 'SELECT';\n        variables = op.variables;\n    }\n    else if (type === types.ASK) {\n        result.queryType = 'ASK';\n    }\n    else if (type === types.DESCRIBE) {\n        result.queryType = 'DESCRIBE';\n        variables = op.terms;\n    }\n    // backup values in case of nested queries\n    // everything in extend, group, etc. is irrelevant for this project call\n    const extend = context.extend;\n    const group = context.group;\n    const aggregates = context.aggregates;\n    const order = context.order;\n    resetContext();\n    context.project = true;\n    let input = util_1.default.flatten([translateOperation(op.input)]);\n    if (input.length === 1 && input[0].type === 'group')\n        input = input[0].patterns;\n    result.where = input;\n    let aggregators = {};\n    // these can not reference each other\n    for (let agg of context.aggregates)\n        aggregators[translateTerm(agg.variable)] = translateExpression(agg);\n    // do these in reverse order since variables in one extend might apply to an expression in an other extend\n    let extensions = {};\n    for (let i = context.extend.length - 1; i >= 0; --i) {\n        let e = context.extend[i];\n        extensions[translateTerm(e.variable)] = replaceAggregatorVariables(translateExpression(e.expression), aggregators);\n    }\n    if (context.group.length > 0)\n        select.group = context.group.map(variable => {\n            let v = translateTerm(variable);\n            if (extensions[v]) {\n                let result = extensions[v];\n                delete extensions[v]; // make sure there is only 1 'AS' statement\n                return {\n                    variable,\n                    expression: result\n                };\n            }\n            return { expression: variable };\n        });\n    // descending expressions will already be in the correct format due to the structure of those\n    if (context.order.length > 0)\n        select.order = context.order.map(translateOperation).map(o => o.descending ? o : ({ expression: o }));\n    // this needs to happen after the group because it might depend on variables generated there\n    if (variables) {\n        select.variables = variables.map((term) => {\n            let v = translateTerm(term);\n            if (extensions[v])\n                return {\n                    variable: term,\n                    expression: extensions[v]\n                };\n            return term;\n        });\n        // if the * didn't match any variables this would be empty\n        if (select.variables.length === 0)\n            select.variables = [new sparqljs_1.Wildcard()];\n    }\n    // convert filter to 'having' if it contains an aggregator variable\n    // could always convert, but is nicer to use filter when possible\n    if (result.where.length > 0 && result.where[result.where.length - 1].type === 'filter') {\n        const filter = result.where[result.where.length - 1];\n        if (objectContainsValues(filter, Object.keys(aggregators))) {\n            select.having = util_1.default.flatten([replaceAggregatorVariables(filter.expression, aggregators)]);\n            result.where.splice(-1);\n        }\n    }\n    context.extend = extend;\n    context.group = group;\n    context.aggregates = aggregates;\n    context.order = order;\n    // subqueries need to be in a group, this will be removed again later for the root query\n    return { type: 'group', patterns: [select] };\n}\nfunction objectContainsValues(o, vals) {\n    if (util_1.default.isSimpleTerm(o))\n        return vals.indexOf(translateTerm(o)) >= 0;\n    if (Array.isArray(o))\n        return o.some(e => objectContainsValues(e, vals));\n    if (o === Object(o))\n        return Object.keys(o).some(key => objectContainsValues(o[key], vals));\n    return vals.indexOf(o) >= 0;\n}\nfunction translateReduced(op) {\n    let result = translateOperation(op.input);\n    // project is nested in group object\n    result.patterns[0].reduced = true;\n    return result;\n}\nfunction translateService(op) {\n    let patterns = translateOperation(op.input);\n    if (patterns.type === 'group')\n        patterns = patterns.patterns;\n    if (!Array.isArray(patterns))\n        patterns = [patterns];\n    return {\n        type: 'service',\n        // Typings are wrong, name can also be a variable\n        name: op.name,\n        silent: op.silent,\n        patterns\n    };\n}\nfunction translateSlice(op) {\n    let result = translateOperation(op.input);\n    // results can be nested in a group object\n    let obj = result;\n    if (result.type && result.type === 'group')\n        obj = result.patterns[0];\n    if (op.start !== 0)\n        obj.offset = op.start;\n    if (op.length !== undefined)\n        obj.limit = op.length;\n    return result;\n}\nfunction translateUnion(op) {\n    return {\n        type: 'union',\n        patterns: util_1.default.flatten(op.input.map(translateOperation))\n    };\n}\nfunction translateValues(op) {\n    // TODO: check if handled correctly when outside of select block\n    return {\n        type: 'values',\n        values: op.bindings.map(binding => {\n            let result = {};\n            for (let v of op.variables) {\n                let s = `?${v.value}`;\n                if (binding[s])\n                    result[s] = binding[s];\n                else\n                    result[s] = undefined;\n            }\n            return result;\n        })\n    };\n}\n// PATH COMPONENTS\nfunction translateAlt(path) {\n    const mapped = path.input.map(translatePathComponent);\n    if (mapped.every(entry => 'pathType' in entry && entry.pathType === '!')) {\n        return {\n            type: 'path',\n            pathType: '!',\n            items: [{\n                    type: 'path',\n                    pathType: '|',\n                    items: util_1.default.flatten(mapped.map(entry => entry.items))\n                }]\n        };\n    }\n    return {\n        type: 'path',\n        pathType: '|',\n        items: mapped\n    };\n}\nfunction translateInv(path) {\n    if (path.path.type === types.NPS) {\n        const inv = path.path.iris.map((iri) => {\n            return {\n                type: 'path',\n                pathType: '^',\n                items: [iri]\n            };\n        });\n        if (inv.length <= 1)\n            return {\n                type: 'path',\n                pathType: '!',\n                items: inv\n            };\n        return {\n            type: 'path',\n            pathType: '!',\n            items: [{\n                    type: 'path',\n                    pathType: '|',\n                    items: inv\n                }]\n        };\n    }\n    return {\n        type: 'path',\n        pathType: '^',\n        items: [translatePathComponent(path.path)]\n    };\n}\nfunction translateLink(path) {\n    return path.iri;\n}\nfunction translateNps(path) {\n    if (path.iris.length <= 1)\n        return {\n            type: 'path',\n            pathType: '!',\n            items: path.iris\n        };\n    return {\n        type: 'path',\n        pathType: '!',\n        items: [{\n                type: 'path',\n                pathType: '|',\n                items: path.iris\n            }]\n    };\n}\nfunction translateOneOrMorePath(path) {\n    return {\n        type: 'path',\n        pathType: '+',\n        items: [translatePathComponent(path.path)]\n    };\n}\nfunction translateSeq(path) {\n    return {\n        type: 'path',\n        pathType: '/',\n        items: path.input.map(translatePathComponent)\n    };\n}\nfunction translateZeroOrMorePath(path) {\n    return {\n        type: 'path',\n        pathType: '*',\n        items: [translatePathComponent(path.path)]\n    };\n}\nfunction translateZeroOrOnePath(path) {\n    // Typings are missing '?' operator\n    return {\n        type: 'path',\n        // Typings are missing this path\n        pathType: '?',\n        items: [translatePathComponent(path.path)]\n    };\n}\n// UPDATE OPERATIONS\nfunction translateCompositeUpdate(op) {\n    const updates = op.updates.map(update => {\n        const result = translateOperation(update);\n        return result.updates[0];\n    });\n    return { prefixes: {}, type: 'update', updates };\n}\nfunction translateDeleteInsert(op) {\n    var _a;\n    let where = op.where;\n    let using = undefined;\n    if (where && where.type === types.FROM) {\n        let from = where;\n        where = from.input;\n        using = { default: from.default, named: from.named };\n    }\n    const updates = [{\n            updateType: 'insertdelete',\n            delete: convertUpdatePatterns(op.delete || []),\n            insert: convertUpdatePatterns(op.insert || []),\n        }];\n    // Typings don't support 'using' yet\n    if (using)\n        updates[0].using = using;\n    // corresponds to empty array in SPARQL.js\n    if (!where || (where.type === types.BGP && where.patterns.length === 0))\n        updates[0].where = [];\n    else {\n        const graphs = {};\n        let result = translateOperation(removeQuadsRecursive(where, graphs));\n        if (result.type === 'group')\n            updates[0].where = result.patterns;\n        else\n            updates[0].where = [result];\n        // graph might not be applied yet since there was no project\n        // this can only happen if there was a single graph\n        const graphNames = Object.keys(graphs);\n        if (graphNames.length > 0) {\n            if (graphNames.length !== 1)\n                throw new Error('This is unexpected and might indicate an error in graph handling for updates.');\n            const graphName = (_a = graphs[graphNames[0]]) === null || _a === void 0 ? void 0 : _a.graph;\n            // ignore if default graph\n            if (graphName && graphName.value !== '')\n                updates[0].where = [{ type: 'graph', patterns: updates[0].where, name: graphName }];\n        }\n    }\n    // not really necessary but can give cleaner looking queries\n    if (!op.delete && !op.where) {\n        updates[0].updateType = 'insert';\n        delete updates[0].delete;\n        delete updates[0].where;\n    }\n    else if (!op.insert && !op.where) {\n        delete updates[0].insert;\n        delete updates[0].where;\n        if (op.delete.some(pattern => pattern.subject.termType === 'Variable' ||\n            pattern.predicate.termType === 'Variable' ||\n            pattern.object.termType === 'Variable'))\n            updates[0].updateType = 'deletewhere';\n        else\n            updates[0].updateType = 'delete';\n    }\n    else if (!op.insert && op.where && op.where.type === 'bgp') {\n        if ((0, rdf_isomorphic_1.isomorphic)(op.delete, op.where.patterns)) {\n            delete updates[0].where;\n            updates[0].updateType = 'deletewhere';\n        }\n    }\n    return { prefixes: {}, type: 'update', updates };\n}\nfunction translateLoad(op) {\n    // Typings are wrong, destiniation is optional\n    const updates = [{ type: 'load', silent: Boolean(op.silent), source: op.source }];\n    if (op.destination)\n        updates[0].destination = op.destination;\n    return { prefixes: {}, type: 'update', updates };\n}\nfunction translateClear(op) {\n    return translateClearCreateDrop(op, 'clear');\n}\nfunction translateCreate(op) {\n    return translateClearCreateDrop(op, 'create');\n}\nfunction translateDrop(op) {\n    return translateClearCreateDrop(op, 'drop');\n}\nfunction translateClearCreateDrop(op, type) {\n    const updates = [{ type, silent: Boolean(op.silent) }];\n    // Typings are wrong, type is not required, see for example \"clear-drop\" test\n    if (op.source === 'DEFAULT')\n        updates[0].graph = { default: true };\n    else if (op.source === 'NAMED')\n        updates[0].graph = { named: true };\n    else if (op.source === 'ALL')\n        updates[0].graph = { all: true };\n    else\n        updates[0].graph = { type: 'graph', name: op.source };\n    return { prefixes: {}, type: 'update', updates };\n}\nfunction translateAdd(op) {\n    return translateUpdateGraphShortcut(op, 'add');\n}\nfunction translateMove(op) {\n    return translateUpdateGraphShortcut(op, 'move');\n}\nfunction translateCopy(op) {\n    return translateUpdateGraphShortcut(op, 'copy');\n}\nfunction translateUpdateGraphShortcut(op, type) {\n    const updates = [{ type, silent: Boolean(op.silent) }];\n    updates[0].source = op.source === 'DEFAULT' ? { type: 'graph', default: true } : { type: 'graph', name: op.source };\n    updates[0].destination = op.destination === 'DEFAULT' ? { type: 'graph', default: true } : { type: 'graph', name: op.destination };\n    return { prefixes: {}, type: 'update', updates };\n}\n// similar to removeQuads but more simplified for UPDATEs\nfunction convertUpdatePatterns(patterns) {\n    if (!patterns)\n        return [];\n    const graphs = {};\n    patterns.forEach(pattern => {\n        const graph = pattern.graph.value;\n        if (!graphs[graph])\n            graphs[graph] = [];\n        graphs[graph].push(pattern);\n    });\n    return Object.keys(graphs).map(graph => {\n        if (graph === '')\n            return { type: 'bgp', triples: graphs[graph].map(translatePattern) };\n        return { type: 'graph', triples: graphs[graph].map(translatePattern), name: graphs[graph][0].graph };\n    });\n}\nfunction removeQuads(op) {\n    return removeQuadsRecursive(op, {});\n}\n// remove quads\nfunction removeQuadsRecursive(op, graphs) {\n    if (Array.isArray(op))\n        return op.map(sub => removeQuadsRecursive(sub, graphs));\n    if (!op.type)\n        return op;\n    // UPDATE operations with Patterns handle graphs a bit differently\n    if (op.type === types.DELETE_INSERT)\n        return op;\n    if ((op.type === types.PATTERN || op.type === types.PATH) && op.graph) {\n        if (!graphs[op.graph.value])\n            graphs[op.graph.value] = { graph: op.graph, values: [] };\n        graphs[op.graph.value].values.push(op);\n        return op;\n    }\n    const result = {};\n    const keyGraphs = {}; // unique graph per key\n    const globalNames = {}; // track all the unique graph names for the entire Operation\n    for (let key of Object.keys(op)) {\n        const newGraphs = {};\n        result[key] = removeQuadsRecursive(op[key], newGraphs);\n        const graphNames = Object.keys(newGraphs);\n        // create graph statements if multiple graphs are found\n        if (graphNames.length > 1) {\n            // nest joins\n            let left = potentialGraphFromPatterns(newGraphs[graphNames[0]].values);\n            for (let i = 1; i < graphNames.length; ++i) {\n                const right = potentialGraphFromPatterns(newGraphs[graphNames[i]].values);\n                left = factory.createJoin([left, right]);\n            }\n            graphNames.map(name => delete newGraphs[name]);\n            // this ignores the result object that is being generated, but should not be a problem\n            // is only an issue for objects that have 2 keys where this can occur, which is none\n            return left;\n        }\n        else if (graphNames.length === 1) {\n            const graph = newGraphs[graphNames[0]].graph;\n            keyGraphs[key] = graph;\n            globalNames[graph.value] = graph;\n        }\n    }\n    const graphNameSet = Object.keys(globalNames);\n    if (graphNameSet.length > 0) {\n        // also need to create graph statement if we are at the edge of the query\n        if (graphNameSet.length === 1 && op.type !== types.PROJECT)\n            graphs[graphNameSet[0]] = { graph: globalNames[graphNameSet[0]], values: [result] };\n        else {\n            // multiple graphs (or project), need to create graph objects for them\n            for (let key of Object.keys(keyGraphs))\n                if (keyGraphs[key].value.length > 0)\n                    // TODO: Should check if this cast and graph cast below are correct\n                    result[key] = factory.createGraph(result[key], keyGraphs[key]);\n        }\n    }\n    return result;\n}\nfunction potentialGraphFromPatterns(patterns) {\n    const bgp = factory.createBgp(patterns);\n    const name = patterns[0].graph;\n    if (name.value.length === 0)\n        return bgp;\n    // TODO: not sure about typings here, would have to check in the future\n    return factory.createGraph(bgp, name);\n}\n//# sourceMappingURL=sparql.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst equal = require(\"fast-deep-equal/es6\");\nconst rdf_string_1 = require(\"rdf-string\");\nconst Algebra = __importStar(require(\"./algebra\"));\nconst factory_1 = __importDefault(require(\"./factory\"));\nconst util_1 = __importDefault(require(\"./util\"));\nconst Parser = require('sparqljs').Parser;\nconst types = Algebra.types;\nlet variables = new Set();\nlet varCount = 0;\nlet useQuads = false;\nlet factory;\n/**\n * Translates the given SPARQL query to SPARQL Algebra.\n * @param sparql - Either a SPARQL string or an object generated by sparql.js\n * @param options - Optional options object. Current options:\n *                    * dataFactory: The Datafactory used to generate terms. Default @rdfjs/data-model.\n *                    * quads: Boolean indicating whether triples should be converted to Quads (consumes GRAPH statements). Default false.\n *                    * prefixes: Pre-defined prefixes for the given query. Default empty.\n *                    * baseIRI: Base IRI that should be used for the query. Default undefined (throws error if required).\n * @returns {Operation}\n */\nfunction translate(sparql, options) {\n    options = options || {};\n    factory = new factory_1.default(options.dataFactory);\n    let query;\n    if (isString(sparql)) {\n        let parser = new Parser(options);\n        // resets the identifier counter used for blank nodes\n        // provides nicer and more consistent output if there are multiple calls\n        parser._resetBlanks();\n        query = parser.parse(sparql);\n    }\n    else {\n        query = sparql;\n    }\n    return translateQuery(query, options.quads, options.blankToVariable);\n}\nexports.default = translate;\nfunction translateQuery(sparql, quads, blankToVariable) {\n    // this set is filled in during the inScopeVariables call\n    variables = new Set();\n    varCount = 0;\n    useQuads = Boolean(quads);\n    // Assume this is an empty query\n    if (!sparql.type)\n        return factory.createNop();\n    if (sparql.type !== 'query' && sparql.type !== 'update')\n        throw new Error('Translate only works on complete query or update objects.');\n    let res;\n    // find ALL variables here to fill `variables` array\n    findAllVariables(sparql);\n    if (sparql.type === 'query') {\n        // group and where are identical, having only 1 makes parsing easier, can be undefined in DESCRIBE\n        const group = { type: 'group', patterns: sparql.where || [] };\n        res = translateGroupGraphPattern(group);\n        res = translateAggregates(sparql, res);\n    }\n    else if (sparql.type === 'update') {\n        res = translateUpdate(sparql);\n    }\n    if (blankToVariable) {\n        res = translateBlankNodesToVariables(res);\n    }\n    return res;\n}\nfunction isString(str) {\n    return typeof str === 'string';\n}\nfunction isTerm(term) {\n    return Boolean(term === null || term === void 0 ? void 0 : term.termType);\n}\n// This is not completely correct but this way we also catch SPARQL.js triples\nfunction isTriple(triple) {\n    return triple.subject && triple.predicate && triple.object;\n}\nfunction isVariable(term) {\n    return (term === null || term === void 0 ? void 0 : term.termType) === 'Variable';\n}\n// Will be used to make sure new variables don't overlap\nfunction findAllVariables(thingy) {\n    if (isTerm(thingy)) {\n        if (isVariable(thingy)) {\n            // Variables don't store the `?`\n            variables.add(`?${thingy.value}`);\n        }\n    }\n    else if (Array.isArray(thingy)) {\n        for (const entry of thingy)\n            findAllVariables(entry);\n    }\n    else if (thingy && typeof thingy === 'object') {\n        for (let key of Object.keys(thingy)) {\n            // Some variables are hidden in keys (specifically for VALUES)\n            if (key.startsWith('?'))\n                variables.add(key);\n            findAllVariables(thingy[key]);\n        }\n    }\n}\n// 18.2.1\nfunction inScopeVariables(thingy) {\n    let inScope = {};\n    if (isTriple(thingy)) {\n        // Note that this could both be an actual Quad or a SPARQL.js triple (without graph)\n        const result = [\n            inScopeVariables(thingy.subject),\n            inScopeVariables(thingy.predicate),\n            inScopeVariables(thingy.object),\n            thingy.graph ? inScopeVariables(thingy.graph) : {}\n        ];\n        Object.assign(inScope, ...result);\n    }\n    else if (isTerm(thingy)) {\n        if (isVariable(thingy))\n            inScope[thingy.value] = thingy;\n    }\n    else if (thingy.type === 'bgp') {\n        // Slightly cheating but this is a subset of what we support so is fine\n        const quads = thingy.triples;\n        Object.assign(inScope, ...quads.map(inScopeVariables));\n    }\n    else if (thingy.type === 'path') {\n        // A path predicate should not have variables but just iterating so we could theoretically support this\n        Object.assign(inScope, ...thingy.items.map(inScopeVariables));\n    }\n    else if (thingy.type === 'group' || thingy.type === 'union' || thingy.type === 'optional') {\n        Object.assign(inScope, ...thingy.patterns.map(inScopeVariables));\n    }\n    else if (thingy.type === 'service' || thingy.type === 'graph') {\n        Object.assign(inScope, inScopeVariables(thingy.name));\n        Object.assign(inScope, ...thingy.patterns.map(inScopeVariables));\n    }\n    else if (thingy.type === 'bind') {\n        Object.assign(inScope, inScopeVariables(thingy.variable));\n    }\n    else if (thingy.type === 'values') {\n        if (thingy.values.length > 0) {\n            const vars = Object.keys(thingy.values[0]).map(v => factory.createTerm(v));\n            Object.assign(inScope, ...vars.map(inScopeVariables));\n        }\n    }\n    else if (thingy.type === 'query') {\n        if (thingy.queryType === 'SELECT' || thingy.queryType === 'DESCRIBE') {\n            if (thingy.where && thingy.variables.some(util_1.default.isWildcard))\n                Object.assign(inScope, ...thingy.where.map(inScopeVariables));\n            for (const v of thingy.variables) {\n                if (isVariable(v))\n                    Object.assign(inScope, inScopeVariables(v));\n                else if (v.variable)\n                    Object.assign(inScope, inScopeVariables(v.variable));\n            }\n            if (thingy.queryType === 'SELECT') {\n                if (thingy.group) {\n                    // Grouping can be a VariableExpression, typings are wrong\n                    for (const g of thingy.group) {\n                        if (g.variable)\n                            Object.assign(inScope, inScopeVariables(g.variable));\n                    }\n                }\n                if (thingy.values) {\n                    const values = { type: 'values', values: thingy.values };\n                    Object.assign(inScope, inScopeVariables(values));\n                }\n            }\n        }\n    }\n    return inScope;\n}\nfunction translateGroupGraphPattern(thingy) {\n    // 18.2.2.1\n    // already done by sparql parser\n    // 18.2.2.2\n    let filters = [];\n    let nonfilters = [];\n    if ('patterns' in thingy)\n        for (let pattern of thingy.patterns)\n            (pattern.type === 'filter' ? filters : nonfilters).push(pattern);\n    // 18.2.2.3\n    // 18.2.2.4\n    // 18.2.2.5\n    if (thingy.type === 'bgp')\n        return translateBgp(thingy);\n    // 18.2.2.6\n    let result;\n    if (thingy.type === 'union')\n        result = factory.createUnion(nonfilters.map((p) => {\n            // sparqljs doesn't always indicate the children are groups\n            if (p.type !== 'group')\n                p = { type: 'group', patterns: [p] };\n            return translateGroupGraphPattern(p);\n        }));\n    else if (thingy.type === 'graph')\n        // need to handle this separately since the filters need to be in the graph\n        return translateGraph(thingy);\n    else if (thingy.type === 'group')\n        result = nonfilters.reduce(accumulateGroupGraphPattern, factory.createBgp([]));\n    // custom values operation\n    else if (thingy.type === 'values')\n        result = translateInlineData(thingy);\n    else if (thingy.type === 'query')\n        result = translateQuery(thingy, useQuads, false);\n    else\n        throw new Error(`Unexpected type: ${thingy.type}`);\n    if (filters.length > 0) {\n        let expressions = filters.map(filter => translateExpression(filter.expression));\n        if (expressions.length > 0)\n            result = factory.createFilter(result, expressions.reduce((acc, exp) => factory.createOperatorExpression('&&', [acc, exp])));\n    }\n    return result;\n}\nfunction translateExpression(exp) {\n    if (util_1.default.isSimpleTerm(exp) || util_1.default.isQuad(exp))\n        return factory.createTermExpression(exp);\n    if (util_1.default.isWildcard(exp))\n        return factory.createWildcardExpression();\n    if ('aggregation' in exp)\n        return factory.createAggregateExpression(exp.aggregation, translateExpression(exp.expression), Boolean(exp.distinct), exp.separator);\n    if ('function' in exp)\n        // Outdated typings\n        return factory.createNamedExpression(exp.function, exp.args.map(translateExpression));\n    if ('operator' in exp) {\n        if (exp.operator === 'exists' || exp.operator === 'notexists')\n            return factory.createExistenceExpression(exp.operator === 'notexists', translateGroupGraphPattern(exp.args[0]));\n        if (exp.operator === 'in' || exp.operator === 'notin')\n            exp.args = [exp.args[0]].concat(exp.args[1]); // sparql.js uses 2 arguments with the second one being a list\n        return factory.createOperatorExpression(exp.operator, exp.args.map(translateExpression));\n    }\n    throw new Error(`Unknown expression: ${JSON.stringify(exp)}`);\n}\nfunction translateBgp(thingy) {\n    let patterns = [];\n    let joins = [];\n    for (let t of thingy.triples) {\n        if ('pathType' in t.predicate) {\n            // translatePath returns a mix of Quads and Paths\n            let path = translatePath(t);\n            for (let p of path) {\n                if (p.type === types.PATH) {\n                    if (patterns.length > 0)\n                        joins.push(factory.createBgp(patterns));\n                    patterns = [];\n                    joins.push(p);\n                }\n                else\n                    patterns.push(p);\n            }\n        }\n        else\n            patterns.push(translateQuad(t));\n    }\n    if (patterns.length > 0)\n        joins.push(factory.createBgp(patterns));\n    if (joins.length === 1)\n        return joins[0];\n    return factory.createJoin(joins);\n}\nfunction translatePath(triple) {\n    let sub = triple.subject;\n    let pred = translatePathPredicate(triple.predicate);\n    let obj = triple.object;\n    return simplifyPath(sub, pred, obj);\n}\nfunction translatePathPredicate(predicate) {\n    if (util_1.default.isSimpleTerm(predicate)) {\n        if (predicate.termType === 'NamedNode')\n            return factory.createLink(predicate);\n        else\n            throw new Error(`Path predicate should be a NamedNode, got ${JSON.stringify(predicate)}`);\n    }\n    if (predicate.pathType === '^')\n        return factory.createInv(translatePathPredicate(predicate.items[0]));\n    if (predicate.pathType === '!') {\n        // negation is either over a single predicate or a list of disjuncted properties\n        let normals = [];\n        let inverted = [];\n        let items;\n        if ('pathType' in predicate.items[0] && predicate.items[0].pathType === '|')\n            items = predicate.items[0].items; // the | element\n        else\n            items = predicate.items;\n        for (let item of items) {\n            if (util_1.default.isSimpleTerm(item))\n                normals.push(item);\n            else if (item.pathType === '^')\n                inverted.push(item.items[0]);\n            else\n                throw new Error(`Unexpected item: ${JSON.stringify(item)}`);\n        }\n        // NPS elements do not have the LINK function\n        let normalElement = factory.createNps(normals);\n        let invertedElement = factory.createInv(factory.createNps(inverted));\n        if (inverted.length === 0)\n            return normalElement;\n        if (normals.length === 0)\n            return invertedElement;\n        return factory.createAlt([normalElement, invertedElement,]);\n    }\n    if (predicate.pathType === '/')\n        return factory.createSeq(predicate.items.map(translatePathPredicate));\n    if (predicate.pathType === '|')\n        return factory.createAlt(predicate.items.map(translatePathPredicate));\n    if (predicate.pathType === '*')\n        return factory.createZeroOrMorePath(translatePathPredicate(predicate.items[0]));\n    if (predicate.pathType === '+')\n        return factory.createOneOrMorePath(translatePathPredicate(predicate.items[0]));\n    if (predicate.pathType === '?')\n        return factory.createZeroOrOnePath(translatePathPredicate(predicate.items[0]));\n    throw new Error(`Unable to translate path expression ${JSON.stringify(predicate)}`);\n}\nfunction simplifyPath(subject, predicate, object) {\n    if (predicate.type === types.LINK)\n        return [factory.createPattern(subject, predicate.iri, object)];\n    if (predicate.type === types.INV)\n        return simplifyPath(object, predicate.path, subject);\n    if (predicate.type === types.SEQ) {\n        let joiner = subject;\n        return util_1.default.flatten(predicate.input.map((subOp, i) => {\n            const nextJoiner = i === predicate.input.length - 1 ? object : generateFreshVar();\n            const simplifiedPath = simplifyPath(joiner, subOp, nextJoiner);\n            if (nextJoiner.termType === 'Variable') {\n                joiner = nextJoiner;\n            }\n            return simplifiedPath;\n        }));\n    }\n    return [factory.createPath(subject, predicate, object)];\n}\nfunction generateFreshVar() {\n    let v = `?var${varCount++}`;\n    if (variables.has(v))\n        return generateFreshVar();\n    variables.add(v);\n    return factory.createTerm(v);\n}\nfunction translateQuad(quad) {\n    if ('pathType' in quad.predicate) {\n        throw new Error('Trying to translate property path to quad.');\n    }\n    // Graphs are needed here\n    // TODO: investigate if typings are wrong or if we internally add graphs to these\n    return factory.createPattern(quad.subject, quad.predicate, quad.object, quad.graph);\n}\nfunction translateGraph(graph) {\n    const group = { type: 'group', patterns: graph.patterns };\n    let result = translateGroupGraphPattern(group);\n    if (useQuads)\n        result = recurseGraph(result, graph.name);\n    else\n        result = factory.createGraph(result, graph.name);\n    return result;\n}\nlet typeVals = Object.values(types);\nfunction recurseGraph(thingy, graph, replacement) {\n    if (thingy.type === types.GRAPH) {\n        if (replacement) {\n            // At this point we would lose track of the replacement which would result in incorrect results\n            // This would indicate the library is not being used as intended though\n            throw new Error('Recursing through nested GRAPH statements with a replacement is impossible.');\n        }\n        // In case there were nested GRAPH statements that were not recursed yet for some reason\n        thingy = recurseGraph(thingy.input, thingy.name);\n    }\n    else if (thingy.type === types.BGP)\n        thingy.patterns = thingy.patterns.map(quad => {\n            if (replacement) {\n                if (quad.subject.equals(graph))\n                    quad.subject = replacement;\n                if (quad.predicate.equals(graph))\n                    quad.predicate = replacement;\n                if (quad.object.equals(graph))\n                    quad.object = replacement;\n            }\n            if (quad.graph.termType === 'DefaultGraph')\n                quad.graph = graph;\n            return quad;\n        });\n    else if (thingy.type === types.PATH) {\n        if (replacement) {\n            if (thingy.subject.equals(graph))\n                thingy.subject = replacement;\n            if (thingy.object.equals(graph))\n                thingy.object = replacement;\n        }\n        if (thingy.graph.termType === 'DefaultGraph')\n            thingy.graph = graph;\n    }\n    // need to replace variables in subqueries should the graph also be a variable of the same name\n    // unless the subquery projects that variable\n    else if (thingy.type === types.PROJECT && !replacement) {\n        if (!thingy.variables.some(v => v.equals(graph)))\n            replacement = generateFreshVar();\n        thingy.input = recurseGraph(thingy.input, graph, replacement);\n    }\n    // this can happen if the query extends an expression to the name of the graph\n    // since the extend happens here there should be no further occurrences of this name\n    // if there are it's the same situation as above\n    else if (thingy.type === types.EXTEND && !replacement) {\n        if (thingy.variable.equals(graph))\n            replacement = generateFreshVar();\n        thingy.input = recurseGraph(thingy.input, graph, replacement);\n    }\n    else {\n        for (let key of Object.keys(thingy)) {\n            if (Array.isArray(thingy[key]))\n                thingy[key] = thingy[key].map((x) => recurseGraph(x, graph, replacement));\n            else if (typeVals.indexOf(thingy[key].type) >= 0) // can't do instanceof on an interface\n                thingy[key] = recurseGraph(thingy[key], graph, replacement);\n            else if (replacement && isVariable(thingy[key]) && thingy[key].equals(graph))\n                thingy[key] = replacement;\n        }\n    }\n    return thingy;\n}\nfunction accumulateGroupGraphPattern(G, E) {\n    if (E.type === 'optional') {\n        // optional input needs to be interpreted as a group\n        const A = translateGroupGraphPattern({ type: 'group', patterns: E.patterns });\n        if (A.type === types.FILTER) {\n            G = factory.createLeftJoin(G, A.input, A.expression);\n        }\n        else\n            G = factory.createLeftJoin(G, A);\n    }\n    else if (E.type === 'minus') {\n        // minus input needs to be interpreted as a group\n        const A = translateGroupGraphPattern({ type: 'group', patterns: E.patterns });\n        G = factory.createMinus(G, A);\n    }\n    else if (E.type === 'bind')\n        G = factory.createExtend(G, E.variable, translateExpression(E.expression));\n    else if (E.type === 'service') {\n        // transform to group so childnodes get parsed correctly\n        const group = { type: 'group', patterns: E.patterns };\n        const A = factory.createService(translateGroupGraphPattern(group), E.name, E.silent);\n        G = simplifiedJoin(G, A);\n    }\n    else {\n        const A = translateGroupGraphPattern(E);\n        G = simplifiedJoin(G, A);\n    }\n    return G;\n}\nfunction simplifiedJoin(G, A) {\n    // Note: this is more simplification than requested in 18.2.2.8, but no reason not to do it.\n    if (G.type === types.BGP && A.type === types.BGP)\n        G = factory.createBgp([...G.patterns, ...A.patterns]);\n    // 18.2.2.8 (simplification)\n    else if (G.type === types.BGP && G.patterns.length === 0)\n        G = A;\n    else if (A.type === types.BGP && A.patterns.length === 0) { } // do nothing\n    else\n        G = factory.createJoin([G, A]);\n    return G;\n}\nfunction translateInlineData(values) {\n    let variables = (values.values.length === 0 ? [] : Object.keys(values.values[0])).map(factory.createTerm.bind(factory));\n    let bindings = values.values.map((binding) => {\n        let keys = Object.keys(binding);\n        keys = keys.filter(k => binding[k] !== undefined);\n        let map = {};\n        for (let key of keys)\n            map[key] = binding[key];\n        return map;\n    });\n    return factory.createValues(variables, bindings);\n}\n// --------------------------------------- AGGREGATES\nfunction translateAggregates(query, res) {\n    // Typings for ConstructQuery are wrong and missing several fields so we will cast quite often to SelectQuery to have partial typings\n    const select = query;\n    // 18.2.4.1\n    const E = [];\n    const A = {};\n    select.variables = select.variables && select.variables.map(val => mapAggregate(val, A));\n    select.having = select.having && select.having.map(val => mapAggregate(val, A));\n    select.order = select.order && select.order.map(val => mapAggregate(val, A));\n    // if there are any aggregates or if we have a groupBy (both result in a GROUP)\n    if (select.group || Object.keys(A).length > 0) {\n        const aggregates = Object.keys(A).map(v => translateBoundAggregate(A[v], factory.createTerm(v)));\n        const vars = [];\n        if (select.group) {\n            for (const e of select.group) {\n                if (util_1.default.isSimpleTerm(e.expression)) {\n                    vars.push(e.expression); // this will always be a var, otherwise sparql would be invalid\n                }\n                else {\n                    // Incorrect typings, e can have a variable, see for example group-variable test in sparql.js\n                    const v = 'variable' in e ? e.variable : generateFreshVar();\n                    res = factory.createExtend(res, v, translateExpression(e.expression));\n                    vars.push(v);\n                }\n            }\n        }\n        res = factory.createGroup(res, vars, aggregates);\n    }\n    // 18.2.4.2\n    if (select.having)\n        for (let filter of select.having)\n            res = factory.createFilter(res, translateExpression(filter));\n    // 18.2.4.3\n    if (query.values)\n        res = factory.createJoin([res, translateInlineData(query)]);\n    // 18.2.4.4\n    let PV = [];\n    if (query.queryType === 'SELECT' || query.queryType === 'DESCRIBE') {\n        // Sort variables for consistent output\n        if (query.variables.some((e) => e && util_1.default.isWildcard(e)))\n            PV = Object.values(inScopeVariables(query))\n                .sort((left, right) => left.value.localeCompare(right.value));\n        else {\n            // Wildcard has been filtered out above\n            for (let v of query.variables) {\n                // can have non-variables with DESCRIBE\n                if (isVariable(v) || !('variable' in v))\n                    PV.push(v);\n                else if (v.variable) // ... AS ?x\n                 {\n                    PV.push(v.variable);\n                    E.push(v);\n                }\n            }\n        }\n    }\n    // TODO: Jena simplifies by having a list of extends\n    for (let v of E)\n        res = factory.createExtend(res, v.variable, translateExpression(v.expression));\n    // 18.2.5\n    // not using toList and toMultiset\n    // 18.2.5.1\n    if (select.order)\n        res = factory.createOrderBy(res, select.order.map((exp) => {\n            let result = translateExpression(exp.expression);\n            if (exp.descending)\n                result = factory.createOperatorExpression('desc', [result]);\n            return result;\n        }));\n    // 18.2.5.2\n    // construct does not need a project (select, ask and describe do)\n    if (query.queryType === 'SELECT')\n        // Named nodes are only possible in a DESCRIBE so this cast is safe\n        res = factory.createProject(res, PV);\n    // 18.2.5.3\n    if (select.distinct)\n        res = factory.createDistinct(res);\n    // 18.2.5.4\n    if (select.reduced)\n        res = factory.createReduced(res);\n    // NEW: support for ask/construct/describe queries\n    if (query.queryType === 'CONSTRUCT')\n        res = factory.createConstruct(res, (query.template || []).map(translateQuad));\n    else if (query.queryType === 'ASK')\n        res = factory.createAsk(res);\n    else if (query.queryType === 'DESCRIBE')\n        res = factory.createDescribe(res, PV);\n    // Slicing needs to happen after construct/describe\n    // 18.2.5.5\n    if (select.offset || select.limit)\n        res = factory.createSlice(res, select.offset || 0, select.limit);\n    if (select.from)\n        res = factory.createFrom(res, select.from.default, select.from.named);\n    return res;\n}\n// rewrites some of the input sparql object to make use of aggregate variables\nfunction mapAggregate(thingy, aggregates) {\n    if ('type' in thingy && thingy.type === 'aggregate') {\n        let found = false;\n        let v;\n        for (let key of Object.keys(aggregates)) {\n            if (equal(aggregates[key], thingy)) {\n                v = factory.createTerm(key);\n                found = true;\n                break;\n            }\n        }\n        if (!found) {\n            v = generateFreshVar();\n            aggregates[(0, rdf_string_1.termToString)(v)] = thingy;\n        }\n        return v;\n    }\n    // non-aggregate expression\n    if ('expression' in thingy && thingy.expression)\n        return { ...thingy, expression: mapAggregate(thingy.expression, aggregates) };\n    if ('args' in thingy && thingy.args)\n        return { ...thingy, args: thingy.args.map(subthingy => mapAggregate(subthingy, aggregates)) };\n    // Normal variable/wildcard\n    return thingy;\n}\nfunction translateBoundAggregate(thingy, v) {\n    if (thingy.type !== 'aggregate' || !thingy.aggregation)\n        throw new Error(`Unexpected input: ${JSON.stringify(thingy)}`);\n    const A = translateExpression(thingy);\n    A.variable = v;\n    return A;\n}\nfunction translateUpdate(thingy) {\n    if (thingy.updates.length === 1)\n        return translateSingleUpdate(thingy.updates[0]);\n    return factory.createCompositeUpdate(thingy.updates.map(translateSingleUpdate));\n}\nfunction translateSingleUpdate(thingy) {\n    if ('type' in thingy) {\n        if (thingy.type === 'load')\n            return translateUpdateGraphLoad(thingy);\n        if (thingy.type === 'clear' || thingy.type === 'create' || thingy.type === 'drop')\n            return translateUpdateGraph(thingy);\n        if (thingy.type === 'add' || thingy.type === 'copy' || thingy.type === 'move')\n            return translateUpdateGraphShortcut(thingy);\n    }\n    else if (thingy.updateType === 'insertdelete' || thingy.updateType === 'deletewhere' || thingy.updateType === 'delete' || thingy.updateType === 'insert')\n        return translateInsertDelete(thingy);\n    throw new Error(`Unknown update type ${JSON.stringify(thingy)}`);\n}\nfunction translateInsertDelete(thingy) {\n    if (!useQuads)\n        throw new Error('INSERT/DELETE operations are only supported with quads option enabled');\n    let deleteTriples = [];\n    let insertTriples = [];\n    let where;\n    if (thingy.delete)\n        deleteTriples = util_1.default.flatten(thingy.delete.map(input => translateUpdateTriplesBlock(input, thingy.graph)));\n    if (thingy.insert)\n        insertTriples = util_1.default.flatten(thingy.insert.map(input => translateUpdateTriplesBlock(input, thingy.graph)));\n    if (thingy.where && thingy.where.length > 0) {\n        where = translateGroupGraphPattern({ type: 'group', patterns: thingy.where });\n        // Wrong typings, see test \"using\" in Sparql.js\n        const using = thingy.using;\n        if (using)\n            where = factory.createFrom(where, using.default, using.named);\n        else if (thingy.graph)\n            // This is equivalent\n            where = recurseGraph(where, thingy.graph);\n    }\n    else if (thingy.updateType === 'deletewhere' && deleteTriples.length > 0) {\n        where = factory.createBgp(deleteTriples);\n    }\n    return factory.createDeleteInsert(deleteTriples.length > 0 ? deleteTriples : undefined, insertTriples.length > 0 ? insertTriples : undefined, where);\n}\n// UPDATE parsing will always return quads and have no GRAPH elements\nfunction translateUpdateTriplesBlock(thingy, graph) {\n    let currentGraph = graph;\n    if (thingy.type === 'graph')\n        currentGraph = thingy.name;\n    let currentTriples = thingy.triples;\n    if (currentGraph)\n        currentTriples = currentTriples.map(triple => Object.assign(triple, { graph: currentGraph }));\n    return currentTriples.map(translateQuad);\n}\nfunction translateUpdateGraph(thingy) {\n    let source;\n    if (util_1.default.isSimpleTerm(thingy.graph))\n        source = thingy.graph;\n    else if (thingy.graph.all)\n        source = 'ALL';\n    else if (thingy.graph.default)\n        source = 'DEFAULT';\n    else if (thingy.graph.named)\n        source = 'NAMED';\n    else\n        source = thingy.graph.name;\n    switch (thingy.type) {\n        case 'clear': return factory.createClear(source, thingy.silent);\n        case 'create': return factory.createCreate(source, thingy.silent);\n        case 'drop': return factory.createDrop(source, thingy.silent);\n    }\n}\nfunction translateUpdateGraphLoad(thingy) {\n    return factory.createLoad(thingy.source, thingy.destination, thingy.silent);\n}\nfunction translateUpdateGraphShortcut(thingy) {\n    const source = thingy.source.default ? 'DEFAULT' : thingy.source.name;\n    const destination = thingy.destination.default ? 'DEFAULT' : thingy.destination.name;\n    switch (thingy.type) {\n        case 'copy': return factory.createCopy(source, destination, thingy.silent);\n        case 'move': return factory.createMove(source, destination, thingy.silent);\n        case 'add': return factory.createAdd(source, destination, thingy.silent);\n    }\n}\nfunction translateBlankNodesToVariables(res) {\n    const blankToVariableMapping = {};\n    const variablesRaw = Array.from(variables).reduce((acc, variable) => {\n        acc[variable] = true;\n        return acc;\n    }, {});\n    return util_1.default.mapOperation(res, {\n        [Algebra.types.DELETE_INSERT]: (op) => {\n            // Only relevant for INSERT operations as others should never contain blank nodes\n            return { result: op, recurse: false };\n        },\n        [Algebra.types.PATH]: (op, factory) => {\n            return {\n                result: factory.createPath(blankToVariable(op.subject), op.predicate, blankToVariable(op.object), blankToVariable(op.graph)),\n                recurse: false,\n            };\n        },\n        [Algebra.types.PATTERN]: (op, factory) => {\n            return {\n                result: factory.createPattern(blankToVariable(op.subject), blankToVariable(op.predicate), blankToVariable(op.object), blankToVariable(op.graph)),\n                recurse: false,\n            };\n        },\n        [Algebra.types.CONSTRUCT]: (op) => {\n            // Blank nodes in CONSTRUCT templates must be maintained\n            return {\n                result: factory.createConstruct(translateBlankNodesToVariables(op.input), op.template),\n                recurse: false,\n            };\n        },\n    });\n    function blankToVariable(term) {\n        if (term.termType === 'BlankNode') {\n            let variable = blankToVariableMapping[term.value];\n            if (!variable) {\n                variable = util_1.default.createUniqueVariable(term.value, variablesRaw, factory.dataFactory);\n                variablesRaw[variable.value] = true;\n                blankToVariableMapping[term.value] = variable;\n            }\n            return variable;\n        }\n        return term;\n    }\n}\n//# sourceMappingURL=sparqlAlgebra.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst algebra_1 = require(\"./algebra\");\nconst factory_1 = __importDefault(require(\"./factory\"));\nclass Util {\n    /**\n     * Flattens an array of arrays to an array.\n     * @param arr - Array of arrays\n     */\n    static flatten(arr) {\n        return Array.prototype.concat(...arr).filter(x => x);\n    }\n    /**\n     * Outputs a JSON object corresponding to the input algebra-like.\n     */\n    static objectify(algebra) {\n        if (algebra.termType) {\n            if (algebra.termType === 'Quad') {\n                return {\n                    type: 'pattern',\n                    termType: 'Quad',\n                    subject: Util.objectify(algebra.subject),\n                    predicate: Util.objectify(algebra.predicate),\n                    object: Util.objectify(algebra.object),\n                    graph: Util.objectify(algebra.graph),\n                };\n            }\n            else {\n                let result = { termType: algebra.termType, value: algebra.value };\n                if (algebra.language)\n                    result.language = algebra.language;\n                if (algebra.datatype)\n                    result.datatype = Util.objectify(algebra.datatype);\n                return result;\n            }\n        }\n        if (Array.isArray(algebra))\n            return algebra.map(e => Util.objectify(e));\n        if (algebra === Object(algebra)) {\n            let result = {};\n            for (let key of Object.keys(algebra))\n                result[key] = Util.objectify(algebra[key]);\n            return result;\n        }\n        return algebra;\n    }\n    /**\n     * Detects all in-scope variables.\n     * In practice this means iterating through the entire algebra tree, finding all variables,\n     * and stopping when a project function is found.\n     * @param {Operation} op - Input algebra tree.\n     * @returns {Variable[]} - List of unique in-scope variables.\n     */\n    static inScopeVariables(op) {\n        const variables = [];\n        function addVariable(v) {\n            if (!variables.find(v2 => v.value === v2.value))\n                variables.push(v);\n        }\n        function recurseTerm(quad) {\n            if (quad.subject.termType === 'Variable')\n                addVariable(quad.subject);\n            if (quad.predicate.termType === 'Variable')\n                addVariable(quad.predicate);\n            if (quad.object.termType === 'Variable')\n                addVariable(quad.object);\n            if (quad.graph.termType === 'Variable')\n                addVariable(quad.graph);\n            if (quad.subject.termType === 'Quad')\n                recurseTerm(quad.subject);\n            if (quad.predicate.termType === 'Quad')\n                recurseTerm(quad.predicate);\n            if (quad.object.termType === 'Quad')\n                recurseTerm(quad.object);\n            if (quad.graph.termType === 'Quad')\n                recurseTerm(quad.graph);\n        }\n        // https://www.w3.org/TR/sparql11-query/#variableScope\n        Util.recurseOperation(op, {\n            [algebra_1.types.EXPRESSION]: (op) => {\n                if (op.expressionType === algebra_1.expressionTypes.AGGREGATE && op.variable) {\n                    addVariable(op.variable);\n                }\n                return true;\n            },\n            [algebra_1.types.EXTEND]: (op) => {\n                addVariable(op.variable);\n                return true;\n            },\n            [algebra_1.types.GRAPH]: (op) => {\n                if (op.name.termType === 'Variable')\n                    addVariable(op.name);\n                return true;\n            },\n            [algebra_1.types.GROUP]: (op) => {\n                op.variables.forEach(addVariable);\n                return true;\n            },\n            [algebra_1.types.PATH]: (op) => {\n                if (op.subject.termType === 'Variable')\n                    addVariable(op.subject);\n                if (op.object.termType === 'Variable')\n                    addVariable(op.object);\n                if (op.graph.termType === 'Variable')\n                    addVariable(op.graph);\n                if (op.subject.termType === 'Quad')\n                    recurseTerm(op.subject);\n                if (op.object.termType === 'Quad')\n                    recurseTerm(op.object);\n                if (op.graph.termType === 'Quad')\n                    recurseTerm(op.graph);\n                return true;\n            },\n            [algebra_1.types.PATTERN]: (op) => {\n                recurseTerm(op);\n                return true;\n            },\n            [algebra_1.types.PROJECT]: (op) => {\n                op.variables.forEach(addVariable);\n                return false;\n            },\n            [algebra_1.types.SERVICE]: (op) => {\n                if (op.name.termType === 'Variable')\n                    addVariable(op.name);\n                return true;\n            },\n            [algebra_1.types.VALUES]: (op) => {\n                op.variables.forEach(addVariable);\n                return true;\n            },\n        });\n        return variables;\n    }\n    /**\n     * Recurses through the given algebra tree\n     * A map of callback functions can be provided for individual Operation types to gather data.\n     * The return value of those callbacks should indicate whether recursion should be applied or not.\n     * Making modifications will change the original input object.\n     * @param {Operation} op - The Operation to recurse on.\n     * @param { [type: string]: (op: Operation) => boolean } callbacks - A map of required callback Operations.\n     */\n    static recurseOperation(op, callbacks) {\n        let result = op;\n        let doRecursion = true;\n        const callback = callbacks[op.type];\n        if (callback)\n            // Not sure how to get typing correct for op here\n            doRecursion = callback(op);\n        if (!doRecursion)\n            return;\n        let recurseOp = (op) => Util.recurseOperation(op, callbacks);\n        switch (result.type) {\n            case algebra_1.types.ALT:\n                result.input.map(recurseOp);\n                break;\n            case algebra_1.types.ASK:\n                recurseOp(result.input);\n                break;\n            case algebra_1.types.BGP:\n                result.patterns.forEach(recurseOp);\n                break;\n            case algebra_1.types.CONSTRUCT:\n                recurseOp(result.input);\n                result.template.map(recurseOp);\n                break;\n            case algebra_1.types.DESCRIBE:\n                recurseOp(result.input);\n                break;\n            case algebra_1.types.DISTINCT:\n                recurseOp(result.input);\n                break;\n            case algebra_1.types.EXPRESSION:\n                if (result.expressionType === algebra_1.expressionTypes.EXISTENCE) {\n                    recurseOp(result.input);\n                }\n                break;\n            case algebra_1.types.EXTEND:\n                recurseOp(result.input);\n                recurseOp(result.expression);\n                break;\n            case algebra_1.types.FILTER:\n                recurseOp(result.input);\n                recurseOp(result.expression);\n                break;\n            case algebra_1.types.FROM:\n                recurseOp(result.input);\n                break;\n            case algebra_1.types.GRAPH:\n                recurseOp(result.input);\n                break;\n            case algebra_1.types.GROUP:\n                recurseOp(result.input);\n                result.aggregates.forEach(recurseOp);\n                break;\n            case algebra_1.types.INV:\n                recurseOp(result.path);\n                break;\n            case algebra_1.types.JOIN:\n                result.input.map(recurseOp);\n                break;\n            case algebra_1.types.LEFT_JOIN:\n                result.input.map(recurseOp);\n                if (result.expression)\n                    recurseOp(result.expression);\n                break;\n            case algebra_1.types.LINK:\n                break;\n            case algebra_1.types.MINUS:\n                result.input.map(recurseOp);\n                break;\n            case algebra_1.types.NOP:\n                break;\n            case algebra_1.types.NPS:\n                break;\n            case algebra_1.types.ONE_OR_MORE_PATH:\n                recurseOp(result.path);\n                break;\n            case algebra_1.types.ORDER_BY:\n                recurseOp(result.input);\n                result.expressions.forEach(recurseOp);\n                break;\n            case algebra_1.types.PATH:\n                recurseOp(result.predicate);\n                break;\n            case algebra_1.types.PATTERN:\n                break;\n            case algebra_1.types.PROJECT:\n                recurseOp(result.input);\n                break;\n            case algebra_1.types.REDUCED:\n                recurseOp(result.input);\n                break;\n            case algebra_1.types.SEQ:\n                result.input.map(recurseOp);\n                break;\n            case algebra_1.types.SERVICE:\n                recurseOp(result.input);\n                break;\n            case algebra_1.types.SLICE:\n                recurseOp(result.input);\n                break;\n            case algebra_1.types.UNION:\n                result.input.map(recurseOp);\n                break;\n            case algebra_1.types.VALUES:\n                break;\n            case algebra_1.types.ZERO_OR_MORE_PATH:\n                recurseOp(result.path);\n                break;\n            case algebra_1.types.ZERO_OR_ONE_PATH:\n                recurseOp(result.path);\n                break;\n            // UPDATE operations\n            case algebra_1.types.COMPOSITE_UPDATE:\n                result.updates.forEach(update => recurseOp(update));\n                break;\n            case algebra_1.types.DELETE_INSERT:\n                if (result.delete)\n                    result.delete.forEach(pattern => recurseOp(pattern));\n                if (result.insert)\n                    result.insert.forEach(pattern => recurseOp(pattern));\n                if (result.where)\n                    recurseOp(result.where);\n                break;\n            // all of these only have graph IDs as values\n            case algebra_1.types.LOAD: break;\n            case algebra_1.types.CLEAR: break;\n            case algebra_1.types.CREATE: break;\n            case algebra_1.types.DROP: break;\n            case algebra_1.types.ADD: break;\n            case algebra_1.types.MOVE: break;\n            case algebra_1.types.COPY: break;\n            default: throw new Error(`Unknown Operation type ${result.type}`);\n        }\n    }\n    /**\n     * Creates a deep copy of the given Operation.\n     * Creates shallow copies of the non-Operation values.\n     * A map of callback functions can be provided for individual Operation types\n     * to specifically modify the given objects before triggering recursion.\n     * The return value of those callbacks should indicate whether recursion should be applied to this returned object or not.\n     * @param {Operation} op - The Operation to recurse on.\n     * @param { [type: string]: (op: Operation, factory: Factory) => RecurseResult } callbacks - A map of required callback Operations.\n     * @param {Factory} factory - Factory used to create new Operations. Will use default factory if none is provided.\n     * @returns {Operation} - The copied result.\n     */\n    static mapOperation(op, callbacks, factory) {\n        let result = op;\n        let doRecursion = true;\n        factory = factory || new factory_1.default();\n        const callback = callbacks[op.type];\n        if (callback)\n            // Not sure how to get typing correct for op here\n            ({ result, recurse: doRecursion } = callback(op, factory));\n        if (!doRecursion)\n            return result;\n        let mapOp = (op) => Util.mapOperation(op, callbacks, factory);\n        // Several casts here might be wrong though depending on the callbacks output\n        switch (result.type) {\n            case algebra_1.types.ALT:\n                return factory.createAlt(result.input.map(mapOp));\n            case algebra_1.types.ASK:\n                return factory.createAsk(mapOp(result.input));\n            case algebra_1.types.BGP:\n                return factory.createBgp(result.patterns.map(mapOp));\n            case algebra_1.types.CONSTRUCT:\n                return factory.createConstruct(mapOp(result.input), result.template.map(mapOp));\n            case algebra_1.types.DESCRIBE:\n                return factory.createDescribe(mapOp(result.input), result.terms);\n            case algebra_1.types.DISTINCT:\n                return factory.createDistinct(mapOp(result.input));\n            case algebra_1.types.EXPRESSION:\n                return Util.mapExpression(result, callbacks, factory);\n            case algebra_1.types.EXTEND:\n                return factory.createExtend(mapOp(result.input), result.variable, mapOp(result.expression));\n            case algebra_1.types.FILTER:\n                return factory.createFilter(mapOp(result.input), mapOp(result.expression));\n            case algebra_1.types.FROM:\n                return factory.createFrom(mapOp(result.input), [...result.default], [...result.named]);\n            case algebra_1.types.GRAPH:\n                return factory.createGraph(mapOp(result.input), result.name);\n            case algebra_1.types.GROUP:\n                return factory.createGroup(mapOp(result.input), [].concat(result.variables), result.aggregates.map(mapOp));\n            case algebra_1.types.INV:\n                return factory.createInv(mapOp(result.path));\n            case algebra_1.types.JOIN:\n                return factory.createJoin(result.input.map(mapOp));\n            case algebra_1.types.LEFT_JOIN:\n                return factory.createLeftJoin(mapOp(result.input[0]), mapOp(result.input[1]), result.expression ? mapOp(result.expression) : undefined);\n            case algebra_1.types.LINK:\n                return factory.createLink(result.iri);\n            case algebra_1.types.MINUS:\n                return factory.createMinus(mapOp(result.input[0]), mapOp(result.input[1]));\n            case algebra_1.types.NOP:\n                return factory.createNop();\n            case algebra_1.types.NPS:\n                return factory.createNps([].concat(result.iris));\n            case algebra_1.types.ONE_OR_MORE_PATH:\n                return factory.createOneOrMorePath(mapOp(result.path));\n            case algebra_1.types.ORDER_BY:\n                return factory.createOrderBy(mapOp(result.input), result.expressions.map(mapOp));\n            case algebra_1.types.PATH:\n                return factory.createPath(result.subject, mapOp(result.predicate), result.object, result.graph);\n            case algebra_1.types.PATTERN:\n                return factory.createPattern(result.subject, result.predicate, result.object, result.graph);\n            case algebra_1.types.PROJECT:\n                return factory.createProject(mapOp(result.input), [...result.variables]);\n            case algebra_1.types.REDUCED:\n                return factory.createReduced(mapOp(result.input));\n            case algebra_1.types.SEQ:\n                return factory.createSeq(result.input.map(mapOp));\n            case algebra_1.types.SERVICE:\n                return factory.createService(mapOp(result.input), result.name, result.silent);\n            case algebra_1.types.SLICE:\n                return factory.createSlice(mapOp(result.input), result.start, result.length);\n            case algebra_1.types.UNION:\n                return factory.createUnion(result.input.map(mapOp));\n            case algebra_1.types.VALUES:\n                return factory.createValues([].concat(result.variables), result.bindings.map(b => Object.assign({}, b)));\n            case algebra_1.types.ZERO_OR_MORE_PATH:\n                return factory.createZeroOrMorePath(mapOp(result.path));\n            case algebra_1.types.ZERO_OR_ONE_PATH:\n                return factory.createZeroOrOnePath(mapOp(result.path));\n            // UPDATE operations\n            case algebra_1.types.COMPOSITE_UPDATE:\n                return factory.createCompositeUpdate(result.updates.map(mapOp));\n            case algebra_1.types.DELETE_INSERT:\n                return factory.createDeleteInsert(result.delete ? result.delete.map(mapOp) : undefined, result.insert ? result.insert.map(mapOp) : undefined, result.where ? mapOp(result.where) : undefined);\n            case algebra_1.types.LOAD:\n                return factory.createLoad(result.source, result.destination, result.silent);\n            case algebra_1.types.CLEAR:\n                return factory.createClear(result.source, result.silent);\n            case algebra_1.types.CREATE:\n                return factory.createCreate(result.source, result.silent);\n            case algebra_1.types.DROP:\n                return factory.createDrop(result.source, result.silent);\n            case algebra_1.types.ADD:\n                return factory.createAdd(result.source, result.destination);\n            case algebra_1.types.MOVE:\n                return factory.createMove(result.source, result.destination);\n            case algebra_1.types.COPY:\n                return factory.createCopy(result.source, result.destination);\n            default: throw new Error(`Unknown Operation type ${result.type}`);\n        }\n    }\n    /**\n     * Similar to the {@link mapOperation} function but specifically for expressions.\n     * Both functions call each other while copying.\n     * Should not be called directly since it does not execute the callbacks, these happen in {@link mapOperation}.\n     * @param {Expression} expr - The Operation to recurse on.\n     * @param { [type: string]: (op: Operation, factory: Factory) => RecurseResult } callbacks - A map of required callback Operations.\n     * @param {Factory} factory - Factory used to create new Operations. Will use default factory if none is provided.\n     * @returns {Operation} - The copied result.\n     */\n    static mapExpression(expr, callbacks, factory) {\n        let recurse = (op) => Util.mapOperation(op, callbacks, factory);\n        switch (expr.expressionType) {\n            case algebra_1.expressionTypes.AGGREGATE:\n                if (expr.variable) {\n                    return factory.createBoundAggregate(expr.variable, expr.aggregator, recurse(expr.expression), expr.distinct, expr.separator);\n                }\n                return factory.createAggregateExpression(expr.aggregator, recurse(expr.expression), expr.distinct, expr.separator);\n            case algebra_1.expressionTypes.EXISTENCE:\n                return factory.createExistenceExpression(expr.not, recurse(expr.input));\n            case algebra_1.expressionTypes.NAMED:\n                return factory.createNamedExpression(expr.name, expr.args.map(recurse));\n            case algebra_1.expressionTypes.OPERATOR:\n                return factory.createOperatorExpression(expr.operator, expr.args.map(recurse));\n            case algebra_1.expressionTypes.TERM:\n                return factory.createTermExpression(expr.term);\n            case algebra_1.expressionTypes.WILDCARD:\n                return factory.createWildcardExpression();\n            default: throw new Error(`Unknown Expression type ${expr.expressionType}`);\n        }\n    }\n    static createUniqueVariable(label, variables, dataFactory) {\n        let counter = 0;\n        let labelLoop = label;\n        while (variables[labelLoop]) {\n            labelLoop = `${label}${counter++}`;\n        }\n        return dataFactory.variable(labelLoop);\n    }\n    // separate terms from wildcard since we handle them differently\n    static isSimpleTerm(term) {\n        return term.termType !== undefined && term.termType !== 'Quad' && term.termType !== 'Wildcard';\n    }\n    static isQuad(term) {\n        return term.termType === 'Quad';\n    }\n    static isWildcard(term) {\n        return term.termType === 'Wildcard';\n    }\n}\nexports.default = Util;\n//# sourceMappingURL=util.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AsyncAggregateEvaluator = exports.orderTypes = exports.isExpressionError = exports.ExpressionError = exports.AggregateEvaluator = exports.SyncEvaluator = exports.AsyncEvaluator = void 0;\n// TODO: this form is deprecated, we should not rename these types. Should change in next mayor update.\nvar AsyncEvaluator_1 = require(\"./lib/evaluators/AsyncEvaluator\");\nObject.defineProperty(exports, \"AsyncEvaluator\", { enumerable: true, get: function () { return AsyncEvaluator_1.AsyncEvaluator; } });\nvar SyncEvaluator_1 = require(\"./lib/evaluators/SyncEvaluator\");\nObject.defineProperty(exports, \"SyncEvaluator\", { enumerable: true, get: function () { return SyncEvaluator_1.SyncEvaluator; } });\nvar AggregateEvaluator_1 = require(\"./lib/evaluators/AggregateEvaluator\");\nObject.defineProperty(exports, \"AggregateEvaluator\", { enumerable: true, get: function () { return AggregateEvaluator_1.AggregateEvaluator; } });\nvar Errors_1 = require(\"./lib/util/Errors\");\nObject.defineProperty(exports, \"ExpressionError\", { enumerable: true, get: function () { return Errors_1.ExpressionError; } });\nObject.defineProperty(exports, \"isExpressionError\", { enumerable: true, get: function () { return Errors_1.isExpressionError; } });\nvar Ordering_1 = require(\"./lib/util/Ordering\");\nObject.defineProperty(exports, \"orderTypes\", { enumerable: true, get: function () { return Ordering_1.orderTypes; } });\nvar AsyncAggregateEvaluator_1 = require(\"./lib/evaluators/AsyncAggregateEvaluator\");\nObject.defineProperty(exports, \"AsyncAggregateEvaluator\", { enumerable: true, get: function () { return AsyncAggregateEvaluator_1.AsyncAggregateEvaluator; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Average = void 0;\nconst E = require(\"../expressions\");\nconst functions_1 = require(\"../functions\");\nconst Helpers_1 = require(\"../functions/Helpers\");\nconst C = require(\"../util/Consts\");\nconst BaseAggregator_1 = require(\"./BaseAggregator\");\nclass Average extends BaseAggregator_1.BaseAggregator {\n    constructor() {\n        super(...arguments);\n        this.summer = functions_1.regularFunctions[C.RegularOperator.ADDITION];\n        this.divider = functions_1.regularFunctions[C.RegularOperator.DIVISION];\n    }\n    static emptyValue() {\n        return (0, Helpers_1.integer)(0).toRDF();\n    }\n    init(start) {\n        const sum = this.termToNumericOrError(start);\n        return { sum, count: 1 };\n    }\n    put(state, term) {\n        const internalTerm = this.termToNumericOrError(term);\n        const sum = this.summer.apply([state.sum, internalTerm], this.sharedContext);\n        return {\n            sum,\n            count: state.count + 1,\n        };\n    }\n    result(state) {\n        const count = new E.IntegerLiteral(state.count);\n        const result = this.divider.apply([state.sum, count], this.sharedContext);\n        return result.toRDF();\n    }\n}\nexports.Average = Average;\n//# sourceMappingURL=Average.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseAggregator = void 0;\nconst TermTransformer_1 = require(\"../transformers/TermTransformer\");\nconst Consts_1 = require(\"../util/Consts\");\nconst TypeHandling_1 = require(\"../util/TypeHandling\");\nclass BaseAggregator {\n    constructor(expr, sharedContext) {\n        this.sharedContext = sharedContext;\n        this.distinct = expr.distinct;\n        this.separator = expr.separator || ' ';\n        this.termTransformer = new TermTransformer_1.TermTransformer(sharedContext.superTypeProvider, sharedContext.enableExtendedXsdTypes);\n    }\n    termToNumericOrError(term) {\n        // TODO: Check behaviour\n        if (term.termType !== 'Literal') {\n            throw new Error(`Term with value ${term.value} has type ${term.termType} and is not a numeric literal`);\n        }\n        else if (!(0, TypeHandling_1.isSubTypeOf)(term.datatype.value, Consts_1.TypeAlias.SPARQL_NUMERIC, this.sharedContext.superTypeProvider)) {\n            throw new Error(`Term datatype ${term.datatype.value} with value ${term.value} has type ${term.termType} and is not a numeric literal`);\n        }\n        return this.termTransformer.transformLiteral(term);\n    }\n    extractValue(term) {\n        if (term.termType !== 'Literal') {\n            throw new Error(`Term with value ${term.value} has type ${term.termType} and is not a literal`);\n        }\n        const transformedLit = this.termTransformer.transformLiteral(term);\n        return { type: transformedLit.dataType, value: transformedLit.typedValue };\n    }\n    static emptyValue() {\n        return undefined;\n    }\n}\nexports.BaseAggregator = BaseAggregator;\n//# sourceMappingURL=BaseAggregator.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Count = void 0;\nconst Helpers_1 = require(\"../functions/Helpers\");\nconst BaseAggregator_1 = require(\"./BaseAggregator\");\nclass Count extends BaseAggregator_1.BaseAggregator {\n    static emptyValue() {\n        return (0, Helpers_1.integer)(0).toRDF();\n    }\n    init(start) {\n        return 1;\n    }\n    put(state, term) {\n        return state + 1;\n    }\n    result(state) {\n        return (0, Helpers_1.integer)(state).toRDF();\n    }\n}\nexports.Count = Count;\n//# sourceMappingURL=Count.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GroupConcat = void 0;\nconst Helpers_1 = require(\"../functions/Helpers\");\nconst BaseAggregator_1 = require(\"./BaseAggregator\");\nclass GroupConcat extends BaseAggregator_1.BaseAggregator {\n    static emptyValue() {\n        return (0, Helpers_1.string)('').toRDF();\n    }\n    init(start) {\n        return start.value;\n    }\n    put(state, term) {\n        return state + this.separator + term.value;\n    }\n    result(state) {\n        return (0, Helpers_1.string)(state).toRDF();\n    }\n}\nexports.GroupConcat = GroupConcat;\n//# sourceMappingURL=GroupConcat.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Max = void 0;\nconst BaseAggregator_1 = require(\"./BaseAggregator\");\nclass Max extends BaseAggregator_1.BaseAggregator {\n    init(start) {\n        const { value } = this.extractValue(start);\n        if (start.termType === 'Literal') {\n            return { extremeValue: value, term: start };\n        }\n        throw new Error('Term should be a literal');\n    }\n    put(state, term) {\n        const extracted = this.extractValue(term);\n        if (extracted.value > state.extremeValue && term.termType === 'Literal') {\n            return {\n                extremeValue: extracted.value,\n                term,\n            };\n        }\n        return state;\n    }\n    result(state) {\n        return state.term;\n    }\n}\nexports.Max = Max;\n//# sourceMappingURL=Max.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Min = void 0;\nconst BaseAggregator_1 = require(\"./BaseAggregator\");\nclass Min extends BaseAggregator_1.BaseAggregator {\n    init(start) {\n        const { value } = this.extractValue(start);\n        if (start.termType === 'Literal') {\n            return { extremeValue: value, term: start };\n        }\n        throw new Error('Term should be a literal');\n    }\n    put(state, term) {\n        const extracted = this.extractValue(term);\n        if (extracted.value < state.extremeValue && term.termType === 'Literal') {\n            return {\n                extremeValue: extracted.value,\n                term,\n            };\n        }\n        return state;\n    }\n    result(state) {\n        return state.term;\n    }\n}\nexports.Min = Min;\n//# sourceMappingURL=Min.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Sample = void 0;\nconst BaseAggregator_1 = require(\"./BaseAggregator\");\nclass Sample extends BaseAggregator_1.BaseAggregator {\n    init(start) {\n        return start;\n    }\n    put(state, term) {\n        // First value is our sample\n        return state;\n    }\n    result(state) {\n        return state;\n    }\n}\nexports.Sample = Sample;\n//# sourceMappingURL=Sample.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Sum = void 0;\nconst functions_1 = require(\"../functions\");\nconst Helpers_1 = require(\"../functions/Helpers\");\nconst C = require(\"../util/Consts\");\nconst BaseAggregator_1 = require(\"./BaseAggregator\");\nclass Sum extends BaseAggregator_1.BaseAggregator {\n    constructor() {\n        super(...arguments);\n        this.summer = functions_1.regularFunctions[C.RegularOperator.ADDITION];\n    }\n    static emptyValue() {\n        return (0, Helpers_1.integer)(0).toRDF();\n    }\n    init(start) {\n        return this.termToNumericOrError(start);\n    }\n    put(state, term) {\n        const internalTerm = this.termToNumericOrError(term);\n        const sum = this.summer.apply([state, internalTerm], this.sharedContext);\n        return sum;\n    }\n    result(state) {\n        return state.toRDF();\n    }\n}\nexports.Sum = Sum;\n//# sourceMappingURL=Sum.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.aggregators = void 0;\nconst Average_1 = require(\"./Average\");\nconst Count_1 = require(\"./Count\");\nconst GroupConcat_1 = require(\"./GroupConcat\");\nconst Max_1 = require(\"./Max\");\nconst Min_1 = require(\"./Min\");\nconst Sample_1 = require(\"./Sample\");\nconst Sum_1 = require(\"./Sum\");\nexports.aggregators = {\n    count: Count_1.Count,\n    sum: Sum_1.Sum,\n    min: Min_1.Min,\n    max: Max_1.Max,\n    avg: Average_1.Average,\n    group_concat: GroupConcat_1.GroupConcat,\n    sample: Sample_1.Sample,\n};\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AggregateEvaluator = void 0;\nconst BaseAggregateEvaluator_1 = require(\"./evaluatorHelpers/BaseAggregateEvaluator\");\nconst SyncEvaluator_1 = require(\"./SyncEvaluator\");\n// TODO: Support hooks & change name to SyncAggregateEvaluator\nclass AggregateEvaluator extends BaseAggregateEvaluator_1.BaseAggregateEvaluator {\n    constructor(expr, context, throwError) {\n        super(expr, SyncEvaluator_1.SyncEvaluator.completeContext(context || {}), throwError);\n        this.evaluator = new SyncEvaluator_1.SyncEvaluator(expr.expression, context);\n    }\n    put(bindings) {\n        this.init(bindings);\n    }\n    __put(bindings) {\n        try {\n            const term = this.evaluator.evaluate(bindings);\n            this.state = this.aggregator.put(this.state, term);\n        }\n        catch (error) {\n            this.safeThrow(error);\n        }\n    }\n    safeThrow(err) {\n        if (this.throwError) {\n            throw err;\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-empty-function\n            this.put = () => { };\n            // eslint-disable-next-line unicorn/no-useless-undefined\n            this.result = () => undefined;\n        }\n    }\n    init(start) {\n        try {\n            const startTerm = this.evaluator.evaluate(start);\n            this.state = this.aggregator.init(startTerm);\n            if (this.state) {\n                this.put = this.__put.bind(this);\n                this.result = this.__result.bind(this);\n            }\n        }\n        catch (error) {\n            this.safeThrow(error);\n        }\n    }\n}\nexports.AggregateEvaluator = AggregateEvaluator;\n//# sourceMappingURL=AggregateEvaluator.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AsyncAggregateEvaluator = void 0;\nconst AsyncEvaluator_1 = require(\"./AsyncEvaluator\");\nconst BaseAggregateEvaluator_1 = require(\"./evaluatorHelpers/BaseAggregateEvaluator\");\nclass AsyncAggregateEvaluator extends BaseAggregateEvaluator_1.BaseAggregateEvaluator {\n    constructor(expr, context, throwError) {\n        super(expr, AsyncEvaluator_1.AsyncEvaluator.completeContext(context || {}), throwError);\n        this.evaluator = new AsyncEvaluator_1.AsyncEvaluator(expr.expression, context);\n        this.errorOccurred = false;\n    }\n    put(bindings) {\n        return this.init(bindings);\n    }\n    async __put(bindings) {\n        try {\n            const term = await this.evaluator.evaluate(bindings);\n            this.state = this.aggregator.put(this.state, term);\n        }\n        catch (error) {\n            this.safeThrow(error);\n        }\n    }\n    safeThrow(err) {\n        if (this.throwError) {\n            throw err;\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-empty-function\n            this.put = async () => { };\n            // eslint-disable-next-line unicorn/no-useless-undefined\n            this.result = () => undefined;\n            this.errorOccurred = true;\n        }\n    }\n    async init(start) {\n        try {\n            const startTerm = await this.evaluator.evaluate(start);\n            if (!startTerm || this.errorOccurred) {\n                return;\n            }\n            if (this.state) {\n                // Another put already initialized this, we should just handle the put as in __put and not init anymore\n                this.state = this.aggregator.put(this.state, startTerm);\n                return;\n            }\n            this.state = this.aggregator.init(startTerm);\n            if (this.state) {\n                this.put = this.__put.bind(this);\n                this.result = this.__result.bind(this);\n            }\n        }\n        catch (error) {\n            this.safeThrow(error);\n        }\n    }\n}\nexports.AsyncAggregateEvaluator = AsyncAggregateEvaluator;\n//# sourceMappingURL=AsyncAggregateEvaluator.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AsyncEvaluator = void 0;\nconst LRUCache = require(\"lru-cache\");\nconst AlgebraTransformer_1 = require(\"../transformers/AlgebraTransformer\");\nconst AsyncRecursiveEvaluator_1 = require(\"./evaluatorHelpers/AsyncRecursiveEvaluator\");\nclass AsyncEvaluator {\n    constructor(algExpr, context = {}) {\n        this.algExpr = algExpr;\n        // eslint-disable-next-line unicorn/no-useless-undefined\n        const creator = context.extensionFunctionCreator || (() => undefined);\n        const baseContext = AsyncEvaluator.completeContext(context);\n        const transformer = new AlgebraTransformer_1.AlgebraTransformer(Object.assign({ type: 'async', creator }, baseContext));\n        this.expr = transformer.transformAlgebra(algExpr);\n        this.evaluator = new AsyncRecursiveEvaluator_1.AsyncRecursiveEvaluator(baseContext, transformer);\n    }\n    static completeContext(context) {\n        return {\n            now: context.now || new Date(Date.now()),\n            baseIRI: context.baseIRI || undefined,\n            overloadCache: context.overloadCache || new LRUCache(),\n            superTypeProvider: {\n                cache: context.typeCache || new LRUCache(),\n                discoverer: context.getSuperType || (() => 'term'),\n            },\n            extensionFunctionCreator: context.extensionFunctionCreator,\n            exists: context.exists,\n            aggregate: context.aggregate,\n            bnode: context.bnode,\n            enableExtendedXsdTypes: context.enableExtendedXsdTypes || false,\n        };\n    }\n    async evaluate(mapping) {\n        const result = await this.evaluator.evaluate(this.expr, mapping);\n        return result.toRDF();\n    }\n    async evaluateAsEBV(mapping) {\n        const result = await this.evaluator.evaluate(this.expr, mapping);\n        return result.coerceEBV();\n    }\n    async evaluateAsInternal(mapping) {\n        const result = await this.evaluator.evaluate(this.expr, mapping);\n        return result;\n    }\n}\nexports.AsyncEvaluator = AsyncEvaluator;\n//# sourceMappingURL=AsyncEvaluator.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SyncEvaluator = void 0;\nconst LRUCache = require(\"lru-cache\");\nconst AlgebraTransformer_1 = require(\"../transformers/AlgebraTransformer\");\nconst SyncRecursiveEvaluator_1 = require(\"./evaluatorHelpers/SyncRecursiveEvaluator\");\nclass SyncEvaluator {\n    constructor(algExpr, context = {}) {\n        this.algExpr = algExpr;\n        this.context = context;\n        // eslint-disable-next-line unicorn/no-useless-undefined\n        const creator = context.extensionFunctionCreator || (() => undefined);\n        const baseContext = SyncEvaluator.completeContext(context);\n        const transformer = new AlgebraTransformer_1.AlgebraTransformer(Object.assign({ type: 'sync', creator }, baseContext));\n        this.expr = transformer.transformAlgebra(algExpr);\n        this.evaluator = new SyncRecursiveEvaluator_1.SyncRecursiveEvaluator(baseContext, transformer);\n    }\n    static completeContext(context) {\n        return {\n            now: context.now || new Date(Date.now()),\n            baseIRI: context.baseIRI || undefined,\n            overloadCache: context.overloadCache || new LRUCache(),\n            superTypeProvider: {\n                cache: context.typeCache || new LRUCache(),\n                discoverer: context.getSuperType || (() => 'term'),\n            },\n            extensionFunctionCreator: context.extensionFunctionCreator,\n            exists: context.exists,\n            aggregate: context.aggregate,\n            bnode: context.bnode,\n            enableExtendedXsdTypes: context.enableExtendedXsdTypes || false,\n        };\n    }\n    evaluate(mapping) {\n        const result = this.evaluator.evaluate(this.expr, mapping);\n        return result.toRDF();\n    }\n    evaluateAsEBV(mapping) {\n        const result = this.evaluator.evaluate(this.expr, mapping);\n        return result.coerceEBV();\n    }\n    evaluateAsInternal(mapping) {\n        const result = this.evaluator.evaluate(this.expr, mapping);\n        return result;\n    }\n}\nexports.SyncEvaluator = SyncEvaluator;\n//# sourceMappingURL=SyncEvaluator.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AsyncRecursiveEvaluator = void 0;\nconst E = require(\"../../expressions\");\nconst TermTransformer_1 = require(\"../../transformers/TermTransformer\");\nconst Err = require(\"../../util/Errors\");\nconst BaseExpressionEvaluator_1 = require(\"./BaseExpressionEvaluator\");\nclass AsyncRecursiveEvaluator extends BaseExpressionEvaluator_1.BaseExpressionEvaluator {\n    constructor(context, termTransformer) {\n        super(termTransformer || new TermTransformer_1.TermTransformer(context.superTypeProvider, context.enableExtendedXsdTypes));\n        this.context = context;\n        this.subEvaluators = {\n            // Shared\n            [E.ExpressionType.Term]: this.term.bind(this),\n            [E.ExpressionType.Variable]: this.variable.bind(this),\n            // Async\n            [E.ExpressionType.Operator]: this.evalOperator.bind(this),\n            [E.ExpressionType.SpecialOperator]: this.evalSpecialOperator.bind(this),\n            [E.ExpressionType.Named]: this.evalNamed.bind(this),\n            [E.ExpressionType.Existence]: this.evalExistence.bind(this),\n            [E.ExpressionType.Aggregate]: this.evalAggregate.bind(this),\n            [E.ExpressionType.AsyncExtension]: this.evalAsyncExtension.bind(this),\n        };\n    }\n    async evaluate(expr, mapping) {\n        const evaluator = this.subEvaluators[expr.expressionType];\n        if (!evaluator) {\n            throw new Err.InvalidExpressionType(expr);\n        }\n        return evaluator.bind(this)(expr, mapping);\n    }\n    async evalOperator(expr, mapping) {\n        const argPromises = expr.args.map(arg => this.evaluate(arg, mapping));\n        const argResults = await Promise.all(argPromises);\n        return expr.apply(argResults);\n    }\n    async evalSpecialOperator(expr, mapping) {\n        const evaluate = this.evaluate.bind(this);\n        const context = {\n            args: expr.args,\n            mapping,\n            superTypeProvider: this.context.superTypeProvider,\n            now: this.context.now,\n            baseIRI: this.context.baseIRI,\n            overloadCache: this.context.overloadCache,\n            evaluate,\n            bnode: this.context.bnode,\n            enableExtendedXsdTypes: this.context.enableExtendedXsdTypes,\n        };\n        return expr.applyAsync(context);\n    }\n    async _evalAsyncArgs(args, mapping) {\n        const argPromises = args.map(arg => this.evaluate(arg, mapping));\n        return await Promise.all(argPromises);\n    }\n    async evalNamed(expr, mapping) {\n        return expr.apply(await this._evalAsyncArgs(expr.args, mapping));\n    }\n    async evalAsyncExtension(expr, mapping) {\n        return await expr.apply(await this._evalAsyncArgs(expr.args, mapping));\n    }\n    async evalExistence(expr, mapping) {\n        if (!this.context.exists) {\n            throw new Err.NoExistenceHook();\n        }\n        return new E.BooleanLiteral(await this.context.exists(expr.expression, mapping));\n    }\n    // TODO: Remove?\n    async evalAggregate(expr, _mapping) {\n        if (!this.context.aggregate) {\n            throw new Err.NoExistenceHook();\n        }\n        return this.termTransformer.transformRDFTermUnsafe(await this.context.aggregate(expr.expression));\n    }\n}\nexports.AsyncRecursiveEvaluator = AsyncRecursiveEvaluator;\n//# sourceMappingURL=AsyncRecursiveEvaluator.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseAggregateEvaluator = void 0;\nconst aggregators_1 = require(\"../../aggregators\");\nconst Err = require(\"../../util/Errors\");\nclass BaseAggregateEvaluator {\n    constructor(expr, sharedContext, throwError) {\n        this.throwError = false;\n        this.expression = expr;\n        this.aggregator = new aggregators_1.aggregators[expr.aggregator](expr, sharedContext);\n        this.throwError = throwError || false;\n    }\n    /**\n     * The spec says to throw an error when a set function is called on an empty\n     * set (unless explicitly mentioned otherwise like COUNT).\n     * However, aggregate error handling says to not bind the result in case of an\n     * error. So to simplify logic in the caller, we return undefined by default.\n     *\n     * @param throwError whether this function should respect the spec and throw an error if no empty value is defined\n     */\n    static emptyValue(expr, throwError = false) {\n        const val = aggregators_1.aggregators[expr.aggregator].emptyValue();\n        if (val === undefined && throwError) {\n            throw new Err.EmptyAggregateError();\n        }\n        return val;\n    }\n    result() {\n        return this.aggregator.constructor.emptyValue();\n    }\n    /**\n     * The actual result method. When the first binding has been given, and the state\n     * of the evaluators initialised. The .result API function will be replaced with this\n     * function, which implements the behaviour we want.\n     *\n     * @param bindings the bindings to pass to the expression\n     */\n    __result() {\n        return this.aggregator.result(this.state);\n    }\n}\nexports.BaseAggregateEvaluator = BaseAggregateEvaluator;\n//# sourceMappingURL=BaseAggregateEvaluator.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseExpressionEvaluator = void 0;\nconst Helpers_1 = require(\"../../functions/Helpers\");\nconst Err = require(\"../../util/Errors\");\nclass BaseExpressionEvaluator {\n    constructor(termTransformer) {\n        this.termTransformer = termTransformer;\n    }\n    term(expr, mapping) {\n        return expr;\n    }\n    variable(expr, mapping) {\n        const term = mapping.get((0, Helpers_1.expressionToVar)(expr));\n        if (!term) {\n            throw new Err.UnboundVariableError(expr.name, mapping);\n        }\n        return this.termTransformer.transformRDFTermUnsafe(term);\n    }\n}\nexports.BaseExpressionEvaluator = BaseExpressionEvaluator;\n//# sourceMappingURL=BaseExpressionEvaluator.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SyncRecursiveEvaluator = void 0;\nconst E = require(\"../../expressions\");\nconst TermTransformer_1 = require(\"../../transformers/TermTransformer\");\nconst Err = require(\"../../util/Errors\");\nconst BaseExpressionEvaluator_1 = require(\"./BaseExpressionEvaluator\");\nclass SyncRecursiveEvaluator extends BaseExpressionEvaluator_1.BaseExpressionEvaluator {\n    constructor(context, termTransformer) {\n        super(termTransformer || new TermTransformer_1.TermTransformer(context.superTypeProvider, context.enableExtendedXsdTypes));\n        this.context = context;\n        this.subEvaluators = {\n            // Shared\n            [E.ExpressionType.Term]: this.term.bind(this),\n            [E.ExpressionType.Variable]: this.variable.bind(this),\n            // Sync\n            [E.ExpressionType.Operator]: this.evalOperator.bind(this),\n            [E.ExpressionType.SpecialOperator]: this.evalSpecialOperator.bind(this),\n            [E.ExpressionType.Named]: this.evalNamed.bind(this),\n            [E.ExpressionType.Existence]: this.evalExistence.bind(this),\n            [E.ExpressionType.Aggregate]: this.evalAggregate.bind(this),\n            [E.ExpressionType.SyncExtension]: this.evalSyncExtension.bind(this),\n        };\n    }\n    evaluate(expr, mapping) {\n        const evaluator = this.subEvaluators[expr.expressionType];\n        if (!evaluator) {\n            throw new Err.InvalidExpressionType(expr);\n        }\n        return evaluator.bind(this)(expr, mapping);\n    }\n    evalOperator(expr, mapping) {\n        const args = expr.args.map(arg => this.evaluate(arg, mapping));\n        return expr.apply(args);\n    }\n    evalSpecialOperator(expr, mapping) {\n        const evaluate = this.evaluate.bind(this);\n        const context = {\n            args: expr.args,\n            mapping,\n            superTypeProvider: this.context.superTypeProvider,\n            now: this.context.now,\n            baseIRI: this.context.baseIRI,\n            overloadCache: this.context.overloadCache,\n            evaluate,\n            bnode: this.context.bnode,\n            enableExtendedXsdTypes: this.context.enableExtendedXsdTypes,\n        };\n        return expr.applySync(context);\n    }\n    evalNamed(expr, mapping) {\n        const args = expr.args.map(arg => this.evaluate(arg, mapping));\n        return expr.apply(args);\n    }\n    evalSyncExtension(expr, mapping) {\n        const args = expr.args.map(arg => this.evaluate(arg, mapping));\n        return expr.apply(args);\n    }\n    evalExistence(expr, mapping) {\n        if (!this.context.exists) {\n            throw new Err.NoExistenceHook();\n        }\n        return new E.BooleanLiteral(this.context.exists(expr.expression, mapping));\n    }\n    evalAggregate(expr, mapping) {\n        if (!this.context.aggregate) {\n            throw new Err.NoAggregator();\n        }\n        return this.termTransformer.transformRDFTermUnsafe(this.context.aggregate(expr.expression));\n    }\n}\nexports.SyncRecursiveEvaluator = SyncRecursiveEvaluator;\n//# sourceMappingURL=SyncRecursiveEvaluator.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Aggregate = void 0;\nconst Expressions_1 = require(\"./Expressions\");\nclass Aggregate {\n    constructor(name, expression) {\n        this.name = name;\n        this.expression = expression;\n        this.expressionType = Expressions_1.ExpressionType.Aggregate;\n    }\n}\nexports.Aggregate = Aggregate;\n//# sourceMappingURL=Aggregate.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AsyncExtension = void 0;\nconst Expressions_1 = require(\"./Expressions\");\nclass AsyncExtension {\n    constructor(name, args, apply) {\n        this.name = name;\n        this.args = args;\n        this.apply = apply;\n        this.expressionType = Expressions_1.ExpressionType.AsyncExtension;\n    }\n}\nexports.AsyncExtension = AsyncExtension;\n//# sourceMappingURL=AsyncExtension.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Existence = void 0;\nconst Expressions_1 = require(\"./Expressions\");\nclass Existence {\n    constructor(expression) {\n        this.expression = expression;\n        this.expressionType = Expressions_1.ExpressionType.Existence;\n    }\n}\nexports.Existence = Existence;\n//# sourceMappingURL=Existence.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.asTermType = exports.ExpressionType = void 0;\nvar ExpressionType;\n(function (ExpressionType) {\n    ExpressionType[\"Aggregate\"] = \"aggregate\";\n    ExpressionType[\"Existence\"] = \"existence\";\n    ExpressionType[\"Named\"] = \"named\";\n    ExpressionType[\"Operator\"] = \"operator\";\n    ExpressionType[\"SpecialOperator\"] = \"specialOperator\";\n    ExpressionType[\"Term\"] = \"term\";\n    ExpressionType[\"Variable\"] = \"variable\";\n    ExpressionType[\"AsyncExtension\"] = \"asyncExtension\";\n    ExpressionType[\"SyncExtension\"] = \"syncExtension\";\n})(ExpressionType = exports.ExpressionType || (exports.ExpressionType = {}));\n// TODO: Create alias Term = TermExpression\nfunction asTermType(type) {\n    if (type === 'namedNode' || type === 'literal' || type === 'blankNode') {\n        return type;\n    }\n    return undefined;\n}\nexports.asTermType = asTermType;\n//# sourceMappingURL=Expressions.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Named = void 0;\nconst Expressions_1 = require(\"./Expressions\");\nclass Named {\n    constructor(name, args, apply) {\n        this.name = name;\n        this.args = args;\n        this.apply = apply;\n        this.expressionType = Expressions_1.ExpressionType.Named;\n    }\n}\nexports.Named = Named;\n//# sourceMappingURL=Named.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Operator = void 0;\nconst Expressions_1 = require(\"./Expressions\");\nclass Operator {\n    constructor(args, apply) {\n        this.args = args;\n        this.apply = apply;\n        this.expressionType = Expressions_1.ExpressionType.Operator;\n    }\n}\nexports.Operator = Operator;\n//# sourceMappingURL=Operator.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SpecialOperator = void 0;\nconst Expressions_1 = require(\"./Expressions\");\nclass SpecialOperator {\n    constructor(args, applyAsync, applySync) {\n        this.args = args;\n        this.applyAsync = applyAsync;\n        this.applySync = applySync;\n        this.expressionType = Expressions_1.ExpressionType.SpecialOperator;\n    }\n}\nexports.SpecialOperator = SpecialOperator;\n//# sourceMappingURL=SpecialOperator.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SyncExtension = void 0;\nconst Expressions_1 = require(\"./Expressions\");\nclass SyncExtension {\n    constructor(name, args, apply) {\n        this.name = name;\n        this.args = args;\n        this.apply = apply;\n        this.expressionType = Expressions_1.ExpressionType.SyncExtension;\n    }\n}\nexports.SyncExtension = SyncExtension;\n//# sourceMappingURL=SyncExtension.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isNonLexicalLiteral = exports.NonLexicalLiteral = exports.StringLiteral = exports.LangStringLiteral = exports.DateTimeLiteral = exports.BooleanLiteral = exports.DoubleLiteral = exports.FloatLiteral = exports.DecimalLiteral = exports.IntegerLiteral = exports.NumericLiteral = exports.Literal = exports.isLiteralTermExpression = exports.BlankNode = exports.NamedNode = exports.Term = void 0;\nconst rdf_data_factory_1 = require(\"rdf-data-factory\");\nconst C = require(\"../util/Consts\");\nconst Consts_1 = require(\"../util/Consts\");\nconst Err = require(\"../util/Errors\");\nconst TypeHandling_1 = require(\"../util/TypeHandling\");\nconst Expressions_1 = require(\"./Expressions\");\nconst DF = new rdf_data_factory_1.DataFactory();\nclass Term {\n    constructor() {\n        this.expressionType = Expressions_1.ExpressionType.Term;\n    }\n    str() {\n        throw new Err.InvalidArgumentTypes([this], C.RegularOperator.STR);\n    }\n    coerceEBV() {\n        throw new Err.EBVCoercionError(this);\n    }\n}\nexports.Term = Term;\n// NamedNodes -----------------------------------------------------------------\nclass NamedNode extends Term {\n    constructor(value) {\n        super();\n        this.value = value;\n        this.termType = 'namedNode';\n    }\n    toRDF() {\n        return DF.namedNode(this.value);\n    }\n    str() {\n        return this.value;\n    }\n}\nexports.NamedNode = NamedNode;\n// BlankNodes -----------------------------------------------------------------\nclass BlankNode extends Term {\n    constructor(value) {\n        super();\n        this.termType = 'blankNode';\n        this.value = typeof value === 'string' ? DF.blankNode(value) : value;\n    }\n    static nextID() {\n        BlankNode._nextID += 1;\n        return BlankNode.nextID.toString();\n    }\n    toRDF() {\n        return this.value;\n    }\n}\nexports.BlankNode = BlankNode;\nBlankNode._nextID = 0;\n// Literals-- -----------------------------------------------------------------\nfunction isLiteralTermExpression(expr) {\n    if (expr.termType === 'literal') {\n        return expr;\n    }\n    return undefined;\n}\nexports.isLiteralTermExpression = isLiteralTermExpression;\nclass Literal extends Term {\n    /**\n     * @param typedValue internal representation of this literal's value\n     * @param dataType a string representing the datatype. Can be of type @see LiteralTypes or any URI\n     * @param strValue the string value of this literal. In other words, the string representing the RDF.literal value.\n     * @param language the language, mainly for language enabled strings like RDF_LANG_STRING\n     * @param mainSparqlType the type used by sparql's main functions\n     */\n    constructor(typedValue, dataType, strValue, language, mainSparqlType) {\n        super();\n        this.typedValue = typedValue;\n        this.dataType = dataType;\n        this.strValue = strValue;\n        this.language = language;\n        this.termType = 'literal';\n        this.mainSparqlType = mainSparqlType || 'other';\n    }\n    toRDF() {\n        return DF.literal(this.strValue || this.str(), this.language || DF.namedNode(this.dataType));\n    }\n    str() {\n        return this.strValue || this.typedValue.toString();\n    }\n}\nexports.Literal = Literal;\nclass NumericLiteral extends Literal {\n    constructor(typedValue, dataType, strValue, language, mainSparqlType) {\n        super(typedValue, dataType, strValue, language, mainSparqlType);\n        this.typedValue = typedValue;\n        this.strValue = strValue;\n        this.language = language;\n    }\n    coerceEBV() {\n        return !!this.typedValue;\n    }\n    toRDF() {\n        const term = super.toRDF();\n        if (!Number.isFinite(this.typedValue)) {\n            term.value = term.value.replace('Infinity', 'INF');\n        }\n        return term;\n    }\n    str() {\n        return this.strValue ||\n            this.specificFormatter(this.typedValue);\n    }\n}\nexports.NumericLiteral = NumericLiteral;\nclass IntegerLiteral extends NumericLiteral {\n    constructor(typedValue, dataType, strValue, language) {\n        super(typedValue, dataType || Consts_1.TypeURL.XSD_INTEGER, strValue, language, 'integer');\n        this.typedValue = typedValue;\n        this.strValue = strValue;\n        this.language = language;\n    }\n    specificFormatter(val) {\n        return val.toFixed(0);\n    }\n}\nexports.IntegerLiteral = IntegerLiteral;\nclass DecimalLiteral extends NumericLiteral {\n    constructor(typedValue, dataType, strValue, language) {\n        super(typedValue, dataType || Consts_1.TypeURL.XSD_DECIMAL, strValue, language, 'decimal');\n        this.typedValue = typedValue;\n        this.strValue = strValue;\n        this.language = language;\n    }\n    specificFormatter(val) {\n        return val.toString();\n    }\n}\nexports.DecimalLiteral = DecimalLiteral;\nclass FloatLiteral extends NumericLiteral {\n    constructor(typedValue, dataType, strValue, language) {\n        super(typedValue, dataType || Consts_1.TypeURL.XSD_FLOAT, strValue, language, 'float');\n        this.typedValue = typedValue;\n        this.strValue = strValue;\n        this.language = language;\n    }\n    specificFormatter(val) {\n        return val.toString();\n    }\n}\nexports.FloatLiteral = FloatLiteral;\nclass DoubleLiteral extends NumericLiteral {\n    constructor(typedValue, dataType, strValue, language) {\n        super(typedValue, dataType || Consts_1.TypeURL.XSD_DOUBLE, strValue, language, 'double');\n        this.typedValue = typedValue;\n        this.strValue = strValue;\n        this.language = language;\n    }\n    specificFormatter(val) {\n        const jsExponential = val.toExponential();\n        const [jsMantisse, jsExponent] = jsExponential.split('e');\n        // Leading + must be removed for integer\n        // https://www.w3.org/TR/xmlschema-2/#integer\n        const exponent = jsExponent.replace(/\\+/u, '');\n        // SPARQL test suite prefers trailing zero's\n        const mantisse = jsMantisse.includes('.') ?\n            jsMantisse :\n            `${jsMantisse}.0`;\n        return `${mantisse}E${exponent}`;\n    }\n}\nexports.DoubleLiteral = DoubleLiteral;\nclass BooleanLiteral extends Literal {\n    constructor(typedValue, strValue, dataType) {\n        super(typedValue, dataType || Consts_1.TypeURL.XSD_BOOLEAN, strValue, undefined, 'boolean');\n        this.typedValue = typedValue;\n        this.strValue = strValue;\n    }\n    coerceEBV() {\n        return !!this.typedValue;\n    }\n}\nexports.BooleanLiteral = BooleanLiteral;\nclass DateTimeLiteral extends Literal {\n    // StrValue is mandatory here because toISOString will always add\n    // milliseconds, even if they were not present.\n    constructor(typedValue, strValue, dataType) {\n        super(typedValue, dataType || Consts_1.TypeURL.XSD_DATE_TIME, strValue, undefined, 'dateTime');\n        this.typedValue = typedValue;\n        this.strValue = strValue;\n    }\n}\nexports.DateTimeLiteral = DateTimeLiteral;\nclass LangStringLiteral extends Literal {\n    constructor(typedValue, language, dataType) {\n        super(typedValue, dataType || Consts_1.TypeURL.RDF_LANG_STRING, typedValue, language, 'langString');\n        this.typedValue = typedValue;\n        this.language = language;\n    }\n    coerceEBV() {\n        return this.str().length > 0;\n    }\n}\nexports.LangStringLiteral = LangStringLiteral;\n// https://www.w3.org/TR/2004/REC-rdf-concepts-20040210/#dfn-plain-literal\n// https://www.w3.org/TR/sparql11-query/#defn_SimpleLiteral\n// https://www.w3.org/TR/sparql11-query/#func-strings\n// This does not include language tagged literals\nclass StringLiteral extends Literal {\n    /**\n     * @param typedValue\n     * @param dataType Should be type that implements XSD_STRING\n     */\n    constructor(typedValue, dataType) {\n        super(typedValue, dataType || Consts_1.TypeURL.XSD_STRING, typedValue, undefined, 'string');\n        this.typedValue = typedValue;\n    }\n    coerceEBV() {\n        return this.str().length > 0;\n    }\n}\nexports.StringLiteral = StringLiteral;\n/**\n * This class is used when a literal is parsed, and it's value is\n * an invalid lexical form for it's datatype. The spec defines value with\n * invalid lexical form are still valid terms, and as such we can not error\n * immediately. This class makes sure that the typedValue will remain undefined,\n * and the category 'nonlexical'. This way, only when operators apply to the\n * 'nonlexical' category, they will keep working, otherwise they will throw a\n * type error.\n * This seems to match the spec, except maybe for functions that accept\n * non-lexical values for their datatype.\n *\n * See:\n *  - https://www.w3.org/TR/xquery/#dt-type-error\n *  - https://www.w3.org/TR/rdf-concepts/#section-Literal-Value\n *  - https://www.w3.org/TR/xquery/#dt-ebv\n *  - ... some other more precise thing i can't find...\n */\nclass NonLexicalLiteral extends Literal {\n    constructor(typedValue, typeURL, openWorldType, strValue, language) {\n        super({ toString: () => 'undefined' }, typeURL, strValue, language, 'nonlexical');\n        this.typeURL = typeURL;\n        this.openWorldType = openWorldType;\n        this.typedValue = { toString: () => 'undefined' };\n        this.dataType = Consts_1.TypeAlias.SPARQL_NON_LEXICAL;\n    }\n    coerceEBV() {\n        const isNumericOrBool = (0, TypeHandling_1.isSubTypeOf)(this.typeURL, Consts_1.TypeURL.XSD_BOOLEAN, this.openWorldType) ||\n            (0, TypeHandling_1.isSubTypeOf)(this.typeURL, Consts_1.TypeAlias.SPARQL_NUMERIC, this.openWorldType);\n        if (isNumericOrBool) {\n            return false;\n        }\n        throw new Err.EBVCoercionError(this);\n    }\n    toRDF() {\n        return DF.literal(this.str(), this.language || DF.namedNode(this.typeURL));\n    }\n    str() {\n        return this.strValue || '';\n    }\n}\nexports.NonLexicalLiteral = NonLexicalLiteral;\nfunction isNonLexicalLiteral(lit) {\n    if (lit.dataType === Consts_1.TypeAlias.SPARQL_NON_LEXICAL) {\n        return lit;\n    }\n    return undefined;\n}\nexports.isNonLexicalLiteral = isNonLexicalLiteral;\n//# sourceMappingURL=Term.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Variable = void 0;\nconst Expressions_1 = require(\"./Expressions\");\nclass Variable {\n    constructor(name) {\n        this.expressionType = Expressions_1.ExpressionType.Variable;\n        this.name = name;\n    }\n}\nexports.Variable = Variable;\n//# sourceMappingURL=Variable.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./Expressions\"), exports);\n__exportStar(require(\"./Variable\"), exports);\n__exportStar(require(\"./Term\"), exports);\n__exportStar(require(\"./Operator\"), exports);\n__exportStar(require(\"./SpecialOperator\"), exports);\n__exportStar(require(\"./Named\"), exports);\n__exportStar(require(\"./Aggregate\"), exports);\n__exportStar(require(\"./Existence\"), exports);\n__exportStar(require(\"./AsyncExtension\"), exports);\n__exportStar(require(\"./SyncExtension\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SpecialFunction = exports.NamedFunction = exports.RegularFunction = exports.BaseFunction = void 0;\nconst Err = require(\"../util/Errors\");\nclass BaseFunction {\n    constructor(operator, definition) {\n        this.operator = operator;\n        /**\n         * A function application works by monomorphing the function to a specific\n         * instance depending on the runtime types. We then just apply this function\n         * to the args.\n         */\n        this.apply = (args, context) => {\n            const concreteFunction = this.monomorph(args, context.superTypeProvider, context.overloadCache, context.enableExtendedXsdTypes) ||\n                this.handleInvalidTypes(args);\n            return concreteFunction(context)(args);\n        };\n        this.arity = definition.arity;\n        this.overloads = definition.overloads;\n    }\n    /**\n     * We monomorph by checking the map of overloads for keys corresponding\n     * to the runtime types. We start by checking for an implementation for the\n     * most concrete types (integer, string, date, IRI), if we find none,\n     * we consider their term types (literal, blank, IRI), and lastly we consider\n     * all arguments as generic terms.\n     *\n     * Another option would be to populate the overloads with an implementation\n     * for every concrete type when the function is generic over termtypes or\n     * terms.\n     */\n    monomorph(args, superTypeProvider, overloadCache, experimental) {\n        return experimental ?\n            this.overloads.experimentalTree.search(args, superTypeProvider, overloadCache) :\n            this.overloads.tree.search(args);\n    }\n}\nexports.BaseFunction = BaseFunction;\n// Regular Functions ----------------------------------------------------------\n/**\n * Varying kinds of functions take arguments of different types on which the\n * specific behaviour is dependant. Although their behaviour is often varying,\n * it is always relatively simple, and better suited for synced behaviour.\n * The types of their arguments are always terms, but might differ in\n * their term-type (eg: iri, literal),\n * their specific literal type (eg: string, integer),\n * their arity (see BNODE),\n * or even their specific numeric type (eg: integer, float).\n *\n * Examples include:\n *  - Arithmetic operations such as: *, -, /, +\n *  - Bool operators such as: =, !=, <=, <, ...\n *  - Functions such as: str, IRI\n *\n * See also: https://www.w3.org/TR/sparql11-query/#func-rdfTerms\n * and https://www.w3.org/TR/sparql11-query/#OperatorMapping\n */\nclass RegularFunction extends BaseFunction {\n    constructor(op, definition) {\n        super(op, definition);\n        this.functionClass = 'regular';\n    }\n    handleInvalidTypes(args) {\n        throw new Err.InvalidArgumentTypes(args, this.operator);\n    }\n}\nexports.RegularFunction = RegularFunction;\n// Named Functions ------------------------------------------------------------\nclass NamedFunction extends BaseFunction {\n    constructor(op, definition) {\n        super(op, definition);\n        this.functionClass = 'named';\n    }\n    handleInvalidTypes(args) {\n        throw new Err.InvalidArgumentTypes(args, this.operator);\n    }\n}\nexports.NamedFunction = NamedFunction;\n// Special Functions ----------------------------------------------------------\n/**\n * Special Functions are those that don't really fit in sensible categories and\n * have extremely heterogeneous signatures that make them impossible to abstract\n * over. They are small in number, and their behaviour is often complex and open\n * for multiple correct implementations with different trade-offs.\n *\n * Due to their varying nature, they need all available information present\n * during evaluation. This reflects in the signature of the apply() method.\n *\n * They need access to an evaluator to be able to even implement their logic.\n * Especially relevant for IF, and the logical connectives.\n *\n * They can have both sync and async implementations, and both would make sense\n * in some contexts.\n */\nclass SpecialFunction {\n    constructor(operator, definition) {\n        this.operator = operator;\n        this.functionClass = 'special';\n        this.arity = definition.arity;\n        this.applySync = definition.applySync;\n        this.applyAsync = definition.applyAsync;\n        this.checkArity = definition.checkArity || defaultArityCheck(this.arity);\n    }\n}\nexports.SpecialFunction = SpecialFunction;\nfunction defaultArityCheck(arity) {\n    return (args) => {\n        // Infinity is used to represent var-args, so it's always correct.\n        if (arity === Number.POSITIVE_INFINITY) {\n            return true;\n        }\n        // If the function has overloaded arity, the actual arity needs to be present.\n        if (Array.isArray(arity)) {\n            return arity.includes(args.length);\n        }\n        return args.length === arity;\n    };\n}\n//# sourceMappingURL=Core.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.expressionToVar = exports.dateTime = exports.langString = exports.string = exports.double = exports.float = exports.decimal = exports.integer = exports.bool = exports.Builder = exports.declare = void 0;\nconst rdf_data_factory_1 = require(\"rdf-data-factory\");\nconst E = require(\"../expressions\");\nconst expressions_1 = require(\"../expressions\");\nconst C = require(\"../util/Consts\");\nconst Consts_1 = require(\"../util/Consts\");\nconst Err = require(\"../util/Errors\");\nconst TypeHandling_1 = require(\"../util/TypeHandling\");\nconst LegacyTree_1 = require(\"./LegacyTree\");\nconst OverloadTree_1 = require(\"./OverloadTree\");\nconst DF = new rdf_data_factory_1.DataFactory();\nfunction declare(identifier) {\n    return new Builder(identifier);\n}\nexports.declare = declare;\nclass Builder {\n    constructor(identifier) {\n        this.overloadTree = new OverloadTree_1.OverloadTree(identifier);\n        this.legacyTree = new LegacyTree_1.LegacyTree();\n        this.collected = false;\n    }\n    collect() {\n        if (this.collected) {\n            // Only 1 time allowed because we can't copy a tree. (And we don't need this).\n            throw new Error('Builders can only be collected once!');\n        }\n        this.collected = true;\n        return { experimentalTree: this.overloadTree, tree: this.legacyTree };\n    }\n    set(argTypes, func) {\n        this.overloadTree.addOverload(argTypes, func);\n        this.legacyTree.addOverload(argTypes, func);\n        return this;\n    }\n    /**\n     * A legacy function should be set only after all other functions are set\n     * @param argTypes\n     * @param func\n     */\n    setLegacy(argTypes, func) {\n        this.legacyTree.addLegacyOverload(argTypes, func);\n        return this;\n    }\n    copy({ from, to }) {\n        const impl = this.overloadTree.getImplementationExact(from);\n        if (!impl) {\n            throw new Err.UnexpectedError('Tried to copy implementation, but types not found', { from, to });\n        }\n        return this.set(to, impl);\n    }\n    onUnary(type, op) {\n        return this.set([type], context => ([val]) => op(context)(val));\n    }\n    onUnaryTyped(type, op) {\n        return this.set([type], context => ([val]) => op(context)(val.typedValue));\n    }\n    onBinary(types, op) {\n        return this.set(types, context => ([left, right]) => op(context)(left, right));\n    }\n    onBinaryTyped(types, op) {\n        return this.set(types, context => ([left, right]) => op(context)(left.typedValue, right.typedValue));\n    }\n    onTernaryTyped(types, op) {\n        return this.set(types, context => ([a1, a2, a3]) => op(context)(a1.typedValue, a2.typedValue, a3.typedValue));\n    }\n    onTernary(types, op) {\n        return this.set(types, context => ([a1, a2, a3]) => op(context)(a1, a2, a3));\n    }\n    onQuaternaryTyped(types, op) {\n        return this.set(types, context => ([a1, a2, a3, a4]) => op(context)(a1.typedValue, a2.typedValue, a3.typedValue, a4.typedValue));\n    }\n    onTerm1(op) {\n        return this.set(['term'], context => ([term]) => op(context)(term));\n    }\n    onLiteral1(op) {\n        return this.set(['literal'], context => ([term]) => op(context)(term));\n    }\n    onBoolean1(op) {\n        return this\n            .set([C.TypeURL.XSD_BOOLEAN], context => ([lit]) => op(context)(lit));\n    }\n    onBoolean1Typed(op) {\n        return this\n            .set([C.TypeURL.XSD_BOOLEAN], context => ([lit]) => op(context)(lit.typedValue));\n    }\n    onString1(op) {\n        return this\n            .set([C.TypeURL.XSD_STRING], context => ([lit]) => op(context)(lit));\n    }\n    onString1Typed(op) {\n        return this\n            .set([C.TypeURL.XSD_STRING], context => ([lit]) => op(context)(lit.typedValue));\n    }\n    onLangString1(op) {\n        return this\n            .set([C.TypeURL.RDF_LANG_STRING], context => ([lit]) => op(context)(lit));\n    }\n    onStringly1(op) {\n        return this\n            .set([C.TypeAlias.SPARQL_STRINGLY], context => ([lit]) => op(context)(lit));\n    }\n    onStringly1Typed(op) {\n        return this\n            .set([C.TypeAlias.SPARQL_STRINGLY], context => ([lit]) => op(context)(lit.typedValue));\n    }\n    onNumeric1(op) {\n        return this\n            .set([C.TypeAlias.SPARQL_NUMERIC], context => ([val]) => op(context)(val))\n            .invalidLexicalForm([C.TypeAlias.SPARQL_NON_LEXICAL], 1);\n    }\n    onDateTime1(op) {\n        return this\n            .set([C.TypeURL.XSD_DATE_TIME], context => ([val]) => op(context)(val))\n            .invalidLexicalForm([C.TypeAlias.SPARQL_NON_LEXICAL], 1);\n    }\n    /**\n     * We return the base types and not the provided types because we don't want to create invalid terms.\n     * Providing negative number to a function unary - for example should not\n     * return a term of type negative number having a positive value.\n     * @param op the numeric operator performed\n     */\n    numericConverter(op) {\n        const evalHelper = (context) => (arg) => op(context)(arg.typedValue);\n        return this.onBinary([Consts_1.TypeURL.XSD_INTEGER], context => arg => integer(evalHelper(context)(arg)))\n            .onBinary([Consts_1.TypeURL.XSD_DECIMAL], context => arg => decimal(evalHelper(context)(arg)))\n            .onBinary([Consts_1.TypeURL.XSD_FLOAT], context => arg => float(evalHelper(context)(arg)))\n            .onBinary([Consts_1.TypeURL.XSD_DOUBLE], context => arg => double(evalHelper(context)(arg)))\n            .invalidLexicalForm([C.TypeAlias.SPARQL_NON_LEXICAL], 1);\n    }\n    /**\n     * !!! Be aware when using this function, it will create different overloads with different return types !!!\n     * Arithmetic operators take 2 numeric arguments, and return a single numerical\n     * value. The type of the return value is heavily dependant on the types of the\n     * input arguments. In JS everything is a double, but in SPARQL it is not.\n     *\n     * The different arguments are handled by type promotion and subtype substitution.\n     * The way numeric function arguments work is described here:\n     * https://www.w3.org/TR/xpath20/#mapping\n     * Above url is referenced in the sparql spec: https://www.w3.org/TR/sparql11-query/#OperatorMapping\n     */\n    arithmetic(op) {\n        const evalHelper = (context) => (left, right) => op(context)(left.typedValue, right.typedValue);\n        return this.onBinary([Consts_1.TypeURL.XSD_INTEGER, Consts_1.TypeURL.XSD_INTEGER], context => (left, right) => integer(evalHelper(context)(left, right)))\n            .onBinary([Consts_1.TypeURL.XSD_DECIMAL, Consts_1.TypeURL.XSD_DECIMAL], context => (left, right) => decimal(evalHelper(context)(left, right)))\n            .onBinary([Consts_1.TypeURL.XSD_FLOAT, Consts_1.TypeURL.XSD_FLOAT], context => (left, right) => float(evalHelper(context)(left, right)))\n            .onBinary([Consts_1.TypeURL.XSD_DOUBLE, Consts_1.TypeURL.XSD_DOUBLE], context => (left, right) => double(evalHelper(context)(left, right)))\n            .setLegacy([Consts_1.TypeAlias.SPARQL_NUMERIC, Consts_1.TypeAlias.SPARQL_NUMERIC], (context) => ([left, right]) => Builder.legacyArithmeticPromotion[left.mainSparqlType][right.mainSparqlType](op(context)(left.typedValue, right.typedValue)));\n    }\n    numberTest(test) {\n        return this.numeric(context => ([left, right]) => {\n            const result = test(context)(left.typedValue, right.typedValue);\n            return bool(result);\n        });\n    }\n    stringTest(test) {\n        return this\n            .set([C.TypeURL.XSD_STRING, C.TypeURL.XSD_STRING], context => ([left, right]) => {\n            const result = test(context)(left.typedValue, right.typedValue);\n            return bool(result);\n        })\n            .invalidLexicalForm([C.TypeAlias.SPARQL_NON_LEXICAL, C.TypeURL.XSD_STRING], 1)\n            .invalidLexicalForm([C.TypeURL.XSD_STRING, C.TypeAlias.SPARQL_NON_LEXICAL], 2);\n    }\n    booleanTest(test) {\n        return this\n            .set([C.TypeURL.XSD_BOOLEAN, C.TypeURL.XSD_BOOLEAN], context => ([left, right]) => {\n            const result = test(context)(left.typedValue, right.typedValue);\n            return bool(result);\n        })\n            .invalidLexicalForm([C.TypeAlias.SPARQL_NON_LEXICAL, C.TypeURL.XSD_BOOLEAN], 1)\n            .invalidLexicalForm([C.TypeURL.XSD_BOOLEAN, C.TypeAlias.SPARQL_NON_LEXICAL], 2);\n    }\n    dateTimeTest(test) {\n        return this\n            .set([C.TypeURL.XSD_DATE_TIME, C.TypeURL.XSD_DATE_TIME], context => ([left, right]) => {\n            const result = test(context)(left.typedValue, right.typedValue);\n            return bool(result);\n        })\n            .invalidLexicalForm([C.TypeAlias.SPARQL_NON_LEXICAL, C.TypeURL.XSD_DATE_TIME], 1)\n            .invalidLexicalForm([C.TypeURL.XSD_DATE_TIME, C.TypeAlias.SPARQL_NON_LEXICAL], 2);\n    }\n    numeric(op) {\n        return this\n            .set([C.TypeAlias.SPARQL_NUMERIC, C.TypeAlias.SPARQL_NUMERIC], op)\n            .invalidLexicalForm([C.TypeAlias.SPARQL_NUMERIC, C.TypeAlias.SPARQL_NON_LEXICAL], 2)\n            .invalidLexicalForm([C.TypeAlias.SPARQL_NON_LEXICAL, C.TypeAlias.SPARQL_NUMERIC], 1);\n    }\n    invalidLexicalForm(types, index) {\n        return this.set(types, () => (args) => {\n            throw new Err.InvalidLexicalForm(args[index - 1].toRDF());\n        });\n    }\n}\nexports.Builder = Builder;\nBuilder.legacyArithmeticPromotion = {\n    integer: {\n        integer: num => new expressions_1.IntegerLiteral(num),\n        decimal: num => new expressions_1.DecimalLiteral(num),\n        float: num => new expressions_1.FloatLiteral(num),\n        double: num => new expressions_1.DoubleLiteral(num),\n    },\n    decimal: {\n        integer: num => new expressions_1.DecimalLiteral(num),\n        decimal: num => new expressions_1.DecimalLiteral(num),\n        float: num => new expressions_1.FloatLiteral(num),\n        double: num => new expressions_1.DoubleLiteral(num),\n    },\n    float: {\n        integer: num => new expressions_1.FloatLiteral(num),\n        decimal: num => new expressions_1.FloatLiteral(num),\n        float: num => new expressions_1.FloatLiteral(num),\n        double: num => new expressions_1.DoubleLiteral(num),\n    },\n    double: {\n        integer: num => new expressions_1.DoubleLiteral(num),\n        decimal: num => new expressions_1.DoubleLiteral(num),\n        float: num => new expressions_1.DoubleLiteral(num),\n        double: num => new expressions_1.DoubleLiteral(num),\n    },\n};\n// ----------------------------------------------------------------------------\n// Literal Construction helpers\n// ----------------------------------------------------------------------------\nfunction bool(val) {\n    return new E.BooleanLiteral(val);\n}\nexports.bool = bool;\nfunction integer(num, dt) {\n    if (dt && !(0, TypeHandling_1.isInternalSubType)(dt, Consts_1.TypeURL.XSD_INTEGER)) {\n        throw new Error('apple');\n    }\n    return new E.IntegerLiteral(num, dt);\n}\nexports.integer = integer;\nfunction decimal(num, dt) {\n    if (dt && !(0, TypeHandling_1.isInternalSubType)(dt, Consts_1.TypeURL.XSD_DECIMAL)) {\n        throw new Error('apple');\n    }\n    return new E.DecimalLiteral(num, dt);\n}\nexports.decimal = decimal;\nfunction float(num, dt) {\n    if (dt && !(0, TypeHandling_1.isInternalSubType)(dt, Consts_1.TypeURL.XSD_FLOAT)) {\n        throw new Error('apple');\n    }\n    return new E.FloatLiteral(num, dt);\n}\nexports.float = float;\nfunction double(num, dt) {\n    if (dt && !(0, TypeHandling_1.isInternalSubType)(dt, Consts_1.TypeURL.XSD_DOUBLE)) {\n        throw new Error('apple');\n    }\n    return new E.DoubleLiteral(num, dt);\n}\nexports.double = double;\nfunction string(str) {\n    return new E.StringLiteral(str);\n}\nexports.string = string;\nfunction langString(str, lang) {\n    return new E.LangStringLiteral(str, lang);\n}\nexports.langString = langString;\nfunction dateTime(date, str) {\n    return new E.DateTimeLiteral(date, str);\n}\nexports.dateTime = dateTime;\nfunction expressionToVar(variableExpression) {\n    return DF.variable(variableExpression.name.slice(1));\n}\nexports.expressionToVar = expressionToVar;\n//# sourceMappingURL=Helpers.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LegacyTree = void 0;\nconst expressions_1 = require(\"../expressions\");\nconst TypeHandling_1 = require(\"../util/TypeHandling\");\n/**\n * Maps argument types on their specific implementation in a tree like structure.\n * When adding any functionality to this class, make sure you add it to SpecialFunctions as well.\n */\nclass LegacyTree {\n    constructor(legacyImportance) {\n        this.implementation = undefined;\n        this.subTrees = Object.create(null);\n        this.legacyImportance = legacyImportance || 0;\n    }\n    /**\n     * Searches in a depth first way for the best matching overload. considering this a the tree's root.\n     * @param args\n     */\n    search(args) {\n        // SearchStack is a stack of all node's that need to be checked for implementation.\n        // It provides an easy way to keep order in our search.\n        const searchStack = [];\n        const startIndex = 0;\n        if (args.length === 0) {\n            return this.implementation;\n        }\n        // GetSubTreeWithArg return a SearchStack containing the node's that should be contacted next.\n        // We also log the index since there is no other way to remember this index.\n        // the provided stack should be pushed on top of our search stack since it also has it's order.\n        searchStack.push(...this.getSubTreeWithArg(args[startIndex]).map(node => ({ node, index: startIndex + 1 })));\n        while (searchStack.length > 0) {\n            const { index, node } = searchStack.pop();\n            if (index === args.length) {\n                return node.implementation;\n            }\n            searchStack.push(...node.getSubTreeWithArg(args[index]).map(item => ({ node: item, index: index + 1 })));\n        }\n        return this.implementation;\n    }\n    /**\n     * Adds an overload to the tree structure considering this as the tree's root.\n     * @param argumentTypes a list of ArgumentTypes that would need to be provided in the same order to\n     * get the implementation.\n     * @param func the implementation for this overload.\n     */\n    addOverload(argumentTypes, func) {\n        this._addOverload([...argumentTypes], func, false, 0);\n    }\n    addLegacyOverload(argumentTypes, func) {\n        this._addOverload([...argumentTypes], func, true, 0);\n    }\n    _addOverload(argumentTypes, func, alwaysOverride, prevPrio) {\n        const [argumentType, ..._argumentTypes] = argumentTypes;\n        if (!argumentType) {\n            if (alwaysOverride || this.legacyImportance <= prevPrio) {\n                this.implementation = func;\n            }\n            return;\n        }\n        const holder = (0, TypeHandling_1.mainSparqlType)(argumentType);\n        for (const mainType of holder.types) {\n            if (alwaysOverride || !this.subTrees[mainType]) {\n                this.subTrees[mainType] = new LegacyTree(holder.prio);\n            }\n            this.subTrees[mainType]._addOverload(_argumentTypes, func, alwaysOverride, holder.prio);\n        }\n    }\n    /**\n     * @param arg term to try and match to possible overloads of this node.\n     * @returns SearchStack a stack with top element the next node that should be asked for implementation or overload.\n     */\n    getSubTreeWithArg(arg) {\n        const literalExpression = (0, expressions_1.isLiteralTermExpression)(arg);\n        const res = [];\n        // These types refer to Type exported by lib/util/Consts.ts\n        if (this.subTrees.term) {\n            res.push(this.subTrees.term);\n        }\n        // TermTypes are defined in E.TermType.\n        if (this.subTrees[arg.termType]) {\n            res.push(this.subTrees[arg.termType]);\n        }\n        if (literalExpression && this.subTrees[literalExpression.mainSparqlType]) {\n            res.push(this.subTrees[literalExpression.mainSparqlType]);\n        }\n        return res;\n    }\n}\nexports.LegacyTree = LegacyTree;\n//# sourceMappingURL=LegacyTree.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.namedDefinitions = void 0;\nconst Consts_1 = require(\"../util/Consts\");\nconst Err = require(\"../util/Errors\");\nconst Parsing_1 = require(\"../util/Parsing\");\nconst Helpers_1 = require(\"./Helpers\");\n// ----------------------------------------------------------------------------\n// ----------------------------------------------------------------------------\n// ----------------------------------------------------------------------------\n// Begin definitions.\n// ----------------------------------------------------------------------------\n// XPath Constructor functions\n// https://www.w3.org/TR/sparql11-query/#\n// https://www.w3.org/TR/xpath-functions/#casting-from-primitive-to-primitive\n// ----------------------------------------------------------------------------\n/**\n * https://www.w3.org/TR/xpath-functions/#casting-to-string\n */\nconst xsdToString = {\n    arity: 1,\n    overloads: (0, Helpers_1.declare)(Consts_1.TypeURL.XSD_STRING)\n        .onNumeric1(() => (val) => (0, Helpers_1.string)((0, Helpers_1.float)(val.typedValue).str()))\n        .onBoolean1Typed(() => val => (0, Helpers_1.string)((0, Helpers_1.bool)(val).str()))\n        .onTerm1(() => (val) => (0, Helpers_1.string)(val.str()))\n        .collect(),\n};\nconst xsdToFloat = {\n    arity: 1,\n    overloads: (0, Helpers_1.declare)(Consts_1.TypeURL.XSD_FLOAT)\n        .onNumeric1(() => (val) => (0, Helpers_1.float)(val.typedValue))\n        .onBoolean1Typed(() => val => (0, Helpers_1.float)(val ? 1 : 0))\n        .onUnary(Consts_1.TypeURL.XSD_STRING, () => (val) => {\n        const result = (0, Parsing_1.parseXSDFloat)(val.str());\n        if (result === undefined) {\n            throw new Err.CastError(val, Consts_1.TypeURL.XSD_FLOAT);\n        }\n        return (0, Helpers_1.float)(result);\n    })\n        .copy({ from: [Consts_1.TypeURL.XSD_STRING], to: [Consts_1.TypeAlias.SPARQL_NON_LEXICAL] })\n        .collect(),\n};\nconst xsdToDouble = {\n    arity: 1,\n    overloads: (0, Helpers_1.declare)(Consts_1.TypeURL.XSD_DOUBLE)\n        .onNumeric1(() => (val) => (0, Helpers_1.double)(val.typedValue))\n        .onBoolean1Typed(() => val => (0, Helpers_1.double)(val ? 1 : 0))\n        .onUnary(Consts_1.TypeURL.XSD_STRING, () => (val) => {\n        const result = (0, Parsing_1.parseXSDFloat)(val.str());\n        if (result === undefined) {\n            throw new Err.CastError(val, Consts_1.TypeURL.XSD_DOUBLE);\n        }\n        return (0, Helpers_1.double)(result);\n    })\n        .copy({ from: [Consts_1.TypeURL.XSD_STRING], to: [Consts_1.TypeAlias.SPARQL_NON_LEXICAL] })\n        .collect(),\n};\nconst xsdToDecimal = {\n    arity: 1,\n    overloads: (0, Helpers_1.declare)(Consts_1.TypeURL.XSD_DECIMAL)\n        .onNumeric1(() => (val) => {\n        const result = (0, Parsing_1.parseXSDDecimal)(val.str());\n        if (result === undefined) {\n            throw new Err.CastError(val, Consts_1.TypeURL.XSD_DECIMAL);\n        }\n        return (0, Helpers_1.decimal)(result);\n    })\n        .onString1(() => (val) => {\n        const str = val.str();\n        const result = /^([+-])?(\\d+(\\.\\d+)?)$/u.test(str) ? (0, Parsing_1.parseXSDDecimal)(str) : undefined;\n        if (result === undefined) {\n            throw new Err.CastError(val, Consts_1.TypeURL.XSD_DECIMAL);\n        }\n        return (0, Helpers_1.decimal)(result);\n    })\n        .copy({ from: [Consts_1.TypeURL.XSD_STRING], to: [Consts_1.TypeAlias.SPARQL_NON_LEXICAL] })\n        .onBoolean1Typed(() => val => (0, Helpers_1.decimal)(val ? 1 : 0))\n        .collect(),\n};\nconst xsdToInteger = {\n    arity: 1,\n    overloads: (0, Helpers_1.declare)(Consts_1.TypeURL.XSD_INTEGER)\n        .onBoolean1Typed(() => val => (0, Helpers_1.integer)(val ? 1 : 0))\n        .onNumeric1(() => (val) => {\n        const result = (0, Parsing_1.parseXSDInteger)(val.str());\n        if (result === undefined) {\n            throw new Err.CastError(val, Consts_1.TypeURL.XSD_INTEGER);\n        }\n        return (0, Helpers_1.integer)(result);\n    })\n        .onString1(() => (val) => {\n        const str = val.str();\n        const result = /^\\d+$/u.test(str) ? (0, Parsing_1.parseXSDInteger)(str) : undefined;\n        if (result === undefined) {\n            throw new Err.CastError(val, Consts_1.TypeURL.XSD_INTEGER);\n        }\n        return (0, Helpers_1.integer)(result);\n    })\n        .copy({ from: [Consts_1.TypeAlias.SPARQL_NUMERIC], to: [Consts_1.TypeAlias.SPARQL_NON_LEXICAL] })\n        .collect(),\n};\nconst xsdToDatetime = {\n    arity: 1,\n    overloads: (0, Helpers_1.declare)(Consts_1.TypeURL.XSD_DATE_TIME)\n        .onUnary(Consts_1.TypeURL.XSD_DATE_TIME, () => (val) => val)\n        .onUnary(Consts_1.TypeURL.XSD_STRING, () => (val) => {\n        const date = new Date(val.str());\n        if (Number.isNaN(date.getTime())) {\n            throw new Err.CastError(val, Consts_1.TypeURL.XSD_DATE_TIME);\n        }\n        return (0, Helpers_1.dateTime)(date, val.str());\n    })\n        .copy({ from: [Consts_1.TypeURL.XSD_STRING], to: [Consts_1.TypeAlias.SPARQL_NON_LEXICAL] })\n        .collect(),\n};\nconst xsdToBoolean = {\n    arity: 1,\n    overloads: (0, Helpers_1.declare)(Consts_1.TypeURL.XSD_BOOLEAN)\n        .onNumeric1(() => (val) => (0, Helpers_1.bool)(val.coerceEBV()))\n        .onUnary(Consts_1.TypeURL.XSD_BOOLEAN, () => (val) => (0, Helpers_1.bool)(val.coerceEBV()))\n        .onUnary(Consts_1.TypeURL.XSD_STRING, () => (val) => {\n        switch (val.str()) {\n            case 'true':\n                return (0, Helpers_1.bool)(true);\n            case 'false':\n                return (0, Helpers_1.bool)(false);\n            case '1':\n                return (0, Helpers_1.bool)(true);\n            case '0':\n                return (0, Helpers_1.bool)(false);\n            default:\n                throw new Err.CastError(val, Consts_1.TypeURL.XSD_BOOLEAN);\n        }\n    })\n        .copy({ from: [Consts_1.TypeURL.XSD_STRING], to: [Consts_1.TypeAlias.SPARQL_NON_LEXICAL] })\n        .collect(),\n};\n// End definitions.\n// ----------------------------------------------------------------------------\n// ----------------------------------------------------------------------------\n// ----------------------------------------------------------------------------\nexports.namedDefinitions = {\n    // --------------------------------------------------------------------------\n    // XPath Constructor functions\n    // https://www.w3.org/TR/sparql11-query/#FunctionMapping\n    // --------------------------------------------------------------------------\n    [Consts_1.TypeURL.XSD_STRING]: xsdToString,\n    [Consts_1.TypeURL.XSD_FLOAT]: xsdToFloat,\n    [Consts_1.TypeURL.XSD_DOUBLE]: xsdToDouble,\n    [Consts_1.TypeURL.XSD_DECIMAL]: xsdToDecimal,\n    [Consts_1.TypeURL.XSD_INTEGER]: xsdToInteger,\n    [Consts_1.TypeURL.XSD_DATE_TIME]: xsdToDatetime,\n    [Consts_1.TypeURL.XSD_DATE]: xsdToDatetime,\n    [Consts_1.TypeURL.XSD_BOOLEAN]: xsdToBoolean,\n};\n//# sourceMappingURL=NamedFunctions.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OverloadTree = void 0;\nconst expressions_1 = require(\"../expressions\");\nconst Consts_1 = require(\"../util/Consts\");\nconst TypeHandling_1 = require(\"../util/TypeHandling\");\nconst Helpers_1 = require(\"./Helpers\");\n/**\n * Maps argument types on their specific implementation in a tree like structure.\n * When adding any functionality to this class, make sure you add it to SpecialFunctions as well.\n */\nclass OverloadTree {\n    constructor(identifier, depth) {\n        this.identifier = identifier;\n        this.implementation = undefined;\n        this.generalOverloads = Object.create(null);\n        this.literalOverLoads = [];\n        this.depth = depth || 0;\n        this.promotionCount = undefined;\n    }\n    getSubtree(overrideType) {\n        const generalType = (0, TypeHandling_1.asGeneralType)(overrideType);\n        if (generalType) {\n            return this.generalOverloads[generalType];\n        }\n        for (const [type, overloadTree] of this.literalOverLoads) {\n            if (overrideType === type) {\n                return overloadTree;\n            }\n        }\n        return undefined;\n    }\n    /**\n     * Get the implementation for the types that exactly match @param args .\n     */\n    getImplementationExact(args) {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias,consistent-this\n        let node = this;\n        for (const expression of args) {\n            node = node.getSubtree(expression);\n            if (!node) {\n                return undefined;\n            }\n        }\n        return node.implementation;\n    }\n    getOverloadCacheIdentifier(args) {\n        return this.identifier + args.map(term => {\n            const literalExpression = (0, expressions_1.isLiteralTermExpression)(term);\n            return literalExpression ? literalExpression.dataType : term.termType;\n        }).join('');\n    }\n    /**\n     * Searches in a depth first way for the best matching overload. considering this a the tree's root.\n     * @param args:\n     * @param overloadCache\n     * @param superTypeProvider\n     */\n    search(args, superTypeProvider, overloadCache) {\n        const identifier = this.getOverloadCacheIdentifier(args);\n        if (overloadCache.has(identifier)) {\n            return overloadCache.get(identifier);\n        }\n        // SearchStack is a stack of all node's that need to be checked for implementation.\n        // It provides an easy way to keep order in our search.\n        const searchStack = [];\n        const startIndex = 0;\n        if (args.length === 0) {\n            return this.implementation;\n        }\n        // GetSubTreeWithArg return a SearchStack containing the node's that should be contacted next.\n        // We also log the index since there is no other way to remember this index.\n        // the provided stack should be pushed on top of our search stack since it also has it's order.\n        searchStack.push(...this.getSubTreeWithArg(args[startIndex], superTypeProvider).map(node => ({ node, index: startIndex + 1 })));\n        while (searchStack.length > 0) {\n            const { index, node } = searchStack.pop();\n            // We check the implementation because it would be possible a path is created but not implemented.\n            // ex: f(double, double, double) and f(term, term). and calling f(double, double).\n            if (index === args.length && node.implementation) {\n                overloadCache.set(identifier, node.implementation);\n                return node.implementation;\n            }\n            searchStack.push(...node.getSubTreeWithArg(args[index], superTypeProvider).map(item => ({ node: item, index: index + 1 })));\n        }\n        // Calling a function with one argument but finding no implementation should return no implementation.\n        // Not even the one with no arguments.\n        overloadCache.set(identifier, undefined);\n        return undefined;\n    }\n    /**\n     * Adds an overload to the tree structure considering this as the tree's root.\n     * @param ExperimentalArgumentTypes a list of ExperimentalArgumentTypes that would need to be provided in\n     * the same order to get the implementation.\n     * @param func the implementation for this overload.\n     */\n    addOverload(ExperimentalArgumentTypes, func) {\n        this._addOverload([...ExperimentalArgumentTypes], func, 0);\n    }\n    _addOverload(ExperimentalArgumentTypes, func, promotionCount) {\n        const [experimentalArgumentType, ..._experimentalArgumentTypes] = ExperimentalArgumentTypes;\n        if (!experimentalArgumentType) {\n            if (this.promotionCount === undefined || promotionCount <= this.promotionCount) {\n                this.promotionCount = promotionCount;\n                this.implementation = func;\n            }\n            return;\n        }\n        let nextTree = this.getSubtree(experimentalArgumentType);\n        if (!nextTree) {\n            const newNode = new OverloadTree(this.identifier, this.depth + 1);\n            const generalType = (0, TypeHandling_1.asGeneralType)(experimentalArgumentType);\n            if (generalType) {\n                this.generalOverloads[generalType] = newNode;\n            }\n            const overrideType = (0, TypeHandling_1.asOverrideType)(experimentalArgumentType);\n            if (overrideType) {\n                this.literalOverLoads.push([overrideType, newNode]);\n            }\n            nextTree = newNode;\n        }\n        nextTree._addOverload(_experimentalArgumentTypes, func, promotionCount);\n        // Defined by https://www.w3.org/TR/xpath-31/#promotion .\n        // e.g. When a function takes a string, it can also accept a XSD_ANY_URI if it's cast first.\n        // TODO: When promoting decimal type a cast needs to be preformed.\n        if (experimentalArgumentType === Consts_1.TypeURL.XSD_STRING) {\n            this.addPromotedOverload(Consts_1.TypeURL.XSD_ANY_URI, func, arg => (0, Helpers_1.string)(arg.str()), _experimentalArgumentTypes, promotionCount);\n        }\n        // TODO: in case of decimal a round needs to happen.\n        if (experimentalArgumentType === Consts_1.TypeURL.XSD_DOUBLE) {\n            this.addPromotedOverload(Consts_1.TypeURL.XSD_FLOAT, func, arg => (0, Helpers_1.double)(arg.typedValue), _experimentalArgumentTypes, promotionCount);\n            this.addPromotedOverload(Consts_1.TypeURL.XSD_DECIMAL, func, arg => (0, Helpers_1.double)(arg.typedValue), _experimentalArgumentTypes, promotionCount);\n        }\n        if (experimentalArgumentType === Consts_1.TypeURL.XSD_FLOAT) {\n            this.addPromotedOverload(Consts_1.TypeURL.XSD_DECIMAL, func, arg => (0, Helpers_1.float)(arg.typedValue), _experimentalArgumentTypes, promotionCount);\n        }\n    }\n    addPromotedOverload(typeToPromote, func, conversionFunction, ExperimentalArgumentTypes, promotionCount) {\n        let nextTree = this.getSubtree(typeToPromote);\n        if (!nextTree) {\n            const newNode = new OverloadTree(this.identifier, this.depth + 1);\n            this.literalOverLoads.push([typeToPromote, newNode]);\n            nextTree = newNode;\n        }\n        nextTree._addOverload(ExperimentalArgumentTypes, funcConf => args => func(funcConf)([\n            ...args.slice(0, this.depth),\n            conversionFunction(args[this.depth]),\n            ...args.slice(this.depth + 1, args.length),\n        ]), promotionCount + 1);\n    }\n    /**\n     * @param arg term to try and match to possible overloads of this node.\n     * @returns SearchStack a stack with top element the next node that should be asked for implementation or overload.\n     */\n    getSubTreeWithArg(arg, openWorldType) {\n        const res = [];\n        const literalExpression = (0, expressions_1.isLiteralTermExpression)(arg);\n        // These types refer to Type exported by lib/util/Consts.ts\n        if (this.generalOverloads.term) {\n            res.push(this.generalOverloads.term);\n        }\n        // TermTypes are defined in E.TermType.\n        if (this.generalOverloads[arg.termType]) {\n            res.push(this.generalOverloads[arg.termType]);\n        }\n        if (literalExpression) {\n            // Defending implementation. Mainly the scary sort.\n            // This function has cost O(n) + O(m * log(m)) with n = amount of overloads and m = amount of matched overloads\n            // We map over each of the overloads, filter only the once that can be used (this is normally 1 or 2).\n            // The sort function on an array with 1 or 2 arguments will be negligible.\n            const concreteType = (0, TypeHandling_1.asKnownLiteralType)(literalExpression.dataType);\n            let subExtensionTable;\n            if (concreteType) {\n                // Concrete dataType is known by sparqlee.\n                subExtensionTable = TypeHandling_1.superTypeDictTable[concreteType];\n            }\n            else {\n                // Datatype is a custom datatype\n                subExtensionTable = (0, TypeHandling_1.getSuperTypes)(literalExpression.dataType, openWorldType);\n            }\n            const matches = this.literalOverLoads.filter(([matchType, _]) => matchType in subExtensionTable)\n                .map(([matchType, tree]) => [subExtensionTable[matchType], tree]);\n            matches.sort(([prioA, matchTypeA], [prioB, matchTypeB]) => prioA - prioB);\n            res.push(...matches.map(([_, sortedType]) => sortedType));\n        }\n        return res;\n    }\n}\nexports.OverloadTree = OverloadTree;\n//# sourceMappingURL=OverloadTree.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.definitions = void 0;\nconst bignumber_js_1 = require(\"bignumber.js\");\nconst hash_js_1 = require(\"hash.js\");\nconst rdf_data_factory_1 = require(\"rdf-data-factory\");\nconst relative_to_absolute_iri_1 = require(\"relative-to-absolute-iri\");\nconst spark_md5_1 = require(\"spark-md5\");\nconst uuid = require(\"uuid\");\nconst E = require(\"../expressions\");\nconst TermTransformer_1 = require(\"../transformers/TermTransformer\");\nconst C = require(\"../util/Consts\");\nconst Consts_1 = require(\"../util/Consts\");\nconst Err = require(\"../util/Errors\");\nconst P = require(\"../util/Parsing\");\nconst Helpers_1 = require(\"./Helpers\");\nconst X = require(\"./XPathFunctions\");\nconst DF = new rdf_data_factory_1.DataFactory();\n// ----------------------------------------------------------------------------\n// ----------------------------------------------------------------------------\n// ----------------------------------------------------------------------------\n// Begin definitions\n// ----------------------------------------------------------------------------\n// Operator Mapping\n// https://www.w3.org/TR/sparql11-query/#OperatorMapping\n// ----------------------------------------------------------------------------\nconst not = {\n    arity: 1,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.NOT)\n        .onTerm1(() => val => (0, Helpers_1.bool)(!val.coerceEBV()))\n        .collect(),\n};\nconst unaryPlus = {\n    arity: 1,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.UPLUS)\n        .numericConverter(() => val => val)\n        .collect(),\n};\nconst unaryMinus = {\n    arity: 1,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.UMINUS)\n        .numericConverter(() => val => -val)\n        .collect(),\n};\nconst multiplication = {\n    arity: 2,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.MULTIPLICATION)\n        .arithmetic(() => (left, right) => new bignumber_js_1.BigNumber(left).times(right).toNumber())\n        .collect(),\n};\nconst division = {\n    arity: 2,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.DIVISION)\n        .arithmetic(() => (left, right) => new bignumber_js_1.BigNumber(left).div(right).toNumber())\n        .onBinaryTyped([Consts_1.TypeURL.XSD_INTEGER, Consts_1.TypeURL.XSD_INTEGER], () => (left, right) => {\n        if (right === 0) {\n            throw new Err.ExpressionError('Integer division by 0');\n        }\n        return (0, Helpers_1.decimal)(new bignumber_js_1.BigNumber(left).div(right).toNumber());\n    })\n        .collect(),\n};\nconst addition = {\n    arity: 2,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.ADDITION)\n        .arithmetic(() => (left, right) => new bignumber_js_1.BigNumber(left).plus(right).toNumber())\n        .collect(),\n};\nconst subtraction = {\n    arity: 2,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.SUBTRACTION)\n        .arithmetic(() => (left, right) => new bignumber_js_1.BigNumber(left).minus(right).toNumber())\n        .collect(),\n};\n// https://www.w3.org/TR/sparql11-query/#func-RDFterm-equal\nconst equality = {\n    arity: 2,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.EQUAL)\n        .numberTest(() => (left, right) => left === right)\n        .stringTest(() => (left, right) => left.localeCompare(right) === 0)\n        .booleanTest(() => (left, right) => left === right)\n        .dateTimeTest(() => (left, right) => left.getTime() === right.getTime())\n        .set(['term', 'term'], () => ([left, right]) => (0, Helpers_1.bool)(RDFTermEqual(left, right)))\n        .collect(),\n};\nfunction RDFTermEqual(_left, _right) {\n    const left = _left.toRDF();\n    const right = _right.toRDF();\n    const val = left.equals(right);\n    if ((left.termType === 'Literal') && (right.termType === 'Literal')) {\n        throw new Err.RDFEqualTypeError([_left, _right]);\n    }\n    return val;\n}\nconst inequality = {\n    arity: 2,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.NOT_EQUAL)\n        .numberTest(() => (left, right) => left !== right)\n        .stringTest(() => (left, right) => left.localeCompare(right) !== 0)\n        .booleanTest(() => (left, right) => left !== right)\n        .dateTimeTest(() => (left, right) => left.getTime() !== right.getTime())\n        .set(['term', 'term'], () => ([left, right]) => (0, Helpers_1.bool)(!RDFTermEqual(left, right)))\n        .collect(),\n};\nconst lesserThan = {\n    arity: 2,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.LT)\n        .numberTest(() => (left, right) => left < right)\n        .stringTest(() => (left, right) => left.localeCompare(right) === -1)\n        .booleanTest(() => (left, right) => left < right)\n        .dateTimeTest(() => (left, right) => left.getTime() < right.getTime())\n        .collect(),\n};\nconst greaterThan = {\n    arity: 2,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.GT)\n        .numberTest(() => (left, right) => left > right)\n        .stringTest(() => (left, right) => left.localeCompare(right) === 1)\n        .booleanTest(() => (left, right) => left > right)\n        .dateTimeTest(() => (left, right) => left.getTime() > right.getTime())\n        .collect(),\n};\nconst lesserThanEqual = {\n    arity: 2,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.LTE)\n        .numberTest(() => (left, right) => left <= right)\n        .stringTest(() => (left, right) => left.localeCompare(right) !== 1)\n        .booleanTest(() => (left, right) => left <= right)\n        .dateTimeTest(() => (left, right) => left.getTime() <= right.getTime())\n        .collect(),\n};\nconst greaterThanEqual = {\n    arity: 2,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.GTE)\n        .numberTest(() => (left, right) => left >= right)\n        .stringTest(() => (left, right) => left.localeCompare(right) !== -1)\n        .booleanTest(() => (left, right) => left >= right)\n        .dateTimeTest(() => (left, right) => left.getTime() >= right.getTime())\n        .collect(),\n};\n// ----------------------------------------------------------------------------\n// Functions on RDF Terms\n// https://www.w3.org/TR/sparql11-query/#func-rdfTerms\n// ----------------------------------------------------------------------------\n/**\n * https://www.w3.org/TR/sparql11-query/#func-isIRI\n */\nconst isIRI = {\n    arity: 1,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.IS_IRI)\n        .onTerm1(() => term => (0, Helpers_1.bool)(term.termType === 'namedNode'))\n        .collect(),\n};\n/**\n * https://www.w3.org/TR/sparql11-query/#func-isBlank\n */\nconst isBlank = {\n    arity: 1,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.IS_BLANK)\n        .onTerm1(() => term => (0, Helpers_1.bool)(term.termType === 'blankNode'))\n        .collect(),\n};\n/**\n * https://www.w3.org/TR/sparql11-query/#func-isLiteral\n */\nconst isLiteral = {\n    arity: 1,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.IS_LITERAL)\n        .onTerm1(() => term => (0, Helpers_1.bool)(term.termType === 'literal'))\n        .collect(),\n};\n/**\n * https://www.w3.org/TR/sparql11-query/#func-isNumeric\n */\nconst isNumeric = {\n    arity: 1,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.IS_NUMERIC)\n        .onNumeric1(() => term => (0, Helpers_1.bool)(true))\n        .onTerm1(() => term => (0, Helpers_1.bool)(false))\n        .collect(),\n};\n/**\n * https://www.w3.org/TR/sparql11-query/#func-str\n */\nconst STR = {\n    arity: 1,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.STR)\n        .onTerm1(() => term => (0, Helpers_1.string)(term.str()))\n        .collect(),\n};\n/**\n * https://www.w3.org/TR/sparql11-query/#func-lang\n */\nconst lang = {\n    arity: 1,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.LANG)\n        .onLiteral1(() => lit => (0, Helpers_1.string)(lit.language || ''))\n        .collect(),\n};\n/**\n * https://www.w3.org/TR/sparql11-query/#func-datatype\n */\nconst datatype = {\n    arity: 1,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.DATATYPE)\n        .onLiteral1(() => lit => new E.NamedNode(lit.dataType))\n        .collect(),\n};\n/**\n * https://www.w3.org/TR/sparql11-query/#func-iri\n */\nconst IRI = {\n    arity: 1,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.IRI)\n        .set(['namedNode'], context => args => {\n        const lit = args[0];\n        const iri = (0, relative_to_absolute_iri_1.resolve)(lit.str(), context.baseIRI || '');\n        return new E.NamedNode(iri);\n    })\n        .onString1(context => lit => {\n        const iri = (0, relative_to_absolute_iri_1.resolve)(lit.str(), context.baseIRI || '');\n        return new E.NamedNode(iri);\n    })\n        .collect(),\n};\n// See special functions\n// const BNODE = {};\n/**\n * https://www.w3.org/TR/sparql11-query/#func-strdt\n */\nconst STRDT = {\n    arity: 2,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.STRDT).set([Consts_1.TypeURL.XSD_STRING, 'namedNode'], ({ superTypeProvider, enableExtendedXsdTypes }) => ([str, iri]) => {\n        const lit = DF.literal(str.typedValue, DF.namedNode(iri.value));\n        return new TermTransformer_1.TermTransformer(superTypeProvider, enableExtendedXsdTypes).transformLiteral(lit);\n    }).collect(),\n};\n/**\n * https://www.w3.org/TR/sparql11-query/#func-strlang\n */\nconst STRLANG = {\n    arity: 2,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.STRLANG)\n        .onBinaryTyped([Consts_1.TypeURL.XSD_STRING, Consts_1.TypeURL.XSD_STRING], () => (val, language) => new E.LangStringLiteral(val, language.toLowerCase()))\n        .collect(),\n};\n/**\n * https://www.w3.org/TR/sparql11-query/#func-uuid\n */\nconst UUID = {\n    arity: 0,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.UUID)\n        .set([], () => () => new E.NamedNode(`urn:uuid:${uuid.v4()}`))\n        .collect(),\n};\n/**\n * https://www.w3.org/TR/sparql11-query/#func-struuid\n */\nconst STRUUID = {\n    arity: 0,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.STRUUID)\n        .set([], () => () => (0, Helpers_1.string)(uuid.v4()))\n        .collect(),\n};\n// ----------------------------------------------------------------------------\n// Functions on strings\n// https://www.w3.org/TR/sparql11-query/#func-forms\n// ----------------------------------------------------------------------------\n/**\n * https://www.w3.org/TR/sparql11-query/#func-strlen\n */\nconst STRLEN = {\n    arity: 1,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.STRLEN)\n        .onStringly1(() => str => (0, Helpers_1.integer)([...str.typedValue].length))\n        .collect(),\n};\n/**\n * https://www.w3.org/TR/sparql11-query/#func-substr\n */\nconst SUBSTR = {\n    arity: [2, 3],\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.SUBSTR)\n        .onBinaryTyped([Consts_1.TypeURL.XSD_STRING, Consts_1.TypeURL.XSD_INTEGER], () => (source, startingLoc) => (0, Helpers_1.string)([...source].slice(startingLoc - 1).join('')))\n        .onBinary([Consts_1.TypeURL.RDF_LANG_STRING, Consts_1.TypeURL.XSD_INTEGER], () => (source, startingLoc) => {\n        const sub = [...source.typedValue].slice(startingLoc.typedValue - 1).join('');\n        return (0, Helpers_1.langString)(sub, source.language);\n    })\n        .onTernaryTyped([Consts_1.TypeURL.XSD_STRING, Consts_1.TypeURL.XSD_INTEGER, Consts_1.TypeURL.XSD_INTEGER], () => (source, startingLoc, length) => (0, Helpers_1.string)([...source].slice(startingLoc - 1, length + startingLoc - 1).join('')))\n        .onTernary([Consts_1.TypeURL.RDF_LANG_STRING, Consts_1.TypeURL.XSD_INTEGER, Consts_1.TypeURL.XSD_INTEGER], () => (source, startingLoc, length) => {\n        const sub = [...source.typedValue].slice(startingLoc.typedValue - 1, length.typedValue + startingLoc.typedValue - 1).join('');\n        return (0, Helpers_1.langString)(sub, source.language);\n    })\n        .collect(),\n};\n/**\n * https://www.w3.org/TR/sparql11-query/#func-ucase\n */\nconst UCASE = {\n    arity: 1,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.UCASE)\n        .onString1Typed(() => lit => (0, Helpers_1.string)(lit.toUpperCase()))\n        .onLangString1(() => lit => (0, Helpers_1.langString)(lit.typedValue.toUpperCase(), lit.language))\n        .collect(),\n};\n/**\n * https://www.w3.org/TR/sparql11-query/#func-lcase\n */\nconst LCASE = {\n    arity: 1,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.LCASE)\n        .onString1Typed(() => lit => (0, Helpers_1.string)(lit.toLowerCase()))\n        .onLangString1(() => lit => (0, Helpers_1.langString)(lit.typedValue.toLowerCase(), lit.language))\n        .collect(),\n};\n/**\n * https://www.w3.org/TR/sparql11-query/#func-strstarts\n * for this and the following functions you'll see (string, langstring) is not allowed. This behaviour is defined in:\n * https://www.w3.org/TR/sparql11-query/#func-arg-compatibility\n */\nconst STRSTARTS = {\n    arity: 2,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.STRSTARTS)\n        .onBinaryTyped([Consts_1.TypeAlias.SPARQL_STRINGLY, Consts_1.TypeURL.XSD_STRING], () => (arg1, arg2) => (0, Helpers_1.bool)(arg1.startsWith(arg2)))\n        .onBinary([Consts_1.TypeURL.RDF_LANG_STRING, Consts_1.TypeURL.RDF_LANG_STRING], () => (arg1, arg2) => {\n        if (arg1.language !== arg2.language) {\n            throw new Err.IncompatibleLanguageOperation(arg1, arg2);\n        }\n        return (0, Helpers_1.bool)(arg1.typedValue.startsWith(arg2.typedValue));\n    })\n        .collect(),\n};\n/**\n * https://www.w3.org/TR/sparql11-query/#func-strends\n */\nconst STRENDS = {\n    arity: 2,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.STRENDS)\n        .onBinaryTyped([Consts_1.TypeAlias.SPARQL_STRINGLY, Consts_1.TypeURL.XSD_STRING], () => (arg1, arg2) => (0, Helpers_1.bool)(arg1.endsWith(arg2)))\n        .onBinary([Consts_1.TypeURL.RDF_LANG_STRING, Consts_1.TypeURL.RDF_LANG_STRING], () => (arg1, arg2) => {\n        if (arg1.language !== arg2.language) {\n            throw new Err.IncompatibleLanguageOperation(arg1, arg2);\n        }\n        return (0, Helpers_1.bool)(arg1.typedValue.endsWith(arg2.typedValue));\n    })\n        .collect(),\n};\n/**\n * https://www.w3.org/TR/sparql11-query/#func-contains\n */\nconst CONTAINS = {\n    arity: 2,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.CONTAINS)\n        .onBinaryTyped([Consts_1.TypeAlias.SPARQL_STRINGLY, Consts_1.TypeURL.XSD_STRING], () => (arg1, arg2) => (0, Helpers_1.bool)(arg1.includes(arg2)))\n        .onBinary([Consts_1.TypeURL.RDF_LANG_STRING, Consts_1.TypeURL.RDF_LANG_STRING], () => (arg1, arg2) => {\n        if (arg1.language !== arg2.language) {\n            throw new Err.IncompatibleLanguageOperation(arg1, arg2);\n        }\n        return (0, Helpers_1.bool)(arg1.typedValue.includes(arg2.typedValue));\n    })\n        .collect(),\n};\n/**\n * https://www.w3.org/TR/sparql11-query/#func-strbefore\n */\nconst STRBEFORE = {\n    arity: 2,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.STRBEFORE)\n        .onBinaryTyped([Consts_1.TypeURL.XSD_STRING, Consts_1.TypeURL.XSD_STRING], () => (arg1, arg2) => (0, Helpers_1.string)(arg1.slice(0, Math.max(0, arg1.indexOf(arg2)))))\n        .onBinary([Consts_1.TypeURL.RDF_LANG_STRING, Consts_1.TypeURL.XSD_STRING], () => (arg1, arg2) => {\n        const [a1, a2] = [arg1.typedValue, arg2.typedValue];\n        const sub = arg1.typedValue.slice(0, Math.max(0, a1.indexOf(a2)));\n        return sub || !a2 ? (0, Helpers_1.langString)(sub, arg1.language) : (0, Helpers_1.string)(sub);\n    })\n        .onBinary([Consts_1.TypeURL.RDF_LANG_STRING, Consts_1.TypeURL.RDF_LANG_STRING], () => (arg1, arg2) => {\n        if (arg1.language !== arg2.language) {\n            throw new Err.IncompatibleLanguageOperation(arg1, arg2);\n        }\n        const [a1, a2] = [arg1.typedValue, arg2.typedValue];\n        const sub = arg1.typedValue.slice(0, Math.max(0, a1.indexOf(a2)));\n        return sub || !a2 ? (0, Helpers_1.langString)(sub, arg1.language) : (0, Helpers_1.string)(sub);\n    })\n        .collect(),\n};\n/**\n * https://www.w3.org/TR/sparql11-query/#func-strafter\n */\nconst STRAFTER = {\n    arity: 2,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.STRAFTER)\n        .onBinaryTyped([Consts_1.TypeURL.XSD_STRING, Consts_1.TypeURL.XSD_STRING], () => (arg1, arg2) => (0, Helpers_1.string)(arg1.slice(arg1.indexOf(arg2)).slice(arg2.length)))\n        .onBinary([Consts_1.TypeURL.RDF_LANG_STRING, Consts_1.TypeURL.XSD_STRING], () => (arg1, arg2) => {\n        const [a1, a2] = [arg1.typedValue, arg2.typedValue];\n        const sub = a1.slice(a1.indexOf(a2)).slice(a2.length);\n        return sub || !a2 ? (0, Helpers_1.langString)(sub, arg1.language) : (0, Helpers_1.string)(sub);\n    })\n        .onBinary([Consts_1.TypeURL.RDF_LANG_STRING, Consts_1.TypeURL.RDF_LANG_STRING], () => (arg1, arg2) => {\n        if (arg1.language !== arg2.language) {\n            throw new Err.IncompatibleLanguageOperation(arg1, arg2);\n        }\n        const [a1, a2] = [arg1.typedValue, arg2.typedValue];\n        const sub = a1.slice(a1.indexOf(a2)).slice(a2.length);\n        return sub || !a2 ? (0, Helpers_1.langString)(sub, arg1.language) : (0, Helpers_1.string)(sub);\n    })\n        .collect(),\n};\n/**\n * https://www.w3.org/TR/sparql11-query/#func-encode\n */\nconst ENCODE_FOR_URI = {\n    arity: 1,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.ENCODE_FOR_URI)\n        .onStringly1Typed(() => val => (0, Helpers_1.string)(encodeURI(val))).collect(),\n};\n// See special operators\n// const CONCAT = {}\n/**\n * https://www.w3.org/TR/sparql11-query/#func-langMatches\n */\nconst langmatches = {\n    arity: 2,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.LANG_MATCHES)\n        .onBinaryTyped([Consts_1.TypeURL.XSD_STRING, Consts_1.TypeURL.XSD_STRING], () => (tag, range) => (0, Helpers_1.bool)(X.langMatches(tag, range))).collect(),\n};\nconst regex2 = () => (text, pattern) => (0, Helpers_1.bool)(X.matches(text, pattern));\nconst regex3 = () => (text, pattern, flags) => (0, Helpers_1.bool)(X.matches(text, pattern, flags));\n/**\n * https://www.w3.org/TR/sparql11-query/#func-regex\n */\nconst REGEX = {\n    arity: [2, 3],\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.REGEX)\n        .onBinaryTyped([Consts_1.TypeAlias.SPARQL_STRINGLY, Consts_1.TypeURL.XSD_STRING], regex2)\n        .onTernaryTyped([Consts_1.TypeAlias.SPARQL_STRINGLY, Consts_1.TypeURL.XSD_STRING, Consts_1.TypeURL.XSD_STRING], regex3)\n        .collect(),\n};\n/**\n * https://www.w3.org/TR/sparql11-query/#func-replace\n */\nconst REPLACE = {\n    arity: [3, 4],\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.REPLACE)\n        .onTernaryTyped([Consts_1.TypeURL.XSD_STRING, Consts_1.TypeURL.XSD_STRING, Consts_1.TypeURL.XSD_STRING], () => (arg, pattern, replacement) => (0, Helpers_1.string)(X.replace(arg, pattern, replacement)))\n        .set([Consts_1.TypeURL.RDF_LANG_STRING, Consts_1.TypeURL.XSD_STRING, Consts_1.TypeURL.XSD_STRING], () => ([arg, pattern, replacement]) => {\n        const result = X.replace(arg.typedValue, pattern.typedValue, replacement.typedValue);\n        return (0, Helpers_1.langString)(result, arg.language);\n    })\n        .onQuaternaryTyped([Consts_1.TypeURL.XSD_STRING, Consts_1.TypeURL.XSD_STRING, Consts_1.TypeURL.XSD_STRING, Consts_1.TypeURL.XSD_STRING], () => (arg, pattern, replacement, flags) => (0, Helpers_1.string)(X.replace(arg, pattern, replacement, flags)))\n        .set([Consts_1.TypeURL.RDF_LANG_STRING, Consts_1.TypeURL.XSD_STRING, Consts_1.TypeURL.XSD_STRING, Consts_1.TypeURL.XSD_STRING], () => ([arg, pattern, replacement, flags]) => {\n        const result = X.replace(arg.typedValue, pattern.typedValue, replacement.typedValue, flags.typedValue);\n        return (0, Helpers_1.langString)(result, arg.language);\n    })\n        .collect(),\n};\n// ----------------------------------------------------------------------------\n// Functions on numerics\n// https://www.w3.org/TR/sparql11-query/#func-numerics\n// ----------------------------------------------------------------------------\n/**\n * https://www.w3.org/TR/sparql11-query/#func-abs\n */\nconst abs = {\n    arity: 1,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.ABS)\n        .numericConverter(() => num => Math.abs(num))\n        .collect(),\n};\n/**\n * https://www.w3.org/TR/sparql11-query/#func-round\n */\nconst round = {\n    arity: 1,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.ROUND)\n        .numericConverter(() => num => Math.round(num))\n        .collect(),\n};\n/**\n * https://www.w3.org/TR/sparql11-query/#func-ceil\n */\nconst ceil = {\n    arity: 1,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.CEIL)\n        .numericConverter(() => num => Math.ceil(num))\n        .collect(),\n};\n/**\n * https://www.w3.org/TR/sparql11-query/#func-floor\n */\nconst floor = {\n    arity: 1,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.FLOOR)\n        .numericConverter(() => num => Math.floor(num))\n        .collect(),\n};\n/**\n * https://www.w3.org/TR/sparql11-query/#idp2130040\n */\nconst rand = {\n    arity: 0,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.RAND)\n        .set([], () => () => (0, Helpers_1.double)(Math.random()))\n        .collect(),\n};\n// ----------------------------------------------------------------------------\n// Functions on Dates and Times\n// https://www.w3.org/TR/sparql11-query/#func-date-time\n// ----------------------------------------------------------------------------\nfunction parseDate(dateLit) {\n    return P.parseXSDDateTime(dateLit.str());\n}\n/**\n * https://www.w3.org/TR/sparql11-query/#func-now\n */\nconst now = {\n    arity: 0,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.NOW).set([], (sharedContext) => () => new E.DateTimeLiteral(sharedContext.now, sharedContext.now.toISOString())).collect(),\n};\n/**\n * https://www.w3.org/TR/sparql11-query/#func-year\n */\nconst year = {\n    arity: 1,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.YEAR)\n        .onDateTime1(() => date => (0, Helpers_1.integer)(Number(parseDate(date).year)))\n        .collect(),\n};\n/**\n * https://www.w3.org/TR/sparql11-query/#func-month\n */\nconst month = {\n    arity: 1,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.MONTH)\n        .onDateTime1(() => date => (0, Helpers_1.integer)(Number(parseDate(date).month)))\n        .collect(),\n};\n/**\n * https://www.w3.org/TR/sparql11-query/#func-day\n */\nconst day = {\n    arity: 1,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.DAY)\n        .onDateTime1(() => date => (0, Helpers_1.integer)(Number(parseDate(date).day)))\n        .collect(),\n};\n/**\n * https://www.w3.org/TR/sparql11-query/#func-hours\n */\nconst hours = {\n    arity: 1,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.HOURS)\n        .onDateTime1(() => date => (0, Helpers_1.integer)(Number(parseDate(date).hours)))\n        .collect(),\n};\n/**\n * https://www.w3.org/TR/sparql11-query/#func-minutes\n */\nconst minutes = {\n    arity: 1,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.MINUTES)\n        .onDateTime1(() => date => (0, Helpers_1.integer)(Number(parseDate(date).minutes)))\n        .collect(),\n};\n/**\n * https://www.w3.org/TR/sparql11-query/#func-seconds\n */\nconst seconds = {\n    arity: 1,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.SECONDS)\n        .onDateTime1(() => date => (0, Helpers_1.decimal)(Number(parseDate(date).seconds)))\n        .collect(),\n};\n/**\n * https://www.w3.org/TR/sparql11-query/#func-timezone\n */\nconst timezone = {\n    arity: 1,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.TIMEZONE)\n        .onDateTime1(() => date => {\n        const duration = X.formatDayTimeDuration(parseDate(date).timezone);\n        if (!duration) {\n            throw new Err.InvalidTimezoneCall(date.strValue);\n        }\n        return new E.Literal(duration, Consts_1.TypeURL.XSD_DAYTIME_DURATION, duration);\n    })\n        .collect(),\n};\n/**\n * https://www.w3.org/TR/sparql11-query/#func-tz\n */\nconst tz = {\n    arity: 1,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.TZ)\n        .onDateTime1(() => date => (0, Helpers_1.string)(parseDate(date).timezone))\n        .collect(),\n};\n// ----------------------------------------------------------------------------\n// Hash functions\n// https://www.w3.org/TR/sparql11-query/#func-hash\n// ----------------------------------------------------------------------------\n/**\n * https://www.w3.org/TR/sparql11-query/#func-md5\n */\nconst MD5 = {\n    arity: 1,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.MD5)\n        .onString1Typed(() => str => (0, Helpers_1.string)((0, spark_md5_1.hash)(str)))\n        .collect(),\n};\n/**\n * https://www.w3.org/TR/sparql11-query/#func-sha1\n */\nconst SHA1 = {\n    arity: 1,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.SHA1)\n        .onString1Typed(() => str => (0, Helpers_1.string)((0, hash_js_1.sha1)().update(str).digest('hex')))\n        .collect(),\n};\n/**\n * https://www.w3.org/TR/sparql11-query/#func-sha256\n */\nconst SHA256 = {\n    arity: 1,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.SHA256)\n        .onString1Typed(() => str => (0, Helpers_1.string)((0, hash_js_1.sha256)().update(str).digest('hex')))\n        .collect(),\n};\n/**\n * https://www.w3.org/TR/sparql11-query/#func-sha384\n */\nconst SHA384 = {\n    arity: 1,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.SHA384)\n        .onString1Typed(() => str => (0, Helpers_1.string)((0, hash_js_1.sha384)().update(str).digest('hex')))\n        .collect(),\n};\n/**\n * https://www.w3.org/TR/sparql11-query/#func-sha512\n */\nconst SHA512 = {\n    arity: 1,\n    overloads: (0, Helpers_1.declare)(C.RegularOperator.SHA512)\n        .onString1Typed(() => str => (0, Helpers_1.string)((0, hash_js_1.sha512)().update(str).digest('hex')))\n        .collect(),\n};\n// End definitions.\n// ----------------------------------------------------------------------------\n// ----------------------------------------------------------------------------\n// ----------------------------------------------------------------------------\n/**\n * Collect all the definitions from above into an object\n */\nexports.definitions = {\n    // --------------------------------------------------------------------------\n    // Operator Mapping\n    // https://www.w3.org/TR/sparql11-query/#OperatorMapping\n    // --------------------------------------------------------------------------\n    '!': not,\n    UPLUS: unaryPlus,\n    UMINUS: unaryMinus,\n    '*': multiplication,\n    '/': division,\n    '+': addition,\n    '-': subtraction,\n    '=': equality,\n    '!=': inequality,\n    '<': lesserThan,\n    '>': greaterThan,\n    '<=': lesserThanEqual,\n    '>=': greaterThanEqual,\n    // --------------------------------------------------------------------------\n    // Functions on RDF Terms\n    // https://www.w3.org/TR/sparql11-query/#func-rdfTerms\n    // --------------------------------------------------------------------------\n    isiri: isIRI,\n    isblank: isBlank,\n    isliteral: isLiteral,\n    isnumeric: isNumeric,\n    str: STR,\n    lang,\n    datatype,\n    iri: IRI,\n    uri: IRI,\n    // 'BNODE': BNODE (see special operators),\n    strdt: STRDT,\n    strlang: STRLANG,\n    uuid: UUID,\n    struuid: STRUUID,\n    // --------------------------------------------------------------------------\n    // Functions on strings\n    // https://www.w3.org/TR/sparql11-query/#func-forms\n    // --------------------------------------------------------------------------\n    strlen: STRLEN,\n    substr: SUBSTR,\n    ucase: UCASE,\n    lcase: LCASE,\n    strstarts: STRSTARTS,\n    strends: STRENDS,\n    contains: CONTAINS,\n    strbefore: STRBEFORE,\n    strafter: STRAFTER,\n    encode_for_uri: ENCODE_FOR_URI,\n    // 'concat': CONCAT (see special operators)\n    langmatches,\n    regex: REGEX,\n    replace: REPLACE,\n    // --------------------------------------------------------------------------\n    // Functions on numerics\n    // https://www.w3.org/TR/sparql11-query/#func-numerics\n    // --------------------------------------------------------------------------\n    abs,\n    round,\n    ceil,\n    floor,\n    rand,\n    // --------------------------------------------------------------------------\n    // Functions on Dates and Times\n    // https://www.w3.org/TR/sparql11-query/#func-date-time\n    // --------------------------------------------------------------------------\n    now,\n    year,\n    month,\n    day,\n    hours,\n    minutes,\n    seconds,\n    timezone,\n    tz,\n    // --------------------------------------------------------------------------\n    // Hash functions\n    // https://www.w3.org/TR/sparql11-query/#func-hash\n    // --------------------------------------------------------------------------\n    md5: MD5,\n    sha1: SHA1,\n    sha256: SHA256,\n    sha384: SHA384,\n    sha512: SHA512,\n};\n//# sourceMappingURL=RegularFunctions.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.specialDefinitions = void 0;\nconst uuid = require(\"uuid\");\nconst E = require(\"../expressions\");\nconst C = require(\"../util/Consts\");\nconst Err = require(\"../util/Errors\");\nconst Helpers_1 = require(\"./Helpers\");\nconst _1 = require(\".\");\n// ----------------------------------------------------------------------------\n// Functional forms\n// ----------------------------------------------------------------------------\n// BOUND ----------------------------------------------------------------------\n/**\n * https://www.w3.org/TR/sparql11-query/#func-bound\n * This function doesn't require type promotion or subtype-substitution, everything works on TermExpression\n */\nconst bound = {\n    arity: 1,\n    async applyAsync({ args, mapping }) {\n        return bound_({ args, mapping });\n    },\n    applySync({ args, mapping }) {\n        return bound_({ args, mapping });\n    },\n};\nfunction bound_({ args, mapping }) {\n    const variable = args[0];\n    if (variable.expressionType !== E.ExpressionType.Variable) {\n        throw new Err.InvalidArgumentTypes(args, C.SpecialOperator.BOUND);\n    }\n    const val = mapping.has((0, Helpers_1.expressionToVar)(variable));\n    return (0, Helpers_1.bool)(val);\n}\n// IF -------------------------------------------------------------------------\n/**\n * https://www.w3.org/TR/sparql11-query/#func-if\n * This function doesn't require type promotion or subtype-substitution, everything works on TermExpression\n */\nconst ifSPARQL = {\n    arity: 3,\n    async applyAsync({ args, mapping, evaluate }) {\n        const valFirst = await evaluate(args[0], mapping);\n        const ebv = valFirst.coerceEBV();\n        return ebv ?\n            evaluate(args[1], mapping) :\n            evaluate(args[2], mapping);\n    },\n    applySync({ args, mapping, evaluate }) {\n        const valFirst = evaluate(args[0], mapping);\n        const ebv = valFirst.coerceEBV();\n        return ebv ?\n            evaluate(args[1], mapping) :\n            evaluate(args[2], mapping);\n    },\n};\n// COALESCE -------------------------------------------------------------------\n/**\n * https://www.w3.org/TR/sparql11-query/#func-coalesce\n * This function doesn't require type promotion or subtype-substitution, everything works on TermExpression\n */\nconst coalesce = {\n    arity: Number.POSITIVE_INFINITY,\n    async applyAsync({ args, mapping, evaluate }) {\n        const errors = [];\n        for (const expr of args) {\n            try {\n                return await evaluate(expr, mapping);\n            }\n            catch (error) {\n                errors.push(error);\n            }\n        }\n        throw new Err.CoalesceError(errors);\n    },\n    applySync({ args, mapping, evaluate }) {\n        const errors = [];\n        for (const expr of args) {\n            try {\n                return evaluate(expr, mapping);\n            }\n            catch (error) {\n                errors.push(error);\n            }\n        }\n        throw new Err.CoalesceError(errors);\n    },\n};\n// Logical-or (||) ------------------------------------------------------------\n/**\n * https://www.w3.org/TR/sparql11-query/#func-logical-or\n * This function doesn't require type promotion or subtype-substitution, everything works on TermExpression\n */\nconst logicalOr = {\n    arity: 2,\n    async applyAsync({ args, mapping, evaluate }) {\n        const [leftExpr, rightExpr] = args;\n        try {\n            const leftTerm = await evaluate(leftExpr, mapping);\n            const left = leftTerm.coerceEBV();\n            if (left) {\n                return (0, Helpers_1.bool)(true);\n            }\n            const rightTerm = await evaluate(rightExpr, mapping);\n            const right = rightTerm.coerceEBV();\n            return (0, Helpers_1.bool)(right);\n        }\n        catch (error) {\n            const rightErrorTerm = await evaluate(rightExpr, mapping);\n            const rightError = rightErrorTerm.coerceEBV();\n            if (!rightError) {\n                throw error;\n            }\n            return (0, Helpers_1.bool)(true);\n        }\n    },\n    applySync({ args, mapping, evaluate }) {\n        const [leftExpr, rightExpr] = args;\n        try {\n            const leftTerm = evaluate(leftExpr, mapping);\n            const left = leftTerm.coerceEBV();\n            if (left) {\n                return (0, Helpers_1.bool)(true);\n            }\n            const rightTerm = evaluate(rightExpr, mapping);\n            const right = rightTerm.coerceEBV();\n            return (0, Helpers_1.bool)(right);\n        }\n        catch (error) {\n            const rightErrorTerm = evaluate(rightExpr, mapping);\n            const rightError = rightErrorTerm.coerceEBV();\n            if (!rightError) {\n                throw error;\n            }\n            return (0, Helpers_1.bool)(true);\n        }\n    },\n};\n// Logical-and (&&) -----------------------------------------------------------\n/**\n * https://www.w3.org/TR/sparql11-query/#func-logical-and\n * This function doesn't require type promotion or subtype-substitution, everything works on TermExpression\n */\nconst logicalAnd = {\n    arity: 2,\n    async applyAsync({ args, mapping, evaluate }) {\n        const [leftExpr, rightExpr] = args;\n        try {\n            const leftTerm = await evaluate(leftExpr, mapping);\n            const left = leftTerm.coerceEBV();\n            if (!left) {\n                return (0, Helpers_1.bool)(false);\n            }\n            const rightTerm = await evaluate(rightExpr, mapping);\n            const right = rightTerm.coerceEBV();\n            return (0, Helpers_1.bool)(right);\n        }\n        catch (error) {\n            const rightErrorTerm = await evaluate(rightExpr, mapping);\n            const rightError = rightErrorTerm.coerceEBV();\n            if (rightError) {\n                throw error;\n            }\n            return (0, Helpers_1.bool)(false);\n        }\n    },\n    applySync({ args, mapping, evaluate }) {\n        const [leftExpr, rightExpr] = args;\n        try {\n            const leftTerm = evaluate(leftExpr, mapping);\n            const left = leftTerm.coerceEBV();\n            if (!left) {\n                return (0, Helpers_1.bool)(false);\n            }\n            const rightTerm = evaluate(rightExpr, mapping);\n            const right = rightTerm.coerceEBV();\n            return (0, Helpers_1.bool)(right);\n        }\n        catch (error) {\n            const rightErrorTerm = evaluate(rightExpr, mapping);\n            const rightError = rightErrorTerm.coerceEBV();\n            if (rightError) {\n                throw error;\n            }\n            return (0, Helpers_1.bool)(false);\n        }\n    },\n};\n// SameTerm -------------------------------------------------------------------\n/**\n * https://www.w3.org/TR/sparql11-query/#func-sameTerm\n * This function doesn't require type promotion or subtype-substitution, everything works on TermExpression\n */\nconst sameTerm = {\n    arity: 2,\n    async applyAsync({ args, mapping, evaluate }) {\n        const [leftExpr, rightExpr] = args.map(arg => evaluate(arg, mapping));\n        const [left, right] = await Promise.all([leftExpr, rightExpr]);\n        return (0, Helpers_1.bool)(left.toRDF().equals(right.toRDF()));\n    },\n    applySync({ args, mapping, evaluate }) {\n        const [left, right] = args.map(arg => evaluate(arg, mapping));\n        return (0, Helpers_1.bool)(left.toRDF().equals(right.toRDF()));\n    },\n};\n// IN -------------------------------------------------------------------------\n/**\n * https://www.w3.org/TR/sparql11-query/#func-in\n * This function doesn't require type promotion or subtype-substitution, everything works on TermExpression\n */\nconst inSPARQL = {\n    arity: Number.POSITIVE_INFINITY,\n    checkArity(args) {\n        return args.length > 0;\n    },\n    async applyAsync(context) {\n        const { args, mapping, evaluate } = context;\n        const [leftExpr, ...remaining] = args;\n        const left = await evaluate(leftExpr, mapping);\n        return inRecursiveAsync(left, Object.assign(Object.assign({}, context), { args: remaining }), []);\n    },\n    applySync(context) {\n        const { args, mapping, evaluate } = context;\n        const [leftExpr, ...remaining] = args;\n        const left = evaluate(leftExpr, mapping);\n        return inRecursiveSync(left, Object.assign(Object.assign({}, context), { args: remaining }), []);\n    },\n};\nasync function inRecursiveAsync(needle, context, results) {\n    const { args, mapping, evaluate, overloadCache } = context;\n    if (args.length === 0) {\n        const noErrors = results.every(val => !val);\n        return noErrors ? (0, Helpers_1.bool)(false) : Promise.reject(new Err.InError(results));\n    }\n    try {\n        const nextExpression = args.shift();\n        // We know this will not be undefined because we check args.length === 0\n        const next = await evaluate(nextExpression, mapping);\n        const isEqual = _1.regularFunctions[C.RegularOperator.EQUAL];\n        if (isEqual.apply([needle, next], context).typedValue) {\n            return (0, Helpers_1.bool)(true);\n        }\n        return inRecursiveAsync(needle, context, [...results, false]);\n    }\n    catch (error) {\n        return inRecursiveAsync(needle, context, [...results, error]);\n    }\n}\nfunction inRecursiveSync(needle, context, results) {\n    const { args, mapping, evaluate, overloadCache } = context;\n    if (args.length === 0) {\n        const noErrors = results.every(val => !val);\n        if (noErrors) {\n            return (0, Helpers_1.bool)(false);\n        }\n        throw new Err.InError(results);\n    }\n    try {\n        const nextExpression = args.shift();\n        // We know this will not be undefined because we check args.length === 0\n        const next = evaluate(nextExpression, mapping);\n        const isEqual = _1.regularFunctions[C.RegularOperator.EQUAL];\n        if (isEqual.apply([needle, next], context).typedValue) {\n            return (0, Helpers_1.bool)(true);\n        }\n        return inRecursiveSync(needle, context, [...results, false]);\n    }\n    catch (error) {\n        return inRecursiveSync(needle, context, [...results, error]);\n    }\n}\n// NOT IN ---------------------------------------------------------------------\n/**\n * https://www.w3.org/TR/sparql11-query/#func-not-in\n * This function doesn't require type promotion or subtype-substitution, everything works on TermExpression\n */\nconst notInSPARQL = {\n    arity: Number.POSITIVE_INFINITY,\n    checkArity(args) {\n        return args.length > 0;\n    },\n    async applyAsync(context) {\n        const _in = _1.specialFunctions[C.SpecialOperator.IN];\n        const isIn = await _in.applyAsync(context);\n        return (0, Helpers_1.bool)(!isIn.typedValue);\n    },\n    applySync(context) {\n        const _in = _1.specialFunctions[C.SpecialOperator.IN];\n        const isIn = _in.applySync(context);\n        return (0, Helpers_1.bool)(!isIn.typedValue);\n    },\n};\n// ----------------------------------------------------------------------------\n// Annoying functions\n// ----------------------------------------------------------------------------\n// CONCAT ---------------------------------------------------------------------\n/**\n * This OverloadTree with the constant function will handle both type promotion and subtype-substitution\n */\nconst concatTree = (0, Helpers_1.declare)(C.SpecialOperator.CONCAT).onStringly1(() => expr => expr)\n    .collect().experimentalTree;\n/**\n * https://www.w3.org/TR/sparql11-query/#func-concat\n */\nconst concat = {\n    arity: Number.POSITIVE_INFINITY,\n    async applyAsync(context) {\n        const { args, mapping, evaluate, overloadCache, superTypeProvider } = context;\n        const pLits = args\n            .map(async (expr) => evaluate(expr, mapping))\n            .map(async (pTerm) => {\n            const operation = concatTree.search([await pTerm], superTypeProvider, overloadCache);\n            if (!operation) {\n                throw new Err.InvalidArgumentTypes(args, C.SpecialOperator.CONCAT);\n            }\n            return operation(context)([await pTerm]);\n        });\n        const lits = await Promise.all(pLits);\n        const strings = lits.map(lit => lit.typedValue);\n        const joined = strings.join('');\n        const lang = langAllEqual(lits) ? lits[0].language : undefined;\n        return lang ? (0, Helpers_1.langString)(joined, lang) : (0, Helpers_1.string)(joined);\n    },\n    applySync(context) {\n        const { args, mapping, evaluate, superTypeProvider, overloadCache } = context;\n        const lits = args\n            .map(expr => evaluate(expr, mapping))\n            .map(pTerm => {\n            const operation = concatTree.search([pTerm], superTypeProvider, overloadCache);\n            if (!operation) {\n                throw new Err.InvalidArgumentTypes(args, C.SpecialOperator.CONCAT);\n            }\n            return operation(context)([pTerm]);\n        });\n        const strings = lits.map(lit => lit.typedValue);\n        const joined = strings.join('');\n        const lang = langAllEqual(lits) ? lits[0].language : undefined;\n        return lang ? (0, Helpers_1.langString)(joined, lang) : (0, Helpers_1.string)(joined);\n    },\n};\nfunction langAllEqual(lits) {\n    return lits.length > 0 && lits.every(lit => lit.language === lits[0].language);\n}\n// ----------------------------------------------------------------------------\n// Context dependant functions\n// ----------------------------------------------------------------------------\n// BNODE ---------------------------------------------------------------------\n/**\n * This OverloadTree with the constant function will handle both type promotion and subtype-substitution\n */\nconst bnodeTree = (0, Helpers_1.declare)(C.SpecialOperator.BNODE).onString1(() => arg => arg).collect().experimentalTree;\n/**\n * https://www.w3.org/TR/sparql11-query/#func-bnode\n * id has to be distinct over all id's in dataset\n */\nconst BNODE = {\n    arity: Number.POSITIVE_INFINITY,\n    checkArity(args) {\n        return args.length === 0 || args.length === 1;\n    },\n    async applyAsync(context) {\n        const { args, mapping, evaluate, superTypeProvider, overloadCache } = context;\n        const input = args.length === 1 ?\n            await evaluate(args[0], mapping) :\n            undefined;\n        let strInput;\n        if (input) {\n            const operation = bnodeTree.search([input], superTypeProvider, overloadCache);\n            if (!operation) {\n                throw new Err.InvalidArgumentTypes(args, C.SpecialOperator.BNODE);\n            }\n            strInput = operation(context)([input]).str();\n        }\n        // eslint-disable-next-line unicorn/consistent-destructuring\n        if (context.bnode) {\n            const bnode = await context.bnode(strInput);\n            return new E.BlankNode(bnode);\n        }\n        return BNODE_(strInput);\n    },\n    applySync(context) {\n        const { args, mapping, evaluate, superTypeProvider, overloadCache } = context;\n        const input = args.length === 1 ?\n            evaluate(args[0], mapping) :\n            undefined;\n        let strInput;\n        if (input) {\n            const operation = bnodeTree.search([input], superTypeProvider, overloadCache);\n            if (!operation) {\n                throw new Err.InvalidArgumentTypes(args, C.SpecialOperator.BNODE);\n            }\n            strInput = operation(context)([input]).str();\n        }\n        // eslint-disable-next-line unicorn/consistent-destructuring\n        if (context.bnode) {\n            const bnode = context.bnode(strInput);\n            return new E.BlankNode(bnode);\n        }\n        return BNODE_(strInput);\n    },\n};\nfunction BNODE_(input) {\n    return new E.BlankNode(input || uuid.v4());\n}\nexports.specialDefinitions = {\n    // --------------------------------------------------------------------------\n    // Functional Forms\n    // https://www.w3.org/TR/sparql11-query/#func-forms\n    // --------------------------------------------------------------------------\n    bound,\n    if: ifSPARQL,\n    coalesce,\n    '&&': logicalAnd,\n    '||': logicalOr,\n    sameterm: sameTerm,\n    in: inSPARQL,\n    notin: notInSPARQL,\n    // Annoying functions\n    concat,\n    // Context dependent functions\n    BNODE,\n};\n//# sourceMappingURL=SpecialFunctions.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.formatDayTimeDuration = exports.langMatches = exports.replace = exports.matches = void 0;\n// https://www.w3.org/TR/xpath-functions/#func-matches\n// https://www.w3.org/TR/xpath-functions/#flags\nfunction matches(text, pattern, flags) {\n    // TODO: Only flags 'i' and 'm' match between XPath and JS.\n    // 's', 'x', 'q', would need proper implementation.\n    const reg = new RegExp(pattern, flags);\n    return reg.test(text);\n}\nexports.matches = matches;\n// TODO: Fix flags\n// https://www.w3.org/TR/xpath-functions/#func-replace\nfunction replace(arg, pattern, replacement, flags) {\n    let reg = new RegExp(pattern, flags);\n    if (!reg.global) {\n        const flags_ = flags || '';\n        reg = new RegExp(pattern, `${flags_}g`);\n    }\n    return arg.replace(reg, replacement);\n}\nexports.replace = replace;\n// TODO: Not an XPath function\n// TODO: Publish as package\n// https://www.ietf.org/rfc/rfc4647.txt\n// https://www.w3.org/TR/sparql11-query/#func-langMatches\nfunction langMatches(tag, range) {\n    const langTags = tag.split('-');\n    const rangeTags = range.split('-');\n    if (!_matchLangTag(rangeTags[0], langTags[0]) &&\n        !_isWildCard(langTags[0])) {\n        return false;\n    }\n    let lI = 1;\n    let rI = 1;\n    while (rI < rangeTags.length) {\n        if (_isWildCard(rangeTags[rI])) {\n            rI++;\n            continue;\n        }\n        if (lI === langTags.length) {\n            return false;\n        }\n        if (_matchLangTag(rangeTags[rI], langTags[lI])) {\n            lI++;\n            rI++;\n            continue;\n        }\n        if (langTags[lI].length === 1) {\n            return false;\n        }\n        lI++;\n    }\n    return true;\n}\nexports.langMatches = langMatches;\nfunction _isWildCard(tag) {\n    return tag === '*';\n}\nfunction _matchLangTag(left, right) {\n    const matchInitial = new RegExp(`/${left}/`, 'iu');\n    return matchInitial.test(`/${right}/`);\n}\n/**\n * Formats a timezone string into a XML DayTimeDuration\n *\n * TODO: Test\n * Used in fn:timezone\n * http://www.datypic.com/sc/xsd/t-xsd_dayTimeDuration.html\n */\nfunction formatDayTimeDuration(timezone) {\n    if (!timezone) {\n        return;\n    }\n    if (timezone.startsWith('Z')) {\n        return 'PT0S';\n    }\n    // Split string\n    const [sign, h1Raw, h2Raw, _, m1Raw, m2Raw] = timezone;\n    // Cut of leading zero, set to empty string if 0, and append H;\n    const h1 = h1Raw !== '0' ? h1Raw : '';\n    const h2 = h1 || h2Raw !== '0' ? h2Raw : '';\n    const hours = h1 + h2 ? `${h1 + h2}H` : '';\n    // Same as in hours\n    const m1 = m1Raw !== '0' ? m1Raw : '';\n    const m2 = m1 || m2Raw !== '0' ? m2Raw : '';\n    const minutes = m1 + m2 ? `${m1 + m2}M` : '';\n    // Concat sign and time and mandatory separators\n    const time = `${hours}${minutes}`;\n    const signNoPlus = sign === '-' ? '-' : '';\n    return `${signNoPlus}PT${time}`;\n}\nexports.formatDayTimeDuration = formatDayTimeDuration;\n//# sourceMappingURL=XPathFunctions.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OverloadTree = exports.namedFunctions = exports.specialFunctions = exports.regularFunctions = void 0;\nconst Core_1 = require(\"./Core\");\nconst NamedFunctions_1 = require(\"./NamedFunctions\");\nconst RegularFunctions_1 = require(\"./RegularFunctions\");\nconst SpecialFunctions_1 = require(\"./SpecialFunctions\");\n__exportStar(require(\"./Core\"), exports);\nexports.regularFunctions = Object.fromEntries(Object.entries(RegularFunctions_1.definitions).map(([key, val]) => [key, new Core_1.RegularFunction(key, val)]));\nexports.specialFunctions = Object.fromEntries(Object.entries(SpecialFunctions_1.specialDefinitions).map(([key, val]) => [key, new Core_1.SpecialFunction(key, val)]));\nexports.namedFunctions = Object.fromEntries(Object.entries(NamedFunctions_1.namedDefinitions).map(([key, val]) => [key, new Core_1.NamedFunction(key, val)]));\nvar OverloadTree_1 = require(\"./OverloadTree\");\nObject.defineProperty(exports, \"OverloadTree\", { enumerable: true, get: function () { return OverloadTree_1.OverloadTree; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AlgebraTransformer = void 0;\nconst sparqlalgebrajs_1 = require(\"sparqlalgebrajs\");\nconst E = require(\"../expressions\");\nconst functions_1 = require(\"../functions\");\nconst C = require(\"../util/Consts\");\nconst Err = require(\"../util/Errors\");\nconst Errors_1 = require(\"../util/Errors\");\nconst TermTransformer_1 = require(\"./TermTransformer\");\nclass AlgebraTransformer extends TermTransformer_1.TermTransformer {\n    constructor(algebraConfig) {\n        super(algebraConfig.superTypeProvider, algebraConfig.enableExtendedXsdTypes);\n        this.algebraConfig = algebraConfig;\n        this.creatorConfig = { type: algebraConfig.type, creator: algebraConfig.creator };\n    }\n    transformAlgebra(expr) {\n        if (!expr) {\n            throw new Err.InvalidExpression(expr);\n        }\n        const types = sparqlalgebrajs_1.Algebra.expressionTypes;\n        switch (expr.expressionType) {\n            case types.TERM:\n                return this.transformTerm(expr);\n            case types.OPERATOR:\n                return this.transformOperator(expr);\n            case types.NAMED:\n                return this.transformNamed(expr);\n            case types.EXISTENCE:\n                return AlgebraTransformer.transformExistence(expr);\n            case types.AGGREGATE:\n                return AlgebraTransformer.transformAggregate(expr);\n            case types.WILDCARD:\n                return AlgebraTransformer.transformWildcard(expr);\n            default:\n                throw new Err.InvalidExpressionType(expr);\n        }\n    }\n    static transformWildcard(term) {\n        if (!term.wildcard) {\n            throw new Err.InvalidExpression(term);\n        }\n        return new E.NamedNode(term.wildcard.value);\n    }\n    transformOperator(expr) {\n        if (C.SpecialOperators.has(expr.operator)) {\n            const specialOp = expr.operator;\n            const specialArgs = expr.args.map(arg => this.transformAlgebra(arg));\n            const specialFunc = functions_1.specialFunctions[specialOp];\n            if (!specialFunc.checkArity(specialArgs)) {\n                throw new Err.InvalidArity(specialArgs, specialOp);\n            }\n            return new E.SpecialOperator(specialArgs, specialFunc.applyAsync, specialFunc.applySync);\n        }\n        if (!C.Operators.has(expr.operator)) {\n            throw new Err.UnknownOperator(expr.operator);\n        }\n        const regularOp = expr.operator;\n        const regularArgs = expr.args.map(arg => this.transformAlgebra(arg));\n        const regularFunc = functions_1.regularFunctions[regularOp];\n        if (!AlgebraTransformer.hasCorrectArity(regularArgs, regularFunc.arity)) {\n            throw new Err.InvalidArity(regularArgs, regularOp);\n        }\n        return new E.Operator(regularArgs, args => regularFunc.apply(args, this.algebraConfig));\n    }\n    wrapSyncFunction(func, name) {\n        return args => {\n            try {\n                const res = func(args.map(arg => arg.toRDF()));\n                return this.transformRDFTermUnsafe(res);\n            }\n            catch (error) {\n                throw new Errors_1.ExtensionFunctionError(name, error);\n            }\n        };\n    }\n    wrapAsyncFunction(func, name) {\n        return async (args) => {\n            try {\n                const res = await func(args.map(arg => arg.toRDF()));\n                return this.transformRDFTermUnsafe(res);\n            }\n            catch (error) {\n                throw new Errors_1.ExtensionFunctionError(name, error);\n            }\n        };\n    }\n    // TODO: Support passing functions to override default behaviour;\n    transformNamed(expr) {\n        const funcName = expr.name.value;\n        const namedArgs = expr.args.map(arg => this.transformAlgebra(arg));\n        if (C.NamedOperators.has(funcName)) {\n            // Return a basic named expression\n            const op = expr.name.value;\n            const namedFunc = functions_1.namedFunctions[op];\n            return new E.Named(expr.name, namedArgs, args => namedFunc.apply(args, this.algebraConfig));\n        }\n        if (this.creatorConfig.type === 'sync') {\n            // Expression might be extension function, check this for the sync\n            const syncExtensionFunc = this.creatorConfig.creator(expr.name);\n            if (syncExtensionFunc) {\n                const simpleAppl = this.wrapSyncFunction(syncExtensionFunc, expr.name.value);\n                return new E.SyncExtension(expr.name, namedArgs, simpleAppl);\n            }\n        }\n        else {\n            // The expression might be an extension function, check this for the async case\n            const asyncExtensionFunc = this.creatorConfig.creator(expr.name);\n            if (asyncExtensionFunc) {\n                const asyncAppl = this.wrapAsyncFunction(asyncExtensionFunc, expr.name.value);\n                return new E.AsyncExtension(expr.name, namedArgs, asyncAppl);\n            }\n        }\n        throw new Err.UnknownNamedOperator(expr.name.value);\n    }\n    static hasCorrectArity(args, arity) {\n        // Infinity is used to represent var-args, so it's always correct.\n        if (arity === Number.POSITIVE_INFINITY) {\n            return true;\n        }\n        // If the function has overloaded arity, the actual arity needs to be present.\n        if (Array.isArray(arity)) {\n            return arity.includes(args.length);\n        }\n        return args.length === arity;\n    }\n    static transformAggregate(expr) {\n        const name = expr.aggregator;\n        return new E.Aggregate(name, expr);\n    }\n    static transformExistence(expr) {\n        return new E.Existence(expr);\n    }\n}\nexports.AlgebraTransformer = AlgebraTransformer;\n//# sourceMappingURL=AlgebraTransformer.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TermTransformer = void 0;\nconst RDFString = require(\"rdf-string\");\nconst sparqlalgebrajs_1 = require(\"sparqlalgebrajs\");\nconst E = require(\"../expressions\");\nconst Consts_1 = require(\"../util/Consts\");\nconst Err = require(\"../util/Errors\");\nconst P = require(\"../util/Parsing\");\nconst TypeHandling_1 = require(\"../util/TypeHandling\");\nclass TermTransformer {\n    constructor(superTypeProvider, enableExtendedXSDTypes) {\n        this.superTypeProvider = superTypeProvider;\n        this.enableExtendedXSDTypes = enableExtendedXSDTypes;\n    }\n    /**\n     * Transforms an RDF term to the internal representation of a term,\n     * assuming it is not a variable, which would be an expression (internally).\n     *\n     * @param term RDF term to transform into internal representation of a term\n     */\n    transformRDFTermUnsafe(term) {\n        return this.transformTerm({\n            term,\n            type: sparqlalgebrajs_1.Algebra.types.EXPRESSION,\n            expressionType: sparqlalgebrajs_1.Algebra.expressionTypes.TERM,\n        });\n    }\n    transformTerm(term) {\n        if (!term.term) {\n            throw new Err.InvalidExpression(term);\n        }\n        switch (term.term.termType) {\n            case 'Variable':\n                return new E.Variable(RDFString.termToString(term.term));\n            case 'Literal':\n                return this.transformLiteral(term.term);\n            case 'NamedNode':\n                return new E.NamedNode(term.term.value);\n            case 'BlankNode':\n                return new E.BlankNode(term.term.value);\n            default:\n                throw new Err.InvalidTermType(term);\n        }\n    }\n    legacyTransformLiteral(lit) {\n        // We transform to StringLiteral when we detect a simple literal being used.\n        // Original issue regarding this behaviour: https://github.com/w3c/sparql-12/issues/112\n        if (!lit.datatype) {\n            return lit.language ?\n                new E.LangStringLiteral(lit.value, lit.language) :\n                new E.StringLiteral(lit.value);\n        }\n        const dataType = lit.datatype.value;\n        switch (dataType) {\n            case null:\n            case undefined:\n            case '': {\n                return lit.language ?\n                    new E.LangStringLiteral(lit.value, lit.language) :\n                    new E.StringLiteral(lit.value);\n            }\n            case Consts_1.TypeURL.XSD_ANY_URI:\n            case Consts_1.TypeURL.XSD_NORMALIZED_STRING:\n            case Consts_1.TypeURL.XSD_TOKEN:\n            case Consts_1.TypeURL.XSD_LANGUAGE:\n            case Consts_1.TypeURL.XSD_NM_TOKEN:\n            case Consts_1.TypeURL.XSD_NAME:\n            case Consts_1.TypeURL.XSD_ENTITY:\n            case Consts_1.TypeURL.XSD_ID:\n            case Consts_1.TypeURL.XSD_ID_REF:\n            case Consts_1.TypeURL.XSD_STRING: return new E.StringLiteral(lit.value, dataType);\n            case Consts_1.TypeURL.RDF_LANG_STRING: return new E.LangStringLiteral(lit.value, lit.language);\n            case Consts_1.TypeURL.XSD_DATE_TIME_STAMP:\n            case Consts_1.TypeURL.XSD_DATE_TIME: {\n                const dateVal = new Date(lit.value);\n                if (Number.isNaN(dateVal.getTime())) {\n                    return new E.NonLexicalLiteral(undefined, dataType, this.superTypeProvider, lit.value);\n                }\n                return new E.DateTimeLiteral(new Date(lit.value), lit.value, dataType);\n            }\n            case Consts_1.TypeURL.XSD_BOOLEAN: {\n                if (lit.value !== 'true' && lit.value !== 'false' && lit.value !== '1' && lit.value !== '0') {\n                    return new E.NonLexicalLiteral(undefined, dataType, this.superTypeProvider, lit.value);\n                }\n                return new E.BooleanLiteral(lit.value === 'true' || lit.value === '1', lit.value, dataType);\n            }\n            case Consts_1.TypeURL.XSD_DECIMAL: {\n                const decimalVal = P.parseXSDDecimal(lit.value);\n                if (decimalVal === undefined) {\n                    return new E.NonLexicalLiteral(undefined, dataType, this.superTypeProvider, lit.value);\n                }\n                return new E.DecimalLiteral(decimalVal, dataType, lit.value);\n            }\n            case Consts_1.TypeURL.XSD_FLOAT: {\n                const floatVal = P.parseXSDFloat(lit.value);\n                if (floatVal === undefined) {\n                    return new E.NonLexicalLiteral(undefined, dataType, this.superTypeProvider, lit.value);\n                }\n                return new E.FloatLiteral(floatVal, dataType, lit.value);\n            }\n            case Consts_1.TypeURL.XSD_DOUBLE: {\n                const doubleVal = P.parseXSDFloat(lit.value);\n                if (doubleVal === undefined) {\n                    return new E.NonLexicalLiteral(undefined, dataType, this.superTypeProvider, lit.value);\n                }\n                return new E.DoubleLiteral(doubleVal, dataType, lit.value);\n            }\n            case Consts_1.TypeURL.XSD_NON_POSITIVE_INTEGER:\n            case Consts_1.TypeURL.XSD_NEGATIVE_INTEGER:\n            case Consts_1.TypeURL.XSD_LONG:\n            case Consts_1.TypeURL.XSD_INT:\n            case Consts_1.TypeURL.XSD_SHORT:\n            case Consts_1.TypeURL.XSD_BYTE:\n            case Consts_1.TypeURL.XSD_NON_NEGATIVE_INTEGER:\n            case Consts_1.TypeURL.XSD_POSITIVE_INTEGER:\n            case Consts_1.TypeURL.XSD_UNSIGNED_LONG:\n            case Consts_1.TypeURL.XSD_UNSIGNED_INT:\n            case Consts_1.TypeURL.XSD_UNSIGNED_SHORT:\n            case Consts_1.TypeURL.XSD_UNSIGNED_BYTE:\n            case Consts_1.TypeURL.XSD_INTEGER: {\n                const intVal = P.parseXSDDecimal(lit.value);\n                if (intVal === undefined) {\n                    return new E.NonLexicalLiteral(undefined, dataType, this.superTypeProvider, lit.value);\n                }\n                return new E.IntegerLiteral(intVal, dataType, lit.value);\n            }\n            default: return new E.Literal(lit.value, dataType, lit.value);\n        }\n    }\n    transformLiteral(lit) {\n        return this.enableExtendedXSDTypes ? this.experimentalTransformLiteral(lit) : this.legacyTransformLiteral(lit);\n    }\n    /**\n     * @param lit the rdf literal we want to transform to an internal Literal expression.\n     */\n    experimentalTransformLiteral(lit) {\n        // Both here and within the switch we transform to LangStringLiteral or StringLiteral.\n        // We do this when we detect a simple literal being used.\n        // Original issue regarding this behaviour: https://github.com/w3c/sparql-12/issues/112\n        if (!lit.datatype || [null, undefined, ''].includes(lit.datatype.value)) {\n            return lit.language ?\n                new E.LangStringLiteral(lit.value, lit.language) :\n                new E.StringLiteral(lit.value);\n        }\n        const dataType = lit.datatype.value;\n        const superTypeDict = (0, TypeHandling_1.getSuperTypeDict)(dataType, this.superTypeProvider);\n        if (Consts_1.TypeURL.XSD_STRING in superTypeDict) {\n            return new E.StringLiteral(lit.value, dataType);\n        }\n        if (Consts_1.TypeURL.RDF_LANG_STRING in superTypeDict) {\n            return new E.LangStringLiteral(lit.value, lit.language);\n        }\n        if (Consts_1.TypeURL.XSD_DATE_TIME in superTypeDict) {\n            // It should be noted how we don't care if its a XSD_DATE_TIME_STAMP or not.\n            // This is because sparql functions don't care about the timezone.\n            // It's also doesn't break the specs because we keep the string representation stored,\n            // that way we can always give it back. There are also no sparql functions that alter a date.\n            // (So the initial representation always stays valid)\n            // https://github.com/comunica/sparqlee/pull/103#discussion_r688462368\n            const dateVal = new Date(lit.value);\n            if (Number.isNaN(dateVal.getTime())) {\n                return new E.NonLexicalLiteral(undefined, dataType, this.superTypeProvider, lit.value);\n            }\n            return new E.DateTimeLiteral(new Date(lit.value), lit.value, dataType);\n        }\n        if (Consts_1.TypeURL.XSD_BOOLEAN in superTypeDict) {\n            if (lit.value !== 'true' && lit.value !== 'false' && lit.value !== '1' && lit.value !== '0') {\n                return new E.NonLexicalLiteral(undefined, dataType, this.superTypeProvider, lit.value);\n            }\n            return new E.BooleanLiteral(lit.value === 'true' || lit.value === '1', lit.value);\n        }\n        if (Consts_1.TypeURL.XSD_DECIMAL in superTypeDict) {\n            const intVal = P.parseXSDDecimal(lit.value);\n            if (intVal === undefined) {\n                return new E.NonLexicalLiteral(undefined, dataType, this.superTypeProvider, lit.value);\n            }\n            if (Consts_1.TypeURL.XSD_INTEGER in superTypeDict) {\n                return new E.IntegerLiteral(intVal, dataType, lit.value);\n            }\n            // If type is not an integer it's just a decimal.\n            return new E.DecimalLiteral(intVal, dataType, lit.value);\n        }\n        const isFloat = Consts_1.TypeURL.XSD_FLOAT in superTypeDict;\n        const isDouble = Consts_1.TypeURL.XSD_DOUBLE in superTypeDict;\n        if (isFloat || isDouble) {\n            const doubleVal = P.parseXSDFloat(lit.value);\n            if (doubleVal === undefined) {\n                return new E.NonLexicalLiteral(undefined, dataType, this.superTypeProvider, lit.value);\n            }\n            if (isFloat) {\n                return new E.FloatLiteral(doubleVal, dataType, lit.value);\n            }\n            return new E.DoubleLiteral(doubleVal, dataType, lit.value);\n        }\n        return new E.Literal(lit.value, dataType, lit.value);\n    }\n}\nexports.TermTransformer = TermTransformer;\n//# sourceMappingURL=TermTransformer.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NamedOperators = exports.SetFunctions = exports.SetFunction = exports.Operators = exports.SpecialOperators = exports.RegularOperators = exports.SpecialOperator = exports.RegularOperator = exports.TypeURL = exports.TypeAlias = void 0;\nvar TypeAlias;\n(function (TypeAlias) {\n    // Numeric is everything defined in https://www.w3.org/TR/sparql11-query/#operandDataTypes\n    TypeAlias[\"SPARQL_NUMERIC\"] = \"SPARQL_NUMERIC\";\n    /**\n     * Stringly is everything defined in https://www.w3.org/TR/sparql11-query/#func-strings\n     * In other words it is a simple literal, a plain literal with language tag, or a literal with datatype xsd:string\n     * In other words, since sparqlee transforms a simple literal to xsd_string. It is RDF_LANG_STRING or XSD_STRING.\n     * Reasons for this are mentioned here: w3c/sparql-12#112\n     */\n    TypeAlias[\"SPARQL_STRINGLY\"] = \"SPARQL_STRINGLY\";\n    TypeAlias[\"SPARQL_NON_LEXICAL\"] = \"SPARQL_NON_LEXICAL\";\n})(TypeAlias = exports.TypeAlias || (exports.TypeAlias = {}));\nvar TypeURL;\n(function (TypeURL) {\n    TypeURL[\"XSD_ANY_URI\"] = \"http://www.w3.org/2001/XMLSchema#anyURI\";\n    TypeURL[\"XSD_STRING\"] = \"http://www.w3.org/2001/XMLSchema#string\";\n    TypeURL[\"RDF_LANG_STRING\"] = \"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString\";\n    TypeURL[\"XSD_BOOLEAN\"] = \"http://www.w3.org/2001/XMLSchema#boolean\";\n    TypeURL[\"XSD_DATE_TIME\"] = \"http://www.w3.org/2001/XMLSchema#dateTime\";\n    TypeURL[\"XSD_DATE_TIME_STAMP\"] = \"http://www.w3.org/2001/XMLSchema#dateTimeStamp\";\n    TypeURL[\"XSD_DATE\"] = \"http://www.w3.org/2001/XMLSchema#date\";\n    // Numeric types\n    TypeURL[\"XSD_DECIMAL\"] = \"http://www.w3.org/2001/XMLSchema#decimal\";\n    TypeURL[\"XSD_FLOAT\"] = \"http://www.w3.org/2001/XMLSchema#float\";\n    TypeURL[\"XSD_DOUBLE\"] = \"http://www.w3.org/2001/XMLSchema#double\";\n    // Derived numeric types\n    TypeURL[\"XSD_INTEGER\"] = \"http://www.w3.org/2001/XMLSchema#integer\";\n    TypeURL[\"XSD_NON_POSITIVE_INTEGER\"] = \"http://www.w3.org/2001/XMLSchema#nonPositiveInteger\";\n    TypeURL[\"XSD_NEGATIVE_INTEGER\"] = \"http://www.w3.org/2001/XMLSchema#negativeInteger\";\n    TypeURL[\"XSD_LONG\"] = \"http://www.w3.org/2001/XMLSchema#long\";\n    TypeURL[\"XSD_INT\"] = \"http://www.w3.org/2001/XMLSchema#int\";\n    TypeURL[\"XSD_SHORT\"] = \"http://www.w3.org/2001/XMLSchema#short\";\n    TypeURL[\"XSD_BYTE\"] = \"http://www.w3.org/2001/XMLSchema#byte\";\n    TypeURL[\"XSD_NON_NEGATIVE_INTEGER\"] = \"http://www.w3.org/2001/XMLSchema#nonNegativeInteger\";\n    TypeURL[\"XSD_POSITIVE_INTEGER\"] = \"http://www.w3.org/2001/XMLSchema#positiveInteger\";\n    TypeURL[\"XSD_UNSIGNED_LONG\"] = \"http://www.w3.org/2001/XMLSchema#unsignedLong\";\n    TypeURL[\"XSD_UNSIGNED_INT\"] = \"http://www.w3.org/2001/XMLSchema#unsignedInt\";\n    TypeURL[\"XSD_UNSIGNED_SHORT\"] = \"http://www.w3.org/2001/XMLSchema#unsignedShort\";\n    TypeURL[\"XSD_UNSIGNED_BYTE\"] = \"http://www.w3.org/2001/XMLSchema#unsignedByte\";\n    // Derived String Type\n    TypeURL[\"XSD_NORMALIZED_STRING\"] = \"http://www.w3.org/2001/XMLSchema#normalizedString\";\n    TypeURL[\"XSD_TOKEN\"] = \"http://www.w3.org/2001/XMLSchema#token\";\n    TypeURL[\"XSD_LANGUAGE\"] = \"http://www.w3.org/2001/XMLSchema#language\";\n    TypeURL[\"XSD_NM_TOKEN\"] = \"http://www.w3.org/2001/XMLSchema#NMTOKEN\";\n    TypeURL[\"XSD_NAME\"] = \"http://www.w3.org/2001/XMLSchema#name\";\n    TypeURL[\"XSD_NC_NAME\"] = \"http://www.w3.org/2001/XMLSchema#NCName\";\n    TypeURL[\"XSD_ENTITY\"] = \"http://www.w3.org/2001/XMLSchema#ENTITY\";\n    TypeURL[\"XSD_ID\"] = \"http://www.w3.org/2001/XMLSchema#ID\";\n    TypeURL[\"XSD_ID_REF\"] = \"http://www.w3.org/2001/XMLSchema#IDREF\";\n    // Other types\n    TypeURL[\"XSD_DURATION\"] = \"http://www.w3.org/2001/XMLSchema#duration\";\n    TypeURL[\"XSD_YEAR_MONTH_DURATION\"] = \"http://www.w3.org/2001/XMLSchema#yearMonthDuration\";\n    TypeURL[\"XSD_DAYTIME_DURATION\"] = \"http://www.w3.org/2001/XMLSchema#dayTimeDuration\";\n})(TypeURL = exports.TypeURL || (exports.TypeURL = {}));\n// TODO: Remove unneeded double typing\nvar RegularOperator;\n(function (RegularOperator) {\n    // Operator mapping\n    // https://www.w3.org/TR/sparql11-query/#OperatorMapping\n    RegularOperator[\"NOT\"] = \"!\";\n    RegularOperator[\"UMINUS\"] = \"UMINUS\";\n    RegularOperator[\"UPLUS\"] = \"UPLUS\";\n    // LOGICAL_AND // See SpecialOperators\n    // LOGICAL_OR  // See SpecialOperators\n    RegularOperator[\"EQUAL\"] = \"=\";\n    RegularOperator[\"NOT_EQUAL\"] = \"!=\";\n    RegularOperator[\"LT\"] = \"<\";\n    RegularOperator[\"GT\"] = \">\";\n    RegularOperator[\"LTE\"] = \"<=\";\n    RegularOperator[\"GTE\"] = \">=\";\n    RegularOperator[\"MULTIPLICATION\"] = \"*\";\n    RegularOperator[\"DIVISION\"] = \"/\";\n    RegularOperator[\"ADDITION\"] = \"+\";\n    RegularOperator[\"SUBTRACTION\"] = \"-\";\n    // Functional Forms\n    // https://www.w3.org/TR/sparql11-query/#func-forms\n    // See SpecialOperators\n    // Functions on RDF Terms\n    // https://www.w3.org/TR/sparql11-query/#func-rdfTerms\n    RegularOperator[\"IS_IRI\"] = \"isiri\";\n    RegularOperator[\"IS_BLANK\"] = \"isblank\";\n    RegularOperator[\"IS_LITERAL\"] = \"isliteral\";\n    RegularOperator[\"IS_NUMERIC\"] = \"isnumeric\";\n    RegularOperator[\"STR\"] = \"str\";\n    RegularOperator[\"LANG\"] = \"lang\";\n    RegularOperator[\"DATATYPE\"] = \"datatype\";\n    RegularOperator[\"IRI\"] = \"iri\";\n    RegularOperator[\"URI\"] = \"uri\";\n    // BNODE = 'BNODE', (see special operators)\n    RegularOperator[\"STRDT\"] = \"strdt\";\n    RegularOperator[\"STRLANG\"] = \"strlang\";\n    RegularOperator[\"UUID\"] = \"uuid\";\n    RegularOperator[\"STRUUID\"] = \"struuid\";\n    // Functions on strings\n    // https://www.w3.org/TR/sparql11-query/#func-strings\n    RegularOperator[\"STRLEN\"] = \"strlen\";\n    RegularOperator[\"SUBSTR\"] = \"substr\";\n    RegularOperator[\"UCASE\"] = \"ucase\";\n    RegularOperator[\"LCASE\"] = \"lcase\";\n    RegularOperator[\"STRSTARTS\"] = \"strstarts\";\n    RegularOperator[\"STRENDS\"] = \"strends\";\n    RegularOperator[\"CONTAINS\"] = \"contains\";\n    RegularOperator[\"STRBEFORE\"] = \"strbefore\";\n    RegularOperator[\"STRAFTER\"] = \"strafter\";\n    RegularOperator[\"ENCODE_FOR_URI\"] = \"encode_for_uri\";\n    // CONCAT = 'concat' (see special operators)\n    RegularOperator[\"LANG_MATCHES\"] = \"langmatches\";\n    RegularOperator[\"REGEX\"] = \"regex\";\n    RegularOperator[\"REPLACE\"] = \"replace\";\n    // Functions on numerics\n    // https://www.w3.org/TR/sparql11-query/#func-numerics\n    RegularOperator[\"ABS\"] = \"abs\";\n    RegularOperator[\"ROUND\"] = \"round\";\n    RegularOperator[\"CEIL\"] = \"ceil\";\n    RegularOperator[\"FLOOR\"] = \"floor\";\n    RegularOperator[\"RAND\"] = \"rand\";\n    // Functions on Dates and Times\n    // https://www.w3.org/TR/sparql11-query/#func-date-time\n    RegularOperator[\"NOW\"] = \"now\";\n    RegularOperator[\"YEAR\"] = \"year\";\n    RegularOperator[\"MONTH\"] = \"month\";\n    RegularOperator[\"DAY\"] = \"day\";\n    RegularOperator[\"HOURS\"] = \"hours\";\n    RegularOperator[\"MINUTES\"] = \"minutes\";\n    RegularOperator[\"SECONDS\"] = \"seconds\";\n    RegularOperator[\"TIMEZONE\"] = \"timezone\";\n    RegularOperator[\"TZ\"] = \"tz\";\n    // Hash functions\n    // https://www.w3.org/TR/sparql11-query/#func-hash\n    RegularOperator[\"MD5\"] = \"md5\";\n    RegularOperator[\"SHA1\"] = \"sha1\";\n    RegularOperator[\"SHA256\"] = \"sha256\";\n    RegularOperator[\"SHA384\"] = \"sha384\";\n    RegularOperator[\"SHA512\"] = \"sha512\";\n    // XPath Constructor functions\n    // https://www.w3.org/TR/sparql11-query/#FunctionMapping\n    // See Named Operators\n})(RegularOperator = exports.RegularOperator || (exports.RegularOperator = {}));\nvar SpecialOperator;\n(function (SpecialOperator) {\n    // Functional Forms\n    // https://www.w3.org/TR/sparql11-query/#func-forms\n    SpecialOperator[\"BOUND\"] = \"bound\";\n    SpecialOperator[\"IF\"] = \"if\";\n    SpecialOperator[\"COALESCE\"] = \"coalesce\";\n    // EXISTENCE = 'existence',\n    SpecialOperator[\"LOGICAL_OR\"] = \"||\";\n    SpecialOperator[\"LOGICAL_AND\"] = \"&&\";\n    // EQUAL = '=', // See RegularOperators\n    SpecialOperator[\"SAME_TERM\"] = \"sameterm\";\n    SpecialOperator[\"IN\"] = \"in\";\n    SpecialOperator[\"NOT_IN\"] = \"notin\";\n    // Annoying functions - Has variable arity\n    SpecialOperator[\"CONCAT\"] = \"concat\";\n    // Context dependant functions\n    SpecialOperator[\"BNODE\"] = \"BNODE\";\n})(SpecialOperator = exports.SpecialOperator || (exports.SpecialOperator = {}));\nexports.RegularOperators = new Set(Object.values(RegularOperator));\nexports.SpecialOperators = new Set(Object.values(SpecialOperator));\nexports.Operators = new Set([...exports.RegularOperators, ...exports.SpecialOperators]);\nvar SetFunction;\n(function (SetFunction) {\n    SetFunction[\"COUNT\"] = \"count\";\n    SetFunction[\"SUM\"] = \"sum\";\n    SetFunction[\"MIN\"] = \"min\";\n    SetFunction[\"MAX\"] = \"max\";\n    SetFunction[\"AVG\"] = \"avg\";\n    SetFunction[\"GROUP_CONCAT\"] = \"group_concat\";\n    SetFunction[\"SAMPLE\"] = \"sample\";\n})(SetFunction = exports.SetFunction || (exports.SetFunction = {}));\nexports.SetFunctions = new Set(Object.values(SetFunction));\nexports.NamedOperators = new Set([\n    TypeURL.XSD_STRING,\n    TypeURL.XSD_FLOAT,\n    TypeURL.XSD_DOUBLE,\n    TypeURL.XSD_DECIMAL,\n    TypeURL.XSD_INTEGER,\n    TypeURL.XSD_DATE_TIME,\n    TypeURL.XSD_DATE,\n    TypeURL.XSD_BOOLEAN,\n]);\n//# sourceMappingURL=Consts.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NoExistenceHook = exports.NoAggregator = exports.ExtensionFunctionError = exports.UnknownNamedOperator = exports.UnknownOperator = exports.InvalidTermType = exports.InvalidExpressionType = exports.InvalidExpression = exports.InvalidArity = exports.UnimplementedError = exports.UnexpectedError = exports.EmptyAggregateError = exports.IncompatibleLanguageOperation = exports.InvalidTimezoneCall = exports.CastError = exports.InvalidArgumentTypes = exports.InError = exports.CoalesceError = exports.RDFEqualTypeError = exports.EBVCoercionError = exports.UnboundVariableError = exports.InvalidLexicalForm = exports.isExpressionError = exports.ExpressionError = void 0;\n/**\n * This class of error will be thrown when an expression errors.\n * Various reasons this could happen are:\n *   - invalid types for the given operator\n *   - unbound variables\n *   - invalid lexical forms\n *   - ...\n *\n * The distinction is made so that one can catch this specific type\n * and handle it accordingly to the SPARQL spec (relevant for e.g. FILTER, EXTEND),\n * while others (programming errors) can be re-thrown.\n *\n * @see isExpressionError\n */\nclass ExpressionError extends Error {\n}\nexports.ExpressionError = ExpressionError;\n/**\n * Checks whether a given error is an {@link ExpressionError}.\n * Also useful for mocking in tests for covering all branches.\n *\n * @see ExpressionError\n */\nfunction isExpressionError(error) {\n    return error instanceof ExpressionError;\n}\nexports.isExpressionError = isExpressionError;\n/**\n * A literal has an invalid lexical form for the datatype it is accompanied by.\n * This error is only thrown when the term is as function argument that requires\n * a valid lexical form.\n */\nclass InvalidLexicalForm extends ExpressionError {\n    constructor(arg) {\n        super(`Invalid lexical form '${pp(arg)}'`);\n        this.arg = arg;\n    }\n}\nexports.InvalidLexicalForm = InvalidLexicalForm;\n/**\n * A variable in the expression was not bound.\n */\nclass UnboundVariableError extends ExpressionError {\n    constructor(variable, bindings) {\n        super(`Unbound variable '${pp(variable)}'`);\n        this.variable = variable;\n        this.bindings = bindings;\n    }\n}\nexports.UnboundVariableError = UnboundVariableError;\n/**\n * An invalid term was being coerced to an Effective Boolean Value.\n *\n * See the {@link https://www.w3.org/TR/sparql11-query/#ebv | SPARQL docs}\n * on EBVs.\n */\nclass EBVCoercionError extends ExpressionError {\n    constructor(arg) {\n        super(`Cannot coerce term to EBV '${pp(arg)}'`);\n        this.arg = arg;\n    }\n}\nexports.EBVCoercionError = EBVCoercionError;\n/**\n * An equality test was done on literals with unsupported datatypes.\n *\n * See {@link https://www.w3.org/TR/sparql11-query/#func-RDFterm-equal | term equality spec}.\n */\nclass RDFEqualTypeError extends ExpressionError {\n    constructor(args) {\n        super('Equality test for literals with unsupported datatypes');\n        this.args = args;\n    }\n}\nexports.RDFEqualTypeError = RDFEqualTypeError;\n/**\n * All the expressions in a COALESCE call threw errors.\n */\nclass CoalesceError extends ExpressionError {\n    constructor(errors) {\n        super('All COALESCE arguments threw errors');\n        this.errors = errors;\n    }\n}\nexports.CoalesceError = CoalesceError;\n/**\n * No arguments to an IN call where equal, and at least one threw an error.\n */\nclass InError extends ExpressionError {\n    constructor(errors) {\n        super(`Some argument to IN errorred and none where equal. ${\n        // eslint-disable-next-line @typescript-eslint/no-base-to-string\n        errors.map(err => `(${err.toString()}) `).join('and ')}`);\n        this.errors = errors;\n    }\n}\nexports.InError = InError;\n/**\n * Literals were passed to an operator that doesn't support their datatypes.\n */\nclass InvalidArgumentTypes extends ExpressionError {\n    constructor(args, op) {\n        super(`Argument types not valid for operator: '${pp(op)}' with '${pp(args)}`);\n        this.args = args;\n        this.op = op;\n    }\n}\nexports.InvalidArgumentTypes = InvalidArgumentTypes;\n/**\n * An invalid typecast happened.\n */\nclass CastError extends ExpressionError {\n    constructor(arg, cast) {\n        super(`Invalid cast: '${pp(arg)}' to '${pp(cast)}'`);\n        this.arg = arg;\n    }\n}\nexports.CastError = CastError;\nclass InvalidTimezoneCall extends ExpressionError {\n    constructor(dateString) {\n        super(`TIMEZONE call on ${dateString} which has no timezone`);\n        this.dateString = dateString;\n    }\n}\nexports.InvalidTimezoneCall = InvalidTimezoneCall;\nclass IncompatibleLanguageOperation extends ExpressionError {\n    constructor(arg1, arg2) {\n        super(`Operation on incompatible language literals '${pp(arg1)}' and '${pp(arg2)}'`);\n        this.arg1 = arg1;\n        this.arg2 = arg2;\n    }\n}\nexports.IncompatibleLanguageOperation = IncompatibleLanguageOperation;\nclass EmptyAggregateError extends ExpressionError {\n    constructor() {\n        super('Empty aggregate expression');\n    }\n}\nexports.EmptyAggregateError = EmptyAggregateError;\n// Non Expression Errors ------------------------------------------------------\n/**\n * An error that arises when we detect a 'should-be-impossible' state.\n * Given that this error is thrown, it clearly wasn't impossible, and some\n * mistake has been made.\n */\nclass UnexpectedError extends Error {\n    constructor(message, payload) {\n        super(`Programmer Error '${message}'`);\n        this.payload = payload;\n    }\n}\nexports.UnexpectedError = UnexpectedError;\n/**\n * An Error that signals a feature or function is yet unimplemented.\n */\nclass UnimplementedError extends Error {\n    constructor(feature) {\n        super(`Unimplemented feature '${feature}!'`);\n    }\n}\nexports.UnimplementedError = UnimplementedError;\nclass InvalidArity extends Error {\n    constructor(args, op) {\n        super(`The number of args does not match the arity of the operator '${pp(op)}'.`);\n        this.args = args;\n        this.op = op;\n    }\n}\nexports.InvalidArity = InvalidArity;\nclass InvalidExpression extends Error {\n    constructor(expr) {\n        super(`Invalid SPARQL Expression '${pp(expr)}'`);\n    }\n}\nexports.InvalidExpression = InvalidExpression;\nclass InvalidExpressionType extends Error {\n    constructor(expr) {\n        super(`Invalid expression type for SPARQL Expression '${pp(expr)}'`);\n        this.expr = expr;\n    }\n}\nexports.InvalidExpressionType = InvalidExpressionType;\nclass InvalidTermType extends Error {\n    constructor(term) {\n        super(`Invalid term type for term '${pp(term)}'`);\n        this.term = term;\n    }\n}\nexports.InvalidTermType = InvalidTermType;\nclass UnknownOperator extends Error {\n    constructor(name) {\n        super(`Unknown operator: '${pp(name)}`);\n    }\n}\nexports.UnknownOperator = UnknownOperator;\nclass UnknownNamedOperator extends Error {\n    constructor(name) {\n        super(`Unknown named operator: '${pp(name)}'`);\n    }\n}\nexports.UnknownNamedOperator = UnknownNamedOperator;\nclass ExtensionFunctionError extends Error {\n    constructor(name, functionError) {\n        if (functionError instanceof Error) {\n            super(`Error thrown in ${name}: ${functionError.message}${functionError.stack ? `\\n${functionError.stack}` : ''}`);\n        }\n        else {\n            super(`Error thrown in ${name}`);\n        }\n    }\n}\nexports.ExtensionFunctionError = ExtensionFunctionError;\nclass NoAggregator extends Error {\n    constructor(name) {\n        super(`Aggregate expression ${pp(name)} found, but no aggregate hook provided.`);\n    }\n}\nexports.NoAggregator = NoAggregator;\nclass NoExistenceHook extends Error {\n    constructor() {\n        super('EXISTS found, but no existence hook provided.');\n    }\n}\nexports.NoExistenceHook = NoExistenceHook;\nfunction pp(object) {\n    return JSON.stringify(object);\n}\n//# sourceMappingURL=Errors.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.orderTypes = void 0;\nconst LRUCache = require(\"lru-cache\");\nconst TermTransformer_1 = require(\"../transformers/TermTransformer\");\n// Determine the relative numerical order of the two given terms.\nfunction orderTypes(termA, termB, isAscending, typeDiscoveryCallback, typeCache, enableExtendedXSDTypes) {\n    if (termA === termB) {\n        return 0;\n    }\n    // We handle undefined that is lower than everything else.\n    if (termA === undefined) {\n        return isAscending ? -1 : 1;\n    }\n    if (termB === undefined) {\n        return isAscending ? 1 : -1;\n    }\n    // We handle terms\n    if (termA.equals(termB)) {\n        return 0;\n    }\n    return isTermLowerThan(termA, termB, typeDiscoveryCallback, typeCache, enableExtendedXSDTypes) === isAscending ?\n        -1 :\n        1;\n}\nexports.orderTypes = orderTypes;\nfunction isTermLowerThan(termA, termB, typeDiscoveryCallback, typeCache, enableExtendedXSDTypes) {\n    if (termA.termType !== termB.termType) {\n        return _TERM_ORDERING_PRIORITY[termA.termType] < _TERM_ORDERING_PRIORITY[termB.termType];\n    }\n    return termA.termType === 'Literal' ?\n        isLiteralLowerThan(termA, termB, typeDiscoveryCallback, typeCache, enableExtendedXSDTypes) :\n        termA.value < termB.value;\n}\nfunction isLiteralLowerThan(litA, litB, typeDiscoveryCallback, typeCache, enableExtendedXSDTypes) {\n    const openWorldType = {\n        discoverer: typeDiscoveryCallback || (() => 'term'),\n        cache: typeCache || new LRUCache(),\n    };\n    const termTransformer = new TermTransformer_1.TermTransformer(openWorldType, enableExtendedXSDTypes || false);\n    const myLitA = termTransformer.transformLiteral(litA);\n    const myLitB = termTransformer.transformLiteral(litB);\n    const typeA = _SPARQL_TYPE_NORMALIZATION[myLitA.mainSparqlType];\n    const typeB = _SPARQL_TYPE_NORMALIZATION[myLitB.mainSparqlType];\n    if (typeA !== typeB) {\n        return typeA < typeB;\n    }\n    switch (typeA) {\n        case 'boolean':\n        case 'dateTime':\n        case 'decimal':\n        case 'integer':\n        case 'float':\n        case 'double':\n        case 'string':\n            return myLitA.typedValue < myLitB.typedValue;\n        case 'langString':\n            return myLitA.typedValue < myLitB.typedValue ||\n                (myLitA.typedValue === myLitB.typedValue && (myLitA.language || '') < (myLitB.language || ''));\n        case 'other':\n        case 'nonlexical':\n            return myLitA.dataType < myLitB.dataType ||\n                (myLitA.dataType === myLitB.dataType && myLitA.str() < myLitB.str());\n    }\n}\n// SPARQL specifies that blankNode < namedNode < literal.\nconst _TERM_ORDERING_PRIORITY = {\n    Variable: 0,\n    BlankNode: 1,\n    NamedNode: 2,\n    Literal: 3,\n    Quad: 4,\n    DefaultGraph: 5,\n};\nconst _SPARQL_TYPE_NORMALIZATION = {\n    string: 'string',\n    langString: 'langString',\n    dateTime: 'dateTime',\n    boolean: 'boolean',\n    integer: 'decimal',\n    decimal: 'decimal',\n    float: 'decimal',\n    double: 'decimal',\n    other: 'other',\n    nonlexical: 'other',\n};\n//# sourceMappingURL=Ordering.js.map","\"use strict\";\n// TODO: Find a library for this\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parseXSDDateTime = exports.parseXSDInteger = exports.parseXSDDecimal = exports.parseXSDFloat = void 0;\n/**\n * TODO: Fix decently\n * Parses float datatypes (double, float).\n *\n * All invalid lexical values return undefined.\n *\n * @param value the string to interpret as a number\n */\nfunction parseXSDFloat(value) {\n    const numb = Number(value);\n    if (Number.isNaN(numb)) {\n        if (value === 'NaN') {\n            return Number.NaN;\n        }\n        if (value === 'INF') {\n            return Number.POSITIVE_INFINITY;\n        }\n        if (value === '-INF') {\n            return Number.NEGATIVE_INFINITY;\n        }\n        return undefined;\n    }\n    return numb;\n}\nexports.parseXSDFloat = parseXSDFloat;\n/**\n * Parses decimal datatypes (decimal, int, byte, nonPositiveInteger, etc...).\n *\n * All other values, including NaN, INF, and floating point numbers all\n * return undefined;\n *\n * @param value the string to interpret as a number\n */\nfunction parseXSDDecimal(value) {\n    const numb = Number(value);\n    return Number.isNaN(numb) ? undefined : numb;\n}\nexports.parseXSDDecimal = parseXSDDecimal;\n/**\n * Parses integer datatypes (decimal, int, byte, nonPositiveInteger, etc...).\n *\n * All other values, including NaN, INF, and floating point numbers all\n * return undefined;\n *\n * @param value the string to interpret as a number\n */\nfunction parseXSDInteger(value) {\n    const numb = Number.parseInt(value, 10);\n    return Number.isNaN(numb) ? undefined : numb;\n}\nexports.parseXSDInteger = parseXSDInteger;\n/**\n * Parses ISO date or date time strings into it's parts.\n * I found no lib providing this functionality online, but it's needed heavily\n * by the spec (functions on dates), using any form of JS DateTime will lose the\n * original timezone notation.\n *\n * Example strings:\n *  - \"2011-01-10T14:45:13.815-05:00\"\n *  - \"2011-01-10T14:45:13.815Z\"\n *  - \"2011-01-10T14:45:13Z\"\n *  - \"2011-01-10\"\n * @param value the ISO date time string\n */\nfunction parseXSDDateTime(value) {\n    const posT = value.indexOf('T');\n    const date = posT >= 0 ? value.slice(0, Math.max(0, posT)) : value;\n    const [year, month, day] = date.split('-');\n    let hours = '';\n    let minutes = '';\n    let seconds = '';\n    let timezone = '';\n    if (posT >= 0) {\n        const timeAndTimeZone = value.slice(posT + 1);\n        const [time, _timeZoneChopped] = timeAndTimeZone.split(/[+Z-]/u);\n        [hours, minutes, seconds] = time.split(':');\n        const timezoneOrNull = /([+Z-].*)/u.exec(timeAndTimeZone);\n        timezone = timezoneOrNull ? timezoneOrNull[0] : '';\n    }\n    else {\n        hours = '00';\n        minutes = '00';\n        seconds = '00';\n        timezone = '';\n    }\n    return { year, month, day, hours, minutes, seconds, timezone };\n}\nexports.parseXSDDateTime = parseXSDDateTime;\n//# sourceMappingURL=Parsing.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isSubTypeOf = exports.getSuperTypeDict = exports.isInternalSubType = exports.asGeneralType = exports.asOverrideType = exports.asKnownLiteralType = exports.asTypeAlias = exports.typeAliasCheck = exports.extensionTableInit = exports.getSuperTypes = exports.superTypeDictTable = exports.extensionTableInput = exports.mainSparqlType = void 0;\nconst expressions_1 = require(\"../expressions\");\nconst Consts_1 = require(\"./Consts\");\n/**\n * This function return a list of ArgumentTypes and the priority this list has.\n * This priority can be matched with other values returned by this function.\n * This function needs to be in line with the @see extensionTableInput.\n * @param typeURL This will most likely be a @see ExperimentalArgumentType\n */\nfunction mainSparqlType(typeURL) {\n    // We transform to StringLiteral when we detect a simple literal being used.\n    // Original issue regarding this behaviour: https://github.com/w3c/sparql-12/issues/112\n    switch (typeURL) {\n        case 'term': return { types: ['term'], prio: 0 };\n        case 'namedNode': return { types: ['namedNode'], prio: 1 };\n        case 'literal': return { types: ['literal'], prio: 1 };\n        case 'blankNode': return { types: ['blankNode'], prio: 1 };\n        case Consts_1.TypeAlias.SPARQL_NON_LEXICAL: return { types: ['nonlexical'], prio: 2 };\n        case null:\n        case undefined:\n        case '':\n        case Consts_1.TypeURL.XSD_ANY_URI:\n        case Consts_1.TypeURL.XSD_NORMALIZED_STRING:\n        case Consts_1.TypeURL.XSD_TOKEN:\n        case Consts_1.TypeURL.XSD_LANGUAGE:\n        case Consts_1.TypeURL.XSD_NM_TOKEN:\n        case Consts_1.TypeURL.XSD_NAME:\n        case Consts_1.TypeURL.XSD_ENTITY:\n        case Consts_1.TypeURL.XSD_ID:\n        case Consts_1.TypeURL.XSD_ID_REF:\n        case Consts_1.TypeURL.XSD_STRING: return { types: ['string'], prio: exports.superTypeDictTable[Consts_1.TypeURL.XSD_STRING].__depth + 2 };\n        case Consts_1.TypeURL.RDF_LANG_STRING: return {\n            types: ['langString'],\n            prio: exports.superTypeDictTable[Consts_1.TypeURL.RDF_LANG_STRING].__depth + 2,\n        };\n        case Consts_1.TypeURL.XSD_DATE_TIME_STAMP:\n        case Consts_1.TypeURL.XSD_DATE_TIME: return {\n            types: ['dateTime'],\n            prio: exports.superTypeDictTable[Consts_1.TypeURL.XSD_DATE_TIME].__depth + 2,\n        };\n        case Consts_1.TypeURL.XSD_BOOLEAN: return {\n            types: ['boolean'],\n            prio: exports.superTypeDictTable[Consts_1.TypeURL.XSD_BOOLEAN].__depth + 2,\n        };\n        case Consts_1.TypeURL.XSD_DECIMAL: return {\n            types: ['decimal', 'integer'],\n            prio: exports.superTypeDictTable[Consts_1.TypeURL.XSD_DECIMAL].__depth + 2,\n        };\n        case Consts_1.TypeURL.XSD_FLOAT: return { types: ['float'], prio: exports.superTypeDictTable[Consts_1.TypeURL.XSD_FLOAT].__depth + 2 };\n        case Consts_1.TypeURL.XSD_DOUBLE: return { types: ['double'], prio: exports.superTypeDictTable[Consts_1.TypeURL.XSD_DOUBLE].__depth + 2 };\n        case Consts_1.TypeURL.XSD_NON_POSITIVE_INTEGER:\n        case Consts_1.TypeURL.XSD_NEGATIVE_INTEGER:\n        case Consts_1.TypeURL.XSD_LONG:\n        case Consts_1.TypeURL.XSD_INT:\n        case Consts_1.TypeURL.XSD_SHORT:\n        case Consts_1.TypeURL.XSD_BYTE:\n        case Consts_1.TypeURL.XSD_NON_NEGATIVE_INTEGER:\n        case Consts_1.TypeURL.XSD_POSITIVE_INTEGER:\n        case Consts_1.TypeURL.XSD_UNSIGNED_LONG:\n        case Consts_1.TypeURL.XSD_UNSIGNED_INT:\n        case Consts_1.TypeURL.XSD_UNSIGNED_SHORT:\n        case Consts_1.TypeURL.XSD_UNSIGNED_BYTE:\n        case Consts_1.TypeURL.XSD_INTEGER: return {\n            types: ['integer'],\n            prio: exports.superTypeDictTable[Consts_1.TypeURL.XSD_INTEGER].__depth + 2,\n        };\n        case Consts_1.TypeAlias.SPARQL_STRINGLY: return {\n            types: ['string', 'langString'],\n            prio: exports.superTypeDictTable[Consts_1.TypeAlias.SPARQL_STRINGLY].__depth + 2,\n        };\n        case Consts_1.TypeAlias.SPARQL_NUMERIC: return {\n            types: ['decimal', 'float', 'integer', 'double'],\n            prio: exports.superTypeDictTable[Consts_1.TypeAlias.SPARQL_NUMERIC].__depth + 2,\n        };\n        default: return { types: ['other'], prio: 2 };\n    }\n}\nexports.mainSparqlType = mainSparqlType;\n/**\n * Types that are not mentioned just map to 'term'.\n * When editing this, make sure type promotion and substituion don't start interfering.\n * e.g. when saying something like string -> stringly -> anyUri -> term.\n * This would make substitution on types that promote to each other possible. We and the specs don't want that!\n * A DAG will be created based on this. Make sure it doesn't have any cycles!\n *\n * This needs to be in line with the @see mainSparqlType function.\n */\nexports.extensionTableInput = {\n    // Datetime types\n    [Consts_1.TypeURL.XSD_DATE_TIME_STAMP]: Consts_1.TypeURL.XSD_DATE_TIME,\n    // Duration types\n    [Consts_1.TypeURL.XSD_DAYTIME_DURATION]: Consts_1.TypeURL.XSD_DURATION,\n    [Consts_1.TypeURL.XSD_YEAR_MONTH_DURATION]: Consts_1.TypeURL.XSD_DURATION,\n    // Stringly types\n    [Consts_1.TypeURL.RDF_LANG_STRING]: Consts_1.TypeAlias.SPARQL_STRINGLY,\n    [Consts_1.TypeURL.XSD_STRING]: Consts_1.TypeAlias.SPARQL_STRINGLY,\n    // String types\n    [Consts_1.TypeURL.XSD_NORMALIZED_STRING]: Consts_1.TypeURL.XSD_STRING,\n    [Consts_1.TypeURL.XSD_TOKEN]: Consts_1.TypeURL.XSD_NORMALIZED_STRING,\n    [Consts_1.TypeURL.XSD_LANGUAGE]: Consts_1.TypeURL.XSD_TOKEN,\n    [Consts_1.TypeURL.XSD_NM_TOKEN]: Consts_1.TypeURL.XSD_TOKEN,\n    [Consts_1.TypeURL.XSD_NAME]: Consts_1.TypeURL.XSD_TOKEN,\n    [Consts_1.TypeURL.XSD_NC_NAME]: Consts_1.TypeURL.XSD_NAME,\n    [Consts_1.TypeURL.XSD_ENTITY]: Consts_1.TypeURL.XSD_NC_NAME,\n    [Consts_1.TypeURL.XSD_ID]: Consts_1.TypeURL.XSD_NC_NAME,\n    [Consts_1.TypeURL.XSD_ID_REF]: Consts_1.TypeURL.XSD_NC_NAME,\n    // Numeric types\n    // https://www.w3.org/TR/sparql11-query/#operandDataTypes\n    // > numeric denotes typed literals with datatypes xsd:integer, xsd:decimal, xsd:float, and xsd:double\n    [Consts_1.TypeURL.XSD_DOUBLE]: Consts_1.TypeAlias.SPARQL_NUMERIC,\n    [Consts_1.TypeURL.XSD_FLOAT]: Consts_1.TypeAlias.SPARQL_NUMERIC,\n    [Consts_1.TypeURL.XSD_DECIMAL]: Consts_1.TypeAlias.SPARQL_NUMERIC,\n    // Decimal types\n    [Consts_1.TypeURL.XSD_INTEGER]: Consts_1.TypeURL.XSD_DECIMAL,\n    [Consts_1.TypeURL.XSD_NON_POSITIVE_INTEGER]: Consts_1.TypeURL.XSD_INTEGER,\n    [Consts_1.TypeURL.XSD_NEGATIVE_INTEGER]: Consts_1.TypeURL.XSD_NON_POSITIVE_INTEGER,\n    [Consts_1.TypeURL.XSD_LONG]: Consts_1.TypeURL.XSD_INTEGER,\n    [Consts_1.TypeURL.XSD_INT]: Consts_1.TypeURL.XSD_LONG,\n    [Consts_1.TypeURL.XSD_SHORT]: Consts_1.TypeURL.XSD_INT,\n    [Consts_1.TypeURL.XSD_BYTE]: Consts_1.TypeURL.XSD_SHORT,\n    [Consts_1.TypeURL.XSD_NON_NEGATIVE_INTEGER]: Consts_1.TypeURL.XSD_INTEGER,\n    [Consts_1.TypeURL.XSD_POSITIVE_INTEGER]: Consts_1.TypeURL.XSD_NON_NEGATIVE_INTEGER,\n    [Consts_1.TypeURL.XSD_UNSIGNED_LONG]: Consts_1.TypeURL.XSD_NON_NEGATIVE_INTEGER,\n    [Consts_1.TypeURL.XSD_UNSIGNED_INT]: Consts_1.TypeURL.XSD_UNSIGNED_LONG,\n    [Consts_1.TypeURL.XSD_UNSIGNED_SHORT]: Consts_1.TypeURL.XSD_UNSIGNED_INT,\n    [Consts_1.TypeURL.XSD_UNSIGNED_BYTE]: Consts_1.TypeURL.XSD_UNSIGNED_SHORT,\n    [Consts_1.TypeURL.XSD_DATE_TIME]: 'term',\n    [Consts_1.TypeURL.XSD_BOOLEAN]: 'term',\n    [Consts_1.TypeURL.XSD_DATE]: 'term',\n    [Consts_1.TypeURL.XSD_DURATION]: 'term',\n    [Consts_1.TypeAlias.SPARQL_NUMERIC]: 'term',\n    [Consts_1.TypeAlias.SPARQL_STRINGLY]: 'term',\n    [Consts_1.TypeAlias.SPARQL_NON_LEXICAL]: 'term',\n    [Consts_1.TypeURL.XSD_ANY_URI]: 'term',\n};\n/**\n * This will return the super types of a type and cache them.\n * @param type IRI we will decide the super types of.\n * @param openWorldType the enabler that provides a way to find super types.\n */\nfunction getSuperTypes(type, openWorldType) {\n    const cached = openWorldType.cache.get(type);\n    if (cached) {\n        return cached;\n    }\n    const value = openWorldType.discoverer(type);\n    if (value === 'term') {\n        const res = Object.create(null);\n        res.__depth = 0;\n        res[type] = 0;\n        openWorldType.cache.set(type, res);\n        return res;\n    }\n    let subExtension;\n    const knownValue = asKnownLiteralType(value);\n    if (knownValue) {\n        subExtension = Object.assign({}, exports.superTypeDictTable[knownValue]);\n    }\n    else {\n        subExtension = Object.assign({}, getSuperTypes(value, openWorldType));\n    }\n    subExtension.__depth++;\n    subExtension[type] = subExtension.__depth;\n    openWorldType.cache.set(type, subExtension);\n    return subExtension;\n}\nexports.getSuperTypes = getSuperTypes;\n// No circular structure allowed! & No other keys allowed!\nfunction extensionTableInit() {\n    const res = Object.create(null);\n    for (const [_key, value] of Object.entries(exports.extensionTableInput)) {\n        const key = _key;\n        if (res[key]) {\n            continue;\n        }\n        extensionTableBuilderInitKey(key, value, res);\n    }\n    exports.superTypeDictTable = res;\n}\nexports.extensionTableInit = extensionTableInit;\nextensionTableInit();\nfunction extensionTableBuilderInitKey(key, value, res) {\n    if (value === 'term' || value === undefined) {\n        const baseRes = Object.create(null);\n        baseRes.__depth = 0;\n        baseRes[key] = 0;\n        res[key] = baseRes;\n        return;\n    }\n    if (!res[value]) {\n        extensionTableBuilderInitKey(value, exports.extensionTableInput[value], res);\n    }\n    res[key] = Object.assign(Object.assign({}, res[value]), { [key]: res[value].__depth + 1, __depth: res[value].__depth + 1 });\n}\nfunction initTypeAliasCheck() {\n    exports.typeAliasCheck = Object.create(null);\n    for (const val of Object.values(Consts_1.TypeAlias)) {\n        exports.typeAliasCheck[val] = true;\n    }\n}\ninitTypeAliasCheck();\nfunction asTypeAlias(type) {\n    if (type in exports.typeAliasCheck) {\n        return type;\n    }\n    return undefined;\n}\nexports.asTypeAlias = asTypeAlias;\nfunction asKnownLiteralType(type) {\n    if (type in exports.superTypeDictTable) {\n        return type;\n    }\n    return undefined;\n}\nexports.asKnownLiteralType = asKnownLiteralType;\nfunction asOverrideType(type) {\n    if (asKnownLiteralType(type) || type === 'term') {\n        return type;\n    }\n    return undefined;\n}\nexports.asOverrideType = asOverrideType;\nfunction asGeneralType(type) {\n    if (type === 'term' || (0, expressions_1.asTermType)(type)) {\n        return type;\n    }\n    return undefined;\n}\nexports.asGeneralType = asGeneralType;\n/**\n * Internal type of @see isSubTypeOf This only takes knownTypes but doesn't need an enabler\n */\nfunction isInternalSubType(baseType, argumentType) {\n    return baseType !== 'term' &&\n        (exports.superTypeDictTable[baseType] && exports.superTypeDictTable[baseType][argumentType] !== undefined);\n}\nexports.isInternalSubType = isInternalSubType;\n/**\n * This function can be used to check the base type is a restriction on a type in the dict.\n * If we want to check if type x is a restriction on string we do this by calling:\n * 'http://www.w3.org/2001/XMLSchema#string' in getSuperTypeDict(X, superTypeProvider)\n * @param baseType\n * @param superTypeProvider\n */\nfunction getSuperTypeDict(baseType, superTypeProvider) {\n    const concreteType = asKnownLiteralType(baseType);\n    if (concreteType) {\n        // Concrete dataType is known by sparqlee.\n        return exports.superTypeDictTable[concreteType];\n    }\n    // Datatype is a custom datatype\n    return getSuperTypes(baseType, superTypeProvider);\n}\nexports.getSuperTypeDict = getSuperTypeDict;\n/**\n * This function needs do be O(1)! The execution time of this function is vital!\n * We define typeA isSubtypeOf typeA as true.\n * If you find yourself using this function a lot (e.g. in a case) please use getSuperTypeDict instead.\n * @param baseType type you want to provide.\n * @param argumentType type you want to provide @param baseType to.\n * @param superTypeProvider the enabler to discover super types of unknown types.\n */\nfunction isSubTypeOf(baseType, argumentType, superTypeProvider) {\n    if (baseType === 'term') {\n        return false;\n    }\n    return getSuperTypeDict(baseType, superTypeProvider)[argumentType] !== undefined;\n}\nexports.isSubTypeOf = isSubTypeOf;\n//# sourceMappingURL=TypeHandling.js.map","var XSD_INTEGER = 'http://www.w3.org/2001/XMLSchema#integer';\nvar XSD_STRING = 'http://www.w3.org/2001/XMLSchema#string';\n\nfunction Generator(options) {\n  this._options = options = options || {};\n\n  var prefixes = options.prefixes || {};\n  this._prefixByIri = {};\n  var prefixIris = [];\n  for (var prefix in prefixes) {\n    var iri = prefixes[prefix];\n    if (isString(iri)) {\n      this._prefixByIri[iri] = prefix;\n      prefixIris.push(iri);\n    }\n  }\n  var iriList = prefixIris.join('|').replace(/[\\]\\/\\(\\)\\*\\+\\?\\.\\\\\\$]/g, '\\\\$&');\n  this._prefixRegex = new RegExp('^(' + iriList + ')([a-zA-Z][\\\\-_a-zA-Z0-9]*)$');\n  this._usedPrefixes = {};\n  this._sparqlStar = options.sparqlStar;\n  this._indent =  isString(options.indent)  ? options.indent  : '  ';\n  this._newline = isString(options.newline) ? options.newline : '\\n';\n  this._explicitDatatype = Boolean(options.explicitDatatype);\n}\n\n// Converts the parsed query object into a SPARQL query\nGenerator.prototype.toQuery = function (q) {\n  var query = '';\n\n  if (q.queryType)\n    query += q.queryType.toUpperCase() + ' ';\n  if (q.reduced)\n    query += 'REDUCED ';\n  if (q.distinct)\n    query += 'DISTINCT ';\n\n  if (q.variables){\n    query += mapJoin(q.variables, undefined, function (variable) {\n      return isTerm(variable) ? this.toEntity(variable) :\n             '(' + this.toExpression(variable.expression) + ' AS ' + variableToString(variable.variable) + ')';\n    }, this) + ' ';\n  }\n  else if (q.template)\n    query += this.group(q.template, true) + this._newline;\n\n  if (q.from)\n    query += this.graphs('FROM ', q.from.default) + this.graphs('FROM NAMED ', q.from.named);\n  if (q.where)\n    query += 'WHERE ' + this.group(q.where, true) + this._newline;\n\n  if (q.updates)\n    query += mapJoin(q.updates, ';' + this._newline, this.toUpdate, this);\n\n  if (q.group)\n    query += 'GROUP BY ' + mapJoin(q.group, undefined, function (it) {\n      var result = isTerm(it.expression)\n        ? this.toEntity(it.expression)\n        : '(' + this.toExpression(it.expression) + ')';\n      return it.variable ? '(' + result + ' AS ' + variableToString(it.variable) + ')' : result;\n    }, this) + this._newline;\n  if (q.having)\n    query += 'HAVING (' + mapJoin(q.having, undefined, this.toExpression, this) + ')' + this._newline;\n  if (q.order)\n    query += 'ORDER BY ' + mapJoin(q.order, undefined, function (it) {\n      var expr = '(' + this.toExpression(it.expression) + ')';\n      return !it.descending ? expr : 'DESC ' + expr;\n    }, this) + this._newline;\n\n  if (q.offset)\n    query += 'OFFSET ' + q.offset + this._newline;\n  if (q.limit)\n    query += 'LIMIT ' + q.limit + this._newline;\n\n  if (q.values)\n    query += this.values(q);\n\n  // stringify prefixes at the end to mark used ones\n  query = this.baseAndPrefixes(q) + query;\n  return query.trim();\n};\n\nGenerator.prototype.baseAndPrefixes = function (q) {\n  var base = q.base ? ('BASE <' + q.base + '>' + this._newline) : '';\n  var prefixes = '';\n  for (var key in q.prefixes) {\n    if (this._options.allPrefixes || this._usedPrefixes[key])\n      prefixes += 'PREFIX ' + key + ': <' + q.prefixes[key] + '>' + this._newline;\n  }\n  return base + prefixes;\n};\n\n// Converts the parsed SPARQL pattern into a SPARQL pattern\nGenerator.prototype.toPattern = function (pattern) {\n  var type = pattern.type || (pattern instanceof Array) && 'array' ||\n             (pattern.subject && pattern.predicate && pattern.object ? 'triple' : '');\n  if (!(type in this))\n    throw new Error('Unknown entry type: ' + type);\n  return this[type](pattern);\n};\n\nGenerator.prototype.triple = function (t) {\n  return this.toEntity(t.subject) + ' ' + this.toEntity(t.predicate) + ' ' + this.toEntity(t.object) + '.';\n};\n\nGenerator.prototype.array = function (items) {\n  return mapJoin(items, this._newline, this.toPattern, this);\n};\n\nGenerator.prototype.bgp = function (bgp) {\n  return this.encodeTriples(bgp.triples);\n};\n\nGenerator.prototype.encodeTriples = function (triples) {\n  if (!triples.length)\n    return '';\n\n  var parts = [], subject = undefined, predicate = undefined;\n  for (var i = 0; i < triples.length; i++) {\n    var triple = triples[i];\n    // Triple with different subject\n    if (!equalTerms(triple.subject, subject)) {\n      // Terminate previous triple\n      if (subject)\n        parts.push('.' + this._newline);\n      subject = triple.subject;\n      predicate = triple.predicate;\n      parts.push(this.toEntity(subject), ' ', this.toEntity(predicate));\n    }\n    // Triple with same subject but different predicate\n    else if (!equalTerms(triple.predicate, predicate)) {\n      predicate = triple.predicate;\n      parts.push(';' + this._newline, this._indent, this.toEntity(predicate));\n    }\n    // Triple with same subject and predicate\n    else {\n      parts.push(',');\n    }\n    parts.push(' ', this.toEntity(triple.object));\n  }\n  parts.push('.');\n\n  return parts.join('');\n}\n\nGenerator.prototype.graph = function (graph) {\n  return 'GRAPH ' + this.toEntity(graph.name) + ' ' + this.group(graph);\n};\n\nGenerator.prototype.graphs = function (keyword, graphs) {\n  return !graphs || graphs.length === 0 ? '' :\n    mapJoin(graphs, '', function (g) { return keyword + this.toEntity(g) + this._newline; }, this)\n}\n\nGenerator.prototype.group = function (group, inline) {\n  group = inline !== true ? this.array(group.patterns || group.triples)\n                          : this.toPattern(group.type !== 'group' ? group : group.patterns);\n  return group.indexOf(this._newline) === -1 ? '{ ' + group + ' }' : '{' + this._newline + this.indent(group) + this._newline + '}';\n};\n\nGenerator.prototype.query = function (query) {\n  return this.toQuery(query);\n};\n\nGenerator.prototype.filter = function (filter) {\n  return 'FILTER(' + this.toExpression(filter.expression) + ')';\n};\n\nGenerator.prototype.bind = function (bind) {\n  return 'BIND(' + this.toExpression(bind.expression) + ' AS ' + variableToString(bind.variable) + ')';\n};\n\nGenerator.prototype.optional = function (optional) {\n  return 'OPTIONAL ' + this.group(optional);\n};\n\nGenerator.prototype.union = function (union) {\n  return mapJoin(union.patterns, this._newline + 'UNION' + this._newline, function (p) { return this.group(p, true); }, this);\n};\n\nGenerator.prototype.minus = function (minus) {\n  return 'MINUS ' + this.group(minus);\n};\n\nGenerator.prototype.values = function (valuesList) {\n  // Gather unique keys\n  var keys = Object.keys(valuesList.values.reduce(function (keyHash, values) {\n    for (var key in values) keyHash[key] = true;\n    return keyHash;\n  }, {}));\n  // Check whether simple syntax can be used\n  var lparen, rparen;\n  if (keys.length === 1) {\n    lparen = rparen = '';\n  } else {\n    lparen = '(';\n    rparen = ')';\n  }\n  // Create value rows\n  return 'VALUES ' + lparen + keys.join(' ') + rparen + ' {' + this._newline +\n    mapJoin(valuesList.values, this._newline, function (values) {\n      return '  ' + lparen + mapJoin(keys, undefined, function (key) {\n        return values[key] ? this.toEntity(values[key]) : 'UNDEF';\n      }, this) + rparen;\n    }, this) + this._newline + '}';\n};\n\nGenerator.prototype.service = function (service) {\n  return 'SERVICE ' + (service.silent ? 'SILENT ' : '') + this.toEntity(service.name) + ' ' +\n         this.group(service);\n};\n\n// Converts the parsed expression object into a SPARQL expression\nGenerator.prototype.toExpression = function (expr) {\n  if (isTerm(expr)) {\n    return this.toEntity(expr);\n  }\n  switch (expr.type.toLowerCase()) {\n    case 'aggregate':\n      return expr.aggregation.toUpperCase() +\n             '(' + (expr.distinct ? 'DISTINCT ' : '') + this.toExpression(expr.expression) +\n             (expr.separator ? '; SEPARATOR = ' + '\"' + expr.separator.replace(escape, escapeReplacer) + '\"' : '') + ')';\n    case 'functioncall':\n      return this.toEntity(expr.function) + '(' + mapJoin(expr.args, ', ', this.toExpression, this) + ')';\n    case 'operation':\n      var operator = expr.operator.toUpperCase(), args = expr.args || [];\n      switch (expr.operator.toLowerCase()) {\n      // Infix operators\n      case '<':\n      case '>':\n      case '>=':\n      case '<=':\n      case '&&':\n      case '||':\n      case '=':\n      case '!=':\n      case '+':\n      case '-':\n      case '*':\n      case '/':\n          return (isTerm(args[0]) ? this.toEntity(args[0]) : '(' + this.toExpression(args[0]) + ')') +\n                 ' ' + operator + ' ' +\n                 (isTerm(args[1]) ? this.toEntity(args[1]) : '(' + this.toExpression(args[1]) + ')');\n      // Unary operators\n      case '!':\n        return '!(' + this.toExpression(args[0]) + ')';\n      case 'uplus':\n        return '+(' + this.toExpression(args[0]) + ')';\n      case 'uminus':\n        return '-(' + this.toExpression(args[0]) + ')';\n      // IN and NOT IN\n      case 'notin':\n        operator = 'NOT IN';\n      case 'in':\n        return this.toExpression(args[0]) + ' ' + operator +\n               '(' + (isString(args[1]) ? args[1] : mapJoin(args[1], ', ', this.toExpression, this)) + ')';\n      // EXISTS and NOT EXISTS\n      case 'notexists':\n        operator = 'NOT EXISTS';\n      case 'exists':\n        return operator + ' ' + this.group(args[0], true);\n      // Other expressions\n      default:\n        return operator + '(' + mapJoin(args, ', ', this.toExpression, this) + ')';\n      }\n    default:\n      throw new Error('Unknown expression type: ' + expr.type);\n  }\n};\n\n// Converts the parsed entity (or property path) into a SPARQL entity\nGenerator.prototype.toEntity = function (value) {\n  if (isTerm(value)) {\n    switch (value.termType) {\n    // variable, * selector, or blank node\n    case 'Wildcard':\n      return '*';\n    case 'Variable':\n      return variableToString(value);\n    case 'BlankNode':\n      return '_:' + value.value;\n    // literal\n    case 'Literal':\n      var lexical = value.value || '', language = value.language || '', datatype = value.datatype;\n      value = '\"' + lexical.replace(escape, escapeReplacer) + '\"';\n      if (language){\n        value += '@' + language;\n      } else if (datatype) {\n        // Abbreviate literals when possible\n        if (!this._explicitDatatype) {\n          switch (datatype.value) {\n          case XSD_STRING:\n            return value;\n          case XSD_INTEGER:\n            if (/^\\d+$/.test(lexical))\n              // Add space to avoid confusion with decimals in broken parsers\n              return lexical + ' ';\n          }\n        }\n        value += '^^' + this.encodeIRI(datatype.value);\n      }\n      return value;\n    case 'Quad':\n      if (!this._sparqlStar)\n          throw new Error('SPARQL* support is not enabled');\n\n      if (value.graph && value.graph.termType !== \"DefaultGraph\") {\n        return '<< GRAPH ' +\n          this.toEntity(value.graph) +\n          ' { ' +\n          this.toEntity(value.subject) + ' ' +\n          this.toEntity(value.predicate) + ' ' +\n          this.toEntity(value.object) +\n          ' } ' +\n          ' >>'\n      }\n      else {\n        return (\n          '<< ' +\n          this.toEntity(value.subject) + ' ' +\n          this.toEntity(value.predicate) + ' ' +\n          this.toEntity(value.object) +\n          ' >>'\n        );\n      }\n    // IRI\n    default:\n      return this.encodeIRI(value.value);\n    }\n  }\n  // property path\n  else {\n    var items = value.items.map(this.toEntity, this), path = value.pathType;\n    switch (path) {\n    // prefix operator\n    case '^':\n    case '!':\n      return path + items[0];\n    // postfix operator\n    case '*':\n    case '+':\n    case '?':\n      return '(' + items[0] + path + ')';\n    // infix operator\n    default:\n      return '(' + items.join(path) + ')';\n    }\n  }\n};\nvar escape = /[\"\\\\\\t\\n\\r\\b\\f]/g,\n    escapeReplacer = function (c) { return escapeReplacements[c]; },\n    escapeReplacements = { '\\\\': '\\\\\\\\', '\"': '\\\\\"', '\\t': '\\\\t',\n                           '\\n': '\\\\n', '\\r': '\\\\r', '\\b': '\\\\b', '\\f': '\\\\f' };\n\n// Represent the IRI, as a prefixed name when possible\nGenerator.prototype.encodeIRI = function (iri) {\n  var prefixMatch = this._prefixRegex.exec(iri);\n  if (prefixMatch) {\n    var prefix = this._prefixByIri[prefixMatch[1]];\n    this._usedPrefixes[prefix] = true;\n    return prefix + ':' + prefixMatch[2];\n  }\n  return '<' + iri + '>';\n};\n\n// Converts the parsed update object into a SPARQL update clause\nGenerator.prototype.toUpdate = function (update) {\n  switch (update.type || update.updateType) {\n  case 'load':\n    return 'LOAD' + (update.source ? ' ' + this.toEntity(update.source) : '') +\n           (update.destination ? ' INTO GRAPH ' + this.toEntity(update.destination) : '');\n  case 'insert':\n    return 'INSERT DATA '  + this.group(update.insert, true);\n  case 'delete':\n    return 'DELETE DATA '  + this.group(update.delete, true);\n  case 'deletewhere':\n    return 'DELETE WHERE ' + this.group(update.delete, true);\n  case 'insertdelete':\n    return (update.graph ? 'WITH ' + this.toEntity(update.graph) + this._newline : '') +\n           (update.delete.length ? 'DELETE ' + this.group(update.delete, true) + this._newline : '') +\n           (update.insert.length ? 'INSERT ' + this.group(update.insert, true) + this._newline : '') +\n           (update.using ? this.graphs('USING ', update.using.default) : '') +\n           (update.using ? this.graphs('USING NAMED ', update.using.named) : '') +\n           'WHERE ' + this.group(update.where, true);\n  case 'add':\n  case 'copy':\n  case 'move':\n    return update.type.toUpperCase()+ ' ' +  (update.silent ? 'SILENT ' : '') + (update.source.default ? 'DEFAULT' : this.toEntity(update.source.name)) +\n           ' TO ' + this.toEntity(update.destination.name);\n  case 'create':\n  case 'clear':\n  case 'drop':\n    return update.type.toUpperCase() + (update.silent ? ' SILENT ' : ' ') + (\n      update.graph.default ? 'DEFAULT' :\n      update.graph.named ? 'NAMED' :\n      update.graph.all ? 'ALL' :\n      ('GRAPH ' + this.toEntity(update.graph.name))\n    );\n  default:\n    throw new Error('Unknown update query type: ' + update.type);\n  }\n};\n\n// Indents each line of the string\nGenerator.prototype.indent = function(text) { return text.replace(/^/gm, this._indent); }\n\nfunction variableToString(variable){\n  return '?' + variable.value;\n}\n\n// Checks whether the object is a string\nfunction isString(object) { return typeof object === 'string'; }\n\n// Checks whether the object is a Term\nfunction isTerm(object) {\n  return typeof object.termType === 'string';\n}\n\n// Checks whether term1 and term2 are equivalent without `.equals()` prototype method\nfunction equalTerms(term1, term2) {\n  if (!term1 || !isTerm(term1)) { return false; }\n  if (!term2 || !isTerm(term2)) { return false; }\n  if (term1.termType !== term2.termType) { return false; }\n  switch (term1.termType) {\n    case 'Literal':\n      return term1.value === term2.value\n          && term1.language === term2.language\n          && equalTerms(term1.datatype, term2.datatype);\n    case 'Quad':\n      return equalTerms(term1.subject, term2.subject)\n          && equalTerms(term1.predicate, term2.predicate)\n          && equalTerms(term1.object, term2.object)\n          && equalTerms(term1.graph, term2.graph);\n    default:\n      return term1.value === term2.value;\n  }\n}\n\n// Maps the array with the given function, and joins the results using the separator\nfunction mapJoin(array, sep, func, self) {\n  return array.map(func, self).join(isString(sep) ? sep : ' ');\n}\n\n/**\n * @param options {\n *   allPrefixes: boolean,\n *   indentation: string,\n *   newline: string\n * }\n */\nmodule.exports = function SparqlGenerator(options = {}) {\n  return {\n    stringify: function (query) {\n      var currentOptions = Object.create(options);\n      currentOptions.prefixes = query.prefixes;\n      return new Generator(currentOptions).toQuery(query);\n    },\n    createGenerator: function() { return new Generator(options); }\n  };\n};\n","/* parser generated by jison 0.4.18 */\n/*\n  Returns a Parser object of the following structure:\n\n  Parser: {\n    yy: {}\n  }\n\n  Parser.prototype: {\n    yy: {},\n    trace: function(),\n    symbols_: {associative list: name ==> number},\n    terminals_: {associative list: number ==> name},\n    productions_: [...],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n    table: [...],\n    defaultActions: {...},\n    parseError: function(str, hash),\n    parse: function(input),\n\n    lexer: {\n        EOF: 1,\n        parseError: function(str, hash),\n        setInput: function(input),\n        input: function(),\n        unput: function(str),\n        more: function(),\n        less: function(n),\n        pastInput: function(),\n        upcomingInput: function(),\n        showPosition: function(),\n        test_match: function(regex_match_array, rule_index),\n        next: function(),\n        lex: function(),\n        begin: function(condition),\n        popState: function(),\n        _currentRules: function(),\n        topState: function(),\n        pushState: function(condition),\n\n        options: {\n            ranges: boolean           (optional: true ==> token location info will include a .range[] member)\n            flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n            backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n        },\n\n        performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n        rules: [...],\n        conditions: {associative list: name ==> set},\n    }\n  }\n\n\n  token location info (@$, _$, etc.): {\n    first_line: n,\n    last_line: n,\n    first_column: n,\n    last_column: n,\n    range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n  }\n\n\n  the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n    text:        (matched text)\n    token:       (the produced terminal token, if any)\n    line:        (yylineno)\n  }\n  while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n    loc:         (yylloc)\n    expected:    (string describing the set of expected tokens)\n    recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n  }\n*/\nvar SparqlParser = (function(){\nvar o=function(k,v,o,l){for(o=o||{},l=k.length;l--;o[k[l]]=v);return o},$V0=[6,12,15,28,41,50,55,107,117,120,122,123,132,133,138,322,323,324,325,326],$V1=[2,210],$V2=[107,117,120,122,123,132,133,138,322,323,324,325,326],$V3=[1,20],$V4=[1,29],$V5=[6,90],$V6=[45,46,58],$V7=[45,58],$V8=[1,58],$V9=[1,60],$Va=[1,56],$Vb=[1,59],$Vc=[1,65],$Vd=[1,66],$Ve=[26,34,35],$Vf=[13,16,312],$Vg=[119,141,320,327],$Vh=[13,16,119,141,312],$Vi=[1,88],$Vj=[1,92],$Vk=[1,94],$Vl=[119,141,320,321,327],$Vm=[13,16,119,141,312,321],$Vn=[1,100],$Vo=[2,252],$Vp=[1,99],$Vq=[13,16,34,35,87,93,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312],$Vr=[6,45,46,58,68,75,78,86,88,90],$Vs=[6,13,16,34,45,46,58,68,75,78,86,88,90,312],$Vt=[6,13,16,26,34,35,37,38,45,46,48,58,68,75,78,86,87,88,90,93,100,116,119,132,133,135,140,167,168,170,173,174,191,195,219,224,226,227,231,235,245,246,250,254,258,271,273,278,295,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328,330,331,333,334,335,336,337,338,339],$Vu=[34,35,45,46,58],$Vv=[1,131],$Vw=[1,132],$Vx=[1,143],$Vy=[1,123],$Vz=[1,117],$VA=[1,122],$VB=[1,124],$VC=[1,134],$VD=[1,135],$VE=[1,136],$VF=[1,137],$VG=[1,139],$VH=[1,140],$VI=[2,460],$VJ=[1,149],$VK=[1,150],$VL=[1,151],$VM=[1,144],$VN=[1,145],$VO=[1,148],$VP=[1,158],$VQ=[1,159],$VR=[1,160],$VS=[1,161],$VT=[1,162],$VU=[1,163],$VV=[1,164],$VW=[1,165],$VX=[1,166],$VY=[1,167],$VZ=[1,157],$V_=[1,152],$V$=[1,153],$V01=[1,154],$V11=[1,155],$V21=[1,156],$V31=[6,13,16,34,35,46,48,87,90,93,119,167,168,170,173,174,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],$V41=[2,311],$V51=[1,184],$V61=[1,182],$V71=[6,191],$V81=[2,328],$V91=[2,316],$Va1=[45,135],$Vb1=[6,48,78,86,88,90],$Vc1=[2,256],$Vd1=[1,198],$Ve1=[1,200],$Vf1=[6,48,75,78,86,88,90],$Vg1=[2,254],$Vh1=[1,206],$Vi1=[1,218],$Vj1=[1,216],$Vk1=[1,224],$Vl1=[1,217],$Vm1=[1,222],$Vn1=[1,223],$Vo1=[6,68,75,78,86,88,90],$Vp1=[37,38,191,250,278],$Vq1=[37,38,191,250,254,278],$Vr1=[37,38,191,250,254,258,271,273,278,295,306,307,308,309,310,311,334,335,336,337,338,339],$Vs1=[26,37,38,191,250,254,258,271,273,278,295,306,307,308,309,310,311,331,334,335,336,337,338,339],$Vt1=[1,252],$Vu1=[1,251],$Vv1=[6,13,16,26,34,35,37,38,46,48,75,78,81,83,86,87,88,90,93,119,167,168,170,173,174,191,226,231,245,246,250,254,258,271,273,275,276,277,278,279,281,282,284,285,288,290,295,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328,331,334,335,336,337,338,339,340,341,342,343,344],$Vw1=[1,260],$Vx1=[1,259],$Vy1=[13,16,26,34,35,37,38,46,48,87,90,93,100,119,167,168,170,173,174,191,195,219,224,226,227,231,235,245,246,250,254,258,271,273,278,295,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328,331,334,335,336,337,338,339],$Vz1=[35,93],$VA1=[13,16,26,34,35,37,38,46,48,87,90,93,100,119,167,168,170,173,174,191,195,219,224,226,227,231,235,245,246,250,254,258,271,273,278,295,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328,331,334,335,336,337,338,339],$VB1=[13,16,48,87,100,231,299,300,301,302,303,304,305,306,307,308,309,310,311,312],$VC1=[48,93],$VD1=[34,38],$VE1=[6,116,191],$VF1=[48,119],$VG1=[6,48,86,88,90],$VH1=[2,340],$VI1=[2,332],$VJ1=[1,312],$VK1=[1,314],$VL1=[48,119,328],$VM1=[13,16,34,195,312],$VN1=[13,16,34,35,38,46,48,87,90,93,119,167,168,170,173,174,191,195,219,224,226,227,231,235,245,246,278,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],$VO1=[13,16,34,35,87,219,271,273,275,276,277,279,281,282,284,285,288,290,299,300,301,302,303,304,305,306,307,308,309,310,311,312,339,340,341,342,343,344],$VP1=[1,346],$VQ1=[1,347],$VR1=[13,16,26,34,35,87,219,271,273,275,276,277,279,281,282,284,285,288,290,299,300,301,302,303,304,305,306,307,308,309,310,311,312,339,340,341,342,343,344],$VS1=[1,370],$VT1=[1,371],$VU1=[1,384],$VV1=[6,48,90],$VW1=[6,13,16,35,48,78,86,88,90,275,276,277,279,281,282,284,285,288,290,312,339,340,341,342,343,344],$VX1=[6,13,16,34,35,46,48,78,81,83,86,87,88,90,93,119,167,168,170,173,174,226,231,245,246,275,276,277,279,281,282,284,285,288,290,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328,339,340,341,342,343,344],$VY1=[46,48,90,119,167,168,170,173,174],$VZ1=[1,403],$V_1=[1,404],$V$1=[1,410],$V02=[1,409],$V12=[48,119,191,227,328],$V22=[13,16,34,35,38,87,93,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312],$V32=[13,16,34,35,38,48,87,93,119,191,226,227,231,245,246,278,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],$V42=[13,16,38,48,87,100,231,299,300,301,302,303,304,305,306,307,308,309,310,311,312],$V52=[35,48],$V62=[2,331],$V72=[1,463],$V82=[1,460],$V92=[1,461],$Va2=[6,13,16,26,34,35,37,38,46,48,68,75,78,81,83,86,87,88,90,93,119,167,168,170,173,174,191,226,231,245,246,250,254,258,271,273,275,276,277,278,279,281,282,284,285,288,290,295,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328,329,331,334,335,336,337,338,339,340,341,342,343,344],$Vb2=[13,16,35,195,219,224,312],$Vc2=[2,388],$Vd2=[1,481],$Ve2=[46,48,90,119,167,168,170,173,174,328],$Vf2=[13,16,34,35,195,219,224,312],$Vg2=[6,13,16,34,35,48,75,78,86,88,90,275,276,277,279,281,282,284,285,288,290,312,339,340,341,342,343,344],$Vh2=[13,16,34,35,38,48,87,93,119,191,195,226,227,231,245,246,278,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],$Vi2=[6,13,16,34,35,48,81,83,86,88,90,275,276,277,279,281,282,284,285,288,290,312,339,340,341,342,343,344],$Vj2=[13,16,34,35,46,48,87,90,93,119,167,168,170,173,174,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312],$Vk2=[13,16,34,312],$Vl2=[13,16,34,35,46,48,87,90,93,119,167,168,170,173,174,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],$Vm2=[2,343],$Vn2=[13,16,34,35,38,46,48,87,90,93,119,167,168,170,173,174,191,226,227,231,245,246,278,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],$Vo2=[13,16,34,35,37,38,46,48,87,90,93,119,167,168,170,173,174,191,195,219,224,226,227,231,235,245,246,278,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],$Vp2=[2,338],$Vq2=[13,16,35,195,219,312],$Vr2=[13,16,34,35,38,46,48,87,90,93,119,167,168,170,173,174,191,195,219,224,226,227,231,245,246,278,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],$Vs2=[13,16,38,87,100,231,299,300,301,302,303,304,305,306,307,308,309,310,311,312],$Vt2=[46,48,90,119,167,168,170,173,174,191,227,328],$Vu2=[13,16,34,38,48,87,100,195,231,235,299,300,301,302,303,304,305,306,307,308,309,310,311,312],$Vv2=[13,16,34,35,48,87,93,119,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312],$Vw2=[13,16,34,35,38,87,93,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312,330,331],$Vx2=[13,16,26,34,35,38,87,93,226,231,245,246,271,299,300,301,302,303,304,305,306,307,308,309,310,311,312,330,331,333],$Vy2=[1,632],$Vz2=[1,633],$VA2=[2,326],$VB2=[13,16,38,195,224,312];\nvar parser = {trace: function trace () { },\nyy: {},\nsymbols_: {\"error\":2,\"QueryOrUpdate\":3,\"Prologue\":4,\"QueryOrUpdate_group0\":5,\"EOF\":6,\"Prologue_repetition0\":7,\"Query\":8,\"Query_group0\":9,\"Query_option0\":10,\"BaseDecl\":11,\"BASE\":12,\"IRIREF\":13,\"PrefixDecl\":14,\"PREFIX\":15,\"PNAME_NS\":16,\"SelectQuery\":17,\"SelectClauseWildcard\":18,\"SelectQuery_repetition0\":19,\"WhereClause\":20,\"SolutionModifierNoGroup\":21,\"SelectClauseVars\":22,\"SelectQuery_repetition1\":23,\"SolutionModifier\":24,\"SelectClauseBase\":25,\"*\":26,\"SelectClauseVars_repetition_plus0\":27,\"SELECT\":28,\"SelectClauseBase_option0\":29,\"SubSelect\":30,\"SubSelect_option0\":31,\"SubSelect_option1\":32,\"SelectClauseItem\":33,\"VAR\":34,\"(\":35,\"Expression\":36,\"AS\":37,\")\":38,\"VarTriple\":39,\"ConstructQuery\":40,\"CONSTRUCT\":41,\"ConstructTemplate\":42,\"ConstructQuery_repetition0\":43,\"ConstructQuery_repetition1\":44,\"WHERE\":45,\"{\":46,\"ConstructQuery_option0\":47,\"}\":48,\"DescribeQuery\":49,\"DESCRIBE\":50,\"DescribeQuery_group0\":51,\"DescribeQuery_repetition0\":52,\"DescribeQuery_option0\":53,\"AskQuery\":54,\"ASK\":55,\"AskQuery_repetition0\":56,\"DatasetClause\":57,\"FROM\":58,\"DatasetClause_option0\":59,\"iri\":60,\"WhereClause_option0\":61,\"GroupGraphPattern\":62,\"SolutionModifier_option0\":63,\"SolutionModifierNoGroup_option0\":64,\"SolutionModifierNoGroup_option1\":65,\"SolutionModifierNoGroup_option2\":66,\"GroupClause\":67,\"GROUP\":68,\"BY\":69,\"GroupClause_repetition_plus0\":70,\"GroupCondition\":71,\"BuiltInCall\":72,\"FunctionCall\":73,\"HavingClause\":74,\"HAVING\":75,\"HavingClause_repetition_plus0\":76,\"OrderClause\":77,\"ORDER\":78,\"OrderClause_repetition_plus0\":79,\"OrderCondition\":80,\"ASC\":81,\"BrackettedExpression\":82,\"DESC\":83,\"Constraint\":84,\"LimitOffsetClauses\":85,\"LIMIT\":86,\"INTEGER\":87,\"OFFSET\":88,\"ValuesClause\":89,\"VALUES\":90,\"InlineData\":91,\"InlineData_repetition0\":92,\"NIL\":93,\"InlineData_repetition1\":94,\"InlineData_repetition_plus2\":95,\"InlineData_repetition3\":96,\"DataBlockValue\":97,\"Literal\":98,\"ConstTriple\":99,\"UNDEF\":100,\"DataBlockValueList\":101,\"DataBlockValueList_repetition_plus0\":102,\"Update\":103,\"Update_repetition0\":104,\"Update1\":105,\"Update_option0\":106,\"LOAD\":107,\"Update1_option0\":108,\"Update1_option1\":109,\"Update1_group0\":110,\"Update1_option2\":111,\"GraphRefAll\":112,\"Update1_group1\":113,\"Update1_option3\":114,\"GraphOrDefault\":115,\"TO\":116,\"CREATE\":117,\"Update1_option4\":118,\"GRAPH\":119,\"INSERTDATA\":120,\"QuadPattern\":121,\"DELETEDATA\":122,\"DELETEWHERE\":123,\"Update1_option5\":124,\"InsertClause\":125,\"Update1_option6\":126,\"Update1_repetition0\":127,\"Update1_option7\":128,\"DeleteClause\":129,\"Update1_option8\":130,\"Update1_repetition1\":131,\"DELETE\":132,\"INSERT\":133,\"UsingClause\":134,\"USING\":135,\"UsingClause_option0\":136,\"WithClause\":137,\"WITH\":138,\"IntoGraphClause\":139,\"INTO\":140,\"DEFAULT\":141,\"GraphOrDefault_option0\":142,\"GraphRefAll_group0\":143,\"QuadPattern_option0\":144,\"QuadPattern_repetition0\":145,\"QuadsNotTriples\":146,\"QuadsNotTriples_group0\":147,\"QuadsNotTriples_option0\":148,\"QuadsNotTriples_option1\":149,\"QuadsNotTriples_option2\":150,\"TriplesTemplate\":151,\"TriplesTemplate_repetition0\":152,\"TriplesSameSubject\":153,\"TriplesTemplate_option0\":154,\"GroupGraphPatternSub\":155,\"GroupGraphPatternSub_option0\":156,\"GroupGraphPatternSub_repetition0\":157,\"GroupGraphPatternSubTail\":158,\"GraphPatternNotTriples\":159,\"GroupGraphPatternSubTail_option0\":160,\"GroupGraphPatternSubTail_option1\":161,\"TriplesBlock\":162,\"TriplesBlock_repetition0\":163,\"TriplesSameSubjectPath\":164,\"TriplesBlock_option0\":165,\"GraphPatternNotTriples_repetition0\":166,\"OPTIONAL\":167,\"MINUS\":168,\"GraphPatternNotTriples_group0\":169,\"SERVICE\":170,\"GraphPatternNotTriples_option0\":171,\"GraphPatternNotTriples_group1\":172,\"FILTER\":173,\"BIND\":174,\"FunctionCall_option0\":175,\"FunctionCall_repetition0\":176,\"ExpressionList\":177,\"ExpressionList_repetition0\":178,\"ConstructTemplate_option0\":179,\"ConstructTriples\":180,\"ConstructTriples_repetition0\":181,\"ConstructTriples_option0\":182,\"TriplesSameSubject_group0\":183,\"PropertyListNotEmpty\":184,\"TriplesNode\":185,\"PropertyList\":186,\"PropertyList_option0\":187,\"VerbObjectList\":188,\"PropertyListNotEmpty_repetition0\":189,\"SemiOptionalVerbObjectList\":190,\";\":191,\"SemiOptionalVerbObjectList_option0\":192,\"Verb\":193,\"ObjectList\":194,\"a\":195,\"ObjectList_repetition0\":196,\"GraphNode\":197,\"ObjectListPath\":198,\"ObjectListPath_repetition0\":199,\"GraphNodePath\":200,\"TriplesSameSubjectPath_group0\":201,\"PropertyListPathNotEmpty\":202,\"TriplesNodePath\":203,\"TriplesSameSubjectPath_option0\":204,\"PropertyListPathNotEmpty_group0\":205,\"PropertyListPathNotEmpty_repetition0\":206,\"PropertyListPathNotEmpty_repetition1\":207,\"PropertyListPathNotEmptyTail\":208,\"PropertyListPathNotEmptyTail_group0\":209,\"Path\":210,\"Path_repetition0\":211,\"PathSequence\":212,\"PathSequence_repetition0\":213,\"PathEltOrInverse\":214,\"PathElt\":215,\"PathPrimary\":216,\"PathElt_option0\":217,\"PathEltOrInverse_option0\":218,\"!\":219,\"PathNegatedPropertySet\":220,\"PathOneInPropertySet\":221,\"PathNegatedPropertySet_repetition0\":222,\"PathNegatedPropertySet_option0\":223,\"^\":224,\"TriplesNode_repetition_plus0\":225,\"[\":226,\"]\":227,\"TriplesNodePath_repetition_plus0\":228,\"GraphNode_group0\":229,\"GraphNodePath_group0\":230,\"<<\":231,\"VarTriple_group0\":232,\"VarTriple_group1\":233,\"VarTriple_group2\":234,\">>\":235,\"VarTriple_group3\":236,\"VarTriple_group4\":237,\"ConstTriple_group0\":238,\"ConstTriple_group1\":239,\"ConstTriple_group2\":240,\"ConstTriple_group3\":241,\"ConstTriple_group4\":242,\"VarOrTerm\":243,\"Term\":244,\"BLANK_NODE_LABEL\":245,\"ANON\":246,\"ConditionalAndExpression\":247,\"Expression_repetition0\":248,\"ExpressionTail\":249,\"||\":250,\"RelationalExpression\":251,\"ConditionalAndExpression_repetition0\":252,\"ConditionalAndExpressionTail\":253,\"&&\":254,\"AdditiveExpression\":255,\"RelationalExpression_group0\":256,\"RelationalExpression_option0\":257,\"IN\":258,\"MultiplicativeExpression\":259,\"AdditiveExpression_repetition0\":260,\"AdditiveExpressionTail\":261,\"AdditiveExpressionTail_group0\":262,\"NumericLiteralPositive\":263,\"AdditiveExpressionTail_repetition0\":264,\"NumericLiteralNegative\":265,\"AdditiveExpressionTail_repetition1\":266,\"UnaryExpression\":267,\"MultiplicativeExpression_repetition0\":268,\"MultiplicativeExpressionTail\":269,\"MultiplicativeExpressionTail_group0\":270,\"+\":271,\"PrimaryExpression\":272,\"-\":273,\"Aggregate\":274,\"FUNC_ARITY0\":275,\"FUNC_ARITY1\":276,\"FUNC_ARITY2\":277,\",\":278,\"IF\":279,\"BuiltInCall_group0\":280,\"BOUND\":281,\"BNODE\":282,\"BuiltInCall_option0\":283,\"EXISTS\":284,\"COUNT\":285,\"Aggregate_option0\":286,\"Aggregate_group0\":287,\"FUNC_AGGREGATE\":288,\"Aggregate_option1\":289,\"GROUP_CONCAT\":290,\"Aggregate_option2\":291,\"Aggregate_option3\":292,\"GroupConcatSeparator\":293,\"SEPARATOR\":294,\"=\":295,\"String\":296,\"LANGTAG\":297,\"^^\":298,\"DECIMAL\":299,\"DOUBLE\":300,\"BOOLEAN\":301,\"STRING_LITERAL1\":302,\"STRING_LITERAL2\":303,\"STRING_LITERAL_LONG1\":304,\"STRING_LITERAL_LONG2\":305,\"INTEGER_POSITIVE\":306,\"DECIMAL_POSITIVE\":307,\"DOUBLE_POSITIVE\":308,\"INTEGER_NEGATIVE\":309,\"DECIMAL_NEGATIVE\":310,\"DOUBLE_NEGATIVE\":311,\"PNAME_LN\":312,\"QueryOrUpdate_group0_option0\":313,\"Prologue_repetition0_group0\":314,\"SelectClauseBase_option0_group0\":315,\"DISTINCT\":316,\"REDUCED\":317,\"DescribeQuery_group0_repetition_plus0_group0\":318,\"DescribeQuery_group0_repetition_plus0\":319,\"NAMED\":320,\"SILENT\":321,\"CLEAR\":322,\"DROP\":323,\"ADD\":324,\"MOVE\":325,\"COPY\":326,\"ALL\":327,\".\":328,\"UNION\":329,\"|\":330,\"/\":331,\"PathElt_option0_group0\":332,\"?\":333,\"!=\":334,\"<\":335,\">\":336,\"<=\":337,\">=\":338,\"NOT\":339,\"CONCAT\":340,\"COALESCE\":341,\"SUBSTR\":342,\"REGEX\":343,\"REPLACE\":344,\"$accept\":0,\"$end\":1},\nterminals_: {2:\"error\",6:\"EOF\",12:\"BASE\",13:\"IRIREF\",15:\"PREFIX\",16:\"PNAME_NS\",26:\"*\",28:\"SELECT\",34:\"VAR\",35:\"(\",37:\"AS\",38:\")\",41:\"CONSTRUCT\",45:\"WHERE\",46:\"{\",48:\"}\",50:\"DESCRIBE\",55:\"ASK\",58:\"FROM\",68:\"GROUP\",69:\"BY\",75:\"HAVING\",78:\"ORDER\",81:\"ASC\",83:\"DESC\",86:\"LIMIT\",87:\"INTEGER\",88:\"OFFSET\",90:\"VALUES\",93:\"NIL\",100:\"UNDEF\",107:\"LOAD\",116:\"TO\",117:\"CREATE\",119:\"GRAPH\",120:\"INSERTDATA\",122:\"DELETEDATA\",123:\"DELETEWHERE\",132:\"DELETE\",133:\"INSERT\",135:\"USING\",138:\"WITH\",140:\"INTO\",141:\"DEFAULT\",167:\"OPTIONAL\",168:\"MINUS\",170:\"SERVICE\",173:\"FILTER\",174:\"BIND\",191:\";\",195:\"a\",219:\"!\",224:\"^\",226:\"[\",227:\"]\",231:\"<<\",235:\">>\",245:\"BLANK_NODE_LABEL\",246:\"ANON\",250:\"||\",254:\"&&\",258:\"IN\",271:\"+\",273:\"-\",275:\"FUNC_ARITY0\",276:\"FUNC_ARITY1\",277:\"FUNC_ARITY2\",278:\",\",279:\"IF\",281:\"BOUND\",282:\"BNODE\",284:\"EXISTS\",285:\"COUNT\",288:\"FUNC_AGGREGATE\",290:\"GROUP_CONCAT\",294:\"SEPARATOR\",295:\"=\",297:\"LANGTAG\",298:\"^^\",299:\"DECIMAL\",300:\"DOUBLE\",301:\"BOOLEAN\",302:\"STRING_LITERAL1\",303:\"STRING_LITERAL2\",304:\"STRING_LITERAL_LONG1\",305:\"STRING_LITERAL_LONG2\",306:\"INTEGER_POSITIVE\",307:\"DECIMAL_POSITIVE\",308:\"DOUBLE_POSITIVE\",309:\"INTEGER_NEGATIVE\",310:\"DECIMAL_NEGATIVE\",311:\"DOUBLE_NEGATIVE\",312:\"PNAME_LN\",316:\"DISTINCT\",317:\"REDUCED\",320:\"NAMED\",321:\"SILENT\",322:\"CLEAR\",323:\"DROP\",324:\"ADD\",325:\"MOVE\",326:\"COPY\",327:\"ALL\",328:\".\",329:\"UNION\",330:\"|\",331:\"/\",333:\"?\",334:\"!=\",335:\"<\",336:\">\",337:\"<=\",338:\">=\",339:\"NOT\",340:\"CONCAT\",341:\"COALESCE\",342:\"SUBSTR\",343:\"REGEX\",344:\"REPLACE\"},\nproductions_: [0,[3,3],[4,1],[8,2],[11,2],[14,3],[17,4],[17,4],[18,2],[22,2],[25,2],[30,4],[30,4],[33,1],[33,5],[33,5],[40,5],[40,7],[49,5],[54,4],[57,3],[20,2],[24,2],[21,3],[67,3],[71,1],[71,1],[71,3],[71,5],[71,1],[74,2],[77,3],[80,2],[80,2],[80,1],[80,1],[85,2],[85,2],[85,4],[85,4],[89,2],[91,4],[91,4],[91,6],[97,1],[97,1],[97,1],[97,1],[101,3],[103,3],[105,4],[105,3],[105,5],[105,4],[105,2],[105,2],[105,2],[105,6],[105,6],[129,2],[125,2],[134,3],[137,2],[139,3],[115,1],[115,2],[112,2],[112,1],[121,4],[146,7],[151,3],[62,3],[62,3],[155,2],[158,3],[162,3],[159,2],[159,2],[159,2],[159,3],[159,4],[159,2],[159,6],[159,6],[159,1],[84,1],[84,1],[84,1],[73,2],[73,6],[177,1],[177,4],[42,3],[180,3],[153,2],[153,2],[186,1],[184,2],[190,2],[188,2],[193,1],[193,1],[193,1],[194,2],[198,2],[164,2],[164,2],[202,4],[208,1],[208,3],[210,2],[212,2],[215,2],[214,2],[216,1],[216,1],[216,2],[216,3],[220,1],[220,1],[220,4],[221,1],[221,1],[221,2],[221,2],[185,3],[185,3],[203,3],[203,3],[197,1],[197,1],[200,1],[200,1],[39,9],[39,5],[99,9],[99,5],[243,1],[243,1],[244,1],[244,1],[244,1],[244,1],[244,1],[36,2],[249,2],[247,2],[253,2],[251,1],[251,3],[251,4],[255,2],[261,2],[261,2],[261,2],[259,2],[269,2],[267,2],[267,2],[267,2],[267,1],[272,1],[272,1],[272,1],[272,1],[272,1],[272,1],[82,3],[72,1],[72,2],[72,4],[72,6],[72,8],[72,2],[72,4],[72,2],[72,4],[72,3],[274,5],[274,5],[274,6],[293,4],[98,1],[98,2],[98,3],[98,1],[98,1],[98,1],[98,1],[98,1],[98,1],[296,1],[296,1],[296,1],[296,1],[263,1],[263,1],[263,1],[265,1],[265,1],[265,1],[60,1],[60,1],[60,1],[313,0],[313,1],[5,1],[5,1],[314,1],[314,1],[7,0],[7,2],[9,1],[9,1],[9,1],[9,1],[10,0],[10,1],[19,0],[19,2],[23,0],[23,2],[27,1],[27,2],[315,1],[315,1],[29,0],[29,1],[31,0],[31,1],[32,0],[32,1],[43,0],[43,2],[44,0],[44,2],[47,0],[47,1],[318,1],[318,1],[319,1],[319,2],[51,1],[51,1],[52,0],[52,2],[53,0],[53,1],[56,0],[56,2],[59,0],[59,1],[61,0],[61,1],[63,0],[63,1],[64,0],[64,1],[65,0],[65,1],[66,0],[66,1],[70,1],[70,2],[76,1],[76,2],[79,1],[79,2],[92,0],[92,2],[94,0],[94,2],[95,1],[95,2],[96,0],[96,2],[102,1],[102,2],[104,0],[104,4],[106,0],[106,2],[108,0],[108,1],[109,0],[109,1],[110,1],[110,1],[111,0],[111,1],[113,1],[113,1],[113,1],[114,0],[114,1],[118,0],[118,1],[124,0],[124,1],[126,0],[126,1],[127,0],[127,2],[128,0],[128,1],[130,0],[130,1],[131,0],[131,2],[136,0],[136,1],[142,0],[142,1],[143,1],[143,1],[143,1],[144,0],[144,1],[145,0],[145,2],[147,1],[147,1],[148,0],[148,1],[149,0],[149,1],[150,0],[150,1],[152,0],[152,3],[154,0],[154,1],[156,0],[156,1],[157,0],[157,2],[160,0],[160,1],[161,0],[161,1],[163,0],[163,3],[165,0],[165,1],[166,0],[166,3],[169,1],[169,1],[171,0],[171,1],[172,1],[172,1],[175,0],[175,1],[176,0],[176,3],[178,0],[178,3],[179,0],[179,1],[181,0],[181,3],[182,0],[182,1],[183,1],[183,1],[187,0],[187,1],[189,0],[189,2],[192,0],[192,1],[196,0],[196,3],[199,0],[199,3],[201,1],[201,1],[204,0],[204,1],[205,1],[205,1],[206,0],[206,3],[207,0],[207,2],[209,1],[209,1],[211,0],[211,3],[213,0],[213,3],[332,1],[332,1],[332,1],[217,0],[217,1],[218,0],[218,1],[222,0],[222,3],[223,0],[223,1],[225,1],[225,2],[228,1],[228,2],[229,1],[229,1],[230,1],[230,1],[232,1],[232,1],[233,1],[233,1],[234,1],[234,1],[236,1],[236,1],[237,1],[237,1],[238,1],[238,1],[239,1],[239,1],[240,1],[240,1],[241,1],[241,1],[242,1],[242,1],[248,0],[248,2],[252,0],[252,2],[256,1],[256,1],[256,1],[256,1],[256,1],[256,1],[257,0],[257,1],[260,0],[260,2],[262,1],[262,1],[264,0],[264,2],[266,0],[266,2],[268,0],[268,2],[270,1],[270,1],[280,1],[280,1],[280,1],[280,1],[280,1],[283,0],[283,1],[286,0],[286,1],[287,1],[287,1],[289,0],[289,1],[291,0],[291,1],[292,0],[292,1]],\nperformAction: function anonymous(yytext, yyleng, yylineno, yy, yystate /* action[1] */, $$ /* vstack */, _$ /* lstack */) {\n/* this == yyval */\n\nvar $0 = $$.length - 1;\nswitch (yystate) {\ncase 1:\n\n      // Set parser options\n      $$[$0-1] = $$[$0-1] || {};\n      if (Parser.base)\n        $$[$0-1].base = Parser.base;\n      Parser.base = '';\n      $$[$0-1].prefixes = Parser.prefixes;\n      Parser.prefixes = null;\n\n      // Ensure that blank nodes are not used across INSERT DATA clauses\n      if ($$[$0-1].type === 'update') {\n        const insertBnodesAll = {};\n        for (const update of $$[$0-1].updates) {\n          if (update.updateType === 'insert') {\n            // Collect bnodes for current insert clause\n            const insertBnodes = {};\n            for (const operation of update.insert) {\n              if (operation.type === 'bgp' || operation.type === 'graph') {\n                for (const triple of operation.triples) {\n                  if (triple.subject.termType === 'BlankNode')\n                    insertBnodes[triple.subject.value] = true;\n                  if (triple.predicate.termType === 'BlankNode')\n                    insertBnodes[triple.predicate.value] = true;\n                  if (triple.object.termType === 'BlankNode')\n                    insertBnodes[triple.object.value] = true;\n                }\n              }\n            }\n\n            // Check if the inserting bnodes don't clash with bnodes from a previous insert clause\n            for (const bnode of Object.keys(insertBnodes)) {\n              if (insertBnodesAll[bnode]) {\n                throw new Error('Detected reuse blank node across different INSERT DATA clauses');\n              }\n              insertBnodesAll[bnode] = true;\n            }\n          }\n        }\n      }\n\n      return $$[$0-1];\n    \nbreak;\ncase 3:\nthis.$ = extend($$[$0-1], $$[$0], { type: 'query' });\nbreak;\ncase 4:\n\n      Parser.base = resolveIRI($$[$0])\n    \nbreak;\ncase 5:\n\n      if (!Parser.prefixes) Parser.prefixes = {};\n      $$[$0-1] = $$[$0-1].substr(0, $$[$0-1].length - 1);\n      $$[$0] = resolveIRI($$[$0]);\n      Parser.prefixes[$$[$0-1]] = $$[$0];\n    \nbreak;\ncase 6:\nthis.$ = extend($$[$0-3], groupDatasets($$[$0-2]), $$[$0-1], $$[$0]);\nbreak;\ncase 7:\n\n      // Check for projection of ungrouped variable\n      if (!Parser.skipValidation) {\n        const counts = flatten($$[$0-3].variables.map(vars => getAggregatesOfExpression(vars.expression)))\n          .some(agg => agg.aggregation === \"count\" && !(agg.expression instanceof Wildcard));\n        if (counts || $$[$0].group) {\n          for (const selectVar of $$[$0-3].variables) {\n            if (selectVar.termType === \"Variable\") {\n              if (!$$[$0].group || !$$[$0].group.map(groupVar => getExpressionId(groupVar)).includes(getExpressionId(selectVar))) {\n                throw Error(\"Projection of ungrouped variable (?\" + getExpressionId(selectVar) + \")\");\n              }\n            } else if (getAggregatesOfExpression(selectVar.expression).length === 0) {\n              const usedVars = getVariablesFromExpression(selectVar.expression);\n              for (const usedVar of usedVars) {\n                if (!$$[$0].group || !$$[$0].group.map || !$$[$0].group.map(groupVar => getExpressionId(groupVar)).includes(getExpressionId(usedVar))) {\n                  throw Error(\"Use of ungrouped variable in projection of operation (?\" + getExpressionId(usedVar) + \")\");\n                }\n              }\n            }\n          }\n        }\n      }\n      // Check if id of each AS-selected column is not yet bound by subquery\n      const subqueries = $$[$0-1].where.filter(w => w.type === \"query\");\n      if (subqueries.length > 0) {\n        const selectedVarIds = $$[$0-3].variables.filter(v => v.variable && v.variable.value).map(v => v.variable.value);\n        const subqueryIds = flatten(subqueries.map(sub => sub.variables)).map(v => v.value || v.variable.value);\n        for (const selectedVarId of selectedVarIds) {\n          if (subqueryIds.indexOf(selectedVarId) >= 0) {\n            throw Error(\"Target id of 'AS' (?\" + selectedVarId + \") already used in subquery\");\n          }\n        }\n      }\n      this.$ = extend($$[$0-3], groupDatasets($$[$0-2]), $$[$0-1], $$[$0])\n    \nbreak;\ncase 8:\nthis.$ = extend($$[$0-1], {variables: [new Wildcard()]});\nbreak;\ncase 9:\n\n      // Check if id of each selected column is different\n      const selectedVarIds = $$[$0].map(v => v.value || v.variable.value);\n      const duplicates = getDuplicatesInArray(selectedVarIds);\n      if (duplicates.length > 0) {\n        throw Error(\"Two or more of the resulting columns have the same name (?\" + duplicates[0] + \")\");\n      }\n\n      this.$ = extend($$[$0-1], { variables: $$[$0] })\n    \nbreak;\ncase 10:\nthis.$ = extend({ queryType: 'SELECT'}, $$[$0] && ($$[$0-1] = lowercase($$[$0]), $$[$0] = {}, $$[$0][$$[$0-1]] = true, $$[$0]));\nbreak;\ncase 11: case 12:\nthis.$ = extend($$[$0-3], $$[$0-2], $$[$0-1], $$[$0], { type: 'query' });\nbreak;\ncase 13: case 100: case 137: case 166:\nthis.$ = toVar($$[$0]);\nbreak;\ncase 14: case 28:\nthis.$ = expression($$[$0-3], { variable: toVar($$[$0-1]) });\nbreak;\ncase 15:\nthis.$ = ensureSparqlStar(expression($$[$0-3], { variable: toVar($$[$0-1]) }));\nbreak;\ncase 16:\nthis.$ = extend({ queryType: 'CONSTRUCT', template: $$[$0-3] }, groupDatasets($$[$0-2]), $$[$0-1], $$[$0]);\nbreak;\ncase 17:\nthis.$ = extend({ queryType: 'CONSTRUCT', template: $$[$0-2] = ($$[$0-2] ? $$[$0-2].triples : []) }, groupDatasets($$[$0-5]), { where: [ { type: 'bgp', triples: appendAllTo([], $$[$0-2]) } ] }, $$[$0]);\nbreak;\ncase 18:\nthis.$ = extend({ queryType: 'DESCRIBE', variables: $$[$0-3] === '*' ? [new Wildcard()] : $$[$0-3].map(toVar) }, groupDatasets($$[$0-2]), $$[$0-1], $$[$0]);\nbreak;\ncase 19:\nthis.$ = extend({ queryType: 'ASK' }, groupDatasets($$[$0-2]), $$[$0-1], $$[$0]);\nbreak;\ncase 20: case 61:\nthis.$ = { iri: $$[$0], named: !!$$[$0-1] };\nbreak;\ncase 21:\nthis.$ = { where: $$[$0].patterns };\nbreak;\ncase 22:\nthis.$ = extend($$[$0-1], $$[$0]);\nbreak;\ncase 23:\nthis.$ = extend($$[$0-2], $$[$0-1], $$[$0]);\nbreak;\ncase 24:\nthis.$ = { group: $$[$0] };\nbreak;\ncase 25: case 26: case 32: case 34:\nthis.$ = expression($$[$0]);\nbreak;\ncase 27:\nthis.$ = expression($$[$0-1]);\nbreak;\ncase 29: case 35:\nthis.$ = expression(toVar($$[$0]));\nbreak;\ncase 30:\nthis.$ = { having: $$[$0] };\nbreak;\ncase 31:\nthis.$ = { order: $$[$0] };\nbreak;\ncase 33:\nthis.$ = expression($$[$0], { descending: true });\nbreak;\ncase 36:\nthis.$ = { limit:  toInt($$[$0]) };\nbreak;\ncase 37:\nthis.$ = { offset: toInt($$[$0]) };\nbreak;\ncase 38:\nthis.$ = { limit: toInt($$[$0-2]), offset: toInt($$[$0]) };\nbreak;\ncase 39:\nthis.$ = { limit: toInt($$[$0]), offset: toInt($$[$0-2]) };\nbreak;\ncase 40:\nthis.$ = { type: 'values', values: $$[$0] };\nbreak;\ncase 41:\n\n      this.$ = $$[$0-1].map(function(v) { var o = {}; o[$$[$0-3]] = v; return o; })\n    \nbreak;\ncase 42:\n\n      this.$ = $$[$0-1].map(function() { return {}; })\n    \nbreak;\ncase 43:\n\n      var length = $$[$0-4].length;\n      $$[$0-4] = $$[$0-4].map(toVar);\n      this.$ = $$[$0-1].map(function (values) {\n        if (values.length !== length)\n          throw Error('Inconsistent VALUES length');\n        var valuesObject = {};\n        for(var i = 0; i<length; i++)\n          valuesObject['?' + $$[$0-4][i].value] = values[i];\n        return valuesObject;\n      });\n    \nbreak;\ncase 46:\nthis.$ = ensureSparqlStar($$[$0]);\nbreak;\ncase 47:\nthis.$ = undefined;\nbreak;\ncase 48: case 92: case 117: case 167:\nthis.$ = $$[$0-1];\nbreak;\ncase 49:\nthis.$ = { type: 'update', updates: appendTo($$[$0-2], $$[$0-1]) };\nbreak;\ncase 50:\nthis.$ = extend({ type: 'load', silent: !!$$[$0-2], source: $$[$0-1] }, $$[$0] && { destination: $$[$0] });\nbreak;\ncase 51:\nthis.$ = { type: lowercase($$[$0-2]), silent: !!$$[$0-1], graph: $$[$0] };\nbreak;\ncase 52:\nthis.$ = { type: lowercase($$[$0-4]), silent: !!$$[$0-3], source: $$[$0-2], destination: $$[$0] };\nbreak;\ncase 53:\nthis.$ = { type: 'create', silent: !!$$[$0-2], graph: { type: 'graph', name: $$[$0] } };\nbreak;\ncase 54:\nthis.$ = { updateType: 'insert',      insert: ensureNoVariables($$[$0])                 };\nbreak;\ncase 55:\nthis.$ = { updateType: 'delete',      delete: ensureNoBnodes(ensureNoVariables($$[$0])) };\nbreak;\ncase 56:\nthis.$ = { updateType: 'deletewhere', delete: ensureNoBnodes($$[$0])                    };\nbreak;\ncase 57:\nthis.$ = extend({ updateType: 'insertdelete' }, $$[$0-5], { insert: $$[$0-4] || [] }, { delete: $$[$0-3] || [] }, groupDatasets($$[$0-2], 'using'), { where: $$[$0].patterns });\nbreak;\ncase 58:\nthis.$ = extend({ updateType: 'insertdelete' }, $$[$0-5], { delete: $$[$0-4] || [] }, { insert: $$[$0-3] || [] }, groupDatasets($$[$0-2], 'using'), { where: $$[$0].patterns });\nbreak;\ncase 59:\nthis.$ = ensureNoBnodes($$[$0]);\nbreak;\ncase 60: case 63: case 160: case 181:\nthis.$ = $$[$0];\nbreak;\ncase 62:\nthis.$ = { graph: $$[$0] };\nbreak;\ncase 64:\nthis.$ = { type: 'graph', default: true };\nbreak;\ncase 65: case 66:\nthis.$ = { type: 'graph', name: $$[$0] };\nbreak;\ncase 67:\n this.$ = {}; this.$[lowercase($$[$0])] = true; \nbreak;\ncase 68:\nthis.$ = $$[$0-2] ? unionAll($$[$0-1], [$$[$0-2]]) : unionAll($$[$0-1]);\nbreak;\ncase 69:\n\n      var graph = extend($$[$0-3] || { triples: [] }, { type: 'graph', name: toVar($$[$0-5]) });\n      this.$ = $$[$0] ? [graph, $$[$0]] : [graph];\n    \nbreak;\ncase 70: case 75:\nthis.$ = { type: 'bgp', triples: unionAll($$[$0-2], [$$[$0-1]]) };\nbreak;\ncase 71:\nthis.$ = { type: 'group', patterns: [ $$[$0-1] ] };\nbreak;\ncase 72:\n\n      // For every binding\n      for (const binding of $$[$0-1].filter(el => el.type === \"bind\")) {\n        const index = $$[$0-1].indexOf(binding);\n        const boundVars = new Set();\n        //Collect all bounded variables before the binding\n        for (const el of $$[$0-1].slice(0, index)) {\n          if (el.type === \"group\" || el.type === \"bgp\") {\n            getBoundVarsFromGroupGraphPattern(el).forEach(boundVar => boundVars.add(boundVar));\n          }\n        }\n        // If binding with a non-free variable, throw error\n        if (boundVars.has(binding.variable.value)) {\n          throw Error(\"Variable used to bind is already bound (?\" + binding.variable.value + \")\");\n        }\n      }\n      this.$ = { type: 'group', patterns: $$[$0-1] }\n    \nbreak;\ncase 73:\nthis.$ = $$[$0-1] ? unionAll([$$[$0-1]], $$[$0]) : unionAll($$[$0]);\nbreak;\ncase 74:\nthis.$ = $$[$0] ? [$$[$0-2], $$[$0]] : $$[$0-2];\nbreak;\ncase 76:\n\n      if ($$[$0-1].length)\n        this.$ = { type: 'union', patterns: unionAll($$[$0-1].map(degroupSingle), [degroupSingle($$[$0])]) };\n      else\n        this.$ = $$[$0];\n    \nbreak;\ncase 77:\nthis.$ = extend($$[$0], { type: 'optional' });\nbreak;\ncase 78:\nthis.$ = extend($$[$0], { type: 'minus' });\nbreak;\ncase 79:\nthis.$ = extend($$[$0], { type: 'graph', name: toVar($$[$0-1]) });\nbreak;\ncase 80:\nthis.$ = extend($$[$0], { type: 'service', name: toVar($$[$0-1]), silent: !!$$[$0-2] });\nbreak;\ncase 81:\nthis.$ = { type: 'filter', expression: $$[$0] };\nbreak;\ncase 82:\nthis.$ = { type: 'bind', variable: toVar($$[$0-1]), expression: $$[$0-3] };\nbreak;\ncase 83:\nthis.$ = ensureSparqlStar({ type: 'bind', variable: toVar($$[$0-1]), expression: $$[$0-3] });\nbreak;\ncase 88:\nthis.$ = { type: 'functionCall', function: $$[$0-1], args: [] };\nbreak;\ncase 89:\nthis.$ = { type: 'functionCall', function: $$[$0-5], args: appendTo($$[$0-2], $$[$0-1]), distinct: !!$$[$0-3] };\nbreak;\ncase 90: case 108: case 119: case 210: case 218: case 220: case 232: case 234: case 244: case 248: case 268: case 270: case 274: case 278: case 301: case 307: case 318: case 328: case 334: case 340: case 344: case 354: case 356: case 360: case 368: case 372: case 374: case 382: case 384: case 388: case 390: case 399: case 431: case 433: case 443: case 447: case 449: case 451:\nthis.$ = [];\nbreak;\ncase 91:\nthis.$ = appendTo($$[$0-2], $$[$0-1]);\nbreak;\ncase 93:\nthis.$ = unionAll($$[$0-2], [$$[$0-1]]);\nbreak;\ncase 94: case 105:\nthis.$ = $$[$0].map(function (t) { return extend(triple($$[$0-1]), t); });\nbreak;\ncase 95:\nthis.$ = appendAllTo($$[$0].map(function (t) { return extend(triple($$[$0-1].entity), t); }), $$[$0-1].triples) /* the subject is a blank node, possibly with more triples */;\nbreak;\ncase 97:\nthis.$ = unionAll([$$[$0-1]], $$[$0]);\nbreak;\ncase 98:\nthis.$ = unionAll($$[$0]);\nbreak;\ncase 99:\nthis.$ = objectListToTriples($$[$0-1], $$[$0]);\nbreak;\ncase 102: case 115: case 122:\nthis.$ = Parser.factory.namedNode(RDF_TYPE);\nbreak;\ncase 103: case 104:\nthis.$ = appendTo($$[$0-1], $$[$0]);\nbreak;\ncase 106:\nthis.$ = !$$[$0] ? $$[$0-1].triples : appendAllTo($$[$0].map(function (t) { return extend(triple($$[$0-1].entity), t); }), $$[$0-1].triples) /* the subject is a blank node, possibly with more triples */;\nbreak;\ncase 107:\nthis.$ = objectListToTriples(toVar($$[$0-3]), appendTo($$[$0-2], $$[$0-1]), $$[$0]);\nbreak;\ncase 109:\nthis.$ = objectListToTriples(toVar($$[$0-1]), $$[$0]);\nbreak;\ncase 110:\nthis.$ = $$[$0-1].length ? path('|',appendTo($$[$0-1], $$[$0])) : $$[$0];\nbreak;\ncase 111:\nthis.$ = $$[$0-1].length ? path('/', appendTo($$[$0-1], $$[$0])) : $$[$0];\nbreak;\ncase 112:\nthis.$ = $$[$0] ? path($$[$0], [$$[$0-1]]) : $$[$0-1];\nbreak;\ncase 113:\nthis.$ = $$[$0-1] ? path($$[$0-1], [$$[$0]]) : $$[$0];;\nbreak;\ncase 116: case 123:\nthis.$ = path($$[$0-1], [$$[$0]]);\nbreak;\ncase 120:\nthis.$ = path('|', appendTo($$[$0-2], $$[$0-1]));\nbreak;\ncase 124:\nthis.$ = path($$[$0-1], [Parser.factory.namedNode(RDF_TYPE)]);\nbreak;\ncase 125: case 127:\nthis.$ = createList($$[$0-1]);\nbreak;\ncase 126: case 128:\nthis.$ = createAnonymousObject($$[$0-1]);\nbreak;\ncase 129:\nthis.$ = { entity: $$[$0], triples: [] } /* for consistency with TriplesNode */;\nbreak;\ncase 131:\nthis.$ = { entity: $$[$0], triples: [] } /* for consistency with TriplesNodePath */;\nbreak;\ncase 133: case 135:\nthis.$ = ensureSparqlStar(Parser.factory.quad($$[$0-4], $$[$0-3], $$[$0-2], toVar($$[$0-6])));\nbreak;\ncase 134: case 136:\nthis.$ = ensureSparqlStar(Parser.factory.quad($$[$0-3], $$[$0-2], $$[$0-1]));\nbreak;\ncase 141:\nthis.$ = blank($$[$0].replace(/^(_:)/,''));;\nbreak;\ncase 142:\nthis.$ = blank();\nbreak;\ncase 143:\nthis.$ = Parser.factory.namedNode(RDF_NIL);\nbreak;\ncase 144: case 146: case 151: case 155:\nthis.$ = createOperationTree($$[$0-1], $$[$0]);\nbreak;\ncase 145:\nthis.$ = ['||', $$[$0]];\nbreak;\ncase 147:\nthis.$ = ['&&', $$[$0]];\nbreak;\ncase 149:\nthis.$ = operation($$[$0-1], [$$[$0-2], $$[$0]]);\nbreak;\ncase 150:\nthis.$ = operation($$[$0-2] ? 'notin' : 'in', [$$[$0-3], $$[$0]]);\nbreak;\ncase 152: case 156:\nthis.$ = [$$[$0-1], $$[$0]];\nbreak;\ncase 153:\nthis.$ = ['+', createOperationTree($$[$0-1], $$[$0])];\nbreak;\ncase 154:\n\n      var negatedLiteral = createTypedLiteral($$[$0-1].value.replace('-', ''), $$[$0-1].datatype);\n      this.$ = ['-', createOperationTree(negatedLiteral, $$[$0])];\n    \nbreak;\ncase 157:\nthis.$ = operation('UPLUS', [$$[$0]]);\nbreak;\ncase 158:\nthis.$ = operation($$[$0-1], [$$[$0]]);\nbreak;\ncase 159:\nthis.$ = operation('UMINUS', [$$[$0]]);\nbreak;\ncase 169:\nthis.$ = operation(lowercase($$[$0-1]));\nbreak;\ncase 170:\nthis.$ = operation(lowercase($$[$0-3]), [$$[$0-1]]);\nbreak;\ncase 171:\nthis.$ = operation(lowercase($$[$0-5]), [$$[$0-3], $$[$0-1]]);\nbreak;\ncase 172:\nthis.$ = operation(lowercase($$[$0-7]), [$$[$0-5], $$[$0-3], $$[$0-1]]);\nbreak;\ncase 173:\nthis.$ = operation(lowercase($$[$0-1]), $$[$0]);\nbreak;\ncase 174:\nthis.$ = operation('bound', [toVar($$[$0-1])]);\nbreak;\ncase 175:\nthis.$ = operation($$[$0-1], []);\nbreak;\ncase 176:\nthis.$ = operation($$[$0-3], [$$[$0-1]]);\nbreak;\ncase 177:\nthis.$ = operation($$[$0-2] ? 'notexists' :'exists', [degroupSingle($$[$0])]);\nbreak;\ncase 178: case 179:\nthis.$ = expression($$[$0-1], { type: 'aggregate', aggregation: lowercase($$[$0-4]), distinct: !!$$[$0-2] });\nbreak;\ncase 180:\nthis.$ = expression($$[$0-2], { type: 'aggregate', aggregation: lowercase($$[$0-5]), distinct: !!$$[$0-3], separator: $$[$0-1] || ' ' });\nbreak;\ncase 182:\nthis.$ = createTypedLiteral($$[$0]);\nbreak;\ncase 183:\nthis.$ = createLangLiteral($$[$0-1], lowercase($$[$0].substr(1)));\nbreak;\ncase 184:\nthis.$ = createTypedLiteral($$[$0-2], $$[$0]);\nbreak;\ncase 185: case 198:\nthis.$ = createTypedLiteral($$[$0], XSD_INTEGER);\nbreak;\ncase 186: case 199:\nthis.$ = createTypedLiteral($$[$0], XSD_DECIMAL);\nbreak;\ncase 187: case 200:\nthis.$ = createTypedLiteral(lowercase($$[$0]), XSD_DOUBLE);\nbreak;\ncase 190:\nthis.$ = createTypedLiteral($$[$0].toLowerCase(), XSD_BOOLEAN);\nbreak;\ncase 191: case 192:\nthis.$ = unescapeString($$[$0], 1);\nbreak;\ncase 193: case 194:\nthis.$ = unescapeString($$[$0], 3);\nbreak;\ncase 195:\nthis.$ = createTypedLiteral($$[$0].substr(1), XSD_INTEGER);\nbreak;\ncase 196:\nthis.$ = createTypedLiteral($$[$0].substr(1), XSD_DECIMAL);\nbreak;\ncase 197:\nthis.$ = createTypedLiteral($$[$0].substr(1).toLowerCase(), XSD_DOUBLE);\nbreak;\ncase 201:\nthis.$ = Parser.factory.namedNode(resolveIRI($$[$0]));\nbreak;\ncase 202:\n\n      var namePos = $$[$0].indexOf(':'),\n          prefix = $$[$0].substr(0, namePos),\n          expansion = Parser.prefixes[prefix];\n      if (!expansion) throw new Error('Unknown prefix: ' + prefix);\n      var uriString = resolveIRI(expansion + $$[$0].substr(namePos + 1));\n      this.$ = Parser.factory.namedNode(uriString);\n    \nbreak;\ncase 203:\n\n      $$[$0] = $$[$0].substr(0, $$[$0].length - 1);\n      if (!($$[$0] in Parser.prefixes)) throw new Error('Unknown prefix: ' + $$[$0]);\n      var uriString = resolveIRI(Parser.prefixes[$$[$0]]);\n      this.$ = Parser.factory.namedNode(uriString);\n    \nbreak;\ncase 211: case 219: case 221: case 223: case 233: case 235: case 241: case 245: case 249: case 263: case 265: case 267: case 269: case 271: case 273: case 275: case 277: case 302: case 308: case 319: case 335: case 369: case 385: case 404: case 406: case 432: case 434: case 444: case 448: case 450: case 452:\n$$[$0-1].push($$[$0]);\nbreak;\ncase 222: case 240: case 262: case 264: case 266: case 272: case 276: case 403: case 405:\nthis.$ = [$$[$0]];\nbreak;\ncase 279:\n$$[$0-3].push($$[$0-2]);\nbreak;\ncase 329: case 341: case 345: case 355: case 357: case 361: case 373: case 375: case 383: case 389: case 391: case 400:\n$$[$0-2].push($$[$0-1]);\nbreak;\n}\n},\ntable: [o($V0,$V1,{3:1,4:2,7:3}),{1:[3]},o($V2,[2,278],{5:4,8:5,313:6,9:7,103:8,17:9,40:10,49:11,54:12,104:13,18:14,22:15,25:19,6:[2,204],28:$V3,41:[1,16],50:[1,17],55:[1,18]}),o([6,28,41,50,55,107,117,120,122,123,132,133,138,322,323,324,325,326],[2,2],{314:21,11:22,14:23,12:[1,24],15:[1,25]}),{6:[1,26]},{6:[2,206]},{6:[2,207]},{6:[2,216],10:27,89:28,90:$V4},{6:[2,205]},o($V5,[2,212]),o($V5,[2,213]),o($V5,[2,214]),o($V5,[2,215]),{105:30,107:[1,31],110:32,113:33,117:[1,34],120:[1,35],122:[1,36],123:[1,37],124:38,128:39,132:[2,303],133:[2,297],137:45,138:[1,46],322:[1,40],323:[1,41],324:[1,42],325:[1,43],326:[1,44]},o($V6,[2,218],{19:47}),o($V6,[2,220],{23:48}),o($V7,[2,234],{42:49,44:50,46:[1,51]}),{13:$V8,16:$V9,26:[1,54],34:$Va,51:52,60:57,312:$Vb,318:55,319:53},o($V6,[2,248],{56:61}),{26:[1,62],27:63,33:64,34:$Vc,35:$Vd},o($Ve,[2,226],{29:67,315:68,316:[1,69],317:[1,70]}),o($V0,[2,211]),o($V0,[2,208]),o($V0,[2,209]),{13:[1,71]},{16:[1,72]},{1:[2,1]},{6:[2,3]},{6:[2,217]},{34:[1,74],35:[1,76],91:73,93:[1,75]},{6:[2,280],106:77,191:[1,78]},o($Vf,[2,282],{108:79,321:[1,80]}),o($Vg,[2,288],{111:81,321:[1,82]}),o($Vh,[2,293],{114:83,321:[1,84]}),{118:85,119:[2,295],321:[1,86]},{46:$Vi,121:87},{46:$Vi,121:89},{46:$Vi,121:90},{125:91,133:$Vj},{129:93,132:$Vk},o($Vl,[2,286]),o($Vl,[2,287]),o($Vm,[2,290]),o($Vm,[2,291]),o($Vm,[2,292]),{132:[2,304],133:[2,298]},{13:$V8,16:$V9,60:95,312:$Vb},{20:96,45:$Vn,46:$Vo,57:97,58:$Vp,61:98},{20:101,45:$Vn,46:$Vo,57:102,58:$Vp,61:98},o($V6,[2,232],{43:103}),{45:[1,104],57:105,58:$Vp},o($Vq,[2,360],{179:106,180:107,181:108,48:[2,358]}),o($Vr,[2,244],{52:109}),o($Vr,[2,242],{60:57,318:110,13:$V8,16:$V9,34:$Va,312:$Vb}),o($Vr,[2,243]),o($Vs,[2,240]),o($Vs,[2,238]),o($Vs,[2,239]),o($Vt,[2,201]),o($Vt,[2,202]),o($Vt,[2,203]),{20:111,45:$Vn,46:$Vo,57:112,58:$Vp,61:98},o($V6,[2,8]),o($V6,[2,9],{33:113,34:$Vc,35:$Vd}),o($Vu,[2,222]),o($Vu,[2,13]),{13:$V8,16:$V9,34:$Vv,35:$Vw,36:114,39:115,60:128,72:127,73:129,82:126,87:$Vx,98:130,219:$Vy,231:$Vz,247:116,251:118,255:119,259:120,263:146,265:147,267:121,271:$VA,272:125,273:$VB,274:133,275:$VC,276:$VD,277:$VE,279:$VF,280:138,281:$VG,282:$VH,283:141,284:$VI,285:$VJ,288:$VK,290:$VL,296:142,299:$VM,300:$VN,301:$VO,302:$VP,303:$VQ,304:$VR,305:$VS,306:$VT,307:$VU,308:$VV,309:$VW,310:$VX,311:$VY,312:$Vb,339:$VZ,340:$V_,341:$V$,342:$V01,343:$V11,344:$V21},o($Ve,[2,10]),o($Ve,[2,227]),o($Ve,[2,224]),o($Ve,[2,225]),o($V0,[2,4]),{13:[1,168]},o($V31,[2,40]),{46:[1,169]},{46:[1,170]},{34:[1,172],95:171},{6:[2,49]},o($V0,$V1,{7:3,4:173}),{13:$V8,16:$V9,60:174,312:$Vb},o($Vf,[2,283]),{112:175,119:[1,176],141:[1,178],143:177,320:[1,179],327:[1,180]},o($Vg,[2,289]),o($Vf,$V41,{115:181,142:183,119:$V51,141:$V61}),o($Vh,[2,294]),{119:[1,185]},{119:[2,296]},o($V71,[2,54]),o($Vq,$V81,{144:186,151:187,152:188,48:$V91,119:$V91}),o($V71,[2,55]),o($V71,[2,56]),o($Va1,[2,299],{126:189,129:190,132:$Vk}),{46:$Vi,121:191},o($Va1,[2,305],{130:192,125:193,133:$Vj}),{46:$Vi,121:194},o([132,133],[2,62]),o($Vb1,$Vc1,{21:195,64:196,74:197,75:$Vd1}),o($V6,[2,219]),{46:$Ve1,62:199},o($Vf,[2,250],{59:201,320:[1,202]}),{46:[2,253]},o($Vf1,$Vg1,{24:203,63:204,67:205,68:$Vh1}),o($V6,[2,221]),{20:207,45:$Vn,46:$Vo,57:208,58:$Vp,61:98},{46:[1,209]},o($V7,[2,235]),{48:[1,210]},{48:[2,359]},{13:$V8,16:$V9,34:$Vi1,35:$Vj1,39:215,60:220,87:$Vx,93:$Vk1,98:221,153:211,183:212,185:213,226:$Vl1,231:$Vz,243:214,244:219,245:$Vm1,246:$Vn1,263:146,265:147,296:142,299:$VM,300:$VN,301:$VO,302:$VP,303:$VQ,304:$VR,305:$VS,306:$VT,307:$VU,308:$VV,309:$VW,310:$VX,311:$VY,312:$Vb},o($Vo1,[2,246],{61:98,53:225,57:226,20:227,45:$Vn,46:$Vo,58:$Vp}),o($Vs,[2,241]),o($Vf1,$Vg1,{63:204,67:205,24:228,68:$Vh1}),o($V6,[2,249]),o($Vu,[2,223]),{37:[1,229]},{37:[1,230]},o($Vp1,[2,431],{248:231}),{13:$V8,16:$V9,34:$Vi1,39:234,60:220,87:$Vx,93:$Vk1,98:221,119:[1,232],231:$Vz,236:233,243:235,244:219,245:$Vm1,246:$Vn1,263:146,265:147,296:142,299:$VM,300:$VN,301:$VO,302:$VP,303:$VQ,304:$VR,305:$VS,306:$VT,307:$VU,308:$VV,309:$VW,310:$VX,311:$VY,312:$Vb},o($Vq1,[2,433],{252:236}),o($Vq1,[2,148],{256:237,257:238,258:[2,441],295:[1,239],334:[1,240],335:[1,241],336:[1,242],337:[1,243],338:[1,244],339:[1,245]}),o($Vr1,[2,443],{260:246}),o($Vs1,[2,451],{268:247}),{13:$V8,16:$V9,34:$Vv,35:$Vw,60:128,72:127,73:129,82:126,87:$Vx,98:130,263:146,265:147,272:248,274:133,275:$VC,276:$VD,277:$VE,279:$VF,280:138,281:$VG,282:$VH,283:141,284:$VI,285:$VJ,288:$VK,290:$VL,296:142,299:$VM,300:$VN,301:$VO,302:$VP,303:$VQ,304:$VR,305:$VS,306:$VT,307:$VU,308:$VV,309:$VW,310:$VX,311:$VY,312:$Vb,339:$VZ,340:$V_,341:$V$,342:$V01,343:$V11,344:$V21},{13:$V8,16:$V9,34:$Vv,35:$Vw,60:128,72:127,73:129,82:126,87:$Vx,98:130,263:146,265:147,272:249,274:133,275:$VC,276:$VD,277:$VE,279:$VF,280:138,281:$VG,282:$VH,283:141,284:$VI,285:$VJ,288:$VK,290:$VL,296:142,299:$VM,300:$VN,301:$VO,302:$VP,303:$VQ,304:$VR,305:$VS,306:$VT,307:$VU,308:$VV,309:$VW,310:$VX,311:$VY,312:$Vb,339:$VZ,340:$V_,341:$V$,342:$V01,343:$V11,344:$V21},{13:$V8,16:$V9,34:$Vv,35:$Vw,60:128,72:127,73:129,82:126,87:$Vx,98:130,263:146,265:147,272:250,274:133,275:$VC,276:$VD,277:$VE,279:$VF,280:138,281:$VG,282:$VH,283:141,284:$VI,285:$VJ,288:$VK,290:$VL,296:142,299:$VM,300:$VN,301:$VO,302:$VP,303:$VQ,304:$VR,305:$VS,306:$VT,307:$VU,308:$VV,309:$VW,310:$VX,311:$VY,312:$Vb,339:$VZ,340:$V_,341:$V$,342:$V01,343:$V11,344:$V21},o($Vs1,[2,160]),o($Vs1,[2,161]),o($Vs1,[2,162]),o($Vs1,[2,163],{35:$Vt1,93:$Vu1}),o($Vs1,[2,164]),o($Vs1,[2,165]),o($Vs1,[2,166]),{13:$V8,16:$V9,34:$Vv,35:$Vw,36:253,60:128,72:127,73:129,82:126,87:$Vx,98:130,219:$Vy,247:116,251:118,255:119,259:120,263:146,265:147,267:121,271:$VA,272:125,273:$VB,274:133,275:$VC,276:$VD,277:$VE,279:$VF,280:138,281:$VG,282:$VH,283:141,284:$VI,285:$VJ,288:$VK,290:$VL,296:142,299:$VM,300:$VN,301:$VO,302:$VP,303:$VQ,304:$VR,305:$VS,306:$VT,307:$VU,308:$VV,309:$VW,310:$VX,311:$VY,312:$Vb,339:$VZ,340:$V_,341:$V$,342:$V01,343:$V11,344:$V21},o($Vv1,[2,168]),{93:[1,254]},{35:[1,255]},{35:[1,256]},{35:[1,257]},{35:$Vw1,93:$Vx1,177:258},{35:[1,261]},{35:[1,263],93:[1,262]},{284:[1,264]},o($Vy1,[2,182],{297:[1,265],298:[1,266]}),o($Vy1,[2,185]),o($Vy1,[2,186]),o($Vy1,[2,187]),o($Vy1,[2,188]),o($Vy1,[2,189]),o($Vy1,[2,190]),{35:[1,267]},{35:[1,268]},{35:[1,269]},o($Vz1,[2,455]),o($Vz1,[2,456]),o($Vz1,[2,457]),o($Vz1,[2,458]),o($Vz1,[2,459]),{284:[2,461]},o($VA1,[2,191]),o($VA1,[2,192]),o($VA1,[2,193]),o($VA1,[2,194]),o($Vy1,[2,195]),o($Vy1,[2,196]),o($Vy1,[2,197]),o($Vy1,[2,198]),o($Vy1,[2,199]),o($Vy1,[2,200]),o($V0,[2,5]),o($VB1,[2,268],{92:270}),o($VC1,[2,270],{94:271}),{34:[1,273],38:[1,272]},o($VD1,[2,272]),o($V2,[2,279],{6:[2,281]}),o($V71,[2,284],{109:274,139:275,140:[1,276]}),o($V71,[2,51]),{13:$V8,16:$V9,60:277,312:$Vb},o($V71,[2,67]),o($V71,[2,313]),o($V71,[2,314]),o($V71,[2,315]),{116:[1,278]},o($VE1,[2,64]),{13:$V8,16:$V9,60:279,312:$Vb},o($Vf,[2,312]),{13:$V8,16:$V9,60:280,312:$Vb},o($VF1,[2,318],{145:281}),o($VF1,[2,317]),{13:$V8,16:$V9,34:$Vi1,35:$Vj1,39:215,60:220,87:$Vx,93:$Vk1,98:221,153:282,183:212,185:213,226:$Vl1,231:$Vz,243:214,244:219,245:$Vm1,246:$Vn1,263:146,265:147,296:142,299:$VM,300:$VN,301:$VO,302:$VP,303:$VQ,304:$VR,305:$VS,306:$VT,307:$VU,308:$VV,309:$VW,310:$VX,311:$VY,312:$Vb},o($Va1,[2,301],{127:283}),o($Va1,[2,300]),o([45,132,135],[2,60]),o($Va1,[2,307],{131:284}),o($Va1,[2,306]),o([45,133,135],[2,59]),o($V5,[2,6]),o($VG1,[2,258],{65:285,77:286,78:[1,287]}),o($Vb1,[2,257]),{13:$V8,16:$V9,35:$Vw,60:293,72:291,73:292,76:288,82:290,84:289,274:133,275:$VC,276:$VD,277:$VE,279:$VF,280:138,281:$VG,282:$VH,283:141,284:$VI,285:$VJ,288:$VK,290:$VL,312:$Vb,339:$VZ,340:$V_,341:$V$,342:$V01,343:$V11,344:$V21},o([6,48,68,75,78,86,88,90],[2,21]),o($Vq,$VH1,{25:19,30:294,155:295,18:296,22:297,156:298,162:299,163:300,28:$V3,46:$VI1,48:$VI1,90:$VI1,119:$VI1,167:$VI1,168:$VI1,170:$VI1,173:$VI1,174:$VI1}),{13:$V8,16:$V9,60:301,312:$Vb},o($Vf,[2,251]),o($V5,[2,7]),o($Vb1,$Vc1,{64:196,74:197,21:302,75:$Vd1}),o($Vf1,[2,255]),{69:[1,303]},o($Vf1,$Vg1,{63:204,67:205,24:304,68:$Vh1}),o($V6,[2,233]),o($Vq,$V81,{152:188,47:305,151:306,48:[2,236]}),o($V6,[2,92]),{48:[2,362],182:307,328:[1,308]},{13:$V8,16:$V9,34:$VJ1,60:313,184:309,188:310,193:311,195:$VK1,312:$Vb},o($VL1,[2,366],{188:310,193:311,60:313,186:315,187:316,184:317,13:$V8,16:$V9,34:$VJ1,195:$VK1,312:$Vb}),o($VM1,[2,364]),o($VM1,[2,365]),{13:$V8,16:$V9,34:$Vi1,35:$Vj1,39:323,60:220,87:$Vx,93:$Vk1,98:221,185:321,197:319,225:318,226:$Vl1,229:320,231:$Vz,243:322,244:219,245:$Vm1,246:$Vn1,263:146,265:147,296:142,299:$VM,300:$VN,301:$VO,302:$VP,303:$VQ,304:$VR,305:$VS,306:$VT,307:$VU,308:$VV,309:$VW,310:$VX,311:$VY,312:$Vb},{13:$V8,16:$V9,34:$VJ1,60:313,184:324,188:310,193:311,195:$VK1,312:$Vb},o($VN1,[2,137]),o($VN1,[2,138]),o($VN1,[2,139]),o($VN1,[2,140]),o($VN1,[2,141]),o($VN1,[2,142]),o($VN1,[2,143]),o($Vf1,$Vg1,{63:204,67:205,24:325,68:$Vh1}),o($Vr,[2,245]),o($Vo1,[2,247]),o($V5,[2,19]),{34:[1,326]},{34:[1,327]},o([37,38,191,278],[2,144],{249:328,250:[1,329]}),{13:$V8,16:$V9,34:[1,331],60:332,232:330,312:$Vb},{13:$V8,16:$V9,34:$VJ1,60:313,193:333,195:$VK1,312:$Vb},o($VM1,[2,417]),o($VM1,[2,418]),o($Vp1,[2,146],{253:334,254:[1,335]}),{13:$V8,16:$V9,34:$Vv,35:$Vw,60:128,72:127,73:129,82:126,87:$Vx,98:130,219:$Vy,255:336,259:120,263:146,265:147,267:121,271:$VA,272:125,273:$VB,274:133,275:$VC,276:$VD,277:$VE,279:$VF,280:138,281:$VG,282:$VH,283:141,284:$VI,285:$VJ,288:$VK,290:$VL,296:142,299:$VM,300:$VN,301:$VO,302:$VP,303:$VQ,304:$VR,305:$VS,306:$VT,307:$VU,308:$VV,309:$VW,310:$VX,311:$VY,312:$Vb,339:$VZ,340:$V_,341:$V$,342:$V01,343:$V11,344:$V21},{258:[1,337]},o($VO1,[2,435]),o($VO1,[2,436]),o($VO1,[2,437]),o($VO1,[2,438]),o($VO1,[2,439]),o($VO1,[2,440]),{258:[2,442]},o([37,38,191,250,254,258,278,295,334,335,336,337,338,339],[2,151],{261:338,262:339,263:340,265:341,271:[1,342],273:[1,343],306:$VT,307:$VU,308:$VV,309:$VW,310:$VX,311:$VY}),o($Vr1,[2,155],{269:344,270:345,26:$VP1,331:$VQ1}),o($Vs1,[2,157]),o($Vs1,[2,158]),o($Vs1,[2,159]),o($Vv1,[2,88]),o($VO1,[2,352],{175:348,316:[1,349]}),{38:[1,350]},o($Vv1,[2,169]),{13:$V8,16:$V9,34:$Vv,35:$Vw,36:351,60:128,72:127,73:129,82:126,87:$Vx,98:130,219:$Vy,247:116,251:118,255:119,259:120,263:146,265:147,267:121,271:$VA,272:125,273:$VB,274:133,275:$VC,276:$VD,277:$VE,279:$VF,280:138,281:$VG,282:$VH,283:141,284:$VI,285:$VJ,288:$VK,290:$VL,296:142,299:$VM,300:$VN,301:$VO,302:$VP,303:$VQ,304:$VR,305:$VS,306:$VT,307:$VU,308:$VV,309:$VW,310:$VX,311:$VY,312:$Vb,339:$VZ,340:$V_,341:$V$,342:$V01,343:$V11,344:$V21},{13:$V8,16:$V9,34:$Vv,35:$Vw,36:352,60:128,72:127,73:129,82:126,87:$Vx,98:130,219:$Vy,247:116,251:118,255:119,259:120,263:146,265:147,267:121,271:$VA,272:125,273:$VB,274:133,275:$VC,276:$VD,277:$VE,279:$VF,280:138,281:$VG,282:$VH,283:141,284:$VI,285:$VJ,288:$VK,290:$VL,296:142,299:$VM,300:$VN,301:$VO,302:$VP,303:$VQ,304:$VR,305:$VS,306:$VT,307:$VU,308:$VV,309:$VW,310:$VX,311:$VY,312:$Vb,339:$VZ,340:$V_,341:$V$,342:$V01,343:$V11,344:$V21},{13:$V8,16:$V9,34:$Vv,35:$Vw,36:353,60:128,72:127,73:129,82:126,87:$Vx,98:130,219:$Vy,247:116,251:118,255:119,259:120,263:146,265:147,267:121,271:$VA,272:125,273:$VB,274:133,275:$VC,276:$VD,277:$VE,279:$VF,280:138,281:$VG,282:$VH,283:141,284:$VI,285:$VJ,288:$VK,290:$VL,296:142,299:$VM,300:$VN,301:$VO,302:$VP,303:$VQ,304:$VR,305:$VS,306:$VT,307:$VU,308:$VV,309:$VW,310:$VX,311:$VY,312:$Vb,339:$VZ,340:$V_,341:$V$,342:$V01,343:$V11,344:$V21},o($Vv1,[2,173]),o($Vv1,[2,90]),o($VO1,[2,356],{178:354}),{34:[1,355]},o($Vv1,[2,175]),{13:$V8,16:$V9,34:$Vv,35:$Vw,36:356,60:128,72:127,73:129,82:126,87:$Vx,98:130,219:$Vy,247:116,251:118,255:119,259:120,263:146,265:147,267:121,271:$VA,272:125,273:$VB,274:133,275:$VC,276:$VD,277:$VE,279:$VF,280:138,281:$VG,282:$VH,283:141,284:$VI,285:$VJ,288:$VK,290:$VL,296:142,299:$VM,300:$VN,301:$VO,302:$VP,303:$VQ,304:$VR,305:$VS,306:$VT,307:$VU,308:$VV,309:$VW,310:$VX,311:$VY,312:$Vb,339:$VZ,340:$V_,341:$V$,342:$V01,343:$V11,344:$V21},{46:$Ve1,62:357},o($Vy1,[2,183]),{13:$V8,16:$V9,60:358,312:$Vb},o($VR1,[2,462],{286:359,316:[1,360]}),o($VO1,[2,466],{289:361,316:[1,362]}),o($VO1,[2,468],{291:363,316:[1,364]}),{13:$V8,16:$V9,48:[1,365],60:367,87:$Vx,97:366,98:368,99:369,100:$VS1,231:$VT1,263:146,265:147,296:142,299:$VM,300:$VN,301:$VO,302:$VP,303:$VQ,304:$VR,305:$VS,306:$VT,307:$VU,308:$VV,309:$VW,310:$VX,311:$VY,312:$Vb},{48:[1,372],93:[1,373]},{46:[1,374]},o($VD1,[2,273]),o($V71,[2,50]),o($V71,[2,285]),{119:[1,375]},o($V71,[2,66]),o($Vf,$V41,{142:183,115:376,119:$V51,141:$V61}),o($VE1,[2,65]),o($V71,[2,53]),{48:[1,377],119:[1,379],146:378},o($VF1,[2,330],{154:380,328:[1,381]}),{45:[1,382],134:383,135:$VU1},{45:[1,385],134:386,135:$VU1},o($VV1,[2,260],{66:387,85:388,86:[1,389],88:[1,390]}),o($VG1,[2,259]),{69:[1,391]},o($Vb1,[2,30],{274:133,280:138,283:141,82:290,72:291,73:292,60:293,84:392,13:$V8,16:$V9,35:$Vw,275:$VC,276:$VD,277:$VE,279:$VF,281:$VG,282:$VH,284:$VI,285:$VJ,288:$VK,290:$VL,312:$Vb,339:$VZ,340:$V_,341:$V$,342:$V01,343:$V11,344:$V21}),o($VW1,[2,264]),o($VX1,[2,85]),o($VX1,[2,86]),o($VX1,[2,87]),{35:$Vt1,93:$Vu1},{48:[1,393]},{48:[1,394]},{20:395,45:$Vn,46:$Vo,61:98},{20:396,45:$Vn,46:$Vo,61:98},o($VY1,[2,334],{157:397}),o($VY1,[2,333]),{13:$V8,16:$V9,34:$Vi1,35:$VZ1,39:402,60:220,87:$Vx,93:$Vk1,98:221,164:398,201:399,203:400,226:$V_1,231:$Vz,243:401,244:219,245:$Vm1,246:$Vn1,263:146,265:147,296:142,299:$VM,300:$VN,301:$VO,302:$VP,303:$VQ,304:$VR,305:$VS,306:$VT,307:$VU,308:$VV,309:$VW,310:$VX,311:$VY,312:$Vb},o($Vr,[2,20]),o($VV1,[2,22]),{13:$V8,16:$V9,34:$V$1,35:$V02,60:293,70:405,71:406,72:407,73:408,274:133,275:$VC,276:$VD,277:$VE,279:$VF,280:138,281:$VG,282:$VH,283:141,284:$VI,285:$VJ,288:$VK,290:$VL,312:$Vb,339:$VZ,340:$V_,341:$V$,342:$V01,343:$V11,344:$V21},o($V5,[2,16]),{48:[1,411]},{48:[2,237]},{48:[2,93]},o($Vq,[2,361],{48:[2,363]}),o($VL1,[2,94]),o($V12,[2,368],{189:412}),o($Vq,[2,372],{194:413,196:414}),o($Vq,[2,100]),o($Vq,[2,101]),o($Vq,[2,102]),o($VL1,[2,95]),o($VL1,[2,96]),o($VL1,[2,367]),{13:$V8,16:$V9,34:$Vi1,35:$Vj1,38:[1,415],39:323,60:220,87:$Vx,93:$Vk1,98:221,185:321,197:416,226:$Vl1,229:320,231:$Vz,243:322,244:219,245:$Vm1,246:$Vn1,263:146,265:147,296:142,299:$VM,300:$VN,301:$VO,302:$VP,303:$VQ,304:$VR,305:$VS,306:$VT,307:$VU,308:$VV,309:$VW,310:$VX,311:$VY,312:$Vb},o($V22,[2,403]),o($V32,[2,129]),o($V32,[2,130]),o($V32,[2,407]),o($V32,[2,408]),{227:[1,417]},o($V5,[2,18]),{38:[1,418]},{38:[1,419]},o($Vp1,[2,432]),{13:$V8,16:$V9,34:$Vv,35:$Vw,60:128,72:127,73:129,82:126,87:$Vx,98:130,219:$Vy,247:420,251:118,255:119,259:120,263:146,265:147,267:121,271:$VA,272:125,273:$VB,274:133,275:$VC,276:$VD,277:$VE,279:$VF,280:138,281:$VG,282:$VH,283:141,284:$VI,285:$VJ,288:$VK,290:$VL,296:142,299:$VM,300:$VN,301:$VO,302:$VP,303:$VQ,304:$VR,305:$VS,306:$VT,307:$VU,308:$VV,309:$VW,310:$VX,311:$VY,312:$Vb,339:$VZ,340:$V_,341:$V$,342:$V01,343:$V11,344:$V21},{46:[1,421]},{46:[2,411]},{46:[2,412]},{13:$V8,16:$V9,34:$Vi1,39:423,60:220,87:$Vx,93:$Vk1,98:221,231:$Vz,237:422,243:424,244:219,245:$Vm1,246:$Vn1,263:146,265:147,296:142,299:$VM,300:$VN,301:$VO,302:$VP,303:$VQ,304:$VR,305:$VS,306:$VT,307:$VU,308:$VV,309:$VW,310:$VX,311:$VY,312:$Vb},o($Vq1,[2,434]),{13:$V8,16:$V9,34:$Vv,35:$Vw,60:128,72:127,73:129,82:126,87:$Vx,98:130,219:$Vy,251:425,255:119,259:120,263:146,265:147,267:121,271:$VA,272:125,273:$VB,274:133,275:$VC,276:$VD,277:$VE,279:$VF,280:138,281:$VG,282:$VH,283:141,284:$VI,285:$VJ,288:$VK,290:$VL,296:142,299:$VM,300:$VN,301:$VO,302:$VP,303:$VQ,304:$VR,305:$VS,306:$VT,307:$VU,308:$VV,309:$VW,310:$VX,311:$VY,312:$Vb,339:$VZ,340:$V_,341:$V$,342:$V01,343:$V11,344:$V21},o($Vq1,[2,149]),{35:$Vw1,93:$Vx1,177:426},o($Vr1,[2,444]),{13:$V8,16:$V9,34:$Vv,35:$Vw,60:128,72:127,73:129,82:126,87:$Vx,98:130,219:$Vy,259:427,263:146,265:147,267:121,271:$VA,272:125,273:$VB,274:133,275:$VC,276:$VD,277:$VE,279:$VF,280:138,281:$VG,282:$VH,283:141,284:$VI,285:$VJ,288:$VK,290:$VL,296:142,299:$VM,300:$VN,301:$VO,302:$VP,303:$VQ,304:$VR,305:$VS,306:$VT,307:$VU,308:$VV,309:$VW,310:$VX,311:$VY,312:$Vb,339:$VZ,340:$V_,341:$V$,342:$V01,343:$V11,344:$V21},o($Vs1,[2,447],{264:428}),o($Vs1,[2,449],{266:429}),o($VO1,[2,445]),o($VO1,[2,446]),o($Vs1,[2,452]),{13:$V8,16:$V9,34:$Vv,35:$Vw,60:128,72:127,73:129,82:126,87:$Vx,98:130,219:$Vy,263:146,265:147,267:430,271:$VA,272:125,273:$VB,274:133,275:$VC,276:$VD,277:$VE,279:$VF,280:138,281:$VG,282:$VH,283:141,284:$VI,285:$VJ,288:$VK,290:$VL,296:142,299:$VM,300:$VN,301:$VO,302:$VP,303:$VQ,304:$VR,305:$VS,306:$VT,307:$VU,308:$VV,309:$VW,310:$VX,311:$VY,312:$Vb,339:$VZ,340:$V_,341:$V$,342:$V01,343:$V11,344:$V21},o($VO1,[2,453]),o($VO1,[2,454]),o($VO1,[2,354],{176:431}),o($VO1,[2,353]),o([6,13,16,26,34,35,37,38,46,48,78,81,83,86,87,88,90,93,119,167,168,170,173,174,191,226,231,245,246,250,254,258,271,273,275,276,277,278,279,281,282,284,285,288,290,295,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328,331,334,335,336,337,338,339,340,341,342,343,344],[2,167]),{38:[1,432]},{278:[1,433]},{278:[1,434]},{13:$V8,16:$V9,34:$Vv,35:$Vw,36:435,60:128,72:127,73:129,82:126,87:$Vx,98:130,219:$Vy,247:116,251:118,255:119,259:120,263:146,265:147,267:121,271:$VA,272:125,273:$VB,274:133,275:$VC,276:$VD,277:$VE,279:$VF,280:138,281:$VG,282:$VH,283:141,284:$VI,285:$VJ,288:$VK,290:$VL,296:142,299:$VM,300:$VN,301:$VO,302:$VP,303:$VQ,304:$VR,305:$VS,306:$VT,307:$VU,308:$VV,309:$VW,310:$VX,311:$VY,312:$Vb,339:$VZ,340:$V_,341:$V$,342:$V01,343:$V11,344:$V21},{38:[1,436]},{38:[1,437]},o($Vv1,[2,177]),o($Vy1,[2,184]),{13:$V8,16:$V9,26:[1,439],34:$Vv,35:$Vw,36:440,60:128,72:127,73:129,82:126,87:$Vx,98:130,219:$Vy,247:116,251:118,255:119,259:120,263:146,265:147,267:121,271:$VA,272:125,273:$VB,274:133,275:$VC,276:$VD,277:$VE,279:$VF,280:138,281:$VG,282:$VH,283:141,284:$VI,285:$VJ,287:438,288:$VK,290:$VL,296:142,299:$VM,300:$VN,301:$VO,302:$VP,303:$VQ,304:$VR,305:$VS,306:$VT,307:$VU,308:$VV,309:$VW,310:$VX,311:$VY,312:$Vb,339:$VZ,340:$V_,341:$V$,342:$V01,343:$V11,344:$V21},o($VR1,[2,463]),{13:$V8,16:$V9,34:$Vv,35:$Vw,36:441,60:128,72:127,73:129,82:126,87:$Vx,98:130,219:$Vy,247:116,251:118,255:119,259:120,263:146,265:147,267:121,271:$VA,272:125,273:$VB,274:133,275:$VC,276:$VD,277:$VE,279:$VF,280:138,281:$VG,282:$VH,283:141,284:$VI,285:$VJ,288:$VK,290:$VL,296:142,299:$VM,300:$VN,301:$VO,302:$VP,303:$VQ,304:$VR,305:$VS,306:$VT,307:$VU,308:$VV,309:$VW,310:$VX,311:$VY,312:$Vb,339:$VZ,340:$V_,341:$V$,342:$V01,343:$V11,344:$V21},o($VO1,[2,467]),{13:$V8,16:$V9,34:$Vv,35:$Vw,36:442,60:128,72:127,73:129,82:126,87:$Vx,98:130,219:$Vy,247:116,251:118,255:119,259:120,263:146,265:147,267:121,271:$VA,272:125,273:$VB,274:133,275:$VC,276:$VD,277:$VE,279:$VF,280:138,281:$VG,282:$VH,283:141,284:$VI,285:$VJ,288:$VK,290:$VL,296:142,299:$VM,300:$VN,301:$VO,302:$VP,303:$VQ,304:$VR,305:$VS,306:$VT,307:$VU,308:$VV,309:$VW,310:$VX,311:$VY,312:$Vb,339:$VZ,340:$V_,341:$V$,342:$V01,343:$V11,344:$V21},o($VO1,[2,469]),o($V31,[2,41]),o($VB1,[2,269]),o($V42,[2,44]),o($V42,[2,45]),o($V42,[2,46]),o($V42,[2,47]),{13:$V8,16:$V9,60:220,87:$Vx,93:$Vk1,98:221,99:445,119:[1,443],231:$VT1,241:444,244:446,245:$Vm1,246:$Vn1,263:146,265:147,296:142,299:$VM,300:$VN,301:$VO,302:$VP,303:$VQ,304:$VR,305:$VS,306:$VT,307:$VU,308:$VV,309:$VW,310:$VX,311:$VY,312:$Vb},o($V31,[2,42]),o($VC1,[2,271]),o($V52,[2,274],{96:447}),{13:$V8,16:$V9,60:448,312:$Vb},o($V71,[2,52]),o([6,45,132,133,135,191],[2,68]),o($VF1,[2,319]),{13:$V8,16:$V9,34:[1,450],60:451,147:449,312:$Vb},o($VF1,[2,70]),o($Vq,[2,329],{48:$V62,119:$V62}),{46:$Ve1,62:452},o($Va1,[2,302]),o($Vf,[2,309],{136:453,320:[1,454]}),{46:$Ve1,62:455},o($Va1,[2,308]),o($VV1,[2,23]),o($VV1,[2,261]),{87:[1,456]},{87:[1,457]},{13:$V8,16:$V9,34:$V72,35:$Vw,60:293,72:291,73:292,79:458,80:459,81:$V82,82:290,83:$V92,84:462,274:133,275:$VC,276:$VD,277:$VE,279:$VF,280:138,281:$VG,282:$VH,283:141,284:$VI,285:$VJ,288:$VK,290:$VL,312:$Vb,339:$VZ,340:$V_,341:$V$,342:$V01,343:$V11,344:$V21},o($VW1,[2,265]),o($Va2,[2,71]),o($Va2,[2,72]),o($Vb1,$Vc1,{64:196,74:197,21:464,75:$Vd1}),o($Vf1,$Vg1,{63:204,67:205,24:465,68:$Vh1}),{46:[2,344],48:[2,73],89:475,90:$V4,119:[1,471],158:466,159:467,166:468,167:[1,469],168:[1,470],170:[1,472],173:[1,473],174:[1,474]},o($VY1,[2,342],{165:476,328:[1,477]}),o($Vb2,$Vc2,{202:478,205:479,210:480,211:482,34:$Vd2}),o($Ve2,[2,378],{205:479,210:480,211:482,204:483,202:484,13:$Vc2,16:$Vc2,35:$Vc2,195:$Vc2,219:$Vc2,224:$Vc2,312:$Vc2,34:$Vd2}),o($Vf2,[2,376]),o($Vf2,[2,377]),{13:$V8,16:$V9,34:$Vi1,35:$VZ1,39:490,60:220,87:$Vx,93:$Vk1,98:221,200:486,203:488,226:$V_1,228:485,230:487,231:$Vz,243:489,244:219,245:$Vm1,246:$Vn1,263:146,265:147,296:142,299:$VM,300:$VN,301:$VO,302:$VP,303:$VQ,304:$VR,305:$VS,306:$VT,307:$VU,308:$VV,309:$VW,310:$VX,311:$VY,312:$Vb},o($Vb2,$Vc2,{205:479,210:480,211:482,202:491,34:$Vd2}),o($Vf1,[2,24],{274:133,280:138,283:141,60:293,72:407,73:408,71:492,13:$V8,16:$V9,34:$V$1,35:$V02,275:$VC,276:$VD,277:$VE,279:$VF,281:$VG,282:$VH,284:$VI,285:$VJ,288:$VK,290:$VL,312:$Vb,339:$VZ,340:$V_,341:$V$,342:$V01,343:$V11,344:$V21}),o($Vg2,[2,262]),o($Vg2,[2,25]),o($Vg2,[2,26]),{13:$V8,16:$V9,34:$Vv,35:$Vw,36:493,60:128,72:127,73:129,82:126,87:$Vx,98:130,219:$Vy,247:116,251:118,255:119,259:120,263:146,265:147,267:121,271:$VA,272:125,273:$VB,274:133,275:$VC,276:$VD,277:$VE,279:$VF,280:138,281:$VG,282:$VH,283:141,284:$VI,285:$VJ,288:$VK,290:$VL,296:142,299:$VM,300:$VN,301:$VO,302:$VP,303:$VQ,304:$VR,305:$VS,306:$VT,307:$VU,308:$VV,309:$VW,310:$VX,311:$VY,312:$Vb,339:$VZ,340:$V_,341:$V$,342:$V01,343:$V11,344:$V21},o($Vg2,[2,29]),o($Vf1,$Vg1,{63:204,67:205,24:494,68:$Vh1}),o([48,119,227,328],[2,97],{190:495,191:[1,496]}),o($V12,[2,99]),{13:$V8,16:$V9,34:$Vi1,35:$Vj1,39:323,60:220,87:$Vx,93:$Vk1,98:221,185:321,197:497,226:$Vl1,229:320,231:$Vz,243:322,244:219,245:$Vm1,246:$Vn1,263:146,265:147,296:142,299:$VM,300:$VN,301:$VO,302:$VP,303:$VQ,304:$VR,305:$VS,306:$VT,307:$VU,308:$VV,309:$VW,310:$VX,311:$VY,312:$Vb},o($Vh2,[2,125]),o($V22,[2,404]),o($Vh2,[2,126]),o($Vu,[2,14]),o($Vu,[2,15]),o($Vp1,[2,145]),{13:$V8,16:$V9,34:$Vi1,39:499,60:220,87:$Vx,93:$Vk1,98:221,231:$Vz,233:498,243:500,244:219,245:$Vm1,246:$Vn1,263:146,265:147,296:142,299:$VM,300:$VN,301:$VO,302:$VP,303:$VQ,304:$VR,305:$VS,306:$VT,307:$VU,308:$VV,309:$VW,310:$VX,311:$VY,312:$Vb},{235:[1,501]},{235:[2,419]},{235:[2,420]},o($Vq1,[2,147]),o($Vq1,[2,150]),o($Vr1,[2,152]),o($Vr1,[2,153],{270:345,269:502,26:$VP1,331:$VQ1}),o($Vr1,[2,154],{270:345,269:503,26:$VP1,331:$VQ1}),o($Vs1,[2,156]),{13:$V8,16:$V9,34:$Vv,35:$Vw,36:504,60:128,72:127,73:129,82:126,87:$Vx,98:130,219:$Vy,247:116,251:118,255:119,259:120,263:146,265:147,267:121,271:$VA,272:125,273:$VB,274:133,275:$VC,276:$VD,277:$VE,279:$VF,280:138,281:$VG,282:$VH,283:141,284:$VI,285:$VJ,288:$VK,290:$VL,296:142,299:$VM,300:$VN,301:$VO,302:$VP,303:$VQ,304:$VR,305:$VS,306:$VT,307:$VU,308:$VV,309:$VW,310:$VX,311:$VY,312:$Vb,339:$VZ,340:$V_,341:$V$,342:$V01,343:$V11,344:$V21},o($Vv1,[2,170]),{13:$V8,16:$V9,34:$Vv,35:$Vw,36:505,60:128,72:127,73:129,82:126,87:$Vx,98:130,219:$Vy,247:116,251:118,255:119,259:120,263:146,265:147,267:121,271:$VA,272:125,273:$VB,274:133,275:$VC,276:$VD,277:$VE,279:$VF,280:138,281:$VG,282:$VH,283:141,284:$VI,285:$VJ,288:$VK,290:$VL,296:142,299:$VM,300:$VN,301:$VO,302:$VP,303:$VQ,304:$VR,305:$VS,306:$VT,307:$VU,308:$VV,309:$VW,310:$VX,311:$VY,312:$Vb,339:$VZ,340:$V_,341:$V$,342:$V01,343:$V11,344:$V21},{13:$V8,16:$V9,34:$Vv,35:$Vw,36:506,60:128,72:127,73:129,82:126,87:$Vx,98:130,219:$Vy,247:116,251:118,255:119,259:120,263:146,265:147,267:121,271:$VA,272:125,273:$VB,274:133,275:$VC,276:$VD,277:$VE,279:$VF,280:138,281:$VG,282:$VH,283:141,284:$VI,285:$VJ,288:$VK,290:$VL,296:142,299:$VM,300:$VN,301:$VO,302:$VP,303:$VQ,304:$VR,305:$VS,306:$VT,307:$VU,308:$VV,309:$VW,310:$VX,311:$VY,312:$Vb,339:$VZ,340:$V_,341:$V$,342:$V01,343:$V11,344:$V21},{38:[1,507],278:[1,508]},o($Vv1,[2,174]),o($Vv1,[2,176]),{38:[1,509]},{38:[2,464]},{38:[2,465]},{38:[1,510]},{38:[2,470],191:[1,513],292:511,293:512},{13:$V8,16:$V9,34:[1,515],60:516,238:514,312:$Vb},{13:$V8,16:$V9,34:$VJ1,60:313,193:517,195:$VK1,312:$Vb},o($VM1,[2,427]),o($VM1,[2,428]),{35:[1,520],48:[1,518],101:519},o($V71,[2,63]),{46:[1,521]},{46:[2,320]},{46:[2,321]},o($V71,[2,57]),{13:$V8,16:$V9,60:522,312:$Vb},o($Vf,[2,310]),o($V71,[2,58]),o($VV1,[2,36],{88:[1,523]}),o($VV1,[2,37],{86:[1,524]}),o($VG1,[2,31],{274:133,280:138,283:141,82:290,72:291,73:292,60:293,84:462,80:525,13:$V8,16:$V9,34:$V72,35:$Vw,81:$V82,83:$V92,275:$VC,276:$VD,277:$VE,279:$VF,281:$VG,282:$VH,284:$VI,285:$VJ,288:$VK,290:$VL,312:$Vb,339:$VZ,340:$V_,341:$V$,342:$V01,343:$V11,344:$V21}),o($Vi2,[2,266]),{35:$Vw,82:526},{35:$Vw,82:527},o($Vi2,[2,34]),o($Vi2,[2,35]),{31:528,48:[2,228],89:529,90:$V4},{32:530,48:[2,230],89:531,90:$V4},o($VY1,[2,335]),o($Vj2,[2,336],{160:532,328:[1,533]}),{46:$Ve1,62:534},{46:$Ve1,62:535},{46:$Ve1,62:536},{13:$V8,16:$V9,34:[1,538],60:539,169:537,312:$Vb},o($Vk2,[2,348],{171:540,321:[1,541]}),{13:$V8,16:$V9,35:$Vw,60:293,72:291,73:292,82:290,84:542,274:133,275:$VC,276:$VD,277:$VE,279:$VF,280:138,281:$VG,282:$VH,283:141,284:$VI,285:$VJ,288:$VK,290:$VL,312:$Vb,339:$VZ,340:$V_,341:$V$,342:$V01,343:$V11,344:$V21},{35:[1,543]},o($Vl2,[2,84]),o($VY1,[2,75]),o($Vq,[2,341],{46:$Vm2,48:$Vm2,90:$Vm2,119:$Vm2,167:$Vm2,168:$Vm2,170:$Vm2,173:$Vm2,174:$Vm2}),o($Ve2,[2,105]),o($Vq,[2,382],{206:544}),o($Vq,[2,380]),o($Vq,[2,381]),o($Vb2,[2,390],{212:545,213:546}),o($Ve2,[2,106]),o($Ve2,[2,379]),{13:$V8,16:$V9,34:$Vi1,35:$VZ1,38:[1,547],39:490,60:220,87:$Vx,93:$Vk1,98:221,200:548,203:488,226:$V_1,230:487,231:$Vz,243:489,244:219,245:$Vm1,246:$Vn1,263:146,265:147,296:142,299:$VM,300:$VN,301:$VO,302:$VP,303:$VQ,304:$VR,305:$VS,306:$VT,307:$VU,308:$VV,309:$VW,310:$VX,311:$VY,312:$Vb},o($V22,[2,405]),o($Vn2,[2,131]),o($Vn2,[2,132]),o($Vn2,[2,409]),o($Vn2,[2,410]),{227:[1,549]},o($Vg2,[2,263]),{37:[1,551],38:[1,550]},o($V5,[2,17]),o($V12,[2,369]),o($V12,[2,370],{193:311,60:313,192:552,188:553,13:$V8,16:$V9,34:$VJ1,195:$VK1,312:$Vb}),o($V12,[2,103],{278:[1,554]}),{13:$V8,16:$V9,34:$VJ1,60:313,193:555,195:$VK1,312:$Vb},o($VM1,[2,413]),o($VM1,[2,414]),o($Vo2,[2,134]),o($Vs1,[2,448]),o($Vs1,[2,450]),{38:[1,556],278:[1,557]},{38:[1,558]},{278:[1,559]},o($Vv1,[2,91]),o($VO1,[2,357]),o($Vv1,[2,178]),o($Vv1,[2,179]),{38:[1,560]},{38:[2,471]},{294:[1,561]},{46:[1,562]},{46:[2,421]},{46:[2,422]},{13:$V8,16:$V9,60:220,87:$Vx,93:$Vk1,98:221,99:564,231:$VT1,242:563,244:565,245:$Vm1,246:$Vn1,263:146,265:147,296:142,299:$VM,300:$VN,301:$VO,302:$VP,303:$VQ,304:$VR,305:$VS,306:$VT,307:$VU,308:$VV,309:$VW,310:$VX,311:$VY,312:$Vb},o($V31,[2,43]),o($V52,[2,275]),{13:$V8,16:$V9,60:367,87:$Vx,97:567,98:368,99:369,100:$VS1,102:566,231:$VT1,263:146,265:147,296:142,299:$VM,300:$VN,301:$VO,302:$VP,303:$VQ,304:$VR,305:$VS,306:$VT,307:$VU,308:$VV,309:$VW,310:$VX,311:$VY,312:$Vb},o($Vq,$V81,{152:188,148:568,151:569,48:[2,322]}),o($Va1,[2,61]),{87:[1,570]},{87:[1,571]},o($Vi2,[2,267]),o($Vi2,[2,32]),o($Vi2,[2,33]),{48:[2,11]},{48:[2,229]},{48:[2,12]},{48:[2,231]},o($Vq,$VH1,{163:300,161:572,162:573,46:$Vp2,48:$Vp2,90:$Vp2,119:$Vp2,167:$Vp2,168:$Vp2,170:$Vp2,173:$Vp2,174:$Vp2}),o($Vj2,[2,337]),o($Vl2,[2,76],{329:[1,574]}),o($Vl2,[2,77]),o($Vl2,[2,78]),{46:$Ve1,62:575},{46:[2,346]},{46:[2,347]},{13:$V8,16:$V9,34:[1,577],60:578,172:576,312:$Vb},o($Vk2,[2,349]),o($Vl2,[2,81]),{13:$V8,16:$V9,34:$Vv,35:$Vw,36:579,39:580,60:128,72:127,73:129,82:126,87:$Vx,98:130,219:$Vy,231:$Vz,247:116,251:118,255:119,259:120,263:146,265:147,267:121,271:$VA,272:125,273:$VB,274:133,275:$VC,276:$VD,277:$VE,279:$VF,280:138,281:$VG,282:$VH,283:141,284:$VI,285:$VJ,288:$VK,290:$VL,296:142,299:$VM,300:$VN,301:$VO,302:$VP,303:$VQ,304:$VR,305:$VS,306:$VT,307:$VU,308:$VV,309:$VW,310:$VX,311:$VY,312:$Vb,339:$VZ,340:$V_,341:$V$,342:$V01,343:$V11,344:$V21},{13:$V8,16:$V9,34:$Vi1,35:$VZ1,39:490,60:220,87:$Vx,93:$Vk1,98:221,200:581,203:488,226:$V_1,230:487,231:$Vz,243:489,244:219,245:$Vm1,246:$Vn1,263:146,265:147,296:142,299:$VM,300:$VN,301:$VO,302:$VP,303:$VQ,304:$VR,305:$VS,306:$VT,307:$VU,308:$VV,309:$VW,310:$VX,311:$VY,312:$Vb},o($V22,[2,110],{330:[1,582]}),o($Vq2,[2,397],{214:583,218:584,224:[1,585]}),o($Vr2,[2,127]),o($V22,[2,406]),o($Vr2,[2,128]),o($Vg2,[2,27]),{34:[1,586]},o($V12,[2,98]),o($V12,[2,371]),o($Vq,[2,373]),{13:$V8,16:$V9,34:$Vi1,39:588,60:220,87:$Vx,93:$Vk1,98:221,231:$Vz,234:587,243:589,244:219,245:$Vm1,246:$Vn1,263:146,265:147,296:142,299:$VM,300:$VN,301:$VO,302:$VP,303:$VQ,304:$VR,305:$VS,306:$VT,307:$VU,308:$VV,309:$VW,310:$VX,311:$VY,312:$Vb},o($Vv1,[2,89]),o($VO1,[2,355]),o($Vv1,[2,171]),{13:$V8,16:$V9,34:$Vv,35:$Vw,36:590,60:128,72:127,73:129,82:126,87:$Vx,98:130,219:$Vy,247:116,251:118,255:119,259:120,263:146,265:147,267:121,271:$VA,272:125,273:$VB,274:133,275:$VC,276:$VD,277:$VE,279:$VF,280:138,281:$VG,282:$VH,283:141,284:$VI,285:$VJ,288:$VK,290:$VL,296:142,299:$VM,300:$VN,301:$VO,302:$VP,303:$VQ,304:$VR,305:$VS,306:$VT,307:$VU,308:$VV,309:$VW,310:$VX,311:$VY,312:$Vb,339:$VZ,340:$V_,341:$V$,342:$V01,343:$V11,344:$V21},o($Vv1,[2,180]),{295:[1,591]},{13:$V8,16:$V9,60:220,87:$Vx,93:$Vk1,98:221,99:593,231:$VT1,239:592,244:594,245:$Vm1,246:$Vn1,263:146,265:147,296:142,299:$VM,300:$VN,301:$VO,302:$VP,303:$VQ,304:$VR,305:$VS,306:$VT,307:$VU,308:$VV,309:$VW,310:$VX,311:$VY,312:$Vb},{235:[1,595]},{235:[2,429]},{235:[2,430]},{13:$V8,16:$V9,38:[1,596],60:367,87:$Vx,97:597,98:368,99:369,100:$VS1,231:$VT1,263:146,265:147,296:142,299:$VM,300:$VN,301:$VO,302:$VP,303:$VQ,304:$VR,305:$VS,306:$VT,307:$VU,308:$VV,309:$VW,310:$VX,311:$VY,312:$Vb},o($Vs2,[2,276]),{48:[1,598]},{48:[2,323]},o($VV1,[2,38]),o($VV1,[2,39]),o($VY1,[2,74]),o($VY1,[2,339]),{46:[2,345]},o($Vl2,[2,79]),{46:$Ve1,62:599},{46:[2,350]},{46:[2,351]},{37:[1,600]},{37:[1,601]},o($Vt2,[2,384],{207:602,278:[1,603]}),o($Vb2,[2,389]),o([13,16,34,35,38,87,93,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312,330],[2,111],{331:[1,604]}),{13:$V8,16:$V9,35:[1,610],60:607,195:[1,608],215:605,216:606,219:[1,609],312:$Vb},o($Vq2,[2,398]),{38:[1,611]},{48:[1,612]},{48:[2,415]},{48:[2,416]},{38:[1,613]},{296:614,302:$VP,303:$VQ,304:$VR,305:$VS},{13:$V8,16:$V9,34:$VJ1,60:313,193:615,195:$VK1,312:$Vb},o($VM1,[2,423]),o($VM1,[2,424]),o($Vu2,[2,136]),o($V52,[2,48]),o($Vs2,[2,277]),o($Vv2,[2,324],{149:616,328:[1,617]}),o($Vl2,[2,80]),{34:[1,618]},{34:[1,619]},o([46,48,90,119,167,168,170,173,174,227,328],[2,107],{208:620,191:[1,621]}),o($Vq,[2,383]),o($Vb2,[2,391]),o($Vw2,[2,113]),o($Vw2,[2,395],{217:622,332:623,26:[1,625],271:[1,626],333:[1,624]}),o($Vx2,[2,114]),o($Vx2,[2,115]),{13:$V8,16:$V9,35:[1,630],60:631,93:[1,629],195:$Vy2,220:627,221:628,224:$Vz2,312:$Vb},o($Vb2,$Vc2,{211:482,210:634}),o($Vg2,[2,28]),{235:[1,635]},o($Vv1,[2,172]),{38:[2,181]},{13:$V8,16:$V9,60:220,87:$Vx,93:$Vk1,98:221,99:637,231:$VT1,240:636,244:638,245:$Vm1,246:$Vn1,263:146,265:147,296:142,299:$VM,300:$VN,301:$VO,302:$VP,303:$VQ,304:$VR,305:$VS,306:$VT,307:$VU,308:$VV,309:$VW,310:$VX,311:$VY,312:$Vb},o($Vq,$V81,{152:188,150:639,151:640,48:$VA2,119:$VA2}),o($Vv2,[2,325]),{38:[1,641]},{38:[1,642]},o($Vt2,[2,385]),o($Vt2,[2,108],{211:482,209:643,210:644,13:$Vc2,16:$Vc2,35:$Vc2,195:$Vc2,219:$Vc2,224:$Vc2,312:$Vc2,34:[1,645]}),o($Vw2,[2,112]),o($Vw2,[2,396]),o($Vw2,[2,392]),o($Vw2,[2,393]),o($Vw2,[2,394]),o($Vx2,[2,116]),o($Vx2,[2,118]),o($Vx2,[2,119]),o($VB2,[2,399],{222:646}),o($Vx2,[2,121]),o($Vx2,[2,122]),{13:$V8,16:$V9,60:647,195:[1,648],312:$Vb},{38:[1,649]},o($Vo2,[2,133]),{48:[1,650]},{48:[2,425]},{48:[2,426]},o($VF1,[2,69]),o($VF1,[2,327]),o($Vl2,[2,82]),o($Vl2,[2,83]),o($Vq,[2,374],{198:651,199:652}),o($Vq,[2,386]),o($Vq,[2,387]),{13:$V8,16:$V9,38:[2,401],60:631,195:$Vy2,221:654,223:653,224:$Vz2,312:$Vb},o($Vx2,[2,123]),o($Vx2,[2,124]),o($Vx2,[2,117]),{235:[1,655]},o($Vt2,[2,109]),{13:$V8,16:$V9,34:$Vi1,35:$VZ1,39:490,60:220,87:$Vx,93:$Vk1,98:221,200:656,203:488,226:$V_1,230:487,231:$Vz,243:489,244:219,245:$Vm1,246:$Vn1,263:146,265:147,296:142,299:$VM,300:$VN,301:$VO,302:$VP,303:$VQ,304:$VR,305:$VS,306:$VT,307:$VU,308:$VV,309:$VW,310:$VX,311:$VY,312:$Vb},{38:[1,657]},{38:[2,402],330:[1,658]},o($Vu2,[2,135]),o($Vt2,[2,104],{278:[1,659]}),o($Vx2,[2,120]),o($VB2,[2,400]),o($Vq,[2,375])],\ndefaultActions: {5:[2,206],6:[2,207],8:[2,205],26:[2,1],27:[2,3],28:[2,217],77:[2,49],86:[2,296],100:[2,253],107:[2,359],157:[2,461],245:[2,442],306:[2,237],307:[2,93],331:[2,411],332:[2,412],423:[2,419],424:[2,420],439:[2,464],440:[2,465],450:[2,320],451:[2,321],512:[2,471],515:[2,421],516:[2,422],528:[2,11],529:[2,229],530:[2,12],531:[2,231],538:[2,346],539:[2,347],564:[2,429],565:[2,430],569:[2,323],574:[2,345],577:[2,350],578:[2,351],588:[2,415],589:[2,416],614:[2,181],637:[2,425],638:[2,426]},\nparseError: function parseError (str, hash) {\n    if (hash.recoverable) {\n        this.trace(str);\n    } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n    }\n},\nparse: function parse(input) {\n    var self = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = '', yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;\n    var args = lstack.slice.call(arguments, 1);\n    var lexer = Object.create(this.lexer);\n    var sharedState = { yy: {} };\n    for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n            sharedState.yy[k] = this.yy[k];\n        }\n    }\n    lexer.setInput(input, sharedState.yy);\n    sharedState.yy.lexer = lexer;\n    sharedState.yy.parser = this;\n    if (typeof lexer.yylloc == 'undefined') {\n        lexer.yylloc = {};\n    }\n    var yyloc = lexer.yylloc;\n    lstack.push(yyloc);\n    var ranges = lexer.options && lexer.options.ranges;\n    if (typeof sharedState.yy.parseError === 'function') {\n        this.parseError = sharedState.yy.parseError;\n    } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n    }\n    function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n    }\n    _token_stack:\n        var lex = function () {\n            var token;\n            token = lexer.lex() || EOF;\n            if (typeof token !== 'number') {\n                token = self.symbols_[token] || token;\n            }\n            return token;\n        };\n    var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\n    while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n            action = this.defaultActions[state];\n        } else {\n            if (symbol === null || typeof symbol == 'undefined') {\n                symbol = lex();\n            }\n            action = table[state] && table[state][symbol];\n        }\n                    if (typeof action === 'undefined' || !action.length || !action[0]) {\n                var errStr = '';\n                expected = [];\n                for (p in table[state]) {\n                    if (this.terminals_[p] && p > TERROR) {\n                        expected.push('\\'' + this.terminals_[p] + '\\'');\n                    }\n                }\n                if (lexer.showPosition) {\n                    errStr = 'Parse error on line ' + (yylineno + 1) + ':\\n' + lexer.showPosition() + '\\nExpecting ' + expected.join(', ') + ', got \\'' + (this.terminals_[symbol] || symbol) + '\\'';\n                } else {\n                    errStr = 'Parse error on line ' + (yylineno + 1) + ': Unexpected ' + (symbol == EOF ? 'end of input' : '\\'' + (this.terminals_[symbol] || symbol) + '\\'');\n                }\n                this.parseError(errStr, {\n                    text: lexer.match,\n                    token: this.terminals_[symbol] || symbol,\n                    line: lexer.yylineno,\n                    loc: yyloc,\n                    expected: expected\n                });\n            }\n        if (action[0] instanceof Array && action.length > 1) {\n            throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n        }\n        switch (action[0]) {\n        case 1:\n            stack.push(symbol);\n            vstack.push(lexer.yytext);\n            lstack.push(lexer.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            if (!preErrorSymbol) {\n                yyleng = lexer.yyleng;\n                yytext = lexer.yytext;\n                yylineno = lexer.yylineno;\n                yyloc = lexer.yylloc;\n                if (recovering > 0) {\n                    recovering--;\n                }\n            } else {\n                symbol = preErrorSymbol;\n                preErrorSymbol = null;\n            }\n            break;\n        case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n                first_line: lstack[lstack.length - (len || 1)].first_line,\n                last_line: lstack[lstack.length - 1].last_line,\n                first_column: lstack[lstack.length - (len || 1)].first_column,\n                last_column: lstack[lstack.length - 1].last_column\n            };\n            if (ranges) {\n                yyval._$.range = [\n                    lstack[lstack.length - (len || 1)].range[0],\n                    lstack[lstack.length - 1].range[1]\n                ];\n            }\n            r = this.performAction.apply(yyval, [\n                yytext,\n                yyleng,\n                yylineno,\n                sharedState.yy,\n                action[1],\n                vstack,\n                lstack\n            ].concat(args));\n            if (typeof r !== 'undefined') {\n                return r;\n            }\n            if (len) {\n                stack = stack.slice(0, -1 * len * 2);\n                vstack = vstack.slice(0, -1 * len);\n                lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n        case 3:\n            return true;\n        }\n    }\n    return true;\n}};\n\n  /*\n    SPARQL parser in the Jison parser generator format.\n  */\n\n  var Wildcard = require('./Wildcard').Wildcard;\n\n  // Common namespaces and entities\n  var RDF = 'http://www.w3.org/1999/02/22-rdf-syntax-ns#',\n      RDF_TYPE  = RDF + 'type',\n      RDF_FIRST = RDF + 'first',\n      RDF_REST  = RDF + 'rest',\n      RDF_NIL   = RDF + 'nil',\n      XSD = 'http://www.w3.org/2001/XMLSchema#',\n      XSD_INTEGER  = XSD + 'integer',\n      XSD_DECIMAL  = XSD + 'decimal',\n      XSD_DOUBLE   = XSD + 'double',\n      XSD_BOOLEAN  = XSD + 'boolean';\n\n  var base = '', basePath = '', baseRoot = '';\n\n  // Returns a lowercase version of the given string\n  function lowercase(string) {\n    return string.toLowerCase();\n  }\n\n  // Appends the item to the array and returns the array\n  function appendTo(array, item) {\n    return array.push(item), array;\n  }\n\n  // Appends the items to the array and returns the array\n  function appendAllTo(array, items) {\n    return array.push.apply(array, items), array;\n  }\n\n  // Extends a base object with properties of other objects\n  function extend(base) {\n    if (!base) base = {};\n    for (var i = 1, l = arguments.length, arg; i < l && (arg = arguments[i] || {}); i++)\n      for (var name in arg)\n        base[name] = arg[name];\n    return base;\n  }\n\n  // Creates an array that contains all items of the given arrays\n  function unionAll() {\n    var union = [];\n    for (var i = 0, l = arguments.length; i < l; i++)\n      union = union.concat.apply(union, arguments[i]);\n    return union;\n  }\n\n  // Resolves an IRI against a base path\n  function resolveIRI(iri) {\n    // Strip off possible angular brackets\n    if (iri[0] === '<')\n      iri = iri.substring(1, iri.length - 1);\n    // Return absolute IRIs unmodified\n    if (/^[a-z]+:/i.test(iri))\n      return iri;\n    if (!Parser.base)\n      throw new Error('Cannot resolve relative IRI ' + iri + ' because no base IRI was set.');\n    if (base !== Parser.base) {\n      base = Parser.base;\n      basePath = base.replace(/[^\\/:]*$/, '');\n      baseRoot = base.match(/^(?:[a-z]+:\\/*)?[^\\/]*/)[0];\n    }\n    switch (iri[0]) {\n    // An empty relative IRI indicates the base IRI\n    case undefined:\n      return base;\n    // Resolve relative fragment IRIs against the base IRI\n    case '#':\n      return base + iri;\n    // Resolve relative query string IRIs by replacing the query string\n    case '?':\n      return base.replace(/(?:\\?.*)?$/, iri);\n    // Resolve root relative IRIs at the root of the base IRI\n    case '/':\n      return baseRoot + iri;\n    // Resolve all other IRIs at the base IRI's path\n    default:\n      return basePath + iri;\n    }\n  }\n\n  // If the item is a variable, ensures it starts with a question mark\n  function toVar(variable) {\n    if (variable) {\n      var first = variable[0];\n      if (first === '?' || first === '$') return Parser.factory.variable(variable.substr(1));\n    }\n    return variable;\n  }\n\n  // Creates an operation with the given name and arguments\n  function operation(operatorName, args) {\n    return { type: 'operation', operator: operatorName, args: args || [] };\n  }\n\n  // Creates an expression with the given type and attributes\n  function expression(expr, attr) {\n    var expression = { expression: expr === '*'? new Wildcard() : expr };\n    if (attr)\n      for (var a in attr)\n        expression[a] = attr[a];\n    return expression;\n  }\n\n  // Creates a path with the given type and items\n  function path(type, items) {\n    return { type: 'path', pathType: type, items: items };\n  }\n\n  // Transforms a list of operations types and arguments into a tree of operations\n  function createOperationTree(initialExpression, operationList) {\n    for (var i = 0, l = operationList.length, item; i < l && (item = operationList[i]); i++)\n      initialExpression = operation(item[0], [initialExpression, item[1]]);\n    return initialExpression;\n  }\n\n  // Group datasets by default and named\n  function groupDatasets(fromClauses, groupName) {\n    var defaults = [], named = [], l = fromClauses.length, fromClause, group = {};\n    if (!l)\n      return null;\n    for (var i = 0; i < l && (fromClause = fromClauses[i]); i++)\n      (fromClause.named ? named : defaults).push(fromClause.iri);\n    group[groupName || 'from'] = { default: defaults, named: named };\n    return group;\n  }\n\n  // Converts the string to a number\n  function toInt(string) {\n    return parseInt(string, 10);\n  }\n\n  // Transforms a possibly single group into its patterns\n  function degroupSingle(group) {\n    return group.type === 'group' && group.patterns.length === 1 ? group.patterns[0] : group;\n  }\n\n  // Creates a literal with the given value and type\n  function createTypedLiteral(value, type) {\n    if (type && type.termType !== 'NamedNode'){\n      type = Parser.factory.namedNode(type);\n    }\n    return Parser.factory.literal(value, type);\n  }\n\n  // Creates a literal with the given value and language\n  function createLangLiteral(value, lang) {\n    return Parser.factory.literal(value, lang);\n  }\n\n  // Creates a triple with the given subject, predicate, and object\n  function triple(subject, predicate, object) {\n    var triple = {};\n    if (subject   != null) triple.subject   = subject;\n    if (predicate != null) triple.predicate = predicate;\n    if (object    != null) triple.object    = object;\n    return triple;\n  }\n\n  // Creates a new blank node\n  function blank(name) {\n    if (typeof name === 'string') {  // Only use name if a name is given\n      if (name.startsWith('e_')) return Parser.factory.blankNode(name);\n      return Parser.factory.blankNode('e_' + name);\n    }\n    return Parser.factory.blankNode('g_' + blankId++);\n  };\n  var blankId = 0;\n  Parser._resetBlanks = function () { blankId = 0; }\n\n  // Regular expression and replacement strings to escape strings\n  var escapeSequence = /\\\\u([a-fA-F0-9]{4})|\\\\U([a-fA-F0-9]{8})|\\\\(.)/g,\n      escapeReplacements = { '\\\\': '\\\\', \"'\": \"'\", '\"': '\"',\n                             't': '\\t', 'b': '\\b', 'n': '\\n', 'r': '\\r', 'f': '\\f' },\n      partialSurrogatesWithoutEndpoint = /[\\uD800-\\uDBFF]([^\\uDC00-\\uDFFF]|$)/,\n      fromCharCode = String.fromCharCode;\n\n  // Translates escape codes in the string into their textual equivalent\n  function unescapeString(string, trimLength) {\n    string = string.substring(trimLength, string.length - trimLength);\n    try {\n      string = string.replace(escapeSequence, function (sequence, unicode4, unicode8, escapedChar) {\n        var charCode;\n        if (unicode4) {\n          charCode = parseInt(unicode4, 16);\n          if (isNaN(charCode)) throw new Error(); // can never happen (regex), but helps performance\n          return fromCharCode(charCode);\n        }\n        else if (unicode8) {\n          charCode = parseInt(unicode8, 16);\n          if (isNaN(charCode)) throw new Error(); // can never happen (regex), but helps performance\n          if (charCode < 0xFFFF) return fromCharCode(charCode);\n          return fromCharCode(0xD800 + ((charCode -= 0x10000) >> 10), 0xDC00 + (charCode & 0x3FF));\n        }\n        else {\n          var replacement = escapeReplacements[escapedChar];\n          if (!replacement) throw new Error();\n          return replacement;\n        }\n      });\n    }\n    catch (error) { return ''; }\n\n    // Test for invalid unicode surrogate pairs\n    if (partialSurrogatesWithoutEndpoint.exec(string)) {\n      throw new Error('Invalid unicode codepoint of surrogate pair without corresponding codepoint in ' + string);\n    }\n\n    return string;\n  }\n\n  // Creates a list, collecting its (possibly blank) items and triples associated with those items\n  function createList(objects) {\n    var list = blank(), head = list, listItems = [], listTriples, triples = [];\n    objects.forEach(function (o) { listItems.push(o.entity); appendAllTo(triples, o.triples); });\n\n    // Build an RDF list out of the items\n    for (var i = 0, j = 0, l = listItems.length, listTriples = Array(l * 2); i < l;)\n      listTriples[j++] = triple(head, Parser.factory.namedNode(RDF_FIRST), listItems[i]),\n      listTriples[j++] = triple(head, Parser.factory.namedNode(RDF_REST),  head = ++i < l ? blank() : Parser.factory.namedNode(RDF_NIL));\n\n    // Return the list's identifier, its triples, and the triples associated with its items\n    return { entity: list, triples: appendAllTo(listTriples, triples) };\n  }\n\n  // Creates a blank node identifier, collecting triples with that blank node as subject\n  function createAnonymousObject(propertyList) {\n    var entity = blank();\n    return {\n      entity: entity,\n      triples: propertyList.map(function (t) { return extend(triple(entity), t); })\n    };\n  }\n\n  // Collects all (possibly blank) objects, and triples that have them as subject\n  function objectListToTriples(predicate, objectList, otherTriples) {\n    var objects = [], triples = [];\n    objectList.forEach(function (l) {\n      objects.push(triple(null, predicate, l.entity));\n      appendAllTo(triples, l.triples);\n    });\n    return unionAll(objects, otherTriples || [], triples);\n  }\n\n  // Simplifies groups by merging adjacent BGPs\n  function mergeAdjacentBGPs(groups) {\n    var merged = [], currentBgp;\n    for (var i = 0, group; group = groups[i]; i++) {\n      switch (group.type) {\n        // Add a BGP's triples to the current BGP\n        case 'bgp':\n          if (group.triples.length) {\n            if (!currentBgp)\n              appendTo(merged, currentBgp = group);\n            else\n              appendAllTo(currentBgp.triples, group.triples);\n          }\n          break;\n        // All other groups break up a BGP\n        default:\n          // Only add the group if its pattern is non-empty\n          if (!group.patterns || group.patterns.length > 0) {\n            appendTo(merged, group);\n            currentBgp = null;\n          }\n      }\n    }\n    return merged;\n  }\n\n  // Return the id of an expression\n  function getExpressionId(expression) {\n    return expression.variable ? expression.variable.value : expression.value || expression.expression.value;\n  }\n\n  // Get all \"aggregate\"'s from an expression\n  function getAggregatesOfExpression(expression) {\n    if (!expression) {\n      return [];\n    }\n    if (expression.type === 'aggregate') {\n      return [expression];\n    } else if (expression.type === \"operation\") {\n      const aggregates = [];\n      for (const arg of expression.args) {\n        aggregates.push(...getAggregatesOfExpression(arg));\n      }\n      return aggregates;\n    }\n    return [];\n  }\n\n  // Get all variables used in an expression\n  function getVariablesFromExpression(expression) {\n    const variables = new Set();\n    const visitExpression = function (expr) {\n      if (!expr) { return; }\n      if (expr.termType === \"Variable\") {\n        variables.add(expr);\n      } else if (expr.type === \"operation\") {\n        expr.args.forEach(visitExpression);\n      }\n    };\n    visitExpression(expression);\n    return variables;\n  }\n\n  // Helper function to flatten arrays\n  function flatten(input, depth = 1, stack = []) {\n    for (const item of input) {\n        if (depth > 0 && item instanceof Array) {\n          flatten(item, depth - 1, stack);\n        } else {\n          stack.push(item);\n        }\n    }\n    return stack;\n  }\n\n  function isVariable(term) {\n    return term.termType === 'Variable';\n  }\n\n  function getBoundVarsFromGroupGraphPattern(pattern) {\n    if (pattern.triples) {\n      const boundVars = [];\n      for (const triple of pattern.triples) {\n        if (isVariable(triple.subject)) boundVars.push(triple.subject.value);\n        if (isVariable(triple.predicate)) boundVars.push(triple.predicate.value);\n        if (isVariable(triple.object)) boundVars.push(triple.object.value);\n      }\n      return boundVars;\n    } else if (pattern.patterns) {\n      const boundVars = [];\n      for (const pat of pattern.patterns) {\n        boundVars.push(...getBoundVarsFromGroupGraphPattern(pat));\n      }\n      return boundVars;\n    }\n    return [];\n  }\n\n  // Helper function to find duplicates in array\n  function getDuplicatesInArray(array) {\n    const sortedArray = array.slice().sort();\n    const duplicates = [];\n    for (let i = 0; i < sortedArray.length - 1; i++) {\n      if (sortedArray[i + 1] == sortedArray[i]) {\n        duplicates.push(sortedArray[i]);\n      }\n    }\n    return duplicates;\n  }\n\n  function ensureSparqlStar(value) {\n    if (!Parser.sparqlStar) {\n      throw new Error('SPARQL* support is not enabled');\n    }\n    return value;\n  }\n\n  function ensureNoVariables(operations) {\n    for (const operation of operations) {\n      if (operation.type === 'graph' && operation.name.termType === 'Variable') {\n        throw new Error('Detected illegal variable in GRAPH');\n      }\n      if (operation.type === 'bgp' || operation.type === 'graph') {\n        for (const triple of operation.triples) {\n          if (triple.subject.termType === 'Variable' ||\n              triple.predicate.termType === 'Variable' ||\n              triple.object.termType === 'Variable') {\n            throw new Error('Detected illegal variable in BGP');\n          }\n        }\n      }\n    }\n    return operations;\n  }\n\n  function ensureNoBnodes(operations) {\n    for (const operation of operations) {\n      if (operation.type === 'bgp') {\n        for (const triple of operation.triples) {\n          if (triple.subject.termType === 'BlankNode' ||\n              triple.predicate.termType === 'BlankNode' ||\n              triple.object.termType === 'BlankNode') {\n            throw new Error('Detected illegal blank node in BGP');\n          }\n        }\n      }\n    }\n    return operations;\n  }\n/* generated by jison-lex 0.3.4 */\nvar lexer = (function(){\nvar lexer = ({\n\nEOF:1,\n\nparseError:function parseError(str, hash) {\n        if (this.yy.parser) {\n            this.yy.parser.parseError(str, hash);\n        } else {\n            throw new Error(str);\n        }\n    },\n\n// resets the lexer, sets new input\nsetInput:function (input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = '';\n        this.conditionStack = ['INITIAL'];\n        this.yylloc = {\n            first_line: 1,\n            first_column: 0,\n            last_line: 1,\n            last_column: 0\n        };\n        if (this.options.ranges) {\n            this.yylloc.range = [0,0];\n        }\n        this.offset = 0;\n        return this;\n    },\n\n// consumes and returns one char from the input\ninput:function () {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno++;\n            this.yylloc.last_line++;\n        } else {\n            this.yylloc.last_column++;\n        }\n        if (this.options.ranges) {\n            this.yylloc.range[1]++;\n        }\n\n        this._input = this._input.slice(1);\n        return ch;\n    },\n\n// unshifts one char (or a string) into the input\nunput:function (ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len);\n        //this.yyleng -= len;\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n\n        if (lines.length - 1) {\n            this.yylineno -= lines.length - 1;\n        }\n        var r = this.yylloc.range;\n\n        this.yylloc = {\n            first_line: this.yylloc.first_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.first_column,\n            last_column: lines ?\n                (lines.length === oldLines.length ? this.yylloc.first_column : 0)\n                 + oldLines[oldLines.length - lines.length].length - lines[0].length :\n              this.yylloc.first_column - len\n        };\n\n        if (this.options.ranges) {\n            this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        this.yyleng = this.yytext.length;\n        return this;\n    },\n\n// When called from action, caches matched text and appends it on next action\nmore:function () {\n        this._more = true;\n        return this;\n    },\n\n// When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\nreject:function () {\n        if (this.options.backtrack_lexer) {\n            this._backtrack = true;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n\n        }\n        return this;\n    },\n\n// retain first n characters of the match\nless:function (n) {\n        this.unput(this.match.slice(n));\n    },\n\n// displays already matched input, i.e. for error messages\npastInput:function () {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? '...':'') + past.substr(-20).replace(/\\n/g, \"\");\n    },\n\n// displays upcoming input, i.e. for error messages\nupcomingInput:function () {\n        var next = this.match;\n        if (next.length < 20) {\n            next += this._input.substr(0, 20-next.length);\n        }\n        return (next.substr(0,20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, \"\");\n    },\n\n// displays the character position where the lexing error occurred, i.e. for error messages\nshowPosition:function () {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join(\"-\");\n        return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n    },\n\n// test the lexed token: return FALSE when not a match, otherwise return token\ntest_match:function(match, indexed_rule) {\n        var token,\n            lines,\n            backup;\n\n        if (this.options.backtrack_lexer) {\n            // save context\n            backup = {\n                yylineno: this.yylineno,\n                yylloc: {\n                    first_line: this.yylloc.first_line,\n                    last_line: this.last_line,\n                    first_column: this.yylloc.first_column,\n                    last_column: this.yylloc.last_column\n                },\n                yytext: this.yytext,\n                match: this.match,\n                matches: this.matches,\n                matched: this.matched,\n                yyleng: this.yyleng,\n                offset: this.offset,\n                _more: this._more,\n                _input: this._input,\n                yy: this.yy,\n                conditionStack: this.conditionStack.slice(0),\n                done: this.done\n            };\n            if (this.options.ranges) {\n                backup.yylloc.range = this.yylloc.range.slice(0);\n            }\n        }\n\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno += lines.length;\n        }\n        this.yylloc = {\n            first_line: this.yylloc.last_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.last_column,\n            last_column: lines ?\n                         lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length :\n                         this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n        if (this.options.ranges) {\n            this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n        if (this.done && this._input) {\n            this.done = false;\n        }\n        if (token) {\n            return token;\n        } else if (this._backtrack) {\n            // recover context\n            for (var k in backup) {\n                this[k] = backup[k];\n            }\n            return false; // rule action called reject() implying the next rule should be tested instead.\n        }\n        return false;\n    },\n\n// return next match in input\nnext:function () {\n        if (this.done) {\n            return this.EOF;\n        }\n        if (!this._input) {\n            this.done = true;\n        }\n\n        var token,\n            match,\n            tempMatch,\n            index;\n        if (!this._more) {\n            this.yytext = '';\n            this.match = '';\n        }\n        var rules = this._currentRules();\n        for (var i = 0; i < rules.length; i++) {\n            tempMatch = this._input.match(this.rules[rules[i]]);\n            if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n                match = tempMatch;\n                index = i;\n                if (this.options.backtrack_lexer) {\n                    token = this.test_match(tempMatch, rules[i]);\n                    if (token !== false) {\n                        return token;\n                    } else if (this._backtrack) {\n                        match = false;\n                        continue; // rule action called reject() implying a rule MISmatch.\n                    } else {\n                        // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                        return false;\n                    }\n                } else if (!this.options.flex) {\n                    break;\n                }\n            }\n        }\n        if (match) {\n            token = this.test_match(match, rules[index]);\n            if (token !== false) {\n                return token;\n            }\n            // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n            return false;\n        }\n        if (this._input === \"\") {\n            return this.EOF;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n        }\n    },\n\n// return next match that has a token\nlex:function lex () {\n        var r = this.next();\n        if (r) {\n            return r;\n        } else {\n            return this.lex();\n        }\n    },\n\n// activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\nbegin:function begin (condition) {\n        this.conditionStack.push(condition);\n    },\n\n// pop the previously active lexer condition state off the condition stack\npopState:function popState () {\n        var n = this.conditionStack.length - 1;\n        if (n > 0) {\n            return this.conditionStack.pop();\n        } else {\n            return this.conditionStack[0];\n        }\n    },\n\n// produce the lexer rule set which is active for the currently active lexer condition state\n_currentRules:function _currentRules () {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n            return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n            return this.conditions[\"INITIAL\"].rules;\n        }\n    },\n\n// return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\ntopState:function topState (n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n        if (n >= 0) {\n            return this.conditionStack[n];\n        } else {\n            return \"INITIAL\";\n        }\n    },\n\n// alias for begin(condition)\npushState:function pushState (condition) {\n        this.begin(condition);\n    },\n\n// return the number of states currently on the stack\nstateStackSize:function stateStackSize() {\n        return this.conditionStack.length;\n    },\noptions: {\"flex\":true,\"case-insensitive\":true},\nperformAction: function anonymous(yy,yy_,$avoiding_name_collisions,YY_START) {\nvar YYSTATE=YY_START;\nswitch($avoiding_name_collisions) {\ncase 0:/* ignore */\nbreak;\ncase 1:return 12\nbreak;\ncase 2:return 15\nbreak;\ncase 3:return 28\nbreak;\ncase 4:return 316\nbreak;\ncase 5:return 317\nbreak;\ncase 6:return 35\nbreak;\ncase 7:return 37\nbreak;\ncase 8:return 38\nbreak;\ncase 9:return 26\nbreak;\ncase 10:return 41\nbreak;\ncase 11:return 45\nbreak;\ncase 12:return 46\nbreak;\ncase 13:return 48\nbreak;\ncase 14:return 50\nbreak;\ncase 15:return 55\nbreak;\ncase 16:return 58\nbreak;\ncase 17:return 320\nbreak;\ncase 18:return 68\nbreak;\ncase 19:return 69\nbreak;\ncase 20:return 75\nbreak;\ncase 21:return 78\nbreak;\ncase 22:return 81\nbreak;\ncase 23:return 83\nbreak;\ncase 24:return 86\nbreak;\ncase 25:return 88\nbreak;\ncase 26:return 90\nbreak;\ncase 27:return 191\nbreak;\ncase 28:return 107\nbreak;\ncase 29:return 321\nbreak;\ncase 30:return 140\nbreak;\ncase 31:return 322\nbreak;\ncase 32:return 323\nbreak;\ncase 33:return 117\nbreak;\ncase 34:return 324\nbreak;\ncase 35:return 116\nbreak;\ncase 36:return 325\nbreak;\ncase 37:return 326\nbreak;\ncase 38:return 120\nbreak;\ncase 39:return 122\nbreak;\ncase 40:return 123\nbreak;\ncase 41:return 138\nbreak;\ncase 42:return 132\nbreak;\ncase 43:return 133\nbreak;\ncase 44:return 135\nbreak;\ncase 45:return 141\nbreak;\ncase 46:return 119\nbreak;\ncase 47:return 327\nbreak;\ncase 48:return 328\nbreak;\ncase 49:return 167\nbreak;\ncase 50:return 170\nbreak;\ncase 51:return 174\nbreak;\ncase 52:return 100\nbreak;\ncase 53:return 168\nbreak;\ncase 54:return 329\nbreak;\ncase 55:return 173\nbreak;\ncase 56:return 231\nbreak;\ncase 57:return 235\nbreak;\ncase 58:return 278\nbreak;\ncase 59:return 195\nbreak;\ncase 60:return 330\nbreak;\ncase 61:return 331\nbreak;\ncase 62:return 224\nbreak;\ncase 63:return 333\nbreak;\ncase 64:return 271\nbreak;\ncase 65:return 219\nbreak;\ncase 66:return 226\nbreak;\ncase 67:return 227\nbreak;\ncase 68:return 250\nbreak;\ncase 69:return 254\nbreak;\ncase 70:return 295\nbreak;\ncase 71:return 334\nbreak;\ncase 72:return 335\nbreak;\ncase 73:return 336\nbreak;\ncase 74:return 337\nbreak;\ncase 75:return 338\nbreak;\ncase 76:return 258\nbreak;\ncase 77:return 339\nbreak;\ncase 78:return 273\nbreak;\ncase 79:return 281\nbreak;\ncase 80:return 282\nbreak;\ncase 81:return 275\nbreak;\ncase 82:return 276\nbreak;\ncase 83:return 277\nbreak;\ncase 84:return 340\nbreak;\ncase 85:return 341\nbreak;\ncase 86:return 279\nbreak;\ncase 87:return 343\nbreak;\ncase 88:return 342\nbreak;\ncase 89:return 344\nbreak;\ncase 90:return 284\nbreak;\ncase 91:return 285\nbreak;\ncase 92:return 288\nbreak;\ncase 93:return 290\nbreak;\ncase 94:return 294\nbreak;\ncase 95:return 298\nbreak;\ncase 96:return 301\nbreak;\ncase 97:return 13\nbreak;\ncase 98:return 16\nbreak;\ncase 99:return 312\nbreak;\ncase 100:return 245\nbreak;\ncase 101:return 34\nbreak;\ncase 102:return 297\nbreak;\ncase 103:return 87\nbreak;\ncase 104:return 299\nbreak;\ncase 105:return 300\nbreak;\ncase 106:return 306\nbreak;\ncase 107:return 307\nbreak;\ncase 108:return 308\nbreak;\ncase 109:return 309\nbreak;\ncase 110:return 310\nbreak;\ncase 111:return 311\nbreak;\ncase 112:return 'EXPONENT'\nbreak;\ncase 113:return 302\nbreak;\ncase 114:return 303\nbreak;\ncase 115:return 304\nbreak;\ncase 116:return 305\nbreak;\ncase 117:return 93\nbreak;\ncase 118:return 246\nbreak;\ncase 119:return 6\nbreak;\ncase 120:return 'INVALID'\nbreak;\ncase 121:console.log(yy_.yytext);\nbreak;\n}\n},\nrules: [/^(?:\\s+|(#[^\\n\\r]*))/i,/^(?:BASE)/i,/^(?:PREFIX)/i,/^(?:SELECT)/i,/^(?:DISTINCT)/i,/^(?:REDUCED)/i,/^(?:\\()/i,/^(?:AS)/i,/^(?:\\))/i,/^(?:\\*)/i,/^(?:CONSTRUCT)/i,/^(?:WHERE)/i,/^(?:\\{)/i,/^(?:\\})/i,/^(?:DESCRIBE)/i,/^(?:ASK)/i,/^(?:FROM)/i,/^(?:NAMED)/i,/^(?:GROUP)/i,/^(?:BY)/i,/^(?:HAVING)/i,/^(?:ORDER)/i,/^(?:ASC)/i,/^(?:DESC)/i,/^(?:LIMIT)/i,/^(?:OFFSET)/i,/^(?:VALUES)/i,/^(?:;)/i,/^(?:LOAD)/i,/^(?:SILENT)/i,/^(?:INTO)/i,/^(?:CLEAR)/i,/^(?:DROP)/i,/^(?:CREATE)/i,/^(?:ADD)/i,/^(?:TO)/i,/^(?:MOVE)/i,/^(?:COPY)/i,/^(?:INSERT((\\s+|(#[^\\n\\r]*)\\n\\r?)+)DATA)/i,/^(?:DELETE((\\s+|(#[^\\n\\r]*)\\n\\r?)+)DATA)/i,/^(?:DELETE((\\s+|(#[^\\n\\r]*)\\n\\r?)+)WHERE)/i,/^(?:WITH)/i,/^(?:DELETE)/i,/^(?:INSERT)/i,/^(?:USING)/i,/^(?:DEFAULT)/i,/^(?:GRAPH)/i,/^(?:ALL)/i,/^(?:\\.)/i,/^(?:OPTIONAL)/i,/^(?:SERVICE)/i,/^(?:BIND)/i,/^(?:UNDEF)/i,/^(?:MINUS)/i,/^(?:UNION)/i,/^(?:FILTER)/i,/^(?:<<)/i,/^(?:>>)/i,/^(?:,)/i,/^(?:a)/i,/^(?:\\|)/i,/^(?:\\/)/i,/^(?:\\^)/i,/^(?:\\?)/i,/^(?:\\+)/i,/^(?:!)/i,/^(?:\\[)/i,/^(?:\\])/i,/^(?:\\|\\|)/i,/^(?:&&)/i,/^(?:=)/i,/^(?:!=)/i,/^(?:<)/i,/^(?:>)/i,/^(?:<=)/i,/^(?:>=)/i,/^(?:IN)/i,/^(?:NOT)/i,/^(?:-)/i,/^(?:BOUND)/i,/^(?:BNODE)/i,/^(?:(RAND|NOW|UUID|STRUUID))/i,/^(?:(LANG|DATATYPE|IRI|URI|ABS|CEIL|FLOOR|ROUND|STRLEN|STR|UCASE|LCASE|ENCODE_FOR_URI|YEAR|MONTH|DAY|HOURS|MINUTES|SECONDS|TIMEZONE|TZ|MD5|SHA1|SHA256|SHA384|SHA512|isIRI|isURI|isBLANK|isLITERAL|isNUMERIC))/i,/^(?:(LANGMATCHES|CONTAINS|STRSTARTS|STRENDS|STRBEFORE|STRAFTER|STRLANG|STRDT|sameTerm))/i,/^(?:CONCAT)/i,/^(?:COALESCE)/i,/^(?:IF)/i,/^(?:REGEX)/i,/^(?:SUBSTR)/i,/^(?:REPLACE)/i,/^(?:EXISTS)/i,/^(?:COUNT)/i,/^(?:SUM|MIN|MAX|AVG|SAMPLE)/i,/^(?:GROUP_CONCAT)/i,/^(?:SEPARATOR)/i,/^(?:\\^\\^)/i,/^(?:true|false)/i,/^(?:(<(?:[^<>\\\"\\{\\}\\|\\^`\\\\\\u0000-\\u0020])*>))/i,/^(?:((([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|[\\uD800-\\uDB7F][\\uDC00-\\uDFFF])(?:(?:(((?:([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|[\\uD800-\\uDB7F][\\uDC00-\\uDFFF])|_))|-|[0-9]|\\u00B7|[\\u0300-\\u036F\\u203F-\\u2040])|\\.)*(((?:([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|[\\uD800-\\uDB7F][\\uDC00-\\uDFFF])|_))|-|[0-9]|\\u00B7|[\\u0300-\\u036F\\u203F-\\u2040]))?)?:))/i,/^(?:(((([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|[\\uD800-\\uDB7F][\\uDC00-\\uDFFF])(?:(?:(((?:([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|[\\uD800-\\uDB7F][\\uDC00-\\uDFFF])|_))|-|[0-9]|\\u00B7|[\\u0300-\\u036F\\u203F-\\u2040])|\\.)*(((?:([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|[\\uD800-\\uDB7F][\\uDC00-\\uDFFF])|_))|-|[0-9]|\\u00B7|[\\u0300-\\u036F\\u203F-\\u2040]))?)?:)((?:((?:([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|[\\uD800-\\uDB7F][\\uDC00-\\uDFFF])|_))|:|[0-9]|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\\\(_|~|\\.|-|!|\\$|&|'|\\(|\\)|\\*|\\+|,|;|=|\\/|\\?|#|@|%))))(?:(?:(((?:([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|[\\uD800-\\uDB7F][\\uDC00-\\uDFFF])|_))|-|[0-9]|\\u00B7|[\\u0300-\\u036F\\u203F-\\u2040])|\\.|:|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\\\(_|~|\\.|-|!|\\$|&|'|\\(|\\)|\\*|\\+|,|;|=|\\/|\\?|#|@|%))))*(?:(((?:([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|[\\uD800-\\uDB7F][\\uDC00-\\uDFFF])|_))|-|[0-9]|\\u00B7|[\\u0300-\\u036F\\u203F-\\u2040])|:|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\\\(_|~|\\.|-|!|\\$|&|'|\\(|\\)|\\*|\\+|,|;|=|\\/|\\?|#|@|%)))))?)))/i,/^(?:(_:(?:((?:([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|[\\uD800-\\uDB7F][\\uDC00-\\uDFFF])|_))|[0-9])(?:(?:(((?:([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|[\\uD800-\\uDB7F][\\uDC00-\\uDFFF])|_))|-|[0-9]|\\u00B7|[\\u0300-\\u036F\\u203F-\\u2040])|\\.)*(((?:([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|[\\uD800-\\uDB7F][\\uDC00-\\uDFFF])|_))|-|[0-9]|\\u00B7|[\\u0300-\\u036F\\u203F-\\u2040]))?))/i,/^(?:([\\?\\$]((?:((?:([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|[\\uD800-\\uDB7F][\\uDC00-\\uDFFF])|_))|[0-9])(?:((?:([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|[\\uD800-\\uDB7F][\\uDC00-\\uDFFF])|_))|[0-9]|\\u00B7|[\\u0300-\\u036F\\u203F-\\u2040])*)))/i,/^(?:(@[a-zA-Z]+(?:-[a-zA-Z0-9]+)*))/i,/^(?:([0-9]+))/i,/^(?:([0-9]*\\.[0-9]+))/i,/^(?:([0-9]+\\.[0-9]*([eE][+-]?[0-9]+)|\\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+)))/i,/^(?:(\\+([0-9]+)))/i,/^(?:(\\+([0-9]*\\.[0-9]+)))/i,/^(?:(\\+([0-9]+\\.[0-9]*([eE][+-]?[0-9]+)|\\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:(-([0-9]+)))/i,/^(?:(-([0-9]*\\.[0-9]+)))/i,/^(?:(-([0-9]+\\.[0-9]*([eE][+-]?[0-9]+)|\\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:([eE][+-]?[0-9]+))/i,/^(?:('(?:(?:[^\\u0027\\u005C\\u000A\\u000D])|(\\\\[tbnrf\\\\\\\"']|\\\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])))*'))/i,/^(?:(\"(?:(?:[^\\u0022\\u005C\\u000A\\u000D])|(\\\\[tbnrf\\\\\\\"']|\\\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])))*\"))/i,/^(?:('''(?:(?:'|'')?(?:[^'\\\\]|(\\\\[tbnrf\\\\\\\"']|\\\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f]))))*'''))/i,/^(?:(\"\"\"(?:(?:\"|\"\")?(?:[^\\\"\\\\]|(\\\\[tbnrf\\\\\\\"']|\\\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f]))))*\"\"\"))/i,/^(?:(\\((\\u0020|\\u0009|\\u000D|\\u000A)*\\)))/i,/^(?:(\\[(\\u0020|\\u0009|\\u000D|\\u000A)*\\]))/i,/^(?:$)/i,/^(?:.)/i,/^(?:.)/i],\nconditions: {\"INITIAL\":{\"rules\":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121],\"inclusive\":true}}\n});\nreturn lexer;\n})();\nparser.lexer = lexer;\nfunction Parser () {\n  this.yy = {};\n}\nParser.prototype = parser;parser.Parser = Parser;\nreturn new Parser;\n})();\n\n\nif (typeof require !== 'undefined' && typeof exports !== 'undefined') {\nexports.parser = SparqlParser;\nexports.Parser = SparqlParser.Parser;\nexports.parse = function () { return SparqlParser.parse.apply(SparqlParser, arguments); };\nexports.main = function commonjsMain (args) {\n    if (!args[1]) {\n        console.log('Usage: '+args[0]+' FILE');\n        process.exit(1);\n    }\n    var source = require('fs').readFileSync(require('path').normalize(args[1]), \"utf8\");\n    return exports.parser.parse(source);\n};\nif (typeof module !== 'undefined' && require.main === module) {\n  exports.main(process.argv.slice(1));\n}\n}","\n// Wildcard constructor\nclass Wildcard {\n  constructor() {\n    return WILDCARD || this;\n  }\n\n  equals(other) {\n    return other && (this.termType === other.termType);\n  }\n}\n\nObject.defineProperty(Wildcard.prototype, 'value', {\n  enumerable: true,\n  value: '*',\n});\n\nObject.defineProperty(Wildcard.prototype, 'termType', {\n  enumerable: true,\n  value: 'Wildcard',\n});\n\n\n// Wildcard singleton\nvar WILDCARD = new Wildcard();\n\nmodule.exports.Wildcard = Wildcard;\n","var Parser = require('./lib/SparqlParser').Parser;\nvar Generator = require('./lib/SparqlGenerator');\nvar Wildcard = require(\"./lib/Wildcard\").Wildcard;\nvar { DataFactory } = require('rdf-data-factory');\n\nmodule.exports = {\n  /**\n   * Creates a SPARQL parser with the given pre-defined prefixes and base IRI\n   * @param options {\n   *   prefixes?: { [prefix: string]: string },\n   *   baseIRI?: string,\n   *   factory?: import('rdf-js').DataFactory,\n   *   sparqlStar?: boolean,\n   *   skipValidation?: boolean,\n   *   skipUngroupedVariableCheck?: boolean\n   * }\n   */\n  Parser: function ({ prefixes, baseIRI, factory, sparqlStar, skipValidation, skipUngroupedVariableCheck } = {}) {\n\n    // Create a copy of the prefixes\n    var prefixesCopy = {};\n    for (var prefix in prefixes || {})\n      prefixesCopy[prefix] = prefixes[prefix];\n\n    // Create a new parser with the given prefixes\n    // (Workaround for https://github.com/zaach/jison/issues/241)\n    var parser = new Parser();\n    parser.parse = function () {\n      Parser.base = baseIRI || '';\n      Parser.prefixes = Object.create(prefixesCopy);\n      Parser.factory = factory || new DataFactory();\n      Parser.sparqlStar = Boolean(sparqlStar);\n      // We keep skipUngroupedVariableCheck for compatibility reasons.\n      Parser.skipValidation = Boolean(skipValidation) || Boolean(skipUngroupedVariableCheck)\n      return Parser.prototype.parse.apply(parser, arguments);\n    };\n    parser._resetBlanks = Parser._resetBlanks;\n    return parser;\n  },\n  Generator: Generator,\n  Wildcard: Wildcard,\n};\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./lib/SparqlJsonParser\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SparqlJsonParser = void 0;\nconst rdf_data_factory_1 = require(\"rdf-data-factory\");\nconst readable_stream_1 = require(\"readable-stream\");\n// tslint:disable-next-line:no-var-requires\nconst JsonParser = require('jsonparse');\n/**\n * Parser for the SPARQL 1.1 Query Results JSON format.\n * @see https://www.w3.org/TR/sparql11-results-json/\n */\nclass SparqlJsonParser {\n    constructor(settings) {\n        settings = settings || {};\n        this.dataFactory = settings.dataFactory || new rdf_data_factory_1.DataFactory();\n        this.prefixVariableQuestionMark = !!settings.prefixVariableQuestionMark;\n    }\n    /**\n     * Convert a SPARQL JSON bindings response to an array of bindings objects.\n     * @param sparqlResponse A SPARQL JSON response.\n     * @return {IBindings[]} An array of bindings.\n     */\n    parseJsonResults(sparqlResponse) {\n        return sparqlResponse.results.bindings.map((rawBindings) => this.parseJsonBindings(rawBindings));\n    }\n    /**\n     * Convert a SPARQL JSON bindings response stream to a stream of bindings objects.\n     *\n     * The bindings stream will emit a 'variables' event that will contain\n     * the array of variables (as RDF.Variable[]), as defined in the response head.\n     *\n     * @param {NodeJS.ReadableStream} sparqlResponseStream A SPARQL JSON response stream.\n     * @return {NodeJS.ReadableStream} A stream of bindings.\n     */\n    parseJsonResultsStream(sparqlResponseStream) {\n        const errorListener = (error) => resultStream.emit('error', error);\n        sparqlResponseStream.on('error', errorListener);\n        const jsonParser = new JsonParser();\n        jsonParser.onError = errorListener;\n        let variablesFound = false;\n        let resultsFound = false;\n        jsonParser.onValue = (value) => {\n            if (jsonParser.key === \"vars\" && jsonParser.stack.length === 2 && jsonParser.stack[1].key === 'head') {\n                resultStream.emit('variables', value.map((v) => this.dataFactory.variable(v)));\n                variablesFound = true;\n            }\n            else if (jsonParser.key === \"results\" && jsonParser.stack.length === 1) {\n                resultsFound = true;\n            }\n            else if (typeof jsonParser.key === 'number' && jsonParser.stack.length === 3 && jsonParser.stack[1].key === 'results' && jsonParser.stack[2].key === 'bindings') {\n                resultStream.push(this.parseJsonBindings(value));\n            }\n            else if (jsonParser.key === \"metadata\" && jsonParser.stack.length === 1) {\n                resultStream.emit('metadata', value);\n            }\n        };\n        const resultStream = sparqlResponseStream\n            .on(\"end\", _ => {\n            if (!resultsFound) {\n                resultStream.emit(\"error\", new Error(\"No valid SPARQL query results were found.\"));\n            }\n            else if (!variablesFound) {\n                resultStream.emit('variables', []);\n            }\n        })\n            .pipe(new readable_stream_1.Transform({\n            objectMode: true,\n            transform(chunk, encoding, callback) {\n                jsonParser.write(chunk);\n                callback();\n            }\n        }));\n        return resultStream;\n    }\n    /**\n     * Convert a SPARQL JSON result binding to a bindings object.\n     * @param rawBindings A SPARQL JSON result binding.\n     * @return {IBindings} A bindings object.\n     */\n    parseJsonBindings(rawBindings) {\n        const bindings = {};\n        for (const key in rawBindings) {\n            const rawValue = rawBindings[key];\n            let value = null;\n            switch (rawValue.type) {\n                case 'bnode':\n                    value = this.dataFactory.blankNode(rawValue.value);\n                    break;\n                case 'literal':\n                    if (rawValue['xml:lang']) {\n                        value = this.dataFactory.literal(rawValue.value, rawValue['xml:lang']);\n                    }\n                    else if (rawValue.datatype) {\n                        value = this.dataFactory.literal(rawValue.value, this.dataFactory.namedNode(rawValue.datatype));\n                    }\n                    else {\n                        value = this.dataFactory.literal(rawValue.value);\n                    }\n                    break;\n                case 'typed-literal':\n                    // Virtuoso uses this non-spec-compliant way of defining typed literals\n                    value = this.dataFactory.literal(rawValue.value, this.dataFactory.namedNode(rawValue.datatype));\n                    break;\n                default:\n                    value = this.dataFactory.namedNode(rawValue.value);\n                    break;\n            }\n            bindings[this.prefixVariableQuestionMark ? ('?' + key) : key] = value;\n        }\n        return bindings;\n    }\n    /**\n     * Convert a SPARQL JSON boolean response to a boolean.\n     * This will throw an error if the given reponse was not a valid boolean response.\n     * @param sparqlResponse A SPARQL JSON response.\n     * @return {IBindings[]} An array of bindings.\n     */\n    parseJsonBoolean(sparqlResponse) {\n        if ('boolean' in sparqlResponse) {\n            return sparqlResponse.boolean;\n        }\n        throw new Error('No valid ASK response was found.');\n    }\n    /**\n     * Convert a SPARQL JSON boolean response stream to a promise resolving to a boolean.\n     * This will reject if the given reponse was not a valid boolean response.\n     * @param {NodeJS.ReadableStream} sparqlResponseStream A SPARQL JSON response stream.\n     * @return {Promise<boolean>} The response boolean.\n     */\n    parseJsonBooleanStream(sparqlResponseStream) {\n        return new Promise((resolve, reject) => {\n            const parser = new JsonParser();\n            parser.onError = reject;\n            parser.onValue = (value) => {\n                if (parser.key === \"boolean\" && typeof value === 'boolean' && parser.stack.length === 1) {\n                    resolve(value);\n                }\n            };\n            sparqlResponseStream\n                .on('error', reject)\n                .on('data', d => parser.write(d))\n                .on('end', () => reject(new Error('No valid ASK response was found.')));\n        });\n    }\n}\nexports.SparqlJsonParser = SparqlJsonParser;\n//# sourceMappingURL=SparqlJsonParser.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./lib/Converter\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Converter = void 0;\nconst rdf_literal_1 = require(\"rdf-literal\");\nconst sparqljson_parse_1 = require(\"sparqljson-parse\");\n/**\n * Converts SPARQL JSON results to a tree-based structure by splitting variables on a certain delimiter.\n */\nclass Converter {\n    constructor(settings) {\n        settings = settings || { delimiter: '_' };\n        settings.prefixVariableQuestionMark = false;\n        this.delimiter = settings.delimiter || '_';\n        this.parser = new sparqljson_parse_1.SparqlJsonParser(settings);\n        this.materializeRdfJsTerms = settings.materializeRdfJsTerms;\n    }\n    /**\n     * Adds a value to a tree.\n     * @param tree A tree datastructure.\n     * @param {string[]} path The path of keys in the tree.\n     * @param {Term} value A value to add.\n     * @param {string} lastKeyPath The accumulated key path (separated by the given delimiter)\n     *                             through recursive calls, can be empty.\n     * @param {ISchema} schema A schema.\n     * @param {string} delimiter The string to join key paths by.\n     */\n    static addValueToTree(tree, path, value, lastKeyPath, schema, delimiter) {\n        const key = path[0];\n        const keyPath = lastKeyPath ? (lastKeyPath + delimiter + key) : key;\n        const singularize = schema.singularizeVariables[keyPath];\n        if (path.length === 1) {\n            // Leaf nodes\n            if (singularize) {\n                if (!tree[key]) {\n                    tree[key] = value;\n                }\n            }\n            else {\n                if (!tree[key]) {\n                    tree[key] = [];\n                }\n                tree[key].push(value);\n            }\n        }\n        else {\n            // Inner nodes\n            let nextNode;\n            if (singularize) {\n                if (!tree[key]) {\n                    tree[key] = {};\n                }\n                nextNode = tree[key];\n            }\n            else {\n                if (!tree[key]) {\n                    tree[key] = [{}];\n                }\n                nextNode = tree[key][0];\n            }\n            Converter.addValueToTree(nextNode, path.slice(1), value, keyPath, schema, delimiter);\n        }\n    }\n    /**\n     * Recursively merge the two given trees.\n     * @param tree1 A first tree (has key priority on literals).\n     * @param tree2 A second tree. All arrays will/should only have a single element.\n     * @return {any} The merged tree.\n     */\n    static mergeTrees(tree1, tree2) {\n        if (typeof tree1 !== typeof tree2) {\n            throw new Error(`Two incompatible tree nodes were found: ${typeof tree1} and ${typeof tree2}`);\n        }\n        if (Array.isArray(tree1) !== Array.isArray(tree2)) {\n            throw new Error(`Two incompatible tree nodes were found: Array?${Array.isArray(tree1)} and Array?${Array.isArray(tree2)}`);\n        }\n        if (typeof tree1 === 'object' && typeof tree2 === 'object') {\n            if (tree1.termType && tree2.termType) {\n                if (tree1.equals(tree2)) {\n                    return { valid: true, result: tree1 };\n                }\n                else {\n                    return { valid: false, result: tree1 };\n                }\n            }\n            if (Array.isArray(tree1) && Array.isArray(tree2)) {\n                if (tree1.length > 0) {\n                    const merged = [];\n                    let valid = false;\n                    for (const tree1Element of tree1) {\n                        const mergedElement = Converter.mergeTrees(tree1Element, tree2[0]);\n                        if (mergedElement.valid) {\n                            valid = true;\n                            merged.push(mergedElement.result);\n                        }\n                        else {\n                            merged.push(tree1Element);\n                        }\n                    }\n                    if (valid) {\n                        return { valid: true, result: merged };\n                    }\n                }\n                return { valid: true, result: tree1.concat(tree2) };\n            }\n            else {\n                const merged = {};\n                for (const key2 in tree2) {\n                    merged[key2] = tree2[key2];\n                }\n                for (const key1 in tree1) {\n                    if (merged[key1]) {\n                        const mergedElement = Converter.mergeTrees(tree1[key1], merged[key1]);\n                        if (mergedElement.valid) {\n                            merged[key1] = mergedElement.result;\n                        }\n                        else {\n                            return { valid: false, result: tree1 };\n                        }\n                    }\n                    else {\n                        merged[key1] = tree1[key1];\n                    }\n                }\n                return { valid: true, result: merged };\n            }\n        }\n        else {\n            throw new Error(`Unmergable tree types: ${typeof tree1} and ${typeof tree2}`);\n        }\n    }\n    /**\n     * Materialize all RDF terms in the given tree to raw values.\n     * This does not mutate the original tree.\n     * @param tree A tree.\n     * @return {any} A materialized tree.\n     */\n    static materializeTree(tree) {\n        if (tree.termType) {\n            return (0, rdf_literal_1.getTermRaw)(tree);\n        }\n        else if (Array.isArray(tree)) {\n            return tree.map(Converter.materializeTree);\n        }\n        else {\n            const materialized = {};\n            for (const key in tree) {\n                materialized[key] = Converter.materializeTree(tree[key]);\n            }\n            return materialized;\n        }\n    }\n    /**\n     * Convert a complete SPARQL JSON response to a GraphQL results tree.\n     * @param sparqlResponse A SPARQL JSON response.\n     * @param {ISchema} schema A schema.\n     * @return {any} A GraphQL results tree.\n     */\n    sparqlJsonResultsToTree(sparqlResponse, schema) {\n        return this.bindingsToTree(this.parser.parseJsonResults(sparqlResponse), schema || { singularizeVariables: {} });\n    }\n    /**\n     * Convert an array of bindings to a GraphQL results tree.\n     * @param {IBindings[]} bindingsArray An array of bindings.\n     * @param {ISchema} schema A schema.\n     * @return {any} A GraphQL results tree.\n     */\n    bindingsToTree(bindingsArray, schema) {\n        const singularRoot = schema && schema.singularizeVariables[''];\n        let tree = singularRoot ? {} : [];\n        for (const bindings of bindingsArray) {\n            const subTree = singularRoot ? {} : [{}];\n            for (const key in bindings) {\n                const path = key.split(this.delimiter);\n                const value = bindings[key];\n                Converter.addValueToTree(singularRoot ? subTree : subTree[0], path, value, '', schema, this.delimiter);\n            }\n            tree = Converter.mergeTrees(tree, subTree).result;\n        }\n        if (this.materializeRdfJsTerms) {\n            tree = Converter.materializeTree(tree);\n        }\n        return tree;\n    }\n}\nexports.Converter = Converter;\n//# sourceMappingURL=Converter.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./lib/SparqlXmlParser\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SparqlXmlParser = void 0;\nconst rdf_data_factory_1 = require(\"rdf-data-factory\");\nconst saxes_1 = require(\"saxes\");\nconst readable_stream_1 = require(\"readable-stream\");\n/**\n * Parser for the SPARQL Query Results XML format.\n * @see https://www.w3.org/TR/rdf-sparql-XMLres/\n */\nclass SparqlXmlParser {\n    constructor(settings) {\n        settings = settings || {};\n        this.dataFactory = settings.dataFactory || new rdf_data_factory_1.DataFactory();\n        this.prefixVariableQuestionMark = !!settings.prefixVariableQuestionMark;\n    }\n    /**\n     * Convert a SPARQL XML bindings response stream to a stream of bindings objects.\n     *\n     * The bindings stream will emit a 'variables' event that will contain\n     * the array of variables (as RDF.Variable[]), as defined in the response head.\n     *\n     * @param {NodeJS.ReadableStream} sparqlResponseStream A SPARQL XML response stream.\n     * @return {NodeJS.ReadableStream} A stream of bindings.\n     */\n    parseXmlResultsStream(sparqlResponseStream) {\n        const errorListener = (error) => resultStream.emit('error', error);\n        sparqlResponseStream.on('error', errorListener);\n        const parser = new saxes_1.SaxesParser();\n        const stack = [];\n        let variablesFound = false;\n        let resultsFound = false;\n        const variables = [];\n        let currentBindings = {};\n        let currentBindingName = '';\n        let currentBindingType = '';\n        let currentBindingAnnotation;\n        let currentText = '';\n        parser.on(\"error\", errorListener);\n        parser.on(\"opentag\", tag => {\n            if (tag.name === \"variable\" && this.stackEquals(stack, ['sparql', 'head'])) {\n                variables.push(this.dataFactory.variable(tag.attributes.name));\n            }\n            else if (tag.name === \"results\" && this.stackEquals(stack, ['sparql'])) {\n                resultsFound = true;\n            }\n            else if (tag.name === 'result' && this.stackEquals(stack, ['sparql', 'results'])) {\n                currentBindings = {};\n            }\n            else if (tag.name === 'binding' && this.stackEquals(stack, ['sparql', 'results', 'result'])) {\n                currentBindingName = tag.attributes.name || '';\n                currentBindingType = '';\n                currentBindingAnnotation = '';\n                currentText = '';\n            }\n            else if (this.stackEquals(stack, ['sparql', 'results', 'result', 'binding'])) {\n                currentBindingType = tag.name;\n                if ('xml:lang' in tag.attributes) {\n                    currentBindingAnnotation = tag.attributes['xml:lang'];\n                }\n                else if ('datatype' in tag.attributes) {\n                    currentBindingAnnotation = this.dataFactory.namedNode(tag.attributes.datatype);\n                }\n                else {\n                    currentBindingAnnotation = undefined;\n                }\n            }\n            stack.push(tag.name);\n        });\n        parser.on(\"closetag\", tag => {\n            if (this.stackEquals(stack, ['sparql', 'head'])) {\n                resultStream.emit(\"variables\", variables);\n                variablesFound = true;\n            }\n            if (this.stackEquals(stack, ['sparql', 'results', 'result'])) {\n                resultStream.push(currentBindings);\n            }\n            if (this.stackEquals(stack, ['sparql', 'results', 'result', 'binding'])) {\n                const key = this.prefixVariableQuestionMark ? ('?' + currentBindingName) : currentBindingName;\n                if (!currentBindingName && currentBindingType) {\n                    errorListener(new Error(`Terms should have a name on line ${parser.line + 1}`));\n                }\n                else if (currentBindingType === 'uri') {\n                    currentBindings[key] = this.dataFactory.namedNode(currentText);\n                }\n                else if (currentBindingType === 'bnode') {\n                    currentBindings[key] = this.dataFactory.blankNode(currentText);\n                }\n                else if (currentBindingType === 'literal') {\n                    currentBindings[key] = this.dataFactory.literal(currentText, currentBindingAnnotation);\n                }\n                else if (currentBindingType) {\n                    errorListener(new Error(`Invalid term type '${currentBindingType}' on line ${parser.line + 1}`));\n                }\n            }\n            stack.pop();\n        });\n        parser.on(\"text\", text => {\n            if (this.stackEquals(stack, ['sparql', 'results', 'result', 'binding', currentBindingType])) {\n                currentText = text;\n            }\n        });\n        const resultStream = sparqlResponseStream\n            .on(\"end\", _ => {\n            if (!resultsFound) {\n                resultStream.emit(\"error\", new Error(\"No valid SPARQL query results were found.\"));\n            }\n            else if (!variablesFound) {\n                resultStream.emit('variables', []);\n            }\n        })\n            .pipe(new readable_stream_1.Transform({\n            objectMode: true,\n            transform(chunk, encoding, callback) {\n                parser.write(chunk);\n                callback();\n            }\n        }));\n        return resultStream;\n    }\n    /**\n     * Convert a SPARQL XML boolean response stream to a promise resolving to a boolean.\n     * This will reject if the given response was not a valid boolean response.\n     * @param {NodeJS.ReadableStream} sparqlResponseStream A SPARQL XML response stream.\n     * @return {Promise<boolean>} The response boolean.\n     */\n    parseXmlBooleanStream(sparqlResponseStream) {\n        return new Promise((resolve, reject) => {\n            const parser = new saxes_1.SaxesParser();\n            const stack = [];\n            parser.on(\"error\", reject);\n            parser.on(\"opentag\", tag => {\n                stack.push(tag.name);\n            });\n            parser.on(\"closetag\", _ => {\n                stack.pop();\n            });\n            parser.on(\"text\", text => {\n                if (this.stackEquals(stack, ['sparql', 'boolean'])) {\n                    resolve(text === 'true');\n                }\n            });\n            sparqlResponseStream\n                .on('error', reject)\n                .on('data', d => parser.write(d))\n                .on('end', () => reject(new Error('No valid ASK response was found.')));\n        });\n    }\n    stackEquals(a, b) {\n        return a.length === b.length && a.every((v, i) => b[i] === v);\n    }\n}\nexports.SparqlXmlParser = SparqlXmlParser;\n//# sourceMappingURL=SparqlXmlParser.js.map","var Promise = require('promise-polyfill')\n\nmodule.exports = function (stream, enc, cb) {\n    if (typeof enc === 'function') {\n        cb = enc\n        enc = null\n    }\n    cb = cb || function () {}\n\n    var str = ''\n\n    return new Promise (function (resolve, reject) {\n        stream.on('data', function (data) {\n            str += (typeof enc === 'string') ? data.toString(enc) : data.toString()\n        })\n        stream.on('end', function () {\n            resolve(str)\n            cb(null, str)\n        })\n        stream.on('error', function (err) {\n            reject(err)\n            cb(err)\n        })\n    })\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\n/*</replacement>*/\n\nvar isEncoding = Buffer.isEncoding || function (encoding) {\n  encoding = '' + encoding;\n  switch (encoding && encoding.toLowerCase()) {\n    case 'hex':case 'utf8':case 'utf-8':case 'ascii':case 'binary':case 'base64':case 'ucs2':case 'ucs-2':case 'utf16le':case 'utf-16le':case 'raw':\n      return true;\n    default:\n      return false;\n  }\n};\n\nfunction _normalizeEncoding(enc) {\n  if (!enc) return 'utf8';\n  var retried;\n  while (true) {\n    switch (enc) {\n      case 'utf8':\n      case 'utf-8':\n        return 'utf8';\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return 'utf16le';\n      case 'latin1':\n      case 'binary':\n        return 'latin1';\n      case 'base64':\n      case 'ascii':\n      case 'hex':\n        return enc;\n      default:\n        if (retried) return; // undefined\n        enc = ('' + enc).toLowerCase();\n        retried = true;\n    }\n  }\n};\n\n// Do not cache `Buffer.isEncoding` when checking encoding names as some\n// modules monkey-patch it to support additional encodings\nfunction normalizeEncoding(enc) {\n  var nenc = _normalizeEncoding(enc);\n  if (typeof nenc !== 'string' && (Buffer.isEncoding === isEncoding || !isEncoding(enc))) throw new Error('Unknown encoding: ' + enc);\n  return nenc || enc;\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters.\nexports.StringDecoder = StringDecoder;\nfunction StringDecoder(encoding) {\n  this.encoding = normalizeEncoding(encoding);\n  var nb;\n  switch (this.encoding) {\n    case 'utf16le':\n      this.text = utf16Text;\n      this.end = utf16End;\n      nb = 4;\n      break;\n    case 'utf8':\n      this.fillLast = utf8FillLast;\n      nb = 4;\n      break;\n    case 'base64':\n      this.text = base64Text;\n      this.end = base64End;\n      nb = 3;\n      break;\n    default:\n      this.write = simpleWrite;\n      this.end = simpleEnd;\n      return;\n  }\n  this.lastNeed = 0;\n  this.lastTotal = 0;\n  this.lastChar = Buffer.allocUnsafe(nb);\n}\n\nStringDecoder.prototype.write = function (buf) {\n  if (buf.length === 0) return '';\n  var r;\n  var i;\n  if (this.lastNeed) {\n    r = this.fillLast(buf);\n    if (r === undefined) return '';\n    i = this.lastNeed;\n    this.lastNeed = 0;\n  } else {\n    i = 0;\n  }\n  if (i < buf.length) return r ? r + this.text(buf, i) : this.text(buf, i);\n  return r || '';\n};\n\nStringDecoder.prototype.end = utf8End;\n\n// Returns only complete characters in a Buffer\nStringDecoder.prototype.text = utf8Text;\n\n// Attempts to complete a partial non-UTF-8 character using bytes from a Buffer\nStringDecoder.prototype.fillLast = function (buf) {\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, buf.length);\n  this.lastNeed -= buf.length;\n};\n\n// Checks the type of a UTF-8 byte, whether it's ASCII, a leading byte, or a\n// continuation byte. If an invalid byte is detected, -2 is returned.\nfunction utf8CheckByte(byte) {\n  if (byte <= 0x7F) return 0;else if (byte >> 5 === 0x06) return 2;else if (byte >> 4 === 0x0E) return 3;else if (byte >> 3 === 0x1E) return 4;\n  return byte >> 6 === 0x02 ? -1 : -2;\n}\n\n// Checks at most 3 bytes at the end of a Buffer in order to detect an\n// incomplete multi-byte UTF-8 character. The total number of bytes (2, 3, or 4)\n// needed to complete the UTF-8 character (if applicable) are returned.\nfunction utf8CheckIncomplete(self, buf, i) {\n  var j = buf.length - 1;\n  if (j < i) return 0;\n  var nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 1;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 2;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) {\n      if (nb === 2) nb = 0;else self.lastNeed = nb - 3;\n    }\n    return nb;\n  }\n  return 0;\n}\n\n// Validates as many continuation bytes for a multi-byte UTF-8 character as\n// needed or are available. If we see a non-continuation byte where we expect\n// one, we \"replace\" the validated continuation bytes we've seen so far with\n// a single UTF-8 replacement character ('\\ufffd'), to match v8's UTF-8 decoding\n// behavior. The continuation byte check is included three times in the case\n// where all of the continuation bytes for a character exist in the same buffer.\n// It is also done this way as a slight performance increase instead of using a\n// loop.\nfunction utf8CheckExtraBytes(self, buf, p) {\n  if ((buf[0] & 0xC0) !== 0x80) {\n    self.lastNeed = 0;\n    return '\\ufffd';\n  }\n  if (self.lastNeed > 1 && buf.length > 1) {\n    if ((buf[1] & 0xC0) !== 0x80) {\n      self.lastNeed = 1;\n      return '\\ufffd';\n    }\n    if (self.lastNeed > 2 && buf.length > 2) {\n      if ((buf[2] & 0xC0) !== 0x80) {\n        self.lastNeed = 2;\n        return '\\ufffd';\n      }\n    }\n  }\n}\n\n// Attempts to complete a multi-byte UTF-8 character using bytes from a Buffer.\nfunction utf8FillLast(buf) {\n  var p = this.lastTotal - this.lastNeed;\n  var r = utf8CheckExtraBytes(this, buf, p);\n  if (r !== undefined) return r;\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, p, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, p, 0, buf.length);\n  this.lastNeed -= buf.length;\n}\n\n// Returns all complete UTF-8 characters in a Buffer. If the Buffer ended on a\n// partial character, the character's bytes are buffered until the required\n// number of bytes are available.\nfunction utf8Text(buf, i) {\n  var total = utf8CheckIncomplete(this, buf, i);\n  if (!this.lastNeed) return buf.toString('utf8', i);\n  this.lastTotal = total;\n  var end = buf.length - (total - this.lastNeed);\n  buf.copy(this.lastChar, 0, end);\n  return buf.toString('utf8', i, end);\n}\n\n// For UTF-8, a replacement character is added when ending on a partial\n// character.\nfunction utf8End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + '\\ufffd';\n  return r;\n}\n\n// UTF-16LE typically needs two bytes per character, but even if we have an even\n// number of bytes available, we need to check if we end on a leading/high\n// surrogate. In that case, we need to wait for the next two bytes in order to\n// decode the last character properly.\nfunction utf16Text(buf, i) {\n  if ((buf.length - i) % 2 === 0) {\n    var r = buf.toString('utf16le', i);\n    if (r) {\n      var c = r.charCodeAt(r.length - 1);\n      if (c >= 0xD800 && c <= 0xDBFF) {\n        this.lastNeed = 2;\n        this.lastTotal = 4;\n        this.lastChar[0] = buf[buf.length - 2];\n        this.lastChar[1] = buf[buf.length - 1];\n        return r.slice(0, -1);\n      }\n    }\n    return r;\n  }\n  this.lastNeed = 1;\n  this.lastTotal = 2;\n  this.lastChar[0] = buf[buf.length - 1];\n  return buf.toString('utf16le', i, buf.length - 1);\n}\n\n// For UTF-16LE we do not explicitly append special replacement characters if we\n// end on a partial character, we simply let v8 handle that.\nfunction utf16End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) {\n    var end = this.lastTotal - this.lastNeed;\n    return r + this.lastChar.toString('utf16le', 0, end);\n  }\n  return r;\n}\n\nfunction base64Text(buf, i) {\n  var n = (buf.length - i) % 3;\n  if (n === 0) return buf.toString('base64', i);\n  this.lastNeed = 3 - n;\n  this.lastTotal = 3;\n  if (n === 1) {\n    this.lastChar[0] = buf[buf.length - 1];\n  } else {\n    this.lastChar[0] = buf[buf.length - 2];\n    this.lastChar[1] = buf[buf.length - 1];\n  }\n  return buf.toString('base64', i, buf.length - n);\n}\n\nfunction base64End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + this.lastChar.toString('base64', 0, 3 - this.lastNeed);\n  return r;\n}\n\n// Pass bytes on through for single-byte encodings (e.g. ascii, latin1, hex)\nfunction simpleWrite(buf) {\n  return buf.toString(this.encoding);\n}\n\nfunction simpleEnd(buf) {\n  return buf && buf.length ? this.write(buf) : '';\n}","\n/**\n * Module exports.\n */\n\nmodule.exports = deprecate;\n\n/**\n * Mark that a method should not be used.\n * Returns a modified function which warns once by default.\n *\n * If `localStorage.noDeprecation = true` is set, then it is a no-op.\n *\n * If `localStorage.throwDeprecation = true` is set, then deprecated functions\n * will throw an Error when invoked.\n *\n * If `localStorage.traceDeprecation = true` is set, then deprecated functions\n * will invoke `console.trace()` instead of `console.error()`.\n *\n * @param {Function} fn - the function to deprecate\n * @param {String} msg - the string to print to the console when `fn` is invoked\n * @returns {Function} a new \"deprecated\" version of `fn`\n * @api public\n */\n\nfunction deprecate (fn, msg) {\n  if (config('noDeprecation')) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (config('throwDeprecation')) {\n        throw new Error(msg);\n      } else if (config('traceDeprecation')) {\n        console.trace(msg);\n      } else {\n        console.warn(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n}\n\n/**\n * Checks `localStorage` for boolean values for the given `name`.\n *\n * @param {String} name\n * @returns {Boolean}\n * @api private\n */\n\nfunction config (name) {\n  // accessing global.localStorage can trigger a DOMException in sandboxed iframes\n  try {\n    if (!global.localStorage) return false;\n  } catch (_) {\n    return false;\n  }\n  var val = global.localStorage[name];\n  if (null == val) return false;\n  return String(val).toLowerCase() === 'true';\n}\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import rng from './rng.js';\nimport stringify from './stringify.js'; // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\n\nvar _clockseq; // Previous uuid creation time\n\n\nvar _lastMSecs = 0;\nvar _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || new Array(16);\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    var seedBytes = options.random || (options.rng || rng)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  var msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  var tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || stringify(b);\n}\n\nexport default v1;","import validate from './validate.js';\n\nfunction parse(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  var v;\n  var arr = new Uint8Array(16); // Parse ########-....-....-....-............\n\n  arr[0] = (v = parseInt(uuid.slice(0, 8), 16)) >>> 24;\n  arr[1] = v >>> 16 & 0xff;\n  arr[2] = v >>> 8 & 0xff;\n  arr[3] = v & 0xff; // Parse ........-####-....-....-............\n\n  arr[4] = (v = parseInt(uuid.slice(9, 13), 16)) >>> 8;\n  arr[5] = v & 0xff; // Parse ........-....-####-....-............\n\n  arr[6] = (v = parseInt(uuid.slice(14, 18), 16)) >>> 8;\n  arr[7] = v & 0xff; // Parse ........-....-....-####-............\n\n  arr[8] = (v = parseInt(uuid.slice(19, 23), 16)) >>> 8;\n  arr[9] = v & 0xff; // Parse ........-....-....-....-############\n  // (Use \"/\" to avoid 32-bit truncation when bit-shifting high-order bytes)\n\n  arr[10] = (v = parseInt(uuid.slice(24, 36), 16)) / 0x10000000000 & 0xff;\n  arr[11] = v / 0x100000000 & 0xff;\n  arr[12] = v >>> 24 & 0xff;\n  arr[13] = v >>> 16 & 0xff;\n  arr[14] = v >>> 8 & 0xff;\n  arr[15] = v & 0xff;\n  return arr;\n}\n\nexport default parse;","import stringify from './stringify.js';\nimport parse from './parse.js';\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  var bytes = [];\n\n  for (var i = 0; i < str.length; ++i) {\n    bytes.push(str.charCodeAt(i));\n  }\n\n  return bytes;\n}\n\nexport var DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nexport var URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\nexport default function (name, version, hashfunc) {\n  function generateUUID(value, namespace, buf, offset) {\n    if (typeof value === 'string') {\n      value = stringToBytes(value);\n    }\n\n    if (typeof namespace === 'string') {\n      namespace = parse(namespace);\n    }\n\n    if (namespace.length !== 16) {\n      throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');\n    } // Compute hash of namespace and value, Per 4.3\n    // Future: Use spread syntax when supported on all platforms, e.g. `bytes =\n    // hashfunc([...namespace, ... value])`\n\n\n    var bytes = new Uint8Array(16 + value.length);\n    bytes.set(namespace);\n    bytes.set(value, namespace.length);\n    bytes = hashfunc(bytes);\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      offset = offset || 0;\n\n      for (var i = 0; i < 16; ++i) {\n        buf[offset + i] = bytes[i];\n      }\n\n      return buf;\n    }\n\n    return stringify(bytes);\n  } // Function#name is not settable on some platforms (#270)\n\n\n  try {\n    generateUUID.name = name; // eslint-disable-next-line no-empty\n  } catch (err) {} // For CommonJS default export support\n\n\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}","/*\n * Browser-compatible JavaScript MD5\n *\n * Modification of JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\nfunction md5(bytes) {\n  if (typeof bytes === 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = new Uint8Array(msg.length);\n\n    for (var i = 0; i < msg.length; ++i) {\n      bytes[i] = msg.charCodeAt(i);\n    }\n  }\n\n  return md5ToHexEncodedArray(wordsToMd5(bytesToWords(bytes), bytes.length * 8));\n}\n/*\n * Convert an array of little-endian words to an array of bytes\n */\n\n\nfunction md5ToHexEncodedArray(input) {\n  var output = [];\n  var length32 = input.length * 32;\n  var hexTab = '0123456789abcdef';\n\n  for (var i = 0; i < length32; i += 8) {\n    var x = input[i >> 5] >>> i % 32 & 0xff;\n    var hex = parseInt(hexTab.charAt(x >>> 4 & 0x0f) + hexTab.charAt(x & 0x0f), 16);\n    output.push(hex);\n  }\n\n  return output;\n}\n/**\n * Calculate output length with padding and bit length\n */\n\n\nfunction getOutputLength(inputLength8) {\n  return (inputLength8 + 64 >>> 9 << 4) + 14 + 1;\n}\n/*\n * Calculate the MD5 of an array of little-endian words, and a bit length.\n */\n\n\nfunction wordsToMd5(x, len) {\n  /* append padding */\n  x[len >> 5] |= 0x80 << len % 32;\n  x[getOutputLength(len) - 1] = len;\n  var a = 1732584193;\n  var b = -271733879;\n  var c = -1732584194;\n  var d = 271733878;\n\n  for (var i = 0; i < x.length; i += 16) {\n    var olda = a;\n    var oldb = b;\n    var oldc = c;\n    var oldd = d;\n    a = md5ff(a, b, c, d, x[i], 7, -680876936);\n    d = md5ff(d, a, b, c, x[i + 1], 12, -389564586);\n    c = md5ff(c, d, a, b, x[i + 2], 17, 606105819);\n    b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330);\n    a = md5ff(a, b, c, d, x[i + 4], 7, -176418897);\n    d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426);\n    c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341);\n    b = md5ff(b, c, d, a, x[i + 7], 22, -45705983);\n    a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416);\n    d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417);\n    c = md5ff(c, d, a, b, x[i + 10], 17, -42063);\n    b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162);\n    a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682);\n    d = md5ff(d, a, b, c, x[i + 13], 12, -40341101);\n    c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290);\n    b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329);\n    a = md5gg(a, b, c, d, x[i + 1], 5, -165796510);\n    d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632);\n    c = md5gg(c, d, a, b, x[i + 11], 14, 643717713);\n    b = md5gg(b, c, d, a, x[i], 20, -373897302);\n    a = md5gg(a, b, c, d, x[i + 5], 5, -701558691);\n    d = md5gg(d, a, b, c, x[i + 10], 9, 38016083);\n    c = md5gg(c, d, a, b, x[i + 15], 14, -660478335);\n    b = md5gg(b, c, d, a, x[i + 4], 20, -405537848);\n    a = md5gg(a, b, c, d, x[i + 9], 5, 568446438);\n    d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690);\n    c = md5gg(c, d, a, b, x[i + 3], 14, -187363961);\n    b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501);\n    a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467);\n    d = md5gg(d, a, b, c, x[i + 2], 9, -51403784);\n    c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473);\n    b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734);\n    a = md5hh(a, b, c, d, x[i + 5], 4, -378558);\n    d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463);\n    c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562);\n    b = md5hh(b, c, d, a, x[i + 14], 23, -35309556);\n    a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060);\n    d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353);\n    c = md5hh(c, d, a, b, x[i + 7], 16, -155497632);\n    b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640);\n    a = md5hh(a, b, c, d, x[i + 13], 4, 681279174);\n    d = md5hh(d, a, b, c, x[i], 11, -358537222);\n    c = md5hh(c, d, a, b, x[i + 3], 16, -722521979);\n    b = md5hh(b, c, d, a, x[i + 6], 23, 76029189);\n    a = md5hh(a, b, c, d, x[i + 9], 4, -640364487);\n    d = md5hh(d, a, b, c, x[i + 12], 11, -421815835);\n    c = md5hh(c, d, a, b, x[i + 15], 16, 530742520);\n    b = md5hh(b, c, d, a, x[i + 2], 23, -995338651);\n    a = md5ii(a, b, c, d, x[i], 6, -198630844);\n    d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415);\n    c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905);\n    b = md5ii(b, c, d, a, x[i + 5], 21, -57434055);\n    a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571);\n    d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606);\n    c = md5ii(c, d, a, b, x[i + 10], 15, -1051523);\n    b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799);\n    a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359);\n    d = md5ii(d, a, b, c, x[i + 15], 10, -30611744);\n    c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380);\n    b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649);\n    a = md5ii(a, b, c, d, x[i + 4], 6, -145523070);\n    d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379);\n    c = md5ii(c, d, a, b, x[i + 2], 15, 718787259);\n    b = md5ii(b, c, d, a, x[i + 9], 21, -343485551);\n    a = safeAdd(a, olda);\n    b = safeAdd(b, oldb);\n    c = safeAdd(c, oldc);\n    d = safeAdd(d, oldd);\n  }\n\n  return [a, b, c, d];\n}\n/*\n * Convert an array bytes to an array of little-endian words\n * Characters >255 have their high-byte silently ignored.\n */\n\n\nfunction bytesToWords(input) {\n  if (input.length === 0) {\n    return [];\n  }\n\n  var length8 = input.length * 8;\n  var output = new Uint32Array(getOutputLength(length8));\n\n  for (var i = 0; i < length8; i += 8) {\n    output[i >> 5] |= (input[i / 8] & 0xff) << i % 32;\n  }\n\n  return output;\n}\n/*\n * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n * to work around bugs in some JS interpreters.\n */\n\n\nfunction safeAdd(x, y) {\n  var lsw = (x & 0xffff) + (y & 0xffff);\n  var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n  return msw << 16 | lsw & 0xffff;\n}\n/*\n * Bitwise rotate a 32-bit number to the left.\n */\n\n\nfunction bitRotateLeft(num, cnt) {\n  return num << cnt | num >>> 32 - cnt;\n}\n/*\n * These functions implement the four basic operations the algorithm uses.\n */\n\n\nfunction md5cmn(q, a, b, x, s, t) {\n  return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b);\n}\n\nfunction md5ff(a, b, c, d, x, s, t) {\n  return md5cmn(b & c | ~b & d, a, b, x, s, t);\n}\n\nfunction md5gg(a, b, c, d, x, s, t) {\n  return md5cmn(b & d | c & ~d, a, b, x, s, t);\n}\n\nfunction md5hh(a, b, c, d, x, s, t) {\n  return md5cmn(b ^ c ^ d, a, b, x, s, t);\n}\n\nfunction md5ii(a, b, c, d, x, s, t) {\n  return md5cmn(c ^ (b | ~d), a, b, x, s, t);\n}\n\nexport default md5;","import v35 from './v35.js';\nimport md5 from './md5.js';\nvar v3 = v35('v3', 0x30, md5);\nexport default v3;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","// Adapted from Chris Veness' SHA1 code at\n// http://www.movable-type.co.uk/scripts/sha1.html\nfunction f(s, x, y, z) {\n  switch (s) {\n    case 0:\n      return x & y ^ ~x & z;\n\n    case 1:\n      return x ^ y ^ z;\n\n    case 2:\n      return x & y ^ x & z ^ y & z;\n\n    case 3:\n      return x ^ y ^ z;\n  }\n}\n\nfunction ROTL(x, n) {\n  return x << n | x >>> 32 - n;\n}\n\nfunction sha1(bytes) {\n  var K = [0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xca62c1d6];\n  var H = [0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0];\n\n  if (typeof bytes === 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = [];\n\n    for (var i = 0; i < msg.length; ++i) {\n      bytes.push(msg.charCodeAt(i));\n    }\n  } else if (!Array.isArray(bytes)) {\n    // Convert Array-like to Array\n    bytes = Array.prototype.slice.call(bytes);\n  }\n\n  bytes.push(0x80);\n  var l = bytes.length / 4 + 2;\n  var N = Math.ceil(l / 16);\n  var M = new Array(N);\n\n  for (var _i = 0; _i < N; ++_i) {\n    var arr = new Uint32Array(16);\n\n    for (var j = 0; j < 16; ++j) {\n      arr[j] = bytes[_i * 64 + j * 4] << 24 | bytes[_i * 64 + j * 4 + 1] << 16 | bytes[_i * 64 + j * 4 + 2] << 8 | bytes[_i * 64 + j * 4 + 3];\n    }\n\n    M[_i] = arr;\n  }\n\n  M[N - 1][14] = (bytes.length - 1) * 8 / Math.pow(2, 32);\n  M[N - 1][14] = Math.floor(M[N - 1][14]);\n  M[N - 1][15] = (bytes.length - 1) * 8 & 0xffffffff;\n\n  for (var _i2 = 0; _i2 < N; ++_i2) {\n    var W = new Uint32Array(80);\n\n    for (var t = 0; t < 16; ++t) {\n      W[t] = M[_i2][t];\n    }\n\n    for (var _t = 16; _t < 80; ++_t) {\n      W[_t] = ROTL(W[_t - 3] ^ W[_t - 8] ^ W[_t - 14] ^ W[_t - 16], 1);\n    }\n\n    var a = H[0];\n    var b = H[1];\n    var c = H[2];\n    var d = H[3];\n    var e = H[4];\n\n    for (var _t2 = 0; _t2 < 80; ++_t2) {\n      var s = Math.floor(_t2 / 20);\n      var T = ROTL(a, 5) + f(s, b, c, d) + e + K[s] + W[_t2] >>> 0;\n      e = d;\n      d = c;\n      c = ROTL(b, 30) >>> 0;\n      b = a;\n      a = T;\n    }\n\n    H[0] = H[0] + a >>> 0;\n    H[1] = H[1] + b >>> 0;\n    H[2] = H[2] + c >>> 0;\n    H[3] = H[3] + d >>> 0;\n    H[4] = H[4] + e >>> 0;\n  }\n\n  return [H[0] >> 24 & 0xff, H[0] >> 16 & 0xff, H[0] >> 8 & 0xff, H[0] & 0xff, H[1] >> 24 & 0xff, H[1] >> 16 & 0xff, H[1] >> 8 & 0xff, H[1] & 0xff, H[2] >> 24 & 0xff, H[2] >> 16 & 0xff, H[2] >> 8 & 0xff, H[2] & 0xff, H[3] >> 24 & 0xff, H[3] >> 16 & 0xff, H[3] >> 8 & 0xff, H[3] & 0xff, H[4] >> 24 & 0xff, H[4] >> 16 & 0xff, H[4] >> 8 & 0xff, H[4] & 0xff];\n}\n\nexport default sha1;","import v35 from './v35.js';\nimport sha1 from './sha1.js';\nvar v5 = v35('v5', 0x50, sha1);\nexport default v5;","export default '00000000-0000-0000-0000-000000000000';","import validate from './validate.js';\n\nfunction version(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  return parseInt(uuid.substr(14, 1), 16);\n}\n\nexport default version;","(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.default = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\n\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var _require=_dereq_(\"./spec/reference-implementation/lib/readable-stream\"),ReadableStream=_require.ReadableStream,_require2=_dereq_(\"./spec/reference-implementation/lib/writable-stream\"),WritableStream=_require2.WritableStream,ByteLengthQueuingStrategy=_dereq_(\"./spec/reference-implementation/lib/byte-length-queuing-strategy\"),CountQueuingStrategy=_dereq_(\"./spec/reference-implementation/lib/count-queuing-strategy\"),_require3=_dereq_(\"./spec/reference-implementation/lib/transform-stream\"),TransformStream=_require3.TransformStream;exports.ByteLengthQueuingStrategy=ByteLengthQueuingStrategy,exports.CountQueuingStrategy=CountQueuingStrategy,exports.ReadableStream=ReadableStream,exports.WritableStream=WritableStream,exports.TransformStream=TransformStream;var interfaces={ReadableStream:ReadableStream,WritableStream:WritableStream,ByteLengthQueuingStrategy:ByteLengthQueuingStrategy,CountQueuingStrategy:CountQueuingStrategy,TransformStream:TransformStream};exports.default=interfaces;\n\n},{\"./spec/reference-implementation/lib/byte-length-queuing-strategy\":8,\"./spec/reference-implementation/lib/count-queuing-strategy\":9,\"./spec/reference-implementation/lib/readable-stream\":12,\"./spec/reference-implementation/lib/transform-stream\":13,\"./spec/reference-implementation/lib/writable-stream\":15}],2:[function(_dereq_,module,exports){\n(function (global){\n\"use strict\";function compare(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,i=0,a=Math.min(r,n);i<a;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0}function isBuffer(t){return global.Buffer&&\"function\"==typeof global.Buffer.isBuffer?global.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}function pToString(t){return Object.prototype.toString.call(t)}function isView(t){return!isBuffer(t)&&(\"function\"==typeof global.ArrayBuffer&&(\"function\"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}function getName(t){if(util.isFunction(t)){if(functionsHaveNames)return t.name;var e=t.toString().match(regex);return e&&e[1]}}function truncate(t,e){return\"string\"==typeof t?t.length<e?t:t.slice(0,e):t}function inspect(t){if(functionsHaveNames||!util.isFunction(t))return util.inspect(t);var e=getName(t);return\"[Function\"+(e?\": \"+e:\"\")+\"]\"}function getMessage(t){return truncate(inspect(t.actual),128)+\" \"+t.operator+\" \"+truncate(inspect(t.expected),128)}function fail(t,e,r,n,i){throw new assert.AssertionError({message:r,actual:t,expected:e,operator:n,stackStartFunction:i})}function ok(t,e){t||fail(t,!0,e,\"==\",assert.ok)}function _deepEqual(t,e,r,n){if(t===e)return!0;if(isBuffer(t)&&isBuffer(e))return 0===compare(t,e);if(util.isDate(t)&&util.isDate(e))return t.getTime()===e.getTime();if(util.isRegExp(t)&&util.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&\"object\"==typeof t||null!==e&&\"object\"==typeof e){if(isView(t)&&isView(e)&&pToString(t)===pToString(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===compare(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(isBuffer(t)!==isBuffer(e))return!1;var i=(n=n||{actual:[],expected:[]}).actual.indexOf(t);return-1!==i&&i===n.expected.indexOf(e)||(n.actual.push(t),n.expected.push(e),objEquiv(t,e,r,n))}return r?t===e:t==e}function isArguments(t){return\"[object Arguments]\"==Object.prototype.toString.call(t)}function objEquiv(t,e,r,n){if(null===t||void 0===t||null===e||void 0===e)return!1;if(util.isPrimitive(t)||util.isPrimitive(e))return t===e;if(r&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var i=isArguments(t),a=isArguments(e);if(i&&!a||!i&&a)return!1;if(i)return t=pSlice.call(t),e=pSlice.call(e),_deepEqual(t,e,r);var o,s,u=objectKeys(t),f=objectKeys(e);if(u.length!==f.length)return!1;for(u.sort(),f.sort(),s=u.length-1;s>=0;s--)if(u[s]!==f[s])return!1;for(s=u.length-1;s>=0;s--)if(o=u[s],!_deepEqual(t[o],e[o],r,n))return!1;return!0}function notDeepStrictEqual(t,e,r){_deepEqual(t,e,!0)&&fail(t,e,r,\"notDeepStrictEqual\",notDeepStrictEqual)}function expectedException(t,e){if(!t||!e)return!1;if(\"[object RegExp]\"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function _tryBlock(t){var e;try{t()}catch(t){e=t}return e}function _throws(t,e,r,n){var i;if(\"function\"!=typeof e)throw new TypeError('\"block\" argument must be a function');\"string\"==typeof r&&(n=r,r=null),i=_tryBlock(e),n=(r&&r.name?\" (\"+r.name+\").\":\".\")+(n?\" \"+n:\".\"),t&&!i&&fail(i,r,\"Missing expected exception\"+n);var a=\"string\"==typeof n,o=!t&&util.isError(i),s=!t&&i&&!r;if((o&&a&&expectedException(i,r)||s)&&fail(i,r,\"Got unwanted exception\"+n),t&&i&&r&&!expectedException(i,r)||!t&&i)throw i}var util=_dereq_(\"util/\"),hasOwn=Object.prototype.hasOwnProperty,pSlice=Array.prototype.slice,functionsHaveNames=\"foo\"===function foo(){}.name,assert=module.exports=ok,regex=/\\s*function\\s+([^\\(\\s]*)\\s*/;assert.AssertionError=function AssertionError(t){this.name=\"AssertionError\",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=getMessage(this),this.generatedMessage=!0);var e=t.stackStartFunction||fail;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var r=new Error;if(r.stack){var n=r.stack,i=getName(e),a=n.indexOf(\"\\n\"+i);if(a>=0){var o=n.indexOf(\"\\n\",a+1);n=n.substring(o+1)}this.stack=n}}},util.inherits(assert.AssertionError,Error),assert.fail=fail,assert.ok=ok,assert.equal=function equal(t,e,r){t!=e&&fail(t,e,r,\"==\",assert.equal)},assert.notEqual=function notEqual(t,e,r){t==e&&fail(t,e,r,\"!=\",assert.notEqual)},assert.deepEqual=function deepEqual(t,e,r){_deepEqual(t,e,!1)||fail(t,e,r,\"deepEqual\",assert.deepEqual)},assert.deepStrictEqual=function deepStrictEqual(t,e,r){_deepEqual(t,e,!0)||fail(t,e,r,\"deepStrictEqual\",assert.deepStrictEqual)},assert.notDeepEqual=function notDeepEqual(t,e,r){_deepEqual(t,e,!1)&&fail(t,e,r,\"notDeepEqual\",assert.notDeepEqual)},assert.notDeepStrictEqual=notDeepStrictEqual,assert.strictEqual=function strictEqual(t,e,r){t!==e&&fail(t,e,r,\"===\",assert.strictEqual)},assert.notStrictEqual=function notStrictEqual(t,e,r){t===e&&fail(t,e,r,\"!==\",assert.notStrictEqual)},assert.throws=function(t,e,r){_throws(!0,t,e,r)},assert.doesNotThrow=function(t,e,r){_throws(!1,t,e,r)},assert.ifError=function(t){if(t)throw t};var objectKeys=Object.keys||function(t){var e=[];for(var r in t)hasOwn.call(t,r)&&e.push(r);return e};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"util/\":7}],3:[function(_dereq_,module,exports){\n\n},{}],4:[function(_dereq_,module,exports){\nfunction defaultSetTimout(){throw new Error(\"setTimeout has not been defined\")}function defaultClearTimeout(){throw new Error(\"clearTimeout has not been defined\")}function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch(t){try{return cachedSetTimeout.call(null,e,0)}catch(t){return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch(t){try{return cachedClearTimeout.call(null,e)}catch(t){return cachedClearTimeout.call(this,e)}}}function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}var cachedSetTimeout,cachedClearTimeout,process=module.exports={};!function(){try{cachedSetTimeout=\"function\"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout=\"function\"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;process.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];queue.push(new Item(e,t)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title=\"browser\",process.browser=!0,process.env={},process.argv=[],process.version=\"\",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(e){return[]},process.binding=function(e){throw new Error(\"process.binding is not supported\")},process.cwd=function(){return\"/\"},process.chdir=function(e){throw new Error(\"process.chdir is not supported\")},process.umask=function(){return 0};\n\n},{}],5:[function(_dereq_,module,exports){\n\"function\"==typeof Object.create?module.exports=function inherits(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function inherits(t,e){t.super_=e;var o=function(){};o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=t};\n\n},{}],6:[function(_dereq_,module,exports){\nmodule.exports=function isBuffer(o){return o&&\"object\"==typeof o&&\"function\"==typeof o.copy&&\"function\"==typeof o.fill&&\"function\"==typeof o.readUInt8};\n\n},{}],7:[function(_dereq_,module,exports){\n(function (process,global){\nfunction inspect(e,r){var t={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(t.depth=arguments[2]),arguments.length>=4&&(t.colors=arguments[3]),isBoolean(r)?t.showHidden=r:r&&exports._extend(t,r),isUndefined(t.showHidden)&&(t.showHidden=!1),isUndefined(t.depth)&&(t.depth=2),isUndefined(t.colors)&&(t.colors=!1),isUndefined(t.customInspect)&&(t.customInspect=!0),t.colors&&(t.stylize=stylizeWithColor),formatValue(t,e,t.depth)}function stylizeWithColor(e,r){var t=inspect.styles[r];return t?\"\u001b[\"+inspect.colors[t][0]+\"m\"+e+\"\u001b[\"+inspect.colors[t][1]+\"m\":e}function stylizeNoColor(e,r){return e}function arrayToHash(e){var r={};return e.forEach(function(e,t){r[e]=!0}),r}function formatValue(e,r,t){if(e.customInspect&&r&&isFunction(r.inspect)&&r.inspect!==exports.inspect&&(!r.constructor||r.constructor.prototype!==r)){var n=r.inspect(t,e);return isString(n)||(n=formatValue(e,n,t)),n}var i=formatPrimitive(e,r);if(i)return i;var o=Object.keys(r),s=arrayToHash(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(r)),isError(r)&&(o.indexOf(\"message\")>=0||o.indexOf(\"description\")>=0))return formatError(r);if(0===o.length){if(isFunction(r)){var u=r.name?\": \"+r.name:\"\";return e.stylize(\"[Function\"+u+\"]\",\"special\")}if(isRegExp(r))return e.stylize(RegExp.prototype.toString.call(r),\"regexp\");if(isDate(r))return e.stylize(Date.prototype.toString.call(r),\"date\");if(isError(r))return formatError(r)}var c=\"\",a=!1,l=[\"{\",\"}\"];if(isArray(r)&&(a=!0,l=[\"[\",\"]\"]),isFunction(r)&&(c=\" [Function\"+(r.name?\": \"+r.name:\"\")+\"]\"),isRegExp(r)&&(c=\" \"+RegExp.prototype.toString.call(r)),isDate(r)&&(c=\" \"+Date.prototype.toUTCString.call(r)),isError(r)&&(c=\" \"+formatError(r)),0===o.length&&(!a||0==r.length))return l[0]+c+l[1];if(t<0)return isRegExp(r)?e.stylize(RegExp.prototype.toString.call(r),\"regexp\"):e.stylize(\"[Object]\",\"special\");e.seen.push(r);var p;return p=a?formatArray(e,r,t,s,o):o.map(function(n){return formatProperty(e,r,t,s,n,a)}),e.seen.pop(),reduceToSingleString(p,c,l)}function formatPrimitive(e,r){if(isUndefined(r))return e.stylize(\"undefined\",\"undefined\");if(isString(r)){var t=\"'\"+JSON.stringify(r).replace(/^\"|\"$/g,\"\").replace(/'/g,\"\\\\'\").replace(/\\\\\"/g,'\"')+\"'\";return e.stylize(t,\"string\")}return isNumber(r)?e.stylize(\"\"+r,\"number\"):isBoolean(r)?e.stylize(\"\"+r,\"boolean\"):isNull(r)?e.stylize(\"null\",\"null\"):void 0}function formatError(e){return\"[\"+Error.prototype.toString.call(e)+\"]\"}function formatArray(e,r,t,n,i){for(var o=[],s=0,u=r.length;s<u;++s)hasOwnProperty(r,String(s))?o.push(formatProperty(e,r,t,n,String(s),!0)):o.push(\"\");return i.forEach(function(i){i.match(/^\\d+$/)||o.push(formatProperty(e,r,t,n,i,!0))}),o}function formatProperty(e,r,t,n,i,o){var s,u,c;if((c=Object.getOwnPropertyDescriptor(r,i)||{value:r[i]}).get?u=c.set?e.stylize(\"[Getter/Setter]\",\"special\"):e.stylize(\"[Getter]\",\"special\"):c.set&&(u=e.stylize(\"[Setter]\",\"special\")),hasOwnProperty(n,i)||(s=\"[\"+i+\"]\"),u||(e.seen.indexOf(c.value)<0?(u=isNull(t)?formatValue(e,c.value,null):formatValue(e,c.value,t-1)).indexOf(\"\\n\")>-1&&(u=o?u.split(\"\\n\").map(function(e){return\"  \"+e}).join(\"\\n\").substr(2):\"\\n\"+u.split(\"\\n\").map(function(e){return\"   \"+e}).join(\"\\n\")):u=e.stylize(\"[Circular]\",\"special\")),isUndefined(s)){if(o&&i.match(/^\\d+$/))return u;(s=JSON.stringify(\"\"+i)).match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,\"name\")):(s=s.replace(/'/g,\"\\\\'\").replace(/\\\\\"/g,'\"').replace(/(^\"|\"$)/g,\"'\"),s=e.stylize(s,\"string\"))}return s+\": \"+u}function reduceToSingleString(e,r,t){var n=0;return e.reduce(function(e,r){return n++,r.indexOf(\"\\n\")>=0&&n++,e+r.replace(/\\u001b\\[\\d\\d?m/g,\"\").length+1},0)>60?t[0]+(\"\"===r?\"\":r+\"\\n \")+\" \"+e.join(\",\\n  \")+\" \"+t[1]:t[0]+r+\" \"+e.join(\", \")+\" \"+t[1]}function isArray(e){return Array.isArray(e)}function isBoolean(e){return\"boolean\"==typeof e}function isNull(e){return null===e}function isNullOrUndefined(e){return null==e}function isNumber(e){return\"number\"==typeof e}function isString(e){return\"string\"==typeof e}function isSymbol(e){return\"symbol\"==typeof e}function isUndefined(e){return void 0===e}function isRegExp(e){return isObject(e)&&\"[object RegExp]\"===objectToString(e)}function isObject(e){return\"object\"==typeof e&&null!==e}function isDate(e){return isObject(e)&&\"[object Date]\"===objectToString(e)}function isError(e){return isObject(e)&&(\"[object Error]\"===objectToString(e)||e instanceof Error)}function isFunction(e){return\"function\"==typeof e}function isPrimitive(e){return null===e||\"boolean\"==typeof e||\"number\"==typeof e||\"string\"==typeof e||\"symbol\"==typeof e||void 0===e}function objectToString(e){return Object.prototype.toString.call(e)}function pad(e){return e<10?\"0\"+e.toString(10):e.toString(10)}function timestamp(){var e=new Date,r=[pad(e.getHours()),pad(e.getMinutes()),pad(e.getSeconds())].join(\":\");return[e.getDate(),months[e.getMonth()],r].join(\" \")}function hasOwnProperty(e,r){return Object.prototype.hasOwnProperty.call(e,r)}var formatRegExp=/%[sdj%]/g;exports.format=function(e){if(!isString(e)){for(var r=[],t=0;t<arguments.length;t++)r.push(inspect(arguments[t]));return r.join(\" \")}for(var t=1,n=arguments,i=n.length,o=String(e).replace(formatRegExp,function(e){if(\"%%\"===e)return\"%\";if(t>=i)return e;switch(e){case\"%s\":return String(n[t++]);case\"%d\":return Number(n[t++]);case\"%j\":try{return JSON.stringify(n[t++])}catch(e){return\"[Circular]\"}default:return e}}),s=n[t];t<i;s=n[++t])isNull(s)||!isObject(s)?o+=\" \"+s:o+=\" \"+inspect(s);return o},exports.deprecate=function(e,r){if(isUndefined(global.process))return function(){return exports.deprecate(e,r).apply(this,arguments)};if(!0===process.noDeprecation)return e;var t=!1;return function deprecated(){if(!t){if(process.throwDeprecation)throw new Error(r);process.traceDeprecation?console.trace(r):console.error(r),t=!0}return e.apply(this,arguments)}};var debugEnviron,debugs={};exports.debuglog=function(e){if(isUndefined(debugEnviron)&&(debugEnviron=process.env.NODE_DEBUG||\"\"),e=e.toUpperCase(),!debugs[e])if(new RegExp(\"\\\\b\"+e+\"\\\\b\",\"i\").test(debugEnviron)){var r=process.pid;debugs[e]=function(){var t=exports.format.apply(exports,arguments);console.error(\"%s %d: %s\",e,r,t)}}else debugs[e]=function(){};return debugs[e]},exports.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:\"cyan\",number:\"yellow\",boolean:\"yellow\",undefined:\"grey\",null:\"bold\",string:\"green\",date:\"magenta\",regexp:\"red\"},exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=_dereq_(\"./support/isBuffer\");var months=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"];exports.log=function(){console.log(\"%s - %s\",timestamp(),exports.format.apply(exports,arguments))},exports.inherits=_dereq_(\"inherits\"),exports._extend=function(e,r){if(!r||!isObject(r))return e;for(var t=Object.keys(r),n=t.length;n--;)e[t[n]]=r[t[n]];return e};\n\n}).call(this,_dereq_('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"./support/isBuffer\":6,\"_process\":4,\"inherits\":5}],8:[function(_dereq_,module,exports){\n\"use strict\";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}var _createClass=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),_require=_dereq_(\"./helpers.js\"),createDataProperty=_require.createDataProperty;module.exports=function(){function ByteLengthQueuingStrategy(e){var t=e.highWaterMark;_classCallCheck(this,ByteLengthQueuingStrategy),createDataProperty(this,\"highWaterMark\",t)}return _createClass(ByteLengthQueuingStrategy,[{key:\"size\",value:function size(e){return e.byteLength}}]),ByteLengthQueuingStrategy}();\n\n},{\"./helpers.js\":10}],9:[function(_dereq_,module,exports){\n\"use strict\";function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError(\"Cannot call a class as a function\")}var _createClass=function(){function defineProperties(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,r,t){return r&&defineProperties(e.prototype,r),t&&defineProperties(e,t),e}}(),_require=_dereq_(\"./helpers.js\"),createDataProperty=_require.createDataProperty;module.exports=function(){function CountQueuingStrategy(e){var r=e.highWaterMark;_classCallCheck(this,CountQueuingStrategy),createDataProperty(this,\"highWaterMark\",r)}return _createClass(CountQueuingStrategy,[{key:\"size\",value:function size(){return 1}}]),CountQueuingStrategy}();\n\n},{\"./helpers.js\":10}],10:[function(_dereq_,module,exports){\n\"use strict\";function IsPropertyKey(e){return\"string\"==typeof e||\"symbol\"===(void 0===e?\"undefined\":_typeof(e))}function Call(e,r,t){if(\"function\"!=typeof e)throw new TypeError(\"Argument is not a function\");return Function.prototype.apply.call(e,r,t)}function PromiseCall(e,r,t){try{return Promise.resolve(Call(e,r,t))}catch(e){return Promise.reject(e)}}var _typeof=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},assert=_dereq_(\"better-assert\"),isFakeDetached=Symbol('is \"detached\" for our purposes');exports.typeIsObject=function(e){return\"object\"===(void 0===e?\"undefined\":_typeof(e))&&null!==e||\"function\"==typeof e},exports.createDataProperty=function(e,r,t){Object.defineProperty(e,r,{value:t,writable:!0,enumerable:!0,configurable:!0})},exports.createArrayFromList=function(e){return e.slice()},exports.ArrayBufferCopy=function(e,r,t,n,o){new Uint8Array(e).set(new Uint8Array(t,n,o),r)},exports.CreateIterResultObject=function(e,r){var t={};return Object.defineProperty(t,\"value\",{value:e,enumerable:!0,writable:!0,configurable:!0}),Object.defineProperty(t,\"done\",{value:r,enumerable:!0,writable:!0,configurable:!0}),t},exports.IsFiniteNonNegativeNumber=function(e){return!1!==exports.IsNonNegativeNumber(e)&&e!==1/0},exports.IsNonNegativeNumber=function(e){return\"number\"==typeof e&&(!Number.isNaN(e)&&!(e<0))},exports.Call=Call,exports.CreateAlgorithmFromUnderlyingMethod=function(e,r,t,n){var o=e[r];if(void 0!==o){if(\"function\"!=typeof o)throw new TypeError(o+\" is not a method\");switch(t){case 0:return function(){return PromiseCall(o,e,n)};case 1:return function(r){var t=[r].concat(n);return PromiseCall(o,e,t)}}}return function(){return Promise.resolve()}},exports.InvokeOrNoop=function(e,r,t){var n=e[r];if(void 0!==n)return Call(n,e,t)},exports.PromiseCall=PromiseCall,exports.TransferArrayBuffer=function(e){var r=e.slice();return Object.defineProperty(e,\"byteLength\",{get:function get(){return 0}}),e[isFakeDetached]=!0,r},exports.IsDetachedBuffer=function(e){return isFakeDetached in e},exports.ValidateAndNormalizeHighWaterMark=function(e){if(e=Number(e),Number.isNaN(e)||e<0)throw new RangeError(\"highWaterMark property of a queuing strategy must be non-negative and non-NaN\");return e},exports.MakeSizeAlgorithmFromSizeFunction=function(e){if(void 0===e)return function(){return 1};if(\"function\"!=typeof e)throw new TypeError(\"size property of a queuing strategy must be a function\");return function(r){return e(r)}};\n\n},{\"better-assert\":16}],11:[function(_dereq_,module,exports){\n\"use strict\";var assert=_dereq_(\"better-assert\"),_require=_dereq_(\"./helpers.js\"),IsFiniteNonNegativeNumber=_require.IsFiniteNonNegativeNumber;exports.DequeueValue=function(e){var u=e._queue.shift();return e._queueTotalSize-=u.size,e._queueTotalSize<0&&(e._queueTotalSize=0),u.value},exports.EnqueueValueWithSize=function(e,u,t){if(t=Number(t),!IsFiniteNonNegativeNumber(t))throw new RangeError(\"Size must be a finite, non-NaN, non-negative number.\");e._queue.push({value:u,size:t}),e._queueTotalSize+=t},exports.PeekQueueValue=function(e){return e._queue[0].value},exports.ResetQueue=function(e){e._queue=[],e._queueTotalSize=0};\n\n},{\"./helpers.js\":10,\"better-assert\":16}],12:[function(_dereq_,module,exports){\n\"use strict\";function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError(\"Cannot call a class as a function\")}function AcquireReadableStreamBYOBReader(e){return new ReadableStreamBYOBReader(e)}function AcquireReadableStreamDefaultReader(e){return new ReadableStreamDefaultReader(e)}function CreateReadableStream(e,r,t){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return 1},o=Object.create(ReadableStream.prototype);return InitializeReadableStream(o),SetUpReadableStreamDefaultController(o,Object.create(ReadableStreamDefaultController.prototype),e,r,t,a,l),o}function CreateReadableByteStream(e,r,t){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=Object.create(ReadableStream.prototype);return InitializeReadableStream(o),SetUpReadableByteStreamController(o,Object.create(ReadableByteStreamController.prototype),e,r,t,a,l),o}function InitializeReadableStream(e){e._state=\"readable\",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function IsReadableStream(e){return!!typeIsObject(e)&&!!Object.prototype.hasOwnProperty.call(e,\"_readableStreamController\")}function IsReadableStreamDisturbed(e){return e._disturbed}function IsReadableStreamLocked(e){return void 0!==e._reader}function ReadableStreamTee(e,r){function pullAlgorithm(){return ReadableStreamDefaultReaderRead(t).then(function(e){var r=e.value;if(!0===e.done&&!1===a&&(!1===l&&ReadableStreamDefaultControllerClose(d._readableStreamController),!1===o&&ReadableStreamDefaultControllerClose(s._readableStreamController),a=!0),!0!==a){var t=r,n=r;!1===l&&ReadableStreamDefaultControllerEnqueue(d._readableStreamController,t),!1===o&&ReadableStreamDefaultControllerEnqueue(s._readableStreamController,n)}})}function startAlgorithm(){}var t=AcquireReadableStreamDefaultReader(e),a=!1,l=!1,o=!1,n=void 0,i=void 0,d=void 0,s=void 0,u=void 0,c=new Promise(function(e){u=e});return d=CreateReadableStream(startAlgorithm,pullAlgorithm,function cancel1Algorithm(r){if(l=!0,n=r,!0===o){var t=createArrayFromList([n,i]),a=ReadableStreamCancel(e,t);u(a)}return c}),s=CreateReadableStream(startAlgorithm,pullAlgorithm,function cancel2Algorithm(r){if(o=!0,i=r,!0===l){var t=createArrayFromList([n,i]),a=ReadableStreamCancel(e,t);u(a)}return c}),t._closedPromise.catch(function(e){!0!==a&&(ReadableStreamDefaultControllerErrorIfNeeded(d._readableStreamController,e),ReadableStreamDefaultControllerErrorIfNeeded(s._readableStreamController,e),a=!0)}),[d,s]}function ReadableStreamAddReadIntoRequest(e){return new Promise(function(r,t){var a={_resolve:r,_reject:t};e._reader._readIntoRequests.push(a)})}function ReadableStreamAddReadRequest(e){return new Promise(function(r,t){var a={_resolve:r,_reject:t};e._reader._readRequests.push(a)})}function ReadableStreamCancel(e,r){return e._disturbed=!0,\"closed\"===e._state?Promise.resolve(void 0):\"errored\"===e._state?Promise.reject(e._storedError):(ReadableStreamClose(e),e._readableStreamController[CancelSteps](r).then(function(){}))}function ReadableStreamClose(e){e._state=\"closed\";var r=e._reader;if(void 0!==r){if(!0===IsReadableStreamDefaultReader(r)){var t=!0,a=!1,l=void 0;try{for(var o,n=r._readRequests[Symbol.iterator]();!(t=(o=n.next()).done);t=!0)(0,o.value._resolve)(CreateIterResultObject(void 0,!0))}catch(e){a=!0,l=e}finally{try{!t&&n.return&&n.return()}finally{if(a)throw l}}r._readRequests=[]}defaultReaderClosedPromiseResolve(r)}}function ReadableStreamError(e,r){e._state=\"errored\",e._storedError=r;var t=e._reader;if(void 0!==t){if(!0===IsReadableStreamDefaultReader(t)){var a=!0,l=!1,o=void 0;try{for(var n,i=t._readRequests[Symbol.iterator]();!(a=(n=i.next()).done);a=!0)n.value._reject(r)}catch(e){l=!0,o=e}finally{try{!a&&i.return&&i.return()}finally{if(l)throw o}}t._readRequests=[]}else{var d=!0,s=!1,u=void 0;try{for(var c,b=t._readIntoRequests[Symbol.iterator]();!(d=(c=b.next()).done);d=!0)c.value._reject(r)}catch(e){s=!0,u=e}finally{try{!d&&b.return&&b.return()}finally{if(s)throw u}}t._readIntoRequests=[]}defaultReaderClosedPromiseReject(t,r),t._closedPromise.catch(function(){})}}function ReadableStreamFulfillReadIntoRequest(e,r,t){e._reader._readIntoRequests.shift()._resolve(CreateIterResultObject(r,t))}function ReadableStreamFulfillReadRequest(e,r,t){e._reader._readRequests.shift()._resolve(CreateIterResultObject(r,t))}function ReadableStreamGetNumReadIntoRequests(e){return e._reader._readIntoRequests.length}function ReadableStreamGetNumReadRequests(e){return e._reader._readRequests.length}function ReadableStreamHasBYOBReader(e){var r=e._reader;return void 0!==r&&!1!==IsReadableStreamBYOBReader(r)}function ReadableStreamHasDefaultReader(e){var r=e._reader;return void 0!==r&&!1!==IsReadableStreamDefaultReader(r)}function IsReadableStreamBYOBReader(e){return!!typeIsObject(e)&&!!Object.prototype.hasOwnProperty.call(e,\"_readIntoRequests\")}function IsReadableStreamDefaultReader(e){return!!typeIsObject(e)&&!!Object.prototype.hasOwnProperty.call(e,\"_readRequests\")}function ReadableStreamReaderGenericInitialize(e,r){e._ownerReadableStream=r,r._reader=e,\"readable\"===r._state?defaultReaderClosedPromiseInitialize(e):\"closed\"===r._state?defaultReaderClosedPromiseInitializeAsResolved(e):(defaultReaderClosedPromiseInitializeAsRejected(e,r._storedError),e._closedPromise.catch(function(){}))}function ReadableStreamReaderGenericCancel(e,r){return ReadableStreamCancel(e._ownerReadableStream,r)}function ReadableStreamReaderGenericRelease(e){\"readable\"===e._ownerReadableStream._state?defaultReaderClosedPromiseReject(e,new TypeError(\"Reader was released and can no longer be used to monitor the stream's closedness\")):defaultReaderClosedPromiseResetToRejected(e,new TypeError(\"Reader was released and can no longer be used to monitor the stream's closedness\")),e._closedPromise.catch(function(){}),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function ReadableStreamBYOBReaderRead(e,r){var t=e._ownerReadableStream;return t._disturbed=!0,\"errored\"===t._state?Promise.reject(t._storedError):ReadableByteStreamControllerPullInto(t._readableStreamController,r)}function ReadableStreamDefaultReaderRead(e){var r=e._ownerReadableStream;return r._disturbed=!0,\"closed\"===r._state?Promise.resolve(CreateIterResultObject(void 0,!0)):\"errored\"===r._state?Promise.reject(r._storedError):r._readableStreamController[PullSteps]()}function IsReadableStreamDefaultController(e){return!!typeIsObject(e)&&!!Object.prototype.hasOwnProperty.call(e,\"_controlledReadableStream\")}function ReadableStreamDefaultControllerCallPullIfNeeded(e){!1!==ReadableStreamDefaultControllerShouldCallPull(e)&&(!0!==e._pulling?(e._pulling=!0,e._pullAlgorithm().then(function(){if(e._pulling=!1,!0===e._pullAgain)return e._pullAgain=!1,ReadableStreamDefaultControllerCallPullIfNeeded(e)},function(r){ReadableStreamDefaultControllerErrorIfNeeded(e,r)}).catch(rethrowAssertionErrorRejection)):e._pullAgain=!0)}function ReadableStreamDefaultControllerShouldCallPull(e){var r=e._controlledReadableStream;return!1!==ReadableStreamDefaultControllerCanCloseOrEnqueue(e)&&(!1!==e._started&&(!0===IsReadableStreamLocked(r)&&ReadableStreamGetNumReadRequests(r)>0||ReadableStreamDefaultControllerGetDesiredSize(e)>0))}function ReadableStreamDefaultControllerClose(e){var r=e._controlledReadableStream;e._closeRequested=!0,0===e._queue.length&&ReadableStreamClose(r)}function ReadableStreamDefaultControllerEnqueue(e,r){var t=e._controlledReadableStream;if(!0===IsReadableStreamLocked(t)&&ReadableStreamGetNumReadRequests(t)>0)ReadableStreamFulfillReadRequest(t,r,!1);else{var a=void 0;try{a=e._strategySizeAlgorithm(r)}catch(r){throw ReadableStreamDefaultControllerErrorIfNeeded(e,r),r}try{EnqueueValueWithSize(e,r,a)}catch(r){throw ReadableStreamDefaultControllerErrorIfNeeded(e,r),r}}ReadableStreamDefaultControllerCallPullIfNeeded(e)}function ReadableStreamDefaultControllerError(e,r){var t=e._controlledReadableStream;ResetQueue(e),ReadableStreamError(t,r)}function ReadableStreamDefaultControllerErrorIfNeeded(e,r){\"readable\"===e._controlledReadableStream._state&&ReadableStreamDefaultControllerError(e,r)}function ReadableStreamDefaultControllerGetDesiredSize(e){var r=e._controlledReadableStream._state;return\"errored\"===r?null:\"closed\"===r?0:e._strategyHWM-e._queueTotalSize}function ReadableStreamDefaultControllerHasBackpressure(e){return!0!==ReadableStreamDefaultControllerShouldCallPull(e)}function ReadableStreamDefaultControllerCanCloseOrEnqueue(e){var r=e._controlledReadableStream._state;return!1===e._closeRequested&&\"readable\"===r}function SetUpReadableStreamDefaultController(e,r,t,a,l,o,n){r._controlledReadableStream=e,r._queue=void 0,r._queueTotalSize=void 0,ResetQueue(r),r._started=!1,r._closeRequested=!1,r._pullAgain=!1,r._pulling=!1,r._strategySizeAlgorithm=n,r._strategyHWM=o,r._pullAlgorithm=a,r._cancelAlgorithm=l,e._readableStreamController=r;var i=t();Promise.resolve(i).then(function(){r._started=!0,ReadableStreamDefaultControllerCallPullIfNeeded(r)},function(e){ReadableStreamDefaultControllerErrorIfNeeded(r,e)}).catch(rethrowAssertionErrorRejection)}function SetUpReadableStreamDefaultControllerFromUnderlyingSource(e,r,t,a){var l=Object.create(ReadableStreamDefaultController.prototype),o=CreateAlgorithmFromUnderlyingMethod(r,\"pull\",0,[l]),n=CreateAlgorithmFromUnderlyingMethod(r,\"cancel\",1,[]);SetUpReadableStreamDefaultController(e,l,function startAlgorithm(){return InvokeOrNoop(r,\"start\",[l])},o,n,t,a)}function IsReadableByteStreamController(e){return!!typeIsObject(e)&&!!Object.prototype.hasOwnProperty.call(e,\"_controlledReadableByteStream\")}function IsReadableStreamBYOBRequest(e){return!!typeIsObject(e)&&!!Object.prototype.hasOwnProperty.call(e,\"_associatedReadableByteStreamController\")}function ReadableByteStreamControllerCallPullIfNeeded(e){!1!==ReadableByteStreamControllerShouldCallPull(e)&&(!0!==e._pulling?(e._pulling=!0,e._pullAlgorithm().then(function(){e._pulling=!1,!0===e._pullAgain&&(e._pullAgain=!1,ReadableByteStreamControllerCallPullIfNeeded(e))},function(r){\"readable\"===e._controlledReadableByteStream._state&&ReadableByteStreamControllerError(e,r)}).catch(rethrowAssertionErrorRejection)):e._pullAgain=!0)}function ReadableByteStreamControllerClearPendingPullIntos(e){ReadableByteStreamControllerInvalidateBYOBRequest(e),e._pendingPullIntos=[]}function ReadableByteStreamControllerCommitPullIntoDescriptor(e,r){var t=!1;\"closed\"===e._state&&(t=!0);var a=ReadableByteStreamControllerConvertPullIntoDescriptor(r);\"default\"===r.readerType?ReadableStreamFulfillReadRequest(e,a,t):ReadableStreamFulfillReadIntoRequest(e,a,t)}function ReadableByteStreamControllerConvertPullIntoDescriptor(e){var r=e.bytesFilled,t=e.elementSize;return new e.ctor(e.buffer,e.byteOffset,r/t)}function ReadableByteStreamControllerEnqueueChunkToQueue(e,r,t,a){e._queue.push({buffer:r,byteOffset:t,byteLength:a}),e._queueTotalSize+=a}function ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(e,r){var t=r.elementSize,a=r.bytesFilled-r.bytesFilled%t,l=Math.min(e._queueTotalSize,r.byteLength-r.bytesFilled),o=r.bytesFilled+l,n=o-o%t,i=l,d=!1;n>a&&(i=n-r.bytesFilled,d=!0);for(var s=e._queue;i>0;){var u=s[0],c=Math.min(i,u.byteLength),b=r.byteOffset+r.bytesFilled;ArrayBufferCopy(r.buffer,b,u.buffer,u.byteOffset,c),u.byteLength===c?s.shift():(u.byteOffset+=c,u.byteLength-=c),e._queueTotalSize-=c,ReadableByteStreamControllerFillHeadPullIntoDescriptor(e,c,r),i-=c}return d}function ReadableByteStreamControllerFillHeadPullIntoDescriptor(e,r,t){ReadableByteStreamControllerInvalidateBYOBRequest(e),t.bytesFilled+=r}function ReadableByteStreamControllerHandleQueueDrain(e){0===e._queueTotalSize&&!0===e._closeRequested?ReadableStreamClose(e._controlledReadableByteStream):ReadableByteStreamControllerCallPullIfNeeded(e)}function ReadableByteStreamControllerInvalidateBYOBRequest(e){void 0!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=void 0,e._byobRequest=void 0)}function ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(e){for(;e._pendingPullIntos.length>0;){if(0===e._queueTotalSize)return;var r=e._pendingPullIntos[0];!0===ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(e,r)&&(ReadableByteStreamControllerShiftPendingPullInto(e),ReadableByteStreamControllerCommitPullIntoDescriptor(e._controlledReadableByteStream,r))}}function ReadableByteStreamControllerPullInto(e,r){var t=e._controlledReadableByteStream,a=1;r.constructor!==DataView&&(a=r.constructor.BYTES_PER_ELEMENT);var l=r.constructor,o={buffer:TransferArrayBuffer(r.buffer),byteOffset:r.byteOffset,byteLength:r.byteLength,bytesFilled:0,elementSize:a,ctor:l,readerType:\"byob\"};if(e._pendingPullIntos.length>0)return e._pendingPullIntos.push(o),ReadableStreamAddReadIntoRequest(t);if(\"closed\"===t._state){var n=new r.constructor(o.buffer,o.byteOffset,0);return Promise.resolve(CreateIterResultObject(n,!0))}if(e._queueTotalSize>0){if(!0===ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(e,o)){var i=ReadableByteStreamControllerConvertPullIntoDescriptor(o);return ReadableByteStreamControllerHandleQueueDrain(e),Promise.resolve(CreateIterResultObject(i,!1))}if(!0===e._closeRequested){var d=new TypeError(\"Insufficient bytes to fill elements in the given buffer\");return ReadableByteStreamControllerError(e,d),Promise.reject(d)}}e._pendingPullIntos.push(o);var s=ReadableStreamAddReadIntoRequest(t);return ReadableByteStreamControllerCallPullIfNeeded(e),s}function ReadableByteStreamControllerRespondInClosedState(e,r){r.buffer=TransferArrayBuffer(r.buffer);var t=e._controlledReadableByteStream;if(!0===ReadableStreamHasBYOBReader(t))for(;ReadableStreamGetNumReadIntoRequests(t)>0;)ReadableByteStreamControllerCommitPullIntoDescriptor(t,ReadableByteStreamControllerShiftPendingPullInto(e))}function ReadableByteStreamControllerRespondInReadableState(e,r,t){if(t.bytesFilled+r>t.byteLength)throw new RangeError(\"bytesWritten out of range\");if(ReadableByteStreamControllerFillHeadPullIntoDescriptor(e,r,t),!(t.bytesFilled<t.elementSize)){ReadableByteStreamControllerShiftPendingPullInto(e);var a=t.bytesFilled%t.elementSize;if(a>0){var l=t.byteOffset+t.bytesFilled,o=t.buffer.slice(l-a,l);ReadableByteStreamControllerEnqueueChunkToQueue(e,o,0,o.byteLength)}t.buffer=TransferArrayBuffer(t.buffer),t.bytesFilled-=a,ReadableByteStreamControllerCommitPullIntoDescriptor(e._controlledReadableByteStream,t),ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(e)}}function ReadableByteStreamControllerRespondInternal(e,r){var t=e._pendingPullIntos[0];if(\"closed\"===e._controlledReadableByteStream._state){if(0!==r)throw new TypeError(\"bytesWritten must be 0 when calling respond() on a closed stream\");ReadableByteStreamControllerRespondInClosedState(e,t)}else ReadableByteStreamControllerRespondInReadableState(e,r,t)}function ReadableByteStreamControllerShiftPendingPullInto(e){var r=e._pendingPullIntos.shift();return ReadableByteStreamControllerInvalidateBYOBRequest(e),r}function ReadableByteStreamControllerShouldCallPull(e){var r=e._controlledReadableByteStream;return\"readable\"===r._state&&(!0!==e._closeRequested&&(!1!==e._started&&(!0===ReadableStreamHasDefaultReader(r)&&ReadableStreamGetNumReadRequests(r)>0||(!0===ReadableStreamHasBYOBReader(r)&&ReadableStreamGetNumReadIntoRequests(r)>0||ReadableByteStreamControllerGetDesiredSize(e)>0))))}function ReadableByteStreamControllerClose(e){var r=e._controlledReadableByteStream;if(e._queueTotalSize>0)e._closeRequested=!0;else{if(e._pendingPullIntos.length>0&&e._pendingPullIntos[0].bytesFilled>0){var t=new TypeError(\"Insufficient bytes to fill elements in the given buffer\");throw ReadableByteStreamControllerError(e,t),t}ReadableStreamClose(r)}}function ReadableByteStreamControllerEnqueue(e,r){var t=e._controlledReadableByteStream,a=r.buffer,l=r.byteOffset,o=r.byteLength,n=TransferArrayBuffer(a);!0===ReadableStreamHasDefaultReader(t)?0===ReadableStreamGetNumReadRequests(t)?ReadableByteStreamControllerEnqueueChunkToQueue(e,n,l,o):ReadableStreamFulfillReadRequest(t,new Uint8Array(n,l,o),!1):!0===ReadableStreamHasBYOBReader(t)?(ReadableByteStreamControllerEnqueueChunkToQueue(e,n,l,o),ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(e)):ReadableByteStreamControllerEnqueueChunkToQueue(e,n,l,o)}function ReadableByteStreamControllerError(e,r){var t=e._controlledReadableByteStream;ReadableByteStreamControllerClearPendingPullIntos(e),ResetQueue(e),ReadableStreamError(t,r)}function ReadableByteStreamControllerGetDesiredSize(e){var r=e._controlledReadableByteStream._state;return\"errored\"===r?null:\"closed\"===r?0:e._strategyHWM-e._queueTotalSize}function ReadableByteStreamControllerRespond(e,r){if(r=Number(r),!1===IsFiniteNonNegativeNumber(r))throw new RangeError(\"bytesWritten must be a finite\");ReadableByteStreamControllerRespondInternal(e,r)}function ReadableByteStreamControllerRespondWithNewView(e,r){var t=e._pendingPullIntos[0];if(t.byteOffset+t.bytesFilled!==r.byteOffset)throw new RangeError(\"The region specified by view does not match byobRequest\");if(t.byteLength!==r.byteLength)throw new RangeError(\"The buffer of view has different capacity than byobRequest\");t.buffer=r.buffer,ReadableByteStreamControllerRespondInternal(e,r.byteLength)}function SetUpReadableByteStreamController(e,r,t,a,l,o,n){r._controlledReadableByteStream=e,r._pullAgain=!1,r._pulling=!1,ReadableByteStreamControllerClearPendingPullIntos(r),r._queue=r._queueTotalSize=void 0,ResetQueue(r),r._closeRequested=!1,r._started=!1,r._strategyHWM=ValidateAndNormalizeHighWaterMark(o),r._pullAlgorithm=a,r._cancelAlgorithm=l,r._autoAllocateChunkSize=n,r._pendingPullIntos=[],e._readableStreamController=r;var i=t();Promise.resolve(i).then(function(){r._started=!0,ReadableByteStreamControllerCallPullIfNeeded(r)},function(t){\"readable\"===e._state&&ReadableByteStreamControllerError(r,t)}).catch(rethrowAssertionErrorRejection)}function SetUpReadableByteStreamControllerFromUnderlyingSource(e,r,t){var a=Object.create(ReadableByteStreamController.prototype),l=CreateAlgorithmFromUnderlyingMethod(r,\"pull\",0,[a]),o=CreateAlgorithmFromUnderlyingMethod(r,\"cancel\",1,[]),n=r.autoAllocateChunkSize;if(void 0!==n&&(!1===Number.isInteger(n)||n<=0))throw new RangeError(\"autoAllocateChunkSize must be a positive integer\");SetUpReadableByteStreamController(e,a,function startAlgorithm(){return InvokeOrNoop(r,\"start\",[a])},l,o,t,n)}function SetUpReadableStreamBYOBRequest(e,r,t){e._associatedReadableByteStreamController=r,e._view=t}function streamBrandCheckException(e){return new TypeError(\"ReadableStream.prototype.\"+e+\" can only be used on a ReadableStream\")}function readerLockException(e){return new TypeError(\"Cannot \"+e+\" a stream using a released reader\")}function defaultReaderBrandCheckException(e){return new TypeError(\"ReadableStreamDefaultReader.prototype.\"+e+\" can only be used on a ReadableStreamDefaultReader\")}function defaultReaderClosedPromiseInitialize(e){e._closedPromise=new Promise(function(r,t){e._closedPromise_resolve=r,e._closedPromise_reject=t})}function defaultReaderClosedPromiseInitializeAsRejected(e,r){e._closedPromise=Promise.reject(r),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}function defaultReaderClosedPromiseInitializeAsResolved(e){e._closedPromise=Promise.resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}function defaultReaderClosedPromiseReject(e,r){e._closedPromise_reject(r),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}function defaultReaderClosedPromiseResetToRejected(e,r){e._closedPromise=Promise.reject(r)}function defaultReaderClosedPromiseResolve(e){e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}function byobReaderBrandCheckException(e){return new TypeError(\"ReadableStreamBYOBReader.prototype.\"+e+\" can only be used on a ReadableStreamBYOBReader\")}function defaultControllerBrandCheckException(e){return new TypeError(\"ReadableStreamDefaultController.prototype.\"+e+\" can only be used on a ReadableStreamDefaultController\")}function byobRequestBrandCheckException(e){return new TypeError(\"ReadableStreamBYOBRequest.prototype.\"+e+\" can only be used on a ReadableStreamBYOBRequest\")}function byteStreamControllerBrandCheckException(e){return new TypeError(\"ReadableByteStreamController.prototype.\"+e+\" can only be used on a ReadableByteStreamController\")}function ifIsObjectAndHasAPromiseIsHandledInternalSlotSetPromiseIsHandledToTrue(e){try{Promise.prototype.then.call(e,void 0,function(){})}catch(e){}}var _createClass=function(){function defineProperties(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,r,t){return r&&defineProperties(e.prototype,r),t&&defineProperties(e,t),e}}(),assert=_dereq_(\"better-assert\"),_require=_dereq_(\"./helpers.js\"),ArrayBufferCopy=_require.ArrayBufferCopy,CreateAlgorithmFromUnderlyingMethod=_require.CreateAlgorithmFromUnderlyingMethod,CreateIterResultObject=_require.CreateIterResultObject,IsFiniteNonNegativeNumber=_require.IsFiniteNonNegativeNumber,InvokeOrNoop=_require.InvokeOrNoop,IsDetachedBuffer=_require.IsDetachedBuffer,TransferArrayBuffer=_require.TransferArrayBuffer,ValidateAndNormalizeHighWaterMark=_require.ValidateAndNormalizeHighWaterMark,IsNonNegativeNumber=_require.IsNonNegativeNumber,MakeSizeAlgorithmFromSizeFunction=_require.MakeSizeAlgorithmFromSizeFunction,createArrayFromList=_require.createArrayFromList,typeIsObject=_require.typeIsObject,_require2=_dereq_(\"./utils.js\"),rethrowAssertionErrorRejection=_require2.rethrowAssertionErrorRejection,_require3=_dereq_(\"./queue-with-sizes.js\"),DequeueValue=_require3.DequeueValue,EnqueueValueWithSize=_require3.EnqueueValueWithSize,ResetQueue=_require3.ResetQueue,_require4=_dereq_(\"./writable-stream.js\"),AcquireWritableStreamDefaultWriter=_require4.AcquireWritableStreamDefaultWriter,IsWritableStream=_require4.IsWritableStream,IsWritableStreamLocked=_require4.IsWritableStreamLocked,WritableStreamAbort=_require4.WritableStreamAbort,WritableStreamDefaultWriterCloseWithErrorPropagation=_require4.WritableStreamDefaultWriterCloseWithErrorPropagation,WritableStreamDefaultWriterRelease=_require4.WritableStreamDefaultWriterRelease,WritableStreamDefaultWriterWrite=_require4.WritableStreamDefaultWriterWrite,WritableStreamCloseQueuedOrInFlight=_require4.WritableStreamCloseQueuedOrInFlight,CancelSteps=Symbol(\"[[CancelSteps]]\"),PullSteps=Symbol(\"[[PullSteps]]\"),ReadableStream=function(){function ReadableStream(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=r.size,a=r.highWaterMark;_classCallCheck(this,ReadableStream),InitializeReadableStream(this);var l=e.type;if(\"bytes\"===String(l)){if(void 0===a&&(a=0),a=ValidateAndNormalizeHighWaterMark(a),void 0!==t)throw new RangeError(\"The strategy for a byte stream cannot have a size function\");SetUpReadableByteStreamControllerFromUnderlyingSource(this,e,a)}else{if(void 0!==l)throw new RangeError(\"Invalid type is specified\");void 0===a&&(a=1),SetUpReadableStreamDefaultControllerFromUnderlyingSource(this,e,a=ValidateAndNormalizeHighWaterMark(a),MakeSizeAlgorithmFromSizeFunction(t))}}return _createClass(ReadableStream,[{key:\"cancel\",value:function cancel(e){return!1===IsReadableStream(this)?Promise.reject(streamBrandCheckException(\"cancel\")):!0===IsReadableStreamLocked(this)?Promise.reject(new TypeError(\"Cannot cancel a stream that already has a reader\")):ReadableStreamCancel(this,e)}},{key:\"getReader\",value:function getReader(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mode;if(!1===IsReadableStream(this))throw streamBrandCheckException(\"getReader\");if(void 0===e)return AcquireReadableStreamDefaultReader(this);if(\"byob\"===(e=String(e)))return AcquireReadableStreamBYOBReader(this);throw new RangeError(\"Invalid mode is specified\")}},{key:\"pipeThrough\",value:function pipeThrough(e,r){var t=e.writable,a=e.readable;if(void 0===t||void 0===a)throw new TypeError(\"readable and writable arguments must be defined\");return ifIsObjectAndHasAPromiseIsHandledInternalSlotSetPromiseIsHandledToTrue(this.pipeTo(t,r)),a}},{key:\"pipeTo\",value:function pipeTo(e){var r=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.preventClose,l=t.preventAbort,o=t.preventCancel;if(!1===IsReadableStream(this))return Promise.reject(streamBrandCheckException(\"pipeTo\"));if(!1===IsWritableStream(e))return Promise.reject(new TypeError(\"ReadableStream.prototype.pipeTo's first argument must be a WritableStream\"));if(a=Boolean(a),l=Boolean(l),o=Boolean(o),!0===IsReadableStreamLocked(this))return Promise.reject(new TypeError(\"ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream\"));if(!0===IsWritableStreamLocked(e))return Promise.reject(new TypeError(\"ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream\"));var n=AcquireReadableStreamDefaultReader(this),i=AcquireWritableStreamDefaultWriter(e),d=!1,s=Promise.resolve();return new Promise(function(t,u){function pipeLoop(){return!0===d?Promise.resolve():i._readyPromise.then(function(){return ReadableStreamDefaultReaderRead(n).then(function(e){var r=e.value;!0!==e.done&&(s=WritableStreamDefaultWriterWrite(i,r).catch(function(){}))})}).then(pipeLoop)}function waitForWritesToFinish(){var e=s;return s.then(function(){return e!==s?waitForWritesToFinish():void 0})}function isOrBecomesErrored(e,r,t){\"errored\"===e._state?t(e._storedError):r.catch(t).catch(rethrowAssertionErrorRejection)}function shutdownWithAction(r,t,a){function doTheRest(){r().then(function(){return finalize(t,a)},function(e){return finalize(!0,e)}).catch(rethrowAssertionErrorRejection)}!0!==d&&(d=!0,\"writable\"===e._state&&!1===WritableStreamCloseQueuedOrInFlight(e)?waitForWritesToFinish().then(doTheRest):doTheRest())}function shutdown(r,t){!0!==d&&(d=!0,\"writable\"===e._state&&!1===WritableStreamCloseQueuedOrInFlight(e)?waitForWritesToFinish().then(function(){return finalize(r,t)}).catch(rethrowAssertionErrorRejection):finalize(r,t))}function finalize(e,r){WritableStreamDefaultWriterRelease(i),ReadableStreamReaderGenericRelease(n),e?u(r):t(void 0)}if(isOrBecomesErrored(r,n._closedPromise,function(r){!1===l?shutdownWithAction(function(){return WritableStreamAbort(e,r)},!0,r):shutdown(!0,r)}),isOrBecomesErrored(e,i._closedPromise,function(e){!1===o?shutdownWithAction(function(){return ReadableStreamCancel(r,e)},!0,e):shutdown(!0,e)}),function isOrBecomesClosed(e,r,t){\"closed\"===e._state?t():r.then(t).catch(rethrowAssertionErrorRejection)}(r,n._closedPromise,function(){!1===a?shutdownWithAction(function(){return WritableStreamDefaultWriterCloseWithErrorPropagation(i)}):shutdown()}),!0===WritableStreamCloseQueuedOrInFlight(e)||\"closed\"===e._state){var c=new TypeError(\"the destination writable stream closed before all data could be piped to it\");!1===o?shutdownWithAction(function(){return ReadableStreamCancel(r,c)},!0,c):shutdown(!0,c)}pipeLoop().catch(function(e){s=Promise.resolve(),rethrowAssertionErrorRejection(e)})})}},{key:\"tee\",value:function tee(){if(!1===IsReadableStream(this))throw streamBrandCheckException(\"tee\");var e=ReadableStreamTee(this,!1);return createArrayFromList(e)}},{key:\"locked\",get:function get(){if(!1===IsReadableStream(this))throw streamBrandCheckException(\"locked\");return IsReadableStreamLocked(this)}}]),ReadableStream}();module.exports={CreateReadableByteStream:CreateReadableByteStream,CreateReadableStream:CreateReadableStream,ReadableStream:ReadableStream,IsReadableStreamDisturbed:IsReadableStreamDisturbed,ReadableStreamDefaultControllerClose:ReadableStreamDefaultControllerClose,ReadableStreamDefaultControllerEnqueue:ReadableStreamDefaultControllerEnqueue,ReadableStreamDefaultControllerError:ReadableStreamDefaultControllerError,ReadableStreamDefaultControllerGetDesiredSize:ReadableStreamDefaultControllerGetDesiredSize,ReadableStreamDefaultControllerHasBackpressure:ReadableStreamDefaultControllerHasBackpressure,ReadableStreamDefaultControllerCanCloseOrEnqueue:ReadableStreamDefaultControllerCanCloseOrEnqueue};var ReadableStreamDefaultReader=function(){function ReadableStreamDefaultReader(e){if(_classCallCheck(this,ReadableStreamDefaultReader),!1===IsReadableStream(e))throw new TypeError(\"ReadableStreamDefaultReader can only be constructed with a ReadableStream instance\");if(!0===IsReadableStreamLocked(e))throw new TypeError(\"This stream has already been locked for exclusive reading by another reader\");ReadableStreamReaderGenericInitialize(this,e),this._readRequests=[]}return _createClass(ReadableStreamDefaultReader,[{key:\"cancel\",value:function cancel(e){return!1===IsReadableStreamDefaultReader(this)?Promise.reject(defaultReaderBrandCheckException(\"cancel\")):void 0===this._ownerReadableStream?Promise.reject(readerLockException(\"cancel\")):ReadableStreamReaderGenericCancel(this,e)}},{key:\"read\",value:function read(){return!1===IsReadableStreamDefaultReader(this)?Promise.reject(defaultReaderBrandCheckException(\"read\")):void 0===this._ownerReadableStream?Promise.reject(readerLockException(\"read from\")):ReadableStreamDefaultReaderRead(this)}},{key:\"releaseLock\",value:function releaseLock(){if(!1===IsReadableStreamDefaultReader(this))throw defaultReaderBrandCheckException(\"releaseLock\");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw new TypeError(\"Tried to release a reader lock when that reader has pending read() calls un-settled\");ReadableStreamReaderGenericRelease(this)}}},{key:\"closed\",get:function get(){return!1===IsReadableStreamDefaultReader(this)?Promise.reject(defaultReaderBrandCheckException(\"closed\")):this._closedPromise}}]),ReadableStreamDefaultReader}(),ReadableStreamBYOBReader=function(){function ReadableStreamBYOBReader(e){if(_classCallCheck(this,ReadableStreamBYOBReader),!IsReadableStream(e))throw new TypeError(\"ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source\");if(!1===IsReadableByteStreamController(e._readableStreamController))throw new TypeError(\"Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source\");if(IsReadableStreamLocked(e))throw new TypeError(\"This stream has already been locked for exclusive reading by another reader\");ReadableStreamReaderGenericInitialize(this,e),this._readIntoRequests=[]}return _createClass(ReadableStreamBYOBReader,[{key:\"cancel\",value:function cancel(e){return IsReadableStreamBYOBReader(this)?void 0===this._ownerReadableStream?Promise.reject(readerLockException(\"cancel\")):ReadableStreamReaderGenericCancel(this,e):Promise.reject(byobReaderBrandCheckException(\"cancel\"))}},{key:\"read\",value:function read(e){return IsReadableStreamBYOBReader(this)?void 0===this._ownerReadableStream?Promise.reject(readerLockException(\"read from\")):ArrayBuffer.isView(e)?!0===IsDetachedBuffer(e.buffer)?Promise.reject(new TypeError(\"Cannot read into a view onto a detached ArrayBuffer\")):0===e.byteLength?Promise.reject(new TypeError(\"view must have non-zero byteLength\")):ReadableStreamBYOBReaderRead(this,e):Promise.reject(new TypeError(\"view must be an array buffer view\")):Promise.reject(byobReaderBrandCheckException(\"read\"))}},{key:\"releaseLock\",value:function releaseLock(){if(!IsReadableStreamBYOBReader(this))throw byobReaderBrandCheckException(\"releaseLock\");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw new TypeError(\"Tried to release a reader lock when that reader has pending read() calls un-settled\");ReadableStreamReaderGenericRelease(this)}}},{key:\"closed\",get:function get(){return IsReadableStreamBYOBReader(this)?this._closedPromise:Promise.reject(byobReaderBrandCheckException(\"closed\"))}}]),ReadableStreamBYOBReader}(),ReadableStreamDefaultController=function(){function ReadableStreamDefaultController(){throw _classCallCheck(this,ReadableStreamDefaultController),new TypeError}return _createClass(ReadableStreamDefaultController,[{key:\"close\",value:function close(){if(!1===IsReadableStreamDefaultController(this))throw defaultControllerBrandCheckException(\"close\");if(!1===ReadableStreamDefaultControllerCanCloseOrEnqueue(this))throw new TypeError(\"The stream is not in a state that permits close\");ReadableStreamDefaultControllerClose(this)}},{key:\"enqueue\",value:function enqueue(e){if(!1===IsReadableStreamDefaultController(this))throw defaultControllerBrandCheckException(\"enqueue\");if(!1===ReadableStreamDefaultControllerCanCloseOrEnqueue(this))throw new TypeError(\"The stream is not in a state that permits enqueue\");return ReadableStreamDefaultControllerEnqueue(this,e)}},{key:\"error\",value:function error(e){if(!1===IsReadableStreamDefaultController(this))throw defaultControllerBrandCheckException(\"error\");var r=this._controlledReadableStream;if(\"readable\"!==r._state)throw new TypeError(\"The stream is \"+r._state+\" and so cannot be errored\");ReadableStreamDefaultControllerError(this,e)}},{key:CancelSteps,value:function value(e){return ResetQueue(this),this._cancelAlgorithm(e)}},{key:PullSteps,value:function value(){var e=this._controlledReadableStream;if(this._queue.length>0){var r=DequeueValue(this);return!0===this._closeRequested&&0===this._queue.length?ReadableStreamClose(e):ReadableStreamDefaultControllerCallPullIfNeeded(this),Promise.resolve(CreateIterResultObject(r,!1))}var t=ReadableStreamAddReadRequest(e);return ReadableStreamDefaultControllerCallPullIfNeeded(this),t}},{key:\"desiredSize\",get:function get(){if(!1===IsReadableStreamDefaultController(this))throw defaultControllerBrandCheckException(\"desiredSize\");return ReadableStreamDefaultControllerGetDesiredSize(this)}}]),ReadableStreamDefaultController}(),ReadableStreamBYOBRequest=function(){function ReadableStreamBYOBRequest(){throw _classCallCheck(this,ReadableStreamBYOBRequest),new TypeError(\"ReadableStreamBYOBRequest cannot be used directly\")}return _createClass(ReadableStreamBYOBRequest,[{key:\"respond\",value:function respond(e){if(!1===IsReadableStreamBYOBRequest(this))throw byobRequestBrandCheckException(\"respond\");if(void 0===this._associatedReadableByteStreamController)throw new TypeError(\"This BYOB request has been invalidated\");if(!0===IsDetachedBuffer(this._view.buffer))throw new TypeError(\"The BYOB request's buffer has been detached and so cannot be used as a response\");ReadableByteStreamControllerRespond(this._associatedReadableByteStreamController,e)}},{key:\"respondWithNewView\",value:function respondWithNewView(e){if(!1===IsReadableStreamBYOBRequest(this))throw byobRequestBrandCheckException(\"respond\");if(void 0===this._associatedReadableByteStreamController)throw new TypeError(\"This BYOB request has been invalidated\");if(!ArrayBuffer.isView(e))throw new TypeError(\"You can only respond with array buffer views\");if(!0===IsDetachedBuffer(e.buffer))throw new TypeError(\"The supplied view's buffer has been detached and so cannot be used as a response\");ReadableByteStreamControllerRespondWithNewView(this._associatedReadableByteStreamController,e)}},{key:\"view\",get:function get(){if(!1===IsReadableStreamBYOBRequest(this))throw byobRequestBrandCheckException(\"view\");return this._view}}]),ReadableStreamBYOBRequest}(),ReadableByteStreamController=function(){function ReadableByteStreamController(){throw _classCallCheck(this,ReadableByteStreamController),new TypeError(\"ReadableByteStreamController constructor cannot be used directly\")}return _createClass(ReadableByteStreamController,[{key:\"close\",value:function close(){if(!1===IsReadableByteStreamController(this))throw byteStreamControllerBrandCheckException(\"close\");if(!0===this._closeRequested)throw new TypeError(\"The stream has already been closed; do not close it again!\");var e=this._controlledReadableByteStream._state;if(\"readable\"!==e)throw new TypeError(\"The stream (in \"+e+\" state) is not in the readable state and cannot be closed\");ReadableByteStreamControllerClose(this)}},{key:\"enqueue\",value:function enqueue(e){if(!1===IsReadableByteStreamController(this))throw byteStreamControllerBrandCheckException(\"enqueue\");if(!0===this._closeRequested)throw new TypeError(\"stream is closed or draining\");var r=this._controlledReadableByteStream._state;if(\"readable\"!==r)throw new TypeError(\"The stream (in \"+r+\" state) is not in the readable state and cannot be enqueued to\");if(!ArrayBuffer.isView(e))throw new TypeError(\"You can only enqueue array buffer views when using a ReadableByteStreamController\");if(!0===IsDetachedBuffer(e.buffer))throw new TypeError(\"Cannot enqueue a view onto a detached ArrayBuffer\");ReadableByteStreamControllerEnqueue(this,e)}},{key:\"error\",value:function error(e){if(!1===IsReadableByteStreamController(this))throw byteStreamControllerBrandCheckException(\"error\");var r=this._controlledReadableByteStream;if(\"readable\"!==r._state)throw new TypeError(\"The stream is \"+r._state+\" and so cannot be errored\");ReadableByteStreamControllerError(this,e)}},{key:CancelSteps,value:function value(e){return this._pendingPullIntos.length>0&&(this._pendingPullIntos[0].bytesFilled=0),ResetQueue(this),this._cancelAlgorithm(e)}},{key:PullSteps,value:function value(){var e=this._controlledReadableByteStream;if(this._queueTotalSize>0){var r=this._queue.shift();this._queueTotalSize-=r.byteLength,ReadableByteStreamControllerHandleQueueDrain(this);var t=void 0;try{t=new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}catch(e){return Promise.reject(e)}return Promise.resolve(CreateIterResultObject(t,!1))}var a=this._autoAllocateChunkSize;if(void 0!==a){var l=void 0;try{l=new ArrayBuffer(a)}catch(e){return Promise.reject(e)}var o={buffer:l,byteOffset:0,byteLength:a,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:\"default\"};this._pendingPullIntos.push(o)}var n=ReadableStreamAddReadRequest(e);return ReadableByteStreamControllerCallPullIfNeeded(this),n}},{key:\"byobRequest\",get:function get(){if(!1===IsReadableByteStreamController(this))throw byteStreamControllerBrandCheckException(\"byobRequest\");if(void 0===this._byobRequest&&this._pendingPullIntos.length>0){var e=this._pendingPullIntos[0],r=new Uint8Array(e.buffer,e.byteOffset+e.bytesFilled,e.byteLength-e.bytesFilled),t=Object.create(ReadableStreamBYOBRequest.prototype);SetUpReadableStreamBYOBRequest(t,this,r),this._byobRequest=t}return this._byobRequest}},{key:\"desiredSize\",get:function get(){if(!1===IsReadableByteStreamController(this))throw byteStreamControllerBrandCheckException(\"desiredSize\");return ReadableByteStreamControllerGetDesiredSize(this)}}]),ReadableByteStreamController}();\n\n},{\"./helpers.js\":10,\"./queue-with-sizes.js\":11,\"./utils.js\":14,\"./writable-stream.js\":15,\"better-assert\":16}],13:[function(_dereq_,module,exports){\n\"use strict\";function _classCallCheck(r,e){if(!(r instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function CreateTransformStream(r,e,t){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return 1},n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:function(){return 1},i=Object.create(TransformStream.prototype),m=void 0;InitializeTransformStream(i,new Promise(function(r){m=r}),a,o,n,l),SetUpTransformStreamDefaultController(i,Object.create(TransformStreamDefaultController.prototype),e,t);var s=r();return m(s),i}function InitializeTransformStream(r,e,t,a,o,n){function startAlgorithm(){return e}r._writable=CreateWritableStream(startAlgorithm,function writeAlgorithm(e){return TransformStreamDefaultSinkWriteAlgorithm(r,e)},function closeAlgorithm(){return TransformStreamDefaultSinkCloseAlgorithm(r)},function abortAlgorithm(){return TransformStreamDefaultSinkAbortAlgorithm(r)},t,a),r._readable=CreateReadableStream(startAlgorithm,function pullAlgorithm(){return TransformStreamDefaultSourcePullAlgorithm(r)},function cancelAlgorithm(e){return TransformStreamErrorWritableAndUnblockWrite(r,e),Promise.resolve()},o,n),r._backpressure=void 0,r._backpressureChangePromise=void 0,r._backpressureChangePromise_resolve=void 0,TransformStreamSetBackpressure(r,!0),r._transformStreamController=void 0}function IsTransformStream(r){return!!typeIsObject(r)&&!!Object.prototype.hasOwnProperty.call(r,\"_transformStreamController\")}function TransformStreamError(r,e){verbose(\"TransformStreamError()\"),\"readable\"===r._readable._state&&ReadableStreamDefaultControllerError(r._readable._readableStreamController,e),TransformStreamErrorWritableAndUnblockWrite(r,e)}function TransformStreamErrorWritableAndUnblockWrite(r,e){WritableStreamDefaultControllerErrorIfNeeded(r._writable._writableStreamController,e),!0===r._backpressure&&TransformStreamSetBackpressure(r,!1)}function TransformStreamSetBackpressure(r,e){verbose(\"TransformStreamSetBackpressure() [backpressure = \"+e+\"]\"),void 0!==r._backpressureChangePromise&&r._backpressureChangePromise_resolve(),r._backpressureChangePromise=new Promise(function(e){r._backpressureChangePromise_resolve=e}),r._backpressure=e}function IsTransformStreamDefaultController(r){return!!typeIsObject(r)&&!!Object.prototype.hasOwnProperty.call(r,\"_controlledTransformStream\")}function SetUpTransformStreamDefaultController(r,e,t,a){e._controlledTransformStream=r,r._transformStreamController=e,e._transformAlgorithm=t,e._flushAlgorithm=a}function SetUpTransformStreamDefaultControllerFromTransformer(r,e){var t=Object.create(TransformStreamDefaultController.prototype),a=function transformAlgorithm(r){try{return TransformStreamDefaultControllerEnqueue(t,r),Promise.resolve()}catch(r){return Promise.reject(r)}},o=e.transform;if(void 0!==o){if(\"function\"!=typeof o)throw new TypeError(\"transform is not a method\");a=function transformAlgorithm(a){return PromiseCall(o,e,[a,t]).catch(function(e){throw TransformStreamError(r,e),e})}}var n=CreateAlgorithmFromUnderlyingMethod(e,\"flush\",0,[t]);SetUpTransformStreamDefaultController(r,t,a,n)}function TransformStreamDefaultControllerEnqueue(r,e){verbose(\"TransformStreamDefaultControllerEnqueue()\");var t=r._controlledTransformStream,a=t._readable._readableStreamController;if(!1===ReadableStreamDefaultControllerCanCloseOrEnqueue(a))throw new TypeError(\"Readable side is not in a state that permits enqueue\");try{ReadableStreamDefaultControllerEnqueue(a,e)}catch(r){throw TransformStreamErrorWritableAndUnblockWrite(t,r),t._readable._storedError}ReadableStreamDefaultControllerHasBackpressure(a)!==t._backpressure&&TransformStreamSetBackpressure(t,!0)}function TransformStreamDefaultControllerError(r,e){TransformStreamError(r._controlledTransformStream,e)}function TransformStreamDefaultControllerTerminate(r){verbose(\"TransformStreamDefaultControllerTerminate()\");var e=r._controlledTransformStream,t=e._readable._readableStreamController;!0===ReadableStreamDefaultControllerCanCloseOrEnqueue(t)&&ReadableStreamDefaultControllerClose(t),TransformStreamErrorWritableAndUnblockWrite(e,new TypeError(\"TransformStream terminated\"))}function TransformStreamDefaultSinkWriteAlgorithm(r,e){verbose(\"TransformStreamDefaultSinkWriteAlgorithm()\");var t=r._transformStreamController;return!0===r._backpressure?r._backpressureChangePromise.then(function(){var a=r._writable;if(\"erroring\"===a._state)throw a._storedError;return t._transformAlgorithm(e)}):t._transformAlgorithm(e)}function TransformStreamDefaultSinkAbortAlgorithm(r){return TransformStreamError(r,new TypeError(\"Writable side aborted\")),Promise.resolve()}function TransformStreamDefaultSinkCloseAlgorithm(r){verbose(\"TransformStreamDefaultSinkCloseAlgorithm()\");var e=r._readable;return r._transformStreamController._flushAlgorithm().then(function(){if(\"errored\"===e._state)throw e._storedError;var r=e._readableStreamController;!0===ReadableStreamDefaultControllerCanCloseOrEnqueue(r)&&ReadableStreamDefaultControllerClose(r)}).catch(function(t){throw TransformStreamError(r,t),e._storedError})}function TransformStreamDefaultSourcePullAlgorithm(r){return verbose(\"TransformStreamDefaultSourcePullAlgorithm()\"),TransformStreamSetBackpressure(r,!1),r._backpressureChangePromise}function defaultControllerBrandCheckException(r){return new TypeError(\"TransformStreamDefaultController.prototype.\"+r+\" can only be used on a TransformStreamDefaultController\")}function streamBrandCheckException(r){return new TypeError(\"TransformStream.prototype.\"+r+\" can only be used on a TransformStream\")}var _createClass=function(){function defineProperties(r,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(r,a.key,a)}}return function(r,e,t){return e&&defineProperties(r.prototype,e),t&&defineProperties(r,t),r}}(),assert=_dereq_(\"better-assert\"),verbose=_dereq_(\"debug\")(\"streams:transform-stream:verbose\"),_require=_dereq_(\"./helpers.js\"),InvokeOrNoop=_require.InvokeOrNoop,CreateAlgorithmFromUnderlyingMethod=_require.CreateAlgorithmFromUnderlyingMethod,PromiseCall=_require.PromiseCall,typeIsObject=_require.typeIsObject,ValidateAndNormalizeHighWaterMark=_require.ValidateAndNormalizeHighWaterMark,IsNonNegativeNumber=_require.IsNonNegativeNumber,MakeSizeAlgorithmFromSizeFunction=_require.MakeSizeAlgorithmFromSizeFunction,_require2=_dereq_(\"./readable-stream.js\"),CreateReadableStream=_require2.CreateReadableStream,ReadableStreamDefaultControllerClose=_require2.ReadableStreamDefaultControllerClose,ReadableStreamDefaultControllerEnqueue=_require2.ReadableStreamDefaultControllerEnqueue,ReadableStreamDefaultControllerError=_require2.ReadableStreamDefaultControllerError,ReadableStreamDefaultControllerGetDesiredSize=_require2.ReadableStreamDefaultControllerGetDesiredSize,ReadableStreamDefaultControllerHasBackpressure=_require2.ReadableStreamDefaultControllerHasBackpressure,ReadableStreamDefaultControllerCanCloseOrEnqueue=_require2.ReadableStreamDefaultControllerCanCloseOrEnqueue,_require3=_dereq_(\"./writable-stream.js\"),CreateWritableStream=_require3.CreateWritableStream,WritableStreamDefaultControllerErrorIfNeeded=_require3.WritableStreamDefaultControllerErrorIfNeeded,TransformStream=function(){function TransformStream(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(_classCallCheck(this,TransformStream),void 0!==r.readableType)throw new RangeError(\"Invalid readable type specified\");if(void 0!==r.writableType)throw new RangeError(\"Invalid writable type specified\");var a=e.size,o=MakeSizeAlgorithmFromSizeFunction(a),n=e.highWaterMark;void 0===n&&(n=1),n=ValidateAndNormalizeHighWaterMark(n);var l=t.size,i=MakeSizeAlgorithmFromSizeFunction(l),m=t.highWaterMark;void 0===m&&(m=0),m=ValidateAndNormalizeHighWaterMark(m);var s=void 0;InitializeTransformStream(this,new Promise(function(r){s=r}),n,o,m,i),SetUpTransformStreamDefaultControllerFromTransformer(this,r);var u=InvokeOrNoop(r,\"start\",[this._transformStreamController]);s(u)}return _createClass(TransformStream,[{key:\"readable\",get:function get(){if(!1===IsTransformStream(this))throw streamBrandCheckException(\"readable\");return this._readable}},{key:\"writable\",get:function get(){if(!1===IsTransformStream(this))throw streamBrandCheckException(\"writable\");return this._writable}}]),TransformStream}(),TransformStreamDefaultController=function(){function TransformStreamDefaultController(){throw _classCallCheck(this,TransformStreamDefaultController),new TypeError(\"TransformStreamDefaultController instances cannot be created directly\")}return _createClass(TransformStreamDefaultController,[{key:\"enqueue\",value:function enqueue(r){if(!1===IsTransformStreamDefaultController(this))throw defaultControllerBrandCheckException(\"enqueue\");TransformStreamDefaultControllerEnqueue(this,r)}},{key:\"error\",value:function error(r){if(!1===IsTransformStreamDefaultController(this))throw defaultControllerBrandCheckException(\"error\");TransformStreamDefaultControllerError(this,r)}},{key:\"terminate\",value:function terminate(){if(!1===IsTransformStreamDefaultController(this))throw defaultControllerBrandCheckException(\"terminate\");TransformStreamDefaultControllerTerminate(this)}},{key:\"desiredSize\",get:function get(){if(!1===IsTransformStreamDefaultController(this))throw defaultControllerBrandCheckException(\"desiredSize\");var r=this._controlledTransformStream._readable._readableStreamController;return ReadableStreamDefaultControllerGetDesiredSize(r)}}]),TransformStreamDefaultController}();module.exports={CreateTransformStream:CreateTransformStream,TransformStream:TransformStream};\n\n},{\"./helpers.js\":10,\"./readable-stream.js\":12,\"./writable-stream.js\":15,\"better-assert\":16,\"debug\":18}],14:[function(_dereq_,module,exports){\n\"use strict\";var assert=_dereq_(\"better-assert\");exports.rethrowAssertionErrorRejection=function(r){r&&r.constructor===assert.AssertionError&&setTimeout(function(){throw r},0)};\n\n},{\"better-assert\":16}],15:[function(_dereq_,module,exports){\n\"use strict\";function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError(\"Cannot call a class as a function\")}function AcquireWritableStreamDefaultWriter(e){return new WritableStreamDefaultWriter(e)}function CreateWritableStream(e,r,t,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(){return 1},l=Object.create(WritableStream.prototype);return InitializeWritableStream(l),SetUpWritableStreamDefaultController(l,Object.create(WritableStreamDefaultController.prototype),e,r,t,i,a,o),l}function InitializeWritableStream(e){e._state=\"writable\",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=[],e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function IsWritableStream(e){return!!typeIsObject(e)&&!!Object.prototype.hasOwnProperty.call(e,\"_writableStreamController\")}function IsWritableStreamLocked(e){return void 0!==e._writer}function WritableStreamAbort(e,r){var t=e._state;if(\"closed\"===t)return Promise.resolve(void 0);if(\"errored\"===t)return Promise.reject(e._storedError);var i=new TypeError(\"Requested to abort\");if(void 0!==e._pendingAbortRequest)return Promise.reject(i);var a=!1;\"erroring\"===t&&(a=!0,r=void 0);var o=new Promise(function(t,i){e._pendingAbortRequest={_resolve:t,_reject:i,_reason:r,_wasAlreadyErroring:a}});return!1===a&&WritableStreamStartErroring(e,i),o}function WritableStreamAddWriteRequest(e){return new Promise(function(r,t){var i={_resolve:r,_reject:t};e._writeRequests.push(i)})}function WritableStreamDealWithRejection(e,r){verbose(\"WritableStreamDealWithRejection(stream, %o)\",r),\"writable\"!==e._state?WritableStreamFinishErroring(e):WritableStreamStartErroring(e,r)}function WritableStreamStartErroring(e,r){verbose(\"WritableStreamStartErroring(stream, %o)\",r);var t=e._writableStreamController;e._state=\"erroring\",e._storedError=r;var i=e._writer;void 0!==i&&WritableStreamDefaultWriterEnsureReadyPromiseRejected(i,r),!1===WritableStreamHasOperationMarkedInFlight(e)&&!0===t._started&&WritableStreamFinishErroring(e)}function WritableStreamFinishErroring(e){verbose(\"WritableStreamFinishErroring()\"),e._state=\"errored\",e._writableStreamController[ErrorSteps]();var r=e._storedError,t=!0,i=!1,a=void 0;try{for(var o,l=e._writeRequests[Symbol.iterator]();!(t=(o=l.next()).done);t=!0)o.value._reject(r)}catch(e){i=!0,a=e}finally{try{!t&&l.return&&l.return()}finally{if(i)throw a}}if(e._writeRequests=[],void 0!==e._pendingAbortRequest){var s=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,!0===s._wasAlreadyErroring)return s._reject(r),void WritableStreamRejectCloseAndClosedPromiseIfNeeded(e);e._writableStreamController[AbortSteps](s._reason).then(function(){s._resolve(),WritableStreamRejectCloseAndClosedPromiseIfNeeded(e)},function(r){s._reject(r),WritableStreamRejectCloseAndClosedPromiseIfNeeded(e)})}else WritableStreamRejectCloseAndClosedPromiseIfNeeded(e)}function WritableStreamFinishInFlightWrite(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}function WritableStreamFinishInFlightWriteWithError(e,r){e._inFlightWriteRequest._reject(r),e._inFlightWriteRequest=void 0,WritableStreamDealWithRejection(e,r)}function WritableStreamFinishInFlightClose(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,\"erroring\"===e._state&&(e._storedError=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state=\"closed\";var r=e._writer;void 0!==r&&defaultWriterClosedPromiseResolve(r)}function WritableStreamFinishInFlightCloseWithError(e,r){e._inFlightCloseRequest._reject(r),e._inFlightCloseRequest=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._reject(r),e._pendingAbortRequest=void 0),WritableStreamDealWithRejection(e,r)}function WritableStreamCloseQueuedOrInFlight(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function WritableStreamHasOperationMarkedInFlight(e){return void 0===e._inFlightWriteRequest&&void 0===e._inFlightCloseRequest?(verbose(\"WritableStreamHasOperationMarkedInFlight() is false\"),!1):(verbose(\"WritableStreamHasOperationMarkedInFlight() is true\"),!0)}function WritableStreamMarkCloseRequestInFlight(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0}function WritableStreamMarkFirstWriteRequestInFlight(e){e._inFlightWriteRequest=e._writeRequests.shift()}function WritableStreamRejectCloseAndClosedPromiseIfNeeded(e){verbose(\"WritableStreamRejectCloseAndClosedPromiseIfNeeded()\"),void 0!==e._closeRequest&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);var r=e._writer;void 0!==r&&(defaultWriterClosedPromiseReject(r,e._storedError),r._closedPromise.catch(function(){}))}function WritableStreamUpdateBackpressure(e,r){var t=e._writer;void 0!==t&&r!==e._backpressure&&(!0===r?defaultWriterReadyPromiseReset(t):defaultWriterReadyPromiseResolve(t)),e._backpressure=r}function IsWritableStreamDefaultWriter(e){return!!typeIsObject(e)&&!!Object.prototype.hasOwnProperty.call(e,\"_ownerWritableStream\")}function WritableStreamDefaultWriterAbort(e,r){return WritableStreamAbort(e._ownerWritableStream,r)}function WritableStreamDefaultWriterClose(e){var r=e._ownerWritableStream,t=r._state;if(\"closed\"===t||\"errored\"===t)return Promise.reject(new TypeError(\"The stream (in \"+t+\" state) is not in the writable state and cannot be closed\"));var i=new Promise(function(e,t){var i={_resolve:e,_reject:t};r._closeRequest=i});return!0===r._backpressure&&\"writable\"===t&&defaultWriterReadyPromiseResolve(e),WritableStreamDefaultControllerClose(r._writableStreamController),i}function WritableStreamDefaultWriterCloseWithErrorPropagation(e){var r=e._ownerWritableStream,t=r._state;return!0===WritableStreamCloseQueuedOrInFlight(r)||\"closed\"===t?Promise.resolve():\"errored\"===t?Promise.reject(r._storedError):WritableStreamDefaultWriterClose(e)}function WritableStreamDefaultWriterEnsureClosedPromiseRejected(e,r){\"pending\"===e._closedPromiseState?defaultWriterClosedPromiseReject(e,r):defaultWriterClosedPromiseResetToRejected(e,r),e._closedPromise.catch(function(){})}function WritableStreamDefaultWriterEnsureReadyPromiseRejected(e,r){verbose(\"WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer, %o)\",r),\"pending\"===e._readyPromiseState?defaultWriterReadyPromiseReject(e,r):defaultWriterReadyPromiseResetToRejected(e,r),e._readyPromise.catch(function(){})}function WritableStreamDefaultWriterGetDesiredSize(e){var r=e._ownerWritableStream,t=r._state;return\"errored\"===t||\"erroring\"===t?null:\"closed\"===t?0:WritableStreamDefaultControllerGetDesiredSize(r._writableStreamController)}function WritableStreamDefaultWriterRelease(e){var r=e._ownerWritableStream,t=new TypeError(\"Writer was released and can no longer be used to monitor the stream's closedness\");WritableStreamDefaultWriterEnsureReadyPromiseRejected(e,t),WritableStreamDefaultWriterEnsureClosedPromiseRejected(e,t),r._writer=void 0,e._ownerWritableStream=void 0}function WritableStreamDefaultWriterWrite(e,r){var t=e._ownerWritableStream,i=t._writableStreamController,a=WritableStreamDefaultControllerGetChunkSize(i,r);if(t!==e._ownerWritableStream)return Promise.reject(defaultWriterLockException(\"write to\"));var o=t._state;if(\"errored\"===o)return Promise.reject(t._storedError);if(!0===WritableStreamCloseQueuedOrInFlight(t)||\"closed\"===o)return Promise.reject(new TypeError(\"The stream is closing or closed and cannot be written to\"));if(\"erroring\"===o)return Promise.reject(t._storedError);var l=WritableStreamAddWriteRequest(t);return WritableStreamDefaultControllerWrite(i,r,a),l}function IsWritableStreamDefaultController(e){return!!typeIsObject(e)&&!!Object.prototype.hasOwnProperty.call(e,\"_controlledWritableStream\")}function SetUpWritableStreamDefaultController(e,r,t,i,a,o,l,s){r._controlledWritableStream=e,e._writableStreamController=r,r._queue=void 0,r._queueTotalSize=void 0,ResetQueue(r),r._started=!1,r._strategySizeAlgorithm=s,r._strategyHWM=l,r._writeAlgorithm=i,r._closeAlgorithm=a,r._abortAlgorithm=o;var n=WritableStreamDefaultControllerGetBackpressure(r);WritableStreamUpdateBackpressure(e,n);var u=t();Promise.resolve(u).then(function(){r._started=!0,WritableStreamDefaultControllerAdvanceQueueIfNeeded(r)},function(t){r._started=!0,WritableStreamDealWithRejection(e,t)}).catch(rethrowAssertionErrorRejection)}function SetUpWritableStreamDefaultControllerFromUnderlyingSink(e,r,t,i){var a=Object.create(WritableStreamDefaultController.prototype),o=CreateAlgorithmFromUnderlyingMethod(r,\"write\",1,[a]),l=CreateAlgorithmFromUnderlyingMethod(r,\"close\",0,[]),s=CreateAlgorithmFromUnderlyingMethod(r,\"abort\",1,[]);SetUpWritableStreamDefaultController(e,a,function startAlgorithm(){return InvokeOrNoop(r,\"start\",[a])},o,l,s,t,i)}function WritableStreamDefaultControllerClose(e){EnqueueValueWithSize(e,\"close\",0),WritableStreamDefaultControllerAdvanceQueueIfNeeded(e)}function WritableStreamDefaultControllerGetChunkSize(e,r){try{return e._strategySizeAlgorithm(r)}catch(r){return WritableStreamDefaultControllerErrorIfNeeded(e,r),1}}function WritableStreamDefaultControllerGetDesiredSize(e){return e._strategyHWM-e._queueTotalSize}function WritableStreamDefaultControllerWrite(e,r,t){var i={chunk:r};try{EnqueueValueWithSize(e,i,t)}catch(r){return void WritableStreamDefaultControllerErrorIfNeeded(e,r)}var a=e._controlledWritableStream;!1===WritableStreamCloseQueuedOrInFlight(a)&&\"writable\"===a._state&&WritableStreamUpdateBackpressure(a,WritableStreamDefaultControllerGetBackpressure(e)),WritableStreamDefaultControllerAdvanceQueueIfNeeded(e)}function WritableStreamDefaultControllerAdvanceQueueIfNeeded(e){verbose(\"WritableStreamDefaultControllerAdvanceQueueIfNeeded()\");var r=e._controlledWritableStream;if(!1!==e._started&&void 0===r._inFlightWriteRequest){var t=r._state;if(\"closed\"!==t&&\"errored\"!==t)if(\"erroring\"!==t){if(0!==e._queue.length){var i=PeekQueueValue(e);\"close\"===i?WritableStreamDefaultControllerProcessClose(e):WritableStreamDefaultControllerProcessWrite(e,i.chunk)}}else WritableStreamFinishErroring(r)}}function WritableStreamDefaultControllerErrorIfNeeded(e,r){\"writable\"===e._controlledWritableStream._state&&WritableStreamDefaultControllerError(e,r)}function WritableStreamDefaultControllerProcessClose(e){var r=e._controlledWritableStream;WritableStreamMarkCloseRequestInFlight(r),DequeueValue(e),e._closeAlgorithm().then(function(){WritableStreamFinishInFlightClose(r)},function(e){WritableStreamFinishInFlightCloseWithError(r,e)}).catch(rethrowAssertionErrorRejection)}function WritableStreamDefaultControllerProcessWrite(e,r){var t=e._controlledWritableStream;WritableStreamMarkFirstWriteRequestInFlight(t),e._writeAlgorithm(r).then(function(){WritableStreamFinishInFlightWrite(t);var r=t._state;if(DequeueValue(e),!1===WritableStreamCloseQueuedOrInFlight(t)&&\"writable\"===r){var i=WritableStreamDefaultControllerGetBackpressure(e);WritableStreamUpdateBackpressure(t,i)}WritableStreamDefaultControllerAdvanceQueueIfNeeded(e)},function(e){WritableStreamFinishInFlightWriteWithError(t,e)}).catch(rethrowAssertionErrorRejection)}function WritableStreamDefaultControllerGetBackpressure(e){return WritableStreamDefaultControllerGetDesiredSize(e)<=0}function WritableStreamDefaultControllerError(e,r){WritableStreamStartErroring(e._controlledWritableStream,r)}function streamBrandCheckException(e){return new TypeError(\"WritableStream.prototype.\"+e+\" can only be used on a WritableStream\")}function defaultWriterBrandCheckException(e){return new TypeError(\"WritableStreamDefaultWriter.prototype.\"+e+\" can only be used on a WritableStreamDefaultWriter\")}function defaultWriterLockException(e){return new TypeError(\"Cannot \"+e+\" a stream using a released writer\")}function defaultWriterClosedPromiseInitialize(e){e._closedPromise=new Promise(function(r,t){e._closedPromise_resolve=r,e._closedPromise_reject=t,e._closedPromiseState=\"pending\"})}function defaultWriterClosedPromiseInitializeAsRejected(e,r){e._closedPromise=Promise.reject(r),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState=\"rejected\"}function defaultWriterClosedPromiseInitializeAsResolved(e){e._closedPromise=Promise.resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState=\"resolved\"}function defaultWriterClosedPromiseReject(e,r){e._closedPromise_reject(r),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState=\"rejected\"}function defaultWriterClosedPromiseResetToRejected(e,r){e._closedPromise=Promise.reject(r),e._closedPromiseState=\"rejected\"}function defaultWriterClosedPromiseResolve(e){e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState=\"resolved\"}function defaultWriterReadyPromiseInitialize(e){verbose(\"defaultWriterReadyPromiseInitialize()\"),e._readyPromise=new Promise(function(r,t){e._readyPromise_resolve=r,e._readyPromise_reject=t}),e._readyPromiseState=\"pending\"}function defaultWriterReadyPromiseInitializeAsRejected(e,r){verbose(\"defaultWriterReadyPromiseInitializeAsRejected(writer, %o)\",r),e._readyPromise=Promise.reject(r),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState=\"rejected\"}function defaultWriterReadyPromiseInitializeAsResolved(e){verbose(\"defaultWriterReadyPromiseInitializeAsResolved()\"),e._readyPromise=Promise.resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState=\"fulfilled\"}function defaultWriterReadyPromiseReject(e,r){verbose(\"defaultWriterReadyPromiseReject(writer, %o)\",r),e._readyPromise_reject(r),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState=\"rejected\"}function defaultWriterReadyPromiseReset(e){verbose(\"defaultWriterReadyPromiseReset()\"),e._readyPromise=new Promise(function(r,t){e._readyPromise_resolve=r,e._readyPromise_reject=t}),e._readyPromiseState=\"pending\"}function defaultWriterReadyPromiseResetToRejected(e,r){verbose(\"defaultWriterReadyPromiseResetToRejected(writer, %o)\",r),e._readyPromise=Promise.reject(r),e._readyPromiseState=\"rejected\"}function defaultWriterReadyPromiseResolve(e){verbose(\"defaultWriterReadyPromiseResolve()\"),e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState=\"fulfilled\"}var _createClass=function(){function defineProperties(e,r){for(var t=0;t<r.length;t++){var i=r[t];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,t){return r&&defineProperties(e.prototype,r),t&&defineProperties(e,t),e}}(),assert=_dereq_(\"better-assert\"),verbose=_dereq_(\"debug\")(\"streams:writable-stream:verbose\"),_require=_dereq_(\"./helpers.js\"),CreateAlgorithmFromUnderlyingMethod=_require.CreateAlgorithmFromUnderlyingMethod,InvokeOrNoop=_require.InvokeOrNoop,ValidateAndNormalizeHighWaterMark=_require.ValidateAndNormalizeHighWaterMark,IsNonNegativeNumber=_require.IsNonNegativeNumber,MakeSizeAlgorithmFromSizeFunction=_require.MakeSizeAlgorithmFromSizeFunction,typeIsObject=_require.typeIsObject,_require2=_dereq_(\"./utils.js\"),rethrowAssertionErrorRejection=_require2.rethrowAssertionErrorRejection,_require3=_dereq_(\"./queue-with-sizes.js\"),DequeueValue=_require3.DequeueValue,EnqueueValueWithSize=_require3.EnqueueValueWithSize,PeekQueueValue=_require3.PeekQueueValue,ResetQueue=_require3.ResetQueue,AbortSteps=Symbol(\"[[AbortSteps]]\"),ErrorSteps=Symbol(\"[[ErrorSteps]]\"),WritableStream=function(){function WritableStream(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=r.size,i=r.highWaterMark,a=void 0===i?1:i;if(_classCallCheck(this,WritableStream),InitializeWritableStream(this),void 0!==e.type)throw new RangeError(\"Invalid type is specified\");var o=MakeSizeAlgorithmFromSizeFunction(t);SetUpWritableStreamDefaultControllerFromUnderlyingSink(this,e,a=ValidateAndNormalizeHighWaterMark(a),o)}return _createClass(WritableStream,[{key:\"abort\",value:function abort(e){return!1===IsWritableStream(this)?Promise.reject(streamBrandCheckException(\"abort\")):!0===IsWritableStreamLocked(this)?Promise.reject(new TypeError(\"Cannot abort a stream that already has a writer\")):WritableStreamAbort(this,e)}},{key:\"getWriter\",value:function getWriter(){if(!1===IsWritableStream(this))throw streamBrandCheckException(\"getWriter\");return AcquireWritableStreamDefaultWriter(this)}},{key:\"locked\",get:function get(){if(!1===IsWritableStream(this))throw streamBrandCheckException(\"locked\");return IsWritableStreamLocked(this)}}]),WritableStream}();module.exports={AcquireWritableStreamDefaultWriter:AcquireWritableStreamDefaultWriter,CreateWritableStream:CreateWritableStream,IsWritableStream:IsWritableStream,IsWritableStreamLocked:IsWritableStreamLocked,WritableStream:WritableStream,WritableStreamAbort:WritableStreamAbort,WritableStreamDefaultControllerErrorIfNeeded:WritableStreamDefaultControllerErrorIfNeeded,WritableStreamDefaultWriterCloseWithErrorPropagation:WritableStreamDefaultWriterCloseWithErrorPropagation,WritableStreamDefaultWriterRelease:WritableStreamDefaultWriterRelease,WritableStreamDefaultWriterWrite:WritableStreamDefaultWriterWrite,WritableStreamCloseQueuedOrInFlight:WritableStreamCloseQueuedOrInFlight};var WritableStreamDefaultWriter=function(){function WritableStreamDefaultWriter(e){if(_classCallCheck(this,WritableStreamDefaultWriter),!1===IsWritableStream(e))throw new TypeError(\"WritableStreamDefaultWriter can only be constructed with a WritableStream instance\");if(!0===IsWritableStreamLocked(e))throw new TypeError(\"This stream has already been locked for exclusive writing by another writer\");this._ownerWritableStream=e,e._writer=this;var r=e._state;if(\"writable\"===r)!1===WritableStreamCloseQueuedOrInFlight(e)&&!0===e._backpressure?defaultWriterReadyPromiseInitialize(this):defaultWriterReadyPromiseInitializeAsResolved(this),defaultWriterClosedPromiseInitialize(this);else if(\"erroring\"===r)defaultWriterReadyPromiseInitializeAsRejected(this,e._storedError),this._readyPromise.catch(function(){}),defaultWriterClosedPromiseInitialize(this);else if(\"closed\"===r)defaultWriterReadyPromiseInitializeAsResolved(this),defaultWriterClosedPromiseInitializeAsResolved(this);else{var t=e._storedError;defaultWriterReadyPromiseInitializeAsRejected(this,t),this._readyPromise.catch(function(){}),defaultWriterClosedPromiseInitializeAsRejected(this,t),this._closedPromise.catch(function(){})}}return _createClass(WritableStreamDefaultWriter,[{key:\"abort\",value:function abort(e){return!1===IsWritableStreamDefaultWriter(this)?Promise.reject(defaultWriterBrandCheckException(\"abort\")):void 0===this._ownerWritableStream?Promise.reject(defaultWriterLockException(\"abort\")):WritableStreamDefaultWriterAbort(this,e)}},{key:\"close\",value:function close(){if(!1===IsWritableStreamDefaultWriter(this))return Promise.reject(defaultWriterBrandCheckException(\"close\"));var e=this._ownerWritableStream;return void 0===e?Promise.reject(defaultWriterLockException(\"close\")):!0===WritableStreamCloseQueuedOrInFlight(e)?Promise.reject(new TypeError(\"cannot close an already-closing stream\")):WritableStreamDefaultWriterClose(this)}},{key:\"releaseLock\",value:function releaseLock(){if(!1===IsWritableStreamDefaultWriter(this))throw defaultWriterBrandCheckException(\"releaseLock\");void 0!==this._ownerWritableStream&&WritableStreamDefaultWriterRelease(this)}},{key:\"write\",value:function write(e){return!1===IsWritableStreamDefaultWriter(this)?Promise.reject(defaultWriterBrandCheckException(\"write\")):void 0===this._ownerWritableStream?Promise.reject(defaultWriterLockException(\"write to\")):WritableStreamDefaultWriterWrite(this,e)}},{key:\"closed\",get:function get(){return!1===IsWritableStreamDefaultWriter(this)?Promise.reject(defaultWriterBrandCheckException(\"closed\")):this._closedPromise}},{key:\"desiredSize\",get:function get(){if(!1===IsWritableStreamDefaultWriter(this))throw defaultWriterBrandCheckException(\"desiredSize\");if(void 0===this._ownerWritableStream)throw defaultWriterLockException(\"desiredSize\");return WritableStreamDefaultWriterGetDesiredSize(this)}},{key:\"ready\",get:function get(){return!1===IsWritableStreamDefaultWriter(this)?Promise.reject(defaultWriterBrandCheckException(\"ready\")):this._readyPromise}}]),WritableStreamDefaultWriter}(),WritableStreamDefaultController=function(){function WritableStreamDefaultController(){throw _classCallCheck(this,WritableStreamDefaultController),new TypeError(\"WritableStreamDefaultController cannot be constructed explicitly\")}return _createClass(WritableStreamDefaultController,[{key:\"error\",value:function error(e){if(!1===IsWritableStreamDefaultController(this))throw new TypeError(\"WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController\");\"writable\"===this._controlledWritableStream._state&&WritableStreamDefaultControllerError(this,e)}},{key:AbortSteps,value:function value(e){return this._abortAlgorithm(e)}},{key:ErrorSteps,value:function value(){ResetQueue(this)}}]),WritableStreamDefaultController}();\n\n},{\"./helpers.js\":10,\"./queue-with-sizes.js\":11,\"./utils.js\":14,\"better-assert\":16,\"debug\":18}],16:[function(_dereq_,module,exports){\n(function (process){\nfunction assert(e){if(!e){var r=callsite(),s=r[1],t=s.getFileName(),i=s.getLineNumber(),n=(n=fs.readFileSync(t,\"utf8\")).split(\"\\n\")[i-1].match(/assert\\((.*)\\)/)[1];throw new AssertionError({message:n,stackStartFunction:r[0].getFunction()})}}var AssertionError=_dereq_(\"assert\").AssertionError,callsite=_dereq_(\"callsite\"),fs=_dereq_(\"fs\");module.exports=process.env.NO_ASSERT?function(){}:assert;\n\n}).call(this,_dereq_('_process'))\n\n},{\"_process\":4,\"assert\":2,\"callsite\":17,\"fs\":3}],17:[function(_dereq_,module,exports){\nmodule.exports=function(){var r=Error.prepareStackTrace;Error.prepareStackTrace=function(r,e){return e};var e=new Error;Error.captureStackTrace(e,arguments.callee);var a=e.stack;return Error.prepareStackTrace=r,a};\n\n},{}],18:[function(_dereq_,module,exports){\n(function (process){\nfunction useColors(){return!(\"undefined\"==typeof window||!window.process||\"renderer\"!==window.process.type)||(\"undefined\"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/))&&(\"undefined\"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||\"undefined\"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||\"undefined\"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)&&parseInt(RegExp.$1,10)>=31||\"undefined\"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/))}function formatArgs(e){var o=this.useColors;if(e[0]=(o?\"%c\":\"\")+this.namespace+(o?\" %c\":\" \")+e[0]+(o?\"%c \":\" \")+\"+\"+exports.humanize(this.diff),o){var C=\"color: \"+this.color;e.splice(1,0,C,\"color: inherit\");var t=0,r=0;e[0].replace(/%[a-zA-Z%]/g,function(e){\"%%\"!==e&&(t++,\"%c\"===e&&(r=t))}),e.splice(r,0,C)}}function log(){return\"object\"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function save(e){try{null==e?exports.storage.removeItem(\"debug\"):exports.storage.debug=e}catch(e){}}function load(){var e;try{e=exports.storage.debug}catch(e){}return!e&&\"undefined\"!=typeof process&&\"env\"in process&&(e=process.env.DEBUG),e}function localstorage(){try{return window.localStorage}catch(e){}}exports=module.exports=_dereq_(\"./debug\"),exports.log=log,exports.formatArgs=formatArgs,exports.save=save,exports.load=load,exports.useColors=useColors,exports.storage=\"undefined\"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:localstorage(),exports.colors=[\"#0000CC\",\"#0000FF\",\"#0033CC\",\"#0033FF\",\"#0066CC\",\"#0066FF\",\"#0099CC\",\"#0099FF\",\"#00CC00\",\"#00CC33\",\"#00CC66\",\"#00CC99\",\"#00CCCC\",\"#00CCFF\",\"#3300CC\",\"#3300FF\",\"#3333CC\",\"#3333FF\",\"#3366CC\",\"#3366FF\",\"#3399CC\",\"#3399FF\",\"#33CC00\",\"#33CC33\",\"#33CC66\",\"#33CC99\",\"#33CCCC\",\"#33CCFF\",\"#6600CC\",\"#6600FF\",\"#6633CC\",\"#6633FF\",\"#66CC00\",\"#66CC33\",\"#9900CC\",\"#9900FF\",\"#9933CC\",\"#9933FF\",\"#99CC00\",\"#99CC33\",\"#CC0000\",\"#CC0033\",\"#CC0066\",\"#CC0099\",\"#CC00CC\",\"#CC00FF\",\"#CC3300\",\"#CC3333\",\"#CC3366\",\"#CC3399\",\"#CC33CC\",\"#CC33FF\",\"#CC6600\",\"#CC6633\",\"#CC9900\",\"#CC9933\",\"#CCCC00\",\"#CCCC33\",\"#FF0000\",\"#FF0033\",\"#FF0066\",\"#FF0099\",\"#FF00CC\",\"#FF00FF\",\"#FF3300\",\"#FF3333\",\"#FF3366\",\"#FF3399\",\"#FF33CC\",\"#FF33FF\",\"#FF6600\",\"#FF6633\",\"#FF9900\",\"#FF9933\",\"#FFCC00\",\"#FFCC33\"],exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return\"[UnexpectedJSONParseError]: \"+e.message}},exports.enable(load());\n\n}).call(this,_dereq_('_process'))\n\n},{\"./debug\":19,\"_process\":4}],19:[function(_dereq_,module,exports){\nfunction selectColor(e){var r,t=0;for(r in e)t=(t<<5)-t+e.charCodeAt(r),t|=0;return exports.colors[Math.abs(t)%exports.colors.length]}function createDebug(e){function debug(){if(debug.enabled){var e=debug,t=+new Date,s=t-(r||t);e.diff=s,e.prev=r,e.curr=t,r=t;for(var o=new Array(arguments.length),n=0;n<o.length;n++)o[n]=arguments[n];o[0]=exports.coerce(o[0]),\"string\"!=typeof o[0]&&o.unshift(\"%O\");var a=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(r,t){if(\"%%\"===r)return r;a++;var s=exports.formatters[t];if(\"function\"==typeof s){var n=o[a];r=s.call(e,n),o.splice(a,1),a--}return r}),exports.formatArgs.call(e,o),(debug.log||exports.log||console.log.bind(console)).apply(e,o)}}var r;return debug.namespace=e,debug.enabled=exports.enabled(e),debug.useColors=exports.useColors(),debug.color=selectColor(e),debug.destroy=destroy,\"function\"==typeof exports.init&&exports.init(debug),exports.instances.push(debug),debug}function destroy(){var e=exports.instances.indexOf(this);return-1!==e&&(exports.instances.splice(e,1),!0)}function enable(e){exports.save(e),exports.names=[],exports.skips=[];var r,t=(\"string\"==typeof e?e:\"\").split(/[\\s,]+/),s=t.length;for(r=0;r<s;r++)t[r]&&(\"-\"===(e=t[r].replace(/\\*/g,\".*?\"))[0]?exports.skips.push(new RegExp(\"^\"+e.substr(1)+\"$\")):exports.names.push(new RegExp(\"^\"+e+\"$\")));for(r=0;r<exports.instances.length;r++){var o=exports.instances[r];o.enabled=exports.enabled(o.namespace)}}function disable(){exports.enable(\"\")}function enabled(e){if(\"*\"===e[e.length-1])return!0;var r,t;for(r=0,t=exports.skips.length;r<t;r++)if(exports.skips[r].test(e))return!1;for(r=0,t=exports.names.length;r<t;r++)if(exports.names[r].test(e))return!0;return!1}function coerce(e){return e instanceof Error?e.stack||e.message:e}exports=module.exports=createDebug.debug=createDebug.default=createDebug,exports.coerce=coerce,exports.disable=disable,exports.enable=enable,exports.enabled=enabled,exports.humanize=_dereq_(\"ms\"),exports.instances=[],exports.names=[],exports.skips=[],exports.formatters={};\n\n},{\"ms\":20}],20:[function(_dereq_,module,exports){\nfunction parse(e){if(!((e=String(e)).length>100)){var r=/^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(r){var a=parseFloat(r[1]);switch((r[2]||\"ms\").toLowerCase()){case\"years\":case\"year\":case\"yrs\":case\"yr\":case\"y\":return a*y;case\"days\":case\"day\":case\"d\":return a*d;case\"hours\":case\"hour\":case\"hrs\":case\"hr\":case\"h\":return a*h;case\"minutes\":case\"minute\":case\"mins\":case\"min\":case\"m\":return a*m;case\"seconds\":case\"second\":case\"secs\":case\"sec\":case\"s\":return a*s;case\"milliseconds\":case\"millisecond\":case\"msecs\":case\"msec\":case\"ms\":return a;default:return}}}}function fmtShort(e){return e>=d?Math.round(e/d)+\"d\":e>=h?Math.round(e/h)+\"h\":e>=m?Math.round(e/m)+\"m\":e>=s?Math.round(e/s)+\"s\":e+\"ms\"}function fmtLong(e){return plural(e,d,\"day\")||plural(e,h,\"hour\")||plural(e,m,\"minute\")||plural(e,s,\"second\")||e+\" ms\"}function plural(s,e,r){if(!(s<e))return s<1.5*e?Math.floor(s/e)+\" \"+r:Math.ceil(s/e)+\" \"+r+\"s\"}var s=1e3,m=60*s,h=60*m,d=24*h,y=365.25*d;module.exports=function(s,e){e=e||{};var r=typeof s;if(\"string\"===r&&s.length>0)return parse(s);if(\"number\"===r&&!1===isNaN(s))return e.long?fmtLong(s):fmtShort(s);throw new Error(\"val is not a non-empty string or a valid number. val=\"+JSON.stringify(s))};\n\n},{}]},{},[1])(1)\n});\n//# sourceMappingURL=polyfill-ie11.min.js.map\n","\"use strict\";\n/**\n * Character classes and associated utilities for the 5th edition of XML 1.0.\n *\n * @author Louis-Dominique Dubeau\n * @license MIT\n * @copyright Louis-Dominique Dubeau\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//\n// Fragments.\n//\nexports.CHAR = \"\\t\\n\\r -\\uD7FF\\uE000-\\uFFFD\\uD800\\uDC00-\\uDBFF\\uDFFF\";\nexports.S = \" \\t\\r\\n\";\n// tslint:disable-next-line:max-line-length\nexports.NAME_START_CHAR = \":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\uD800\\uDC00-\\uDB7F\\uDFFF\";\nexports.NAME_CHAR = \"-\" + exports.NAME_START_CHAR + \".0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040\";\n//\n// Regular expressions.\n//\nexports.CHAR_RE = new RegExp(\"^[\" + exports.CHAR + \"]$\", \"u\");\nexports.S_RE = new RegExp(\"^[\" + exports.S + \"]+$\", \"u\");\nexports.NAME_START_CHAR_RE = new RegExp(\"^[\" + exports.NAME_START_CHAR + \"]$\", \"u\");\nexports.NAME_CHAR_RE = new RegExp(\"^[\" + exports.NAME_CHAR + \"]$\", \"u\");\nexports.NAME_RE = new RegExp(\"^[\" + exports.NAME_START_CHAR + \"][\" + exports.NAME_CHAR + \"]*$\", \"u\");\nexports.NMTOKEN_RE = new RegExp(\"^[\" + exports.NAME_CHAR + \"]+$\", \"u\");\nvar TAB = 9;\nvar NL = 0xA;\nvar CR = 0xD;\nvar SPACE = 0x20;\n//\n// Lists.\n//\n/** All characters in the ``S`` production. */\nexports.S_LIST = [SPACE, NL, CR, TAB];\n/**\n * Determines whether a codepoint matches the ``CHAR`` production.\n *\n * @param c The code point.\n *\n * @returns ``true`` if the codepoint matches ``CHAR``.\n */\nfunction isChar(c) {\n    return (c >= SPACE && c <= 0xD7FF) ||\n        c === NL || c === CR || c === TAB ||\n        (c >= 0xE000 && c <= 0xFFFD) ||\n        (c >= 0x10000 && c <= 0x10FFFF);\n}\nexports.isChar = isChar;\n/**\n * Determines whether a codepoint matches the ``S`` (space) production.\n *\n * @param c The code point.\n *\n * @returns ``true`` if the codepoint matches ``S``.\n */\nfunction isS(c) {\n    return c === SPACE || c === NL || c === CR || c === TAB;\n}\nexports.isS = isS;\n/**\n * Determines whether a codepoint matches the ``NAME_START_CHAR`` production.\n *\n * @param c The code point.\n *\n * @returns ``true`` if the codepoint matches ``NAME_START_CHAR``.\n */\nfunction isNameStartChar(c) {\n    return ((c >= 0x41 && c <= 0x5A) ||\n        (c >= 0x61 && c <= 0x7A) ||\n        c === 0x3A ||\n        c === 0x5F ||\n        c === 0x200C ||\n        c === 0x200D ||\n        (c >= 0xC0 && c <= 0xD6) ||\n        (c >= 0xD8 && c <= 0xF6) ||\n        (c >= 0x00F8 && c <= 0x02FF) ||\n        (c >= 0x0370 && c <= 0x037D) ||\n        (c >= 0x037F && c <= 0x1FFF) ||\n        (c >= 0x2070 && c <= 0x218F) ||\n        (c >= 0x2C00 && c <= 0x2FEF) ||\n        (c >= 0x3001 && c <= 0xD7FF) ||\n        (c >= 0xF900 && c <= 0xFDCF) ||\n        (c >= 0xFDF0 && c <= 0xFFFD) ||\n        (c >= 0x10000 && c <= 0xEFFFF));\n}\nexports.isNameStartChar = isNameStartChar;\n/**\n * Determines whether a codepoint matches the ``NAME_CHAR`` production.\n *\n * @param c The code point.\n *\n * @returns ``true`` if the codepoint matches ``NAME_CHAR``.\n */\nfunction isNameChar(c) {\n    return isNameStartChar(c) ||\n        (c >= 0x30 && c <= 0x39) ||\n        c === 0x2D ||\n        c === 0x2E ||\n        c === 0xB7 ||\n        (c >= 0x0300 && c <= 0x036F) ||\n        (c >= 0x203F && c <= 0x2040);\n}\nexports.isNameChar = isNameChar;\n//# sourceMappingURL=ed5.js.map","\"use strict\";\n/**\n * Character classes and associated utilities for the 2nd edition of XML 1.1.\n *\n * @author Louis-Dominique Dubeau\n * @license MIT\n * @copyright Louis-Dominique Dubeau\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//\n// Fragments.\n//\nexports.CHAR = \"\\u0001-\\uD7FF\\uE000-\\uFFFD\\uD800\\uDC00-\\uDBFF\\uDFFF\";\nexports.RESTRICTED_CHAR = \"\\u0001-\\u0008\\u000B\\u000C\\u000E-\\u001F\\u007F-\\u0084\\u0086-\\u009F\";\nexports.S = \" \\t\\r\\n\";\n// tslint:disable-next-line:max-line-length\nexports.NAME_START_CHAR = \":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\uD800\\uDC00-\\uDB7F\\uDFFF\";\nexports.NAME_CHAR = \"-\" + exports.NAME_START_CHAR + \".0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040\";\n//\n// Regular expressions.\n//\nexports.CHAR_RE = new RegExp(\"^[\" + exports.CHAR + \"]$\", \"u\");\nexports.RESTRICTED_CHAR_RE = new RegExp(\"^[\" + exports.RESTRICTED_CHAR + \"]$\", \"u\");\nexports.S_RE = new RegExp(\"^[\" + exports.S + \"]+$\", \"u\");\nexports.NAME_START_CHAR_RE = new RegExp(\"^[\" + exports.NAME_START_CHAR + \"]$\", \"u\");\nexports.NAME_CHAR_RE = new RegExp(\"^[\" + exports.NAME_CHAR + \"]$\", \"u\");\nexports.NAME_RE = new RegExp(\"^[\" + exports.NAME_START_CHAR + \"][\" + exports.NAME_CHAR + \"]*$\", \"u\");\nexports.NMTOKEN_RE = new RegExp(\"^[\" + exports.NAME_CHAR + \"]+$\", \"u\");\nvar TAB = 9;\nvar NL = 0xA;\nvar CR = 0xD;\nvar SPACE = 0x20;\n//\n// Lists.\n//\n/** All characters in the ``S`` production. */\nexports.S_LIST = [SPACE, NL, CR, TAB];\n/**\n * Determines whether a codepoint matches the ``CHAR`` production.\n *\n * @param c The code point.\n *\n * @returns ``true`` if the codepoint matches ``CHAR``.\n */\nfunction isChar(c) {\n    return (c >= 0x0001 && c <= 0xD7FF) ||\n        (c >= 0xE000 && c <= 0xFFFD) ||\n        (c >= 0x10000 && c <= 0x10FFFF);\n}\nexports.isChar = isChar;\n/**\n * Determines whether a codepoint matches the ``RESTRICTED_CHAR`` production.\n *\n * @param c The code point.\n *\n * @returns ``true`` if the codepoint matches ``RESTRICTED_CHAR``.\n */\nfunction isRestrictedChar(c) {\n    return (c >= 0x1 && c <= 0x8) ||\n        c === 0xB ||\n        c === 0xC ||\n        (c >= 0xE && c <= 0x1F) ||\n        (c >= 0x7F && c <= 0x84) ||\n        (c >= 0x86 && c <= 0x9F);\n}\nexports.isRestrictedChar = isRestrictedChar;\n/**\n * Determines whether a codepoint matches the ``CHAR`` production and does not\n * match the ``RESTRICTED_CHAR`` production. ``isCharAndNotRestricted(x)`` is\n * equivalent to ``isChar(x) && !isRestrictedChar(x)``. This function is faster\n * than running the two-call equivalent.\n *\n * @param c The code point.\n *\n * @returns ``true`` if the codepoint matches ``CHAR`` and does not match\n * ``RESTRICTED_CHAR``.\n */\nfunction isCharAndNotRestricted(c) {\n    return (c === 0x9) ||\n        (c === 0xA) ||\n        (c === 0xD) ||\n        (c > 0x1F && c < 0x7F) ||\n        (c === 0x85) ||\n        (c > 0x9F && c <= 0xD7FF) ||\n        (c >= 0xE000 && c <= 0xFFFD) ||\n        (c >= 0x10000 && c <= 0x10FFFF);\n}\nexports.isCharAndNotRestricted = isCharAndNotRestricted;\n/**\n * Determines whether a codepoint matches the ``S`` (space) production.\n *\n * @param c The code point.\n *\n * @returns ``true`` if the codepoint matches ``S``.\n */\nfunction isS(c) {\n    return c === SPACE || c === NL || c === CR || c === TAB;\n}\nexports.isS = isS;\n/**\n * Determines whether a codepoint matches the ``NAME_START_CHAR`` production.\n *\n * @param c The code point.\n *\n * @returns ``true`` if the codepoint matches ``NAME_START_CHAR``.\n */\n// tslint:disable-next-line:cyclomatic-complexity\nfunction isNameStartChar(c) {\n    return ((c >= 0x41 && c <= 0x5A) ||\n        (c >= 0x61 && c <= 0x7A) ||\n        c === 0x3A ||\n        c === 0x5F ||\n        c === 0x200C ||\n        c === 0x200D ||\n        (c >= 0xC0 && c <= 0xD6) ||\n        (c >= 0xD8 && c <= 0xF6) ||\n        (c >= 0x00F8 && c <= 0x02FF) ||\n        (c >= 0x0370 && c <= 0x037D) ||\n        (c >= 0x037F && c <= 0x1FFF) ||\n        (c >= 0x2070 && c <= 0x218F) ||\n        (c >= 0x2C00 && c <= 0x2FEF) ||\n        (c >= 0x3001 && c <= 0xD7FF) ||\n        (c >= 0xF900 && c <= 0xFDCF) ||\n        (c >= 0xFDF0 && c <= 0xFFFD) ||\n        (c >= 0x10000 && c <= 0xEFFFF));\n}\nexports.isNameStartChar = isNameStartChar;\n/**\n * Determines whether a codepoint matches the ``NAME_CHAR`` production.\n *\n * @param c The code point.\n *\n * @returns ``true`` if the codepoint matches ``NAME_CHAR``.\n */\nfunction isNameChar(c) {\n    return isNameStartChar(c) ||\n        (c >= 0x30 && c <= 0x39) ||\n        c === 0x2D ||\n        c === 0x2E ||\n        c === 0xB7 ||\n        (c >= 0x0300 && c <= 0x036F) ||\n        (c >= 0x203F && c <= 0x2040);\n}\nexports.isNameChar = isNameChar;\n//# sourceMappingURL=ed2.js.map","\"use strict\";\n/**\n * Character class utilities for XML NS 1.0 edition 3.\n *\n * @author Louis-Dominique Dubeau\n * @license MIT\n * @copyright Louis-Dominique Dubeau\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//\n// Fragments.\n//\n// tslint:disable-next-line:max-line-length\nexports.NC_NAME_START_CHAR = \"A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\uD800\\uDC00-\\uDB7F\\uDFFF\";\nexports.NC_NAME_CHAR = \"-\" + exports.NC_NAME_START_CHAR + \".0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040\";\n//\n// Regular expressions.\n//\nexports.NC_NAME_START_CHAR_RE = new RegExp(\"^[\" + exports.NC_NAME_START_CHAR + \"]$\", \"u\");\nexports.NC_NAME_CHAR_RE = new RegExp(\"^[\" + exports.NC_NAME_CHAR + \"]$\", \"u\");\nexports.NC_NAME_RE = new RegExp(\"^[\" + exports.NC_NAME_START_CHAR + \"][\" + exports.NC_NAME_CHAR + \"]*$\", \"u\");\n/**\n * Determines whether a codepoint matches [[NC_NAME_START_CHAR]].\n *\n * @param c The code point.\n *\n * @returns ``true`` if the codepoint matches.\n */\n// tslint:disable-next-line:cyclomatic-complexity\nfunction isNCNameStartChar(c) {\n    return ((c >= 0x41 && c <= 0x5A) ||\n        c === 0x5F ||\n        (c >= 0x61 && c <= 0x7A) ||\n        (c >= 0xC0 && c <= 0xD6) ||\n        (c >= 0xD8 && c <= 0xF6) ||\n        (c >= 0x00F8 && c <= 0x02FF) ||\n        (c >= 0x0370 && c <= 0x037D) ||\n        (c >= 0x037F && c <= 0x1FFF) ||\n        (c >= 0x200C && c <= 0x200D) ||\n        (c >= 0x2070 && c <= 0x218F) ||\n        (c >= 0x2C00 && c <= 0x2FEF) ||\n        (c >= 0x3001 && c <= 0xD7FF) ||\n        (c >= 0xF900 && c <= 0xFDCF) ||\n        (c >= 0xFDF0 && c <= 0xFFFD) ||\n        (c >= 0x10000 && c <= 0xEFFFF));\n}\nexports.isNCNameStartChar = isNCNameStartChar;\n/**\n * Determines whether a codepoint matches [[NC_NAME_CHAR]].\n *\n * @param c The code point.\n *\n * @returns ``true`` if the codepoint matches.\n */\nfunction isNCNameChar(c) {\n    return isNCNameStartChar(c) ||\n        (c === 0x2D ||\n            c === 0x2E ||\n            (c >= 0x30 && c <= 0x39) ||\n            c === 0x00B7 ||\n            (c >= 0x0300 && c <= 0x036F) ||\n            (c >= 0x203F && c <= 0x2040));\n}\nexports.isNCNameChar = isNCNameChar;\n//# sourceMappingURL=ed3.js.map","'use strict'\nmodule.exports = function (Yallist) {\n  Yallist.prototype[Symbol.iterator] = function* () {\n    for (let walker = this.head; walker; walker = walker.next) {\n      yield walker.value\n    }\n  }\n}\n","'use strict'\nmodule.exports = Yallist\n\nYallist.Node = Node\nYallist.create = Yallist\n\nfunction Yallist (list) {\n  var self = this\n  if (!(self instanceof Yallist)) {\n    self = new Yallist()\n  }\n\n  self.tail = null\n  self.head = null\n  self.length = 0\n\n  if (list && typeof list.forEach === 'function') {\n    list.forEach(function (item) {\n      self.push(item)\n    })\n  } else if (arguments.length > 0) {\n    for (var i = 0, l = arguments.length; i < l; i++) {\n      self.push(arguments[i])\n    }\n  }\n\n  return self\n}\n\nYallist.prototype.removeNode = function (node) {\n  if (node.list !== this) {\n    throw new Error('removing node which does not belong to this list')\n  }\n\n  var next = node.next\n  var prev = node.prev\n\n  if (next) {\n    next.prev = prev\n  }\n\n  if (prev) {\n    prev.next = next\n  }\n\n  if (node === this.head) {\n    this.head = next\n  }\n  if (node === this.tail) {\n    this.tail = prev\n  }\n\n  node.list.length--\n  node.next = null\n  node.prev = null\n  node.list = null\n\n  return next\n}\n\nYallist.prototype.unshiftNode = function (node) {\n  if (node === this.head) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var head = this.head\n  node.list = this\n  node.next = head\n  if (head) {\n    head.prev = node\n  }\n\n  this.head = node\n  if (!this.tail) {\n    this.tail = node\n  }\n  this.length++\n}\n\nYallist.prototype.pushNode = function (node) {\n  if (node === this.tail) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var tail = this.tail\n  node.list = this\n  node.prev = tail\n  if (tail) {\n    tail.next = node\n  }\n\n  this.tail = node\n  if (!this.head) {\n    this.head = node\n  }\n  this.length++\n}\n\nYallist.prototype.push = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    push(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.unshift = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    unshift(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.pop = function () {\n  if (!this.tail) {\n    return undefined\n  }\n\n  var res = this.tail.value\n  this.tail = this.tail.prev\n  if (this.tail) {\n    this.tail.next = null\n  } else {\n    this.head = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.shift = function () {\n  if (!this.head) {\n    return undefined\n  }\n\n  var res = this.head.value\n  this.head = this.head.next\n  if (this.head) {\n    this.head.prev = null\n  } else {\n    this.tail = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.forEach = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.head, i = 0; walker !== null; i++) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.next\n  }\n}\n\nYallist.prototype.forEachReverse = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.tail, i = this.length - 1; walker !== null; i--) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.prev\n  }\n}\n\nYallist.prototype.get = function (n) {\n  for (var i = 0, walker = this.head; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.next\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.getReverse = function (n) {\n  for (var i = 0, walker = this.tail; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.prev\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.map = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.head; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.next\n  }\n  return res\n}\n\nYallist.prototype.mapReverse = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.tail; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.prev\n  }\n  return res\n}\n\nYallist.prototype.reduce = function (fn, initial) {\n  var acc\n  var walker = this.head\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.head) {\n    walker = this.head.next\n    acc = this.head.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = 0; walker !== null; i++) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.next\n  }\n\n  return acc\n}\n\nYallist.prototype.reduceReverse = function (fn, initial) {\n  var acc\n  var walker = this.tail\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.tail) {\n    walker = this.tail.prev\n    acc = this.tail.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = this.length - 1; walker !== null; i--) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.prev\n  }\n\n  return acc\n}\n\nYallist.prototype.toArray = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.head; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.next\n  }\n  return arr\n}\n\nYallist.prototype.toArrayReverse = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.tail; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.prev\n  }\n  return arr\n}\n\nYallist.prototype.slice = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = 0, walker = this.head; walker !== null && i < from; i++) {\n    walker = walker.next\n  }\n  for (; walker !== null && i < to; i++, walker = walker.next) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.sliceReverse = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = this.length, walker = this.tail; walker !== null && i > to; i--) {\n    walker = walker.prev\n  }\n  for (; walker !== null && i > from; i--, walker = walker.prev) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.splice = function (start, deleteCount, ...nodes) {\n  if (start > this.length) {\n    start = this.length - 1\n  }\n  if (start < 0) {\n    start = this.length + start;\n  }\n\n  for (var i = 0, walker = this.head; walker !== null && i < start; i++) {\n    walker = walker.next\n  }\n\n  var ret = []\n  for (var i = 0; walker && i < deleteCount; i++) {\n    ret.push(walker.value)\n    walker = this.removeNode(walker)\n  }\n  if (walker === null) {\n    walker = this.tail\n  }\n\n  if (walker !== this.head && walker !== this.tail) {\n    walker = walker.prev\n  }\n\n  for (var i = 0; i < nodes.length; i++) {\n    walker = insert(this, walker, nodes[i])\n  }\n  return ret;\n}\n\nYallist.prototype.reverse = function () {\n  var head = this.head\n  var tail = this.tail\n  for (var walker = head; walker !== null; walker = walker.prev) {\n    var p = walker.prev\n    walker.prev = walker.next\n    walker.next = p\n  }\n  this.head = tail\n  this.tail = head\n  return this\n}\n\nfunction insert (self, node, value) {\n  var inserted = node === self.head ?\n    new Node(value, null, node, self) :\n    new Node(value, node, node.next, self)\n\n  if (inserted.next === null) {\n    self.tail = inserted\n  }\n  if (inserted.prev === null) {\n    self.head = inserted\n  }\n\n  self.length++\n\n  return inserted\n}\n\nfunction push (self, item) {\n  self.tail = new Node(item, self.tail, null, self)\n  if (!self.head) {\n    self.head = self.tail\n  }\n  self.length++\n}\n\nfunction unshift (self, item) {\n  self.head = new Node(item, null, self.head, self)\n  if (!self.tail) {\n    self.tail = self.head\n  }\n  self.length++\n}\n\nfunction Node (value, prev, next, list) {\n  if (!(this instanceof Node)) {\n    return new Node(value, prev, next, list)\n  }\n\n  this.list = list\n  this.value = value\n\n  if (prev) {\n    prev.next = this\n    this.prev = prev\n  } else {\n    this.prev = null\n  }\n\n  if (next) {\n    next.prev = this\n    this.next = next\n  } else {\n    this.next = null\n  }\n}\n\ntry {\n  // add if support for Symbol.iterator is present\n  require('./iterator.js')(Yallist)\n} catch (er) {}\n","\"use strict\";\n/**\n * An asynchronous iterator library for advanced object pipelines\n * @module asynciterator\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isIterator = exports.isIterable = exports.isSourceExpression = exports.isPromise = exports.isEventEmitter = exports.isFunction = exports.range = exports.union = exports.fromIterable = exports.fromIterator = exports.fromArray = exports.single = exports.empty = exports.wrap = exports.WrappingIterator = exports.ClonedIterator = exports.UnionIterator = exports.MultiTransformIterator = exports.SimpleTransformIterator = exports.TransformIterator = exports.BufferedIterator = exports.MappingIterator = exports.DESTINATION = exports.identity = exports.IntegerIterator = exports.ArrayIterator = exports.SingletonIterator = exports.EmptyIterator = exports.AsyncIterator = exports.DESTROYED = exports.ENDED = exports.CLOSED = exports.CLOSING = exports.OPEN = exports.INIT = exports.setTaskScheduler = exports.getTaskScheduler = exports.scheduleTask = exports.LinkedList = void 0;\nconst events_1 = require(\"events\");\nconst linkedlist_1 = require(\"./linkedlist.cjs\");\nObject.defineProperty(exports, \"LinkedList\", { enumerable: true, get: function () { return linkedlist_1.LinkedList; } });\nconst taskscheduler_1 = require(\"./taskscheduler.cjs\");\nlet taskScheduler = taskscheduler_1.createTaskScheduler();\n/** Schedules the given task for asynchronous execution. */\nfunction scheduleTask(task) {\n    taskScheduler(task);\n}\nexports.scheduleTask = scheduleTask;\n/** Returns the asynchronous task scheduler. */\nfunction getTaskScheduler() {\n    return taskScheduler;\n}\nexports.getTaskScheduler = getTaskScheduler;\n/** Sets the asynchronous task scheduler. */\nfunction setTaskScheduler(scheduler) {\n    taskScheduler = scheduler;\n}\nexports.setTaskScheduler = setTaskScheduler;\n/**\n  ID of the INIT state.\n  An iterator is initializing if it is preparing main item generation.\n  It can already produce items.\n  @type integer\n*/\nexports.INIT = 1 << 0;\n/**\n  ID of the OPEN state.\n  An iterator is open if it can generate new items.\n  @type integer\n*/\nexports.OPEN = 1 << 1;\n/**\n  ID of the CLOSING state.\n  An iterator is closing if item generation is pending but will not be scheduled again.\n  @type integer\n*/\nexports.CLOSING = 1 << 2;\n/**\n  ID of the CLOSED state.\n  An iterator is closed if it no longer actively generates new items.\n  Items might still be available.\n  @type integer\n*/\nexports.CLOSED = 1 << 3;\n/**\n  ID of the ENDED state.\n  An iterator has ended if no further items will become available.\n  The 'end' event is guaranteed to have been called when in this state.\n  @type integer\n*/\nexports.ENDED = 1 << 4;\n/**\n  ID of the DESTROYED state.\n  An iterator has been destroyed\n  after calling {@link module:asynciterator.AsyncIterator#destroy}.\n  The 'end' event has not been called, as pending elements were voided.\n  @type integer\n*/\nexports.DESTROYED = 1 << 5;\n/**\n  An asynchronous iterator provides pull-based access to a stream of objects.\n  @extends module:asynciterator.EventEmitter\n*/\nclass AsyncIterator extends events_1.EventEmitter {\n    /** Creates a new `AsyncIterator`. */\n    constructor(initialState = exports.OPEN) {\n        super();\n        this._readable = false;\n        this._state = initialState;\n        this.on('newListener', waitForDataListener);\n    }\n    /**\n      Changes the iterator to the given state if possible and necessary,\n      possibly emitting events to signal that change.\n      @protected\n      @param {integer} newState The ID of the new state\n      @param {boolean} [eventAsync=false] Whether resulting events should be emitted asynchronously\n      @returns {boolean} Whether the state was changed\n      @emits module:asynciterator.AsyncIterator.end\n    */\n    _changeState(newState, eventAsync = false) {\n        // Validate the state change\n        const valid = newState > this._state && this._state < exports.ENDED;\n        if (valid) {\n            this._state = newState;\n            // Emit the `end` event when changing to ENDED\n            if (newState === exports.ENDED) {\n                if (!eventAsync)\n                    this.emit('end');\n                else\n                    taskScheduler(() => this.emit('end'));\n            }\n        }\n        return valid;\n    }\n    /**\n      Tries to read the next item from the iterator.\n      This is the main method for reading the iterator in _on-demand mode_,\n      where new items are only created when needed by consumers.\n      If no items are currently available, this methods returns `null`.\n      The {@link module:asynciterator.event:readable} event\n      will then signal when new items might be ready.\n      To read all items from the iterator,\n      switch to _flow mode_ by subscribing\n      to the {@link module:asynciterator.event:data} event.\n      When in flow mode, do not use the `read` method.\n      @returns {object?} The next item, or `null` if none is available\n    */\n    read() {\n        return null;\n    }\n    /**\n      The iterator emits a `readable` event when it might have new items available\n      after having had no items available right before this event.\n      If the iterator is not in flow mode, items can be retrieved\n      by calling {@link module:asynciterator.AsyncIterator#read}.\n      @event module:asynciterator.readable\n    */\n    /**\n      The iterator emits a `data` event with a new item as soon as it becomes available.\n      When one or more listeners are attached to the `data` event,\n      the iterator switches to _flow mode_,\n      generating and emitting new items as fast as possible.\n      This drains the source and might create backpressure on the consumers,\n      so only subscribe to this event if this behavior is intended.\n      In flow mode, don't use {@link module:asynciterator.AsyncIterator#read}.\n      To switch back to _on-demand mode_, remove all listeners from the `data` event.\n      You can then obtain items through `read` again.\n      @event module:asynciterator.data\n      @param {object} item The new item\n    */\n    /**\n      Invokes the callback for each remaining item in the iterator.\n      Switches the iterator to flow mode.\n      @param {Function} callback A function that will be called with each item\n      @param {object?} self The `this` pointer for the callback\n    */\n    forEach(callback, self) {\n        this.on('data', bind(callback, self));\n    }\n    /**\n      Stops the iterator from generating new items.\n      Already generated items or terminating items can still be emitted.\n      After this, the iterator will end asynchronously.\n      @emits module:asynciterator.AsyncIterator.end\n    */\n    close() {\n        if (this._changeState(exports.CLOSED))\n            this._endAsync();\n    }\n    /**\n      Destroy the iterator and stop it from generating new items.\n      This will not do anything if the iterator was already ended or destroyed.\n      All internal resources will be released an no new items will be emitted,\n      even not already generated items.\n      Implementors should not override this method,\n      but instead implement {@link module:asynciterator.AsyncIterator#_destroy}.\n      @param {Error} [cause] An optional error to emit.\n      @emits module:asynciterator.AsyncIterator.end\n      @emits module:asynciterator.AsyncIterator.error Only if an error is passed.\n    */\n    destroy(cause) {\n        if (!this.done) {\n            this._destroy(cause, error => {\n                cause = cause || error;\n                if (cause)\n                    this.emit('error', cause);\n                this._end(true);\n            });\n        }\n    }\n    /**\n      Called by {@link module:asynciterator.AsyncIterator#destroy}.\n      Implementers can override this, but this should not be called directly.\n      @param {?Error} cause The reason why the iterator is destroyed.\n      @param {Function} callback A callback function with an optional error argument.\n    */\n    _destroy(cause, callback) {\n        callback();\n    }\n    /**\n      Ends the iterator and cleans up.\n      Should never be called before {@link module:asynciterator.AsyncIterator#close};\n      typically, `close` is responsible for calling `_end`.\n      @param {boolean} [destroy] If the iterator should be forcefully destroyed.\n      @protected\n      @emits module:asynciterator.AsyncIterator.end\n    */\n    _end(destroy = false) {\n        if (this._changeState(destroy ? exports.DESTROYED : exports.ENDED)) {\n            this._readable = false;\n            this.removeAllListeners('readable');\n            this.removeAllListeners('data');\n            this.removeAllListeners('end');\n        }\n    }\n    /**\n      Asynchronously calls `_end`.\n      @protected\n    */\n    _endAsync() {\n        taskScheduler(() => this._end());\n    }\n    /**\n      The `end` event is emitted after the last item of the iterator has been read.\n      @event module:asynciterator.end\n    */\n    /**\n      Gets or sets whether this iterator might have items available for read.\n      A value of `false` means there are _definitely_ no items available;\n      a value of `true` means items _might_ be available.\n      @type boolean\n      @emits module:asynciterator.AsyncIterator.readable\n    */\n    get readable() {\n        return this._readable;\n    }\n    set readable(readable) {\n        readable = Boolean(readable) && !this.done;\n        // Set the readable value only if it has changed\n        if (this._readable !== readable) {\n            this._readable = readable;\n            // If the iterator became readable, emit the `readable` event\n            if (readable)\n                taskScheduler(() => this.emit('readable'));\n        }\n    }\n    /**\n      Gets whether the iterator has stopped generating new items.\n      @type boolean\n      @readonly\n    */\n    get closed() {\n        return this._state >= exports.CLOSING;\n    }\n    /**\n      Gets whether the iterator has finished emitting items.\n      @type boolean\n      @readonly\n    */\n    get ended() {\n        return this._state === exports.ENDED;\n    }\n    /**\n      Gets whether the iterator has been destroyed.\n      @type boolean\n      @readonly\n    */\n    get destroyed() {\n        return this._state === exports.DESTROYED;\n    }\n    /**\n      Gets whether the iterator will not emit anymore items,\n      either due to being closed or due to being destroyed.\n      @type boolean\n      @readonly\n    */\n    get done() {\n        return this._state >= exports.ENDED;\n    }\n    /* Generates a textual representation of the iterator. */\n    toString() {\n        const details = this._toStringDetails();\n        return `[${this.constructor.name}${details ? ` ${details}` : ''}]`;\n    }\n    /**\n      Generates details for a textual representation of the iterator.\n      @protected\n    */\n    _toStringDetails() {\n        return '';\n    }\n    /**\n      Consume all remaining items of the iterator into an array that will be returned asynchronously.\n      @param {object} [options] Settings for array creation\n      @param {integer} [options.limit] The maximum number of items to place in the array.\n     */\n    toArray(options) {\n        const items = [];\n        const limit = typeof (options === null || options === void 0 ? void 0 : options.limit) === 'number' ? options.limit : Infinity;\n        return this.ended || limit <= 0 ? Promise.resolve(items) : new Promise((resolve, reject) => {\n            // Collect and return all items up to the limit\n            const resolveItems = () => resolve(items);\n            const pushItem = (item) => {\n                items.push(item);\n                if (items.length >= limit) {\n                    this.removeListener('error', reject);\n                    this.removeListener('data', pushItem);\n                    this.removeListener('end', resolveItems);\n                    resolve(items);\n                }\n            };\n            // Start item collection\n            this.on('error', reject);\n            this.on('data', pushItem);\n            this.on('end', resolveItems);\n        });\n    }\n    /**\n      Retrieves the property with the given name from the iterator.\n      If no callback is passed, it returns the value of the property\n      or `undefined` if the property is not set.\n      If a callback is passed, it returns `undefined`\n      and calls the callback with the property the moment it is set.\n      @param {string} propertyName The name of the property to retrieve\n      @param {Function?} [callback] A one-argument callback to receive the property value\n      @returns {object?} The value of the property (if set and no callback is given)\n    */\n    getProperty(propertyName, callback) {\n        const properties = this._properties;\n        // If no callback was passed, return the property value\n        if (!callback)\n            return properties && properties[propertyName];\n        // If the value has been set, send it through the callback\n        if (properties && (propertyName in properties)) {\n            taskScheduler(() => callback(properties[propertyName]));\n        }\n        // If the value was not set, store the callback for when the value will be set\n        else {\n            let propertyCallbacks;\n            if (!(propertyCallbacks = this._propertyCallbacks))\n                this._propertyCallbacks = propertyCallbacks = Object.create(null);\n            if (propertyName in propertyCallbacks)\n                propertyCallbacks[propertyName].push(callback);\n            else\n                propertyCallbacks[propertyName] = [callback];\n        }\n        return undefined;\n    }\n    /**\n      Sets the property with the given name to the value.\n      @param {string} propertyName The name of the property to set\n      @param {object?} value The new value of the property\n    */\n    setProperty(propertyName, value) {\n        const properties = this._properties || (this._properties = Object.create(null));\n        properties[propertyName] = value;\n        // Execute getter callbacks that were waiting for this property to be set\n        const propertyCallbacks = this._propertyCallbacks || {};\n        const callbacks = propertyCallbacks[propertyName];\n        if (callbacks) {\n            delete propertyCallbacks[propertyName];\n            taskScheduler(() => {\n                for (const callback of callbacks)\n                    callback(value);\n            });\n            // Remove _propertyCallbacks if no pending callbacks are left\n            for (propertyName in propertyCallbacks)\n                return;\n            delete this._propertyCallbacks;\n        }\n    }\n    /**\n      Retrieves all properties of the iterator.\n      @returns {object} An object with property names as keys.\n    */\n    getProperties() {\n        const properties = this._properties;\n        const copy = {};\n        for (const name in properties)\n            copy[name] = properties[name];\n        return copy;\n    }\n    /**\n      Sets all of the given properties.\n      @param {object} properties Key/value pairs of properties to set\n    */\n    setProperties(properties) {\n        for (const propertyName in properties)\n            this.setProperty(propertyName, properties[propertyName]);\n    }\n    /**\n      Copies the given properties from the source iterator.\n      @param {module:asynciterator.AsyncIterator} source The iterator to copy from\n      @param {Array} propertyNames List of property names to copy\n    */\n    copyProperties(source, propertyNames) {\n        for (const propertyName of propertyNames) {\n            source.getProperty(propertyName, value => this.setProperty(propertyName, value));\n        }\n    }\n    /**\n      Transforms items from this iterator.\n      After this operation, only read the returned iterator instead of the current one.\n      @param {object|Function} [options] Settings of the iterator, or the transformation function\n      @param {integer} [options.maxbufferSize=4] The maximum number of items to keep in the buffer\n      @param {boolean} [options.autoStart=true] Whether buffering starts directly after construction\n      @param {integer} [options.offset] The number of items to skip\n      @param {integer} [options.limit] The maximum number of items\n      @param {Function} [options.filter] A function to synchronously filter items from the source\n      @param {Function} [options.map] A function to synchronously transform items from the source\n      @param {Function} [options.transform] A function to asynchronously transform items from the source\n      @param {boolean} [options.optional=false] If transforming is optional, the original item is pushed when its mapping yields `null` or its transformation yields no items\n      @param {Array|module:asynciterator.AsyncIterator} [options.prepend] Items to insert before the source items\n      @param {Array|module:asynciterator.AsyncIterator} [options.append]  Items to insert after the source items\n      @returns {module:asynciterator.AsyncIterator} A new iterator that maps the items from this iterator\n    */\n    transform(options) {\n        return new SimpleTransformIterator(this, options);\n    }\n    /**\n      Maps items from this iterator using the given function.\n      After this operation, only read the returned iterator instead of the current one.\n      @param {Function} map A mapping function to call on this iterator's (remaining) items\n      @param {object?} self The `this` pointer for the mapping function\n      @returns {module:asynciterator.AsyncIterator} A new iterator that maps the items from this iterator\n    */\n    map(map, self) {\n        return new MappingIterator(this, bind(map, self));\n    }\n    filter(filter, self) {\n        return this.map(function (item) {\n            return filter.call(self || this, item) ? item : null;\n        });\n    }\n    /**\n     * Returns a new iterator containing all of the unique items in the original iterator.\n     * @param by - The derived value by which to determine uniqueness (e.g., stringification).\n                   Defaults to the identity function.\n     * @returns An iterator with duplicates filtered out.\n     */\n    uniq(by = identity) {\n        const uniques = new Set();\n        return this.filter(function (item) {\n            const hashed = by.call(this, item);\n            if (!uniques.has(hashed)) {\n                uniques.add(hashed);\n                return true;\n            }\n            return false;\n        });\n    }\n    /**\n      Prepends the items after those of the current iterator.\n      After this operation, only read the returned iterator instead of the current one.\n      @param {Array|module:asynciterator.AsyncIterator} items Items to insert before this iterator's (remaining) items\n      @returns {module:asynciterator.AsyncIterator} A new iterator that prepends items to this iterator\n    */\n    prepend(items) {\n        return this.transform({ prepend: items });\n    }\n    /**\n      Appends the items after those of the current iterator.\n      After this operation, only read the returned iterator instead of the current one.\n      @param {Array|module:asynciterator.AsyncIterator} items Items to insert after this iterator's (remaining) items\n      @returns {module:asynciterator.AsyncIterator} A new iterator that appends items to this iterator\n    */\n    append(items) {\n        return this.transform({ append: items });\n    }\n    /**\n      Surrounds items of the current iterator with the given items.\n      After this operation, only read the returned iterator instead of the current one.\n      @param {Array|module:asynciterator.AsyncIterator} prepend Items to insert before this iterator's (remaining) items\n      @param {Array|module:asynciterator.AsyncIterator} append Items to insert after this iterator's (remaining) items\n      @returns {module:asynciterator.AsyncIterator} A new iterator that appends and prepends items to this iterator\n    */\n    surround(prepend, append) {\n        return this.transform({ prepend, append });\n    }\n    /**\n      Skips the given number of items from the current iterator.\n      The current iterator may not be read anymore until the returned iterator ends.\n      @param {integer} offset The number of items to skip\n      @returns {module:asynciterator.AsyncIterator} A new iterator that skips the given number of items\n    */\n    skip(offset) {\n        return this.map(item => offset-- > 0 ? null : item);\n    }\n    /**\n      Limits the current iterator to the given number of items.\n      The current iterator may not be read anymore until the returned iterator ends.\n      @param {integer} limit The maximum number of items\n      @returns {module:asynciterator.AsyncIterator} A new iterator with at most the given number of items\n    */\n    take(limit) {\n        return this.transform({ limit });\n    }\n    /**\n      Limits the current iterator to the given range.\n      The current iterator may not be read anymore until the returned iterator ends.\n      @param {integer} start Index of the first item to return\n      @param {integer} end Index of the last item to return\n      @returns {module:asynciterator.AsyncIterator} A new iterator with items in the given range\n    */\n    range(start, end) {\n        return this.transform({ offset: start, limit: Math.max(end - start + 1, 0) });\n    }\n    /**\n      Creates a copy of the current iterator,\n      containing all items emitted from this point onward.\n      Further copies can be created; they will all start from this same point.\n      After this operation, only read the returned copies instead of the original iterator.\n      @returns {module:asynciterator.AsyncIterator} A new iterator that contains all future items of this iterator\n    */\n    clone() {\n        return new ClonedIterator(this);\n    }\n}\nexports.AsyncIterator = AsyncIterator;\n// Starts emitting `data` events when `data` listeners are added\nfunction waitForDataListener(eventName) {\n    if (eventName === 'data') {\n        this.removeListener('newListener', waitForDataListener);\n        addSingleListener(this, 'readable', emitData);\n        if (this.readable)\n            taskScheduler(() => emitData.call(this));\n    }\n}\n// Emits new items though `data` events as long as there are `data` listeners\nfunction emitData() {\n    // While there are `data` listeners and items, emit them\n    let item;\n    while (this.listenerCount('data') !== 0 && (item = this.read()) !== null)\n        this.emit('data', item);\n    // Stop draining the source if there are no more `data` listeners\n    if (this.listenerCount('data') === 0 && !this.done) {\n        this.removeListener('readable', emitData);\n        addSingleListener(this, 'newListener', waitForDataListener);\n    }\n}\n// Adds the listener to the event, if it has not been added previously.\nfunction addSingleListener(source, eventName, listener) {\n    if (!source.listeners(eventName).includes(listener))\n        source.on(eventName, listener);\n}\n/**\n  An iterator that doesn't emit any items.\n  @extends module:asynciterator.AsyncIterator\n*/\nclass EmptyIterator extends AsyncIterator {\n    /** Creates a new `EmptyIterator`. */\n    constructor() {\n        super();\n        this._changeState(exports.ENDED, true);\n    }\n}\nexports.EmptyIterator = EmptyIterator;\n/**\n  An iterator that emits a single item.\n  @extends module:asynciterator.AsyncIterator\n*/\nclass SingletonIterator extends AsyncIterator {\n    /**\n      Creates a new `SingletonIterator`.\n      @param {object} item The item that will be emitted.\n    */\n    constructor(item) {\n        super();\n        this._item = item;\n        if (item === null)\n            this.close();\n        else\n            this.readable = true;\n    }\n    /* Reads the item from the iterator. */\n    read() {\n        const item = this._item;\n        this._item = null;\n        this.close();\n        return item;\n    }\n    /* Generates details for a textual representation of the iterator. */\n    _toStringDetails() {\n        return this._item === null ? '' : `(${this._item})`;\n    }\n}\nexports.SingletonIterator = SingletonIterator;\n/**\n  An iterator that emits the items of a given array.\n  @extends module:asynciterator.AsyncIterator\n*/\nclass ArrayIterator extends AsyncIterator {\n    /**\n      Creates a new `ArrayIterator`.\n      @param {Array} items The items that will be emitted.\n      @param {boolean} [options.autoStart=true] Whether buffering starts directly after construction\n      @param {boolean} [options.preserve=true] If false, the passed array can be safely modified\n    */\n    constructor(items = [], { autoStart = true, preserve = true } = {}) {\n        super();\n        const buffer = preserve || !Array.isArray(items) ? [...items] : items;\n        this._index = 0;\n        this._sourceStarted = autoStart !== false;\n        this._truncateThreshold = preserve ? -1 : 64;\n        if (this._sourceStarted && buffer.length === 0)\n            this.close();\n        else\n            this._buffer = buffer;\n        this.readable = true;\n    }\n    /* Reads an item from the iterator. */\n    read() {\n        if (!this._sourceStarted)\n            this._sourceStarted = true;\n        let item = null;\n        if (this._buffer) {\n            // Emit the current item\n            if (this._index < this._buffer.length)\n                item = this._buffer[this._index++];\n            // Close when all elements have been returned\n            if (this._index === this._buffer.length) {\n                delete this._buffer;\n                this.close();\n            }\n            // Do need keep old items around indefinitely\n            else if (this._index === this._truncateThreshold) {\n                this._buffer.splice(0, this._truncateThreshold);\n                this._index = 0;\n            }\n        }\n        return item;\n    }\n    /* Generates details for a textual representation of the iterator. */\n    _toStringDetails() {\n        return `(${this._buffer ? this._buffer.length - this._index : 0})`;\n    }\n    /* Called by {@link module:asynciterator.AsyncIterator#destroy} */\n    _destroy(cause, callback) {\n        delete this._buffer;\n        callback();\n    }\n    /**\n     Consume all remaining items of the iterator into an array that will be returned asynchronously.\n     @param {object} [options] Settings for array creation\n     @param {integer} [options.limit] The maximum number of items to place in the array.\n     */\n    toArray(options = {}) {\n        if (!this._buffer)\n            return Promise.resolve([]);\n        // Determine start and end index\n        const { length } = this._buffer;\n        const start = this._index;\n        const end = typeof options.limit !== 'number' ? length : start + options.limit;\n        // Slice the items off the buffer\n        const items = this._buffer.slice(start, end);\n        this._index = end;\n        // Close this iterator when we're past the end\n        if (end >= length)\n            this.close();\n        return Promise.resolve(items);\n    }\n}\nexports.ArrayIterator = ArrayIterator;\n/**\n  An iterator that enumerates integers in a certain range.\n  @extends module:asynciterator.AsyncIterator\n*/\nclass IntegerIterator extends AsyncIterator {\n    /**\n      Creates a new `IntegerIterator`.\n      @param {object} [options] Settings of the iterator\n      @param {integer} [options.start=0] The first number to emit\n      @param {integer} [options.end=Infinity] The last number to emit\n      @param {integer} [options.step=1] The increment between two numbers\n    */\n    constructor({ start = 0, step = 1, end } = {}) {\n        super();\n        // Determine the first number\n        if (Number.isFinite(start))\n            start = Math.trunc(start);\n        this._next = start;\n        // Determine step size\n        if (Number.isFinite(step))\n            step = Math.trunc(step);\n        this._step = step;\n        // Determine the last number\n        const ascending = step >= 0;\n        const direction = ascending ? Infinity : -Infinity;\n        if (Number.isFinite(end))\n            end = Math.trunc(end);\n        else if (end !== -direction)\n            end = direction;\n        this._last = end;\n        // Start iteration if there is at least one item; close otherwise\n        if (!Number.isFinite(start) || (ascending ? start > end : start < end))\n            this.close();\n        else\n            this.readable = true;\n    }\n    /* Reads an item from the iterator. */\n    read() {\n        if (this.closed)\n            return null;\n        const current = this._next, step = this._step, last = this._last, next = this._next += step;\n        if (step >= 0 ? next > last : next < last)\n            this.close();\n        return current;\n    }\n    /* Generates details for a textual representation of the iterator. */\n    _toStringDetails() {\n        return `(${this._next}...${this._last})`;\n    }\n}\nexports.IntegerIterator = IntegerIterator;\n/** Function that maps an element to itself. */\nfunction identity(item) {\n    return item;\n}\nexports.identity = identity;\n/** Key indicating the current consumer of a source. */\nexports.DESTINATION = Symbol('destination');\n/**\n An iterator that synchronously transforms every item from its source\n by applying a mapping function.\n @extends module:asynciterator.AsyncIterator\n*/\nclass MappingIterator extends AsyncIterator {\n    /**\n     * Applies the given mapping to the source iterator.\n     */\n    constructor(source, map = identity, options = {}) {\n        super();\n        this._map = map;\n        this._source = ensureSourceAvailable(source);\n        this._destroySource = options.destroySource !== false;\n        // Close if the source is already empty\n        if (source.done) {\n            this.close();\n        }\n        // Otherwise, wire up the source for reading\n        else {\n            this._source[exports.DESTINATION] = this;\n            this._source.on('end', destinationClose);\n            this._source.on('error', destinationEmitError);\n            this._source.on('readable', destinationSetReadable);\n            this.readable = this._source.readable;\n        }\n    }\n    /* Tries to read the next item from the iterator. */\n    read() {\n        if (!this.done) {\n            // Try to read an item that maps to a non-null value\n            if (this._source.readable) {\n                let item, mapped;\n                while ((item = this._source.read()) !== null) {\n                    if ((mapped = this._map(item)) !== null)\n                        return mapped;\n                }\n            }\n            this.readable = false;\n            // Close this iterator if the source is empty\n            if (this._source.done)\n                this.close();\n        }\n        return null;\n    }\n    /* Cleans up the source iterator and ends. */\n    _end(destroy) {\n        this._source.removeListener('end', destinationClose);\n        this._source.removeListener('error', destinationEmitError);\n        this._source.removeListener('readable', destinationSetReadable);\n        delete this._source[exports.DESTINATION];\n        if (this._destroySource)\n            this._source.destroy();\n        super._end(destroy);\n    }\n}\nexports.MappingIterator = MappingIterator;\n// Validates an AsyncIterator for use as a source within another AsyncIterator\nfunction ensureSourceAvailable(source, allowDestination = false) {\n    if (!source || !isFunction(source.read) || !isFunction(source.on))\n        throw new TypeError(`Invalid source: ${source}`);\n    if (!allowDestination && source[exports.DESTINATION])\n        throw new Error('The source already has a destination');\n    return source;\n}\n/**\n  An iterator that maintains an internal buffer of items.\n  This class serves as a base class for other iterators\n  with a typically complex item generation process.\n  @extends module:asynciterator.AsyncIterator\n*/\nclass BufferedIterator extends AsyncIterator {\n    /**\n      Creates a new `BufferedIterator`.\n      @param {object} [options] Settings of the iterator\n      @param {integer} [options.maxBufferSize=4] The number of items to preload in the internal buffer\n      @param {boolean} [options.autoStart=true] Whether buffering starts directly after construction\n    */\n    constructor({ maxBufferSize = 4, autoStart = true } = {}) {\n        super(exports.INIT);\n        this._buffer = new linkedlist_1.LinkedList();\n        this._maxBufferSize = 4;\n        this._reading = true;\n        this._pushedCount = 0;\n        this.maxBufferSize = maxBufferSize;\n        taskScheduler(() => this._init(autoStart));\n        this._sourceStarted = autoStart !== false;\n    }\n    /**\n      The maximum number of items to preload in the internal buffer.\n      A `BufferedIterator` tries to fill its buffer as far as possible.\n      Set to `Infinity` to fully drain the source.\n      @type number\n    */\n    get maxBufferSize() {\n        return this._maxBufferSize;\n    }\n    set maxBufferSize(maxBufferSize) {\n        // Allow only positive integers and infinity\n        if (maxBufferSize !== Infinity) {\n            maxBufferSize = !Number.isFinite(maxBufferSize) ? 4 :\n                Math.max(Math.trunc(maxBufferSize), 1);\n        }\n        // Only set the maximum buffer size if it changes\n        if (this._maxBufferSize !== maxBufferSize) {\n            this._maxBufferSize = maxBufferSize;\n            // Ensure sufficient elements are buffered\n            if (this._state === exports.OPEN)\n                this._fillBuffer();\n        }\n    }\n    /**\n      Initializing the iterator by calling {@link BufferedIterator#_begin}\n      and changing state from INIT to OPEN.\n      @protected\n      @param {boolean} autoStart Whether reading of items should immediately start after OPEN.\n    */\n    _init(autoStart) {\n        // Perform initialization tasks\n        let doneCalled = false;\n        this._reading = true;\n        this._begin(() => {\n            if (doneCalled)\n                throw new Error('done callback called multiple times');\n            doneCalled = true;\n            // Open the iterator and start buffering\n            this._reading = false;\n            this._changeState(exports.OPEN);\n            if (autoStart)\n                this._fillBufferAsync();\n            // If reading should not start automatically, the iterator doesn't become readable.\n            // Therefore, mark the iterator as (potentially) readable so consumers know it might be read.\n            else\n                this.readable = true;\n        });\n    }\n    /**\n      Writes beginning items and opens iterator resources.\n      Should never be called before {@link BufferedIterator#_init};\n      typically, `_init` is responsible for calling `_begin`.\n      @protected\n      @param {function} done To be called when initialization is complete\n    */\n    _begin(done) {\n        done();\n    }\n    /**\n      Tries to read the next item from the iterator.\n      If the buffer is empty,\n      this method calls {@link BufferedIterator#_read} to fetch items.\n      @returns {object?} The next item, or `null` if none is available\n    */\n    read() {\n        if (this.done)\n            return null;\n        // An explicit read kickstarts the source\n        if (!this._sourceStarted)\n            this._sourceStarted = true;\n        // Try to retrieve an item from the buffer\n        const buffer = this._buffer;\n        let item;\n        if (buffer.empty) {\n            item = null;\n            this.readable = false;\n        }\n        else {\n            item = buffer.shift();\n        }\n        // If the buffer is becoming empty, either fill it or end the iterator\n        if (!this._reading && buffer.length < this._maxBufferSize) {\n            // If the iterator is not closed and thus may still generate new items, fill the buffer\n            if (!this.closed)\n                this._fillBufferAsync();\n            // No new items will be generated, so if none are buffered, the iterator ends here\n            else if (buffer.empty)\n                this._endAsync();\n        }\n        return item;\n    }\n    /**\n      Tries to generate the given number of items.\n      Implementers should add `count` items through {@link BufferedIterator#_push}.\n      @protected\n      @param {integer} count The number of items to generate\n      @param {function} done To be called when reading is complete\n    */\n    _read(count, done) {\n        done();\n    }\n    /**\n      Adds an item to the internal buffer.\n      @protected\n      @param {object} item The item to add\n      @emits module:asynciterator.AsyncIterator.readable\n    */\n    _push(item) {\n        if (!this.done) {\n            this._pushedCount++;\n            this._buffer.push(item);\n            this.readable = true;\n        }\n    }\n    /**\n      Fills the internal buffer until `this._maxBufferSize` items are present.\n      This method calls {@link BufferedIterator#_read} to fetch items.\n      @protected\n      @emits module:asynciterator.AsyncIterator.readable\n    */\n    _fillBuffer() {\n        let neededItems;\n        // Avoid recursive reads\n        if (this._reading) {\n            // Do nothing\n        }\n        // If iterator closing started in the meantime, don't generate new items anymore\n        else if (this.closed) {\n            this._completeClose();\n        }\n        // Otherwise, try to fill empty spaces in the buffer by generating new items\n        else if ((neededItems = Math.min(this._maxBufferSize - this._buffer.length, 128)) > 0) {\n            // Acquire reading lock and start reading, counting pushed items\n            this._pushedCount = 0;\n            this._reading = true;\n            this._read(neededItems, () => {\n                // Verify the callback is only called once\n                if (!neededItems)\n                    throw new Error('done callback called multiple times');\n                neededItems = 0;\n                // Release reading lock\n                this._reading = false;\n                // If the iterator was closed while reading, complete closing\n                if (this.closed) {\n                    this._completeClose();\n                }\n                // If the iterator pushed one or more items,\n                // it might currently be able to generate additional items\n                // (even though all pushed items might already have been read)\n                else if (this._pushedCount) {\n                    this.readable = true;\n                    // If the buffer is insufficiently full, continue filling\n                    if (this._buffer.length < this._maxBufferSize / 2)\n                        this._fillBufferAsync();\n                }\n            });\n        }\n    }\n    /**\n      Schedules `_fillBuffer` asynchronously.\n    */\n    _fillBufferAsync() {\n        // Acquire reading lock to avoid recursive reads\n        if (!this._reading) {\n            this._reading = true;\n            taskScheduler(() => {\n                // Release reading lock so _fillBuffer` can take it\n                this._reading = false;\n                this._fillBuffer();\n            });\n        }\n    }\n    /**\n      Stops the iterator from generating new items\n      after a possible pending read operation has finished.\n      Already generated, pending, or terminating items can still be emitted.\n      After this, the iterator will end asynchronously.\n      @emits module:asynciterator.AsyncIterator.end\n    */\n    close() {\n        // If the iterator is not currently reading, we can close immediately\n        if (!this._reading)\n            this._completeClose();\n        // Closing cannot complete when reading, so temporarily assume CLOSING state\n        // `_fillBuffer` becomes responsible for calling `_completeClose`\n        else\n            this._changeState(exports.CLOSING);\n    }\n    /**\n      Stops the iterator from generating new items,\n      switching from `CLOSING` state into `CLOSED` state.\n      @protected\n      @emits module:asynciterator.AsyncIterator.end\n    */\n    _completeClose() {\n        if (this._changeState(exports.CLOSED)) {\n            // Write possible terminating items\n            this._reading = true;\n            this._flush(() => {\n                if (!this._reading)\n                    throw new Error('done callback called multiple times');\n                this._reading = false;\n                // If no items are left, end the iterator\n                // Otherwise, `read` becomes responsible for ending the iterator\n                if (this._buffer.empty)\n                    this._endAsync();\n            });\n        }\n    }\n    /* Called by {@link module:asynciterator.AsyncIterator#destroy} */\n    _destroy(cause, callback) {\n        this._buffer.clear();\n        callback();\n    }\n    /**\n      Writes terminating items and closes iterator resources.\n      Should never be called before {@link BufferedIterator#close};\n      typically, `close` is responsible for calling `_flush`.\n      @protected\n      @param {function} done To be called when termination is complete\n    */\n    _flush(done) {\n        done();\n    }\n    /**\n      Generates details for a textual representation of the iterator.\n      @protected\n     */\n    _toStringDetails() {\n        const buffer = this._buffer;\n        return `{${buffer.empty ? '' : `next: ${buffer.first}, `}buffer: ${buffer.length}}`;\n    }\n}\nexports.BufferedIterator = BufferedIterator;\n/**\n  An iterator that generates items based on a source iterator.\n  This class serves as a base class for other iterators.\n  @extends module:asynciterator.BufferedIterator\n*/\nclass TransformIterator extends BufferedIterator {\n    /**\n      Creates a new `TransformIterator`.\n      @param {module:asynciterator.AsyncIterator|Readable} [source] The source this iterator generates items from\n      @param {object} [options] Settings of the iterator\n      @param {integer} [options.maxBufferSize=4] The maximum number of items to keep in the buffer\n      @param {boolean} [options.autoStart=true] Whether buffering starts directly after construction\n      @param {boolean} [options.optional=false] If transforming is optional, the original item is pushed when its transformation yields no items\n      @param {boolean} [options.destroySource=true] Whether the source should be destroyed when this transformed iterator is closed or destroyed\n      @param {module:asynciterator.AsyncIterator} [options.source] The source this iterator generates items from\n    */\n    constructor(source, options = source || {}) {\n        super(options);\n        this._boundPush = (item) => this._push(item);\n        // Shift parameters if needed\n        if (!isSourceExpression(source))\n            source = options.source;\n        // The passed source is an AsyncIterator or readable stream\n        if (isEventEmitter(source)) {\n            this.source = source;\n        }\n        // The passed value is a promise or source creation function\n        else if (source) {\n            this._createSource = isPromise(source) ? () => source : source;\n            if (this._sourceStarted)\n                this._loadSourceAsync();\n        }\n        // Set other options\n        this._optional = Boolean(options.optional);\n        this._destroySource = options.destroySource !== false;\n    }\n    /**\n      The source this iterator generates items from.\n      @type module:asynciterator.AsyncIterator\n    */\n    get source() {\n        if (isFunction(this._createSource))\n            this._loadSourceAsync();\n        return this._source;\n    }\n    set source(value) {\n        // Validate and set source\n        const source = this._source = this._validateSource(value);\n        source[exports.DESTINATION] = this;\n        // Do not read the source if this iterator already ended\n        if (this.done) {\n            if (this._destroySource)\n                source.destroy();\n        }\n        // Close this iterator if the source already ended\n        else if (source.done) {\n            this.close();\n        }\n        // Otherwise, react to source events\n        else {\n            source.on('end', destinationCloseWhenDone);\n            source.on('readable', destinationFillBuffer);\n            source.on('error', destinationEmitError);\n        }\n    }\n    /**\n      Initializes a source that was set through a promise\n      @protected\n    */\n    _loadSourceAsync() {\n        if (isFunction(this._createSource)) {\n            // Assign the source after resolving\n            Promise.resolve(this._createSource()).then(source => {\n                delete this._createSource;\n                this.source = source;\n                this._fillBuffer();\n            }, error => this.emit('error', error));\n            // Signal that source creation is pending\n            this._createSource = null;\n        }\n    }\n    /**\n      Validates whether the given iterator can be used as a source.\n      @protected\n      @param {object} source The source to validate\n      @param {boolean} allowDestination Whether the source can already have a destination\n    */\n    _validateSource(source, allowDestination = false) {\n        if (this._source || typeof this._createSource !== 'undefined')\n            throw new Error('The source cannot be changed after it has been set');\n        return ensureSourceAvailable(source, allowDestination);\n    }\n    /**\n      Tries to read transformed items.\n    */\n    _read(count, done) {\n        const next = () => {\n            // Continue transforming until at least `count` items have been pushed\n            if (this._pushedCount < count && !this.closed)\n                taskScheduler(() => this._readAndTransform(next, done));\n            else\n                done();\n        };\n        this._readAndTransform(next, done);\n    }\n    /**\n      Reads a transforms an item\n    */\n    _readAndTransform(next, done) {\n        // If the source exists and still can read items,\n        // try to read and transform the next item.\n        let item;\n        const source = this.source;\n        if (!source || source.done || (item = source.read()) === null)\n            done();\n        else if (!this._optional)\n            this._transform(item, next, this._boundPush);\n        else\n            this._optionalTransform(item, next);\n    }\n    /**\n      Tries to transform the item;\n      if the transformation yields no items, pushes the original item.\n    */\n    _optionalTransform(item, done) {\n        const pushedCount = this._pushedCount;\n        this._transform(item, () => {\n            if (pushedCount === this._pushedCount)\n                this._push(item);\n            done();\n        }, this._boundPush);\n    }\n    /**\n      Generates items based on the item from the source.\n      Implementers should add items through {@link BufferedIterator#_push}.\n      The default implementation pushes the source item as-is.\n      @protected\n      @param {object} item The last read item from the source\n      @param {function} done To be called when reading is complete\n      @param {function} push A callback to push zero or more transformation results.\n    */\n    _transform(item, done, push) {\n        push(item);\n        done();\n    }\n    /**\n      Closes the iterator when pending items are transformed.\n      @protected\n    */\n    _closeWhenDone() {\n        this.close();\n    }\n    /* Cleans up the source iterator and ends. */\n    _end(destroy) {\n        const source = this._source;\n        if (source) {\n            source.removeListener('end', destinationCloseWhenDone);\n            source.removeListener('error', destinationEmitError);\n            source.removeListener('readable', destinationFillBuffer);\n            delete source[exports.DESTINATION];\n            if (this._destroySource)\n                source.destroy();\n        }\n        super._end(destroy);\n    }\n}\nexports.TransformIterator = TransformIterator;\nfunction destinationSetReadable() {\n    this[exports.DESTINATION].readable = true;\n}\nfunction destinationEmitError(error) {\n    this[exports.DESTINATION].emit('error', error);\n}\nfunction destinationClose() {\n    this[exports.DESTINATION].close();\n}\nfunction destinationCloseWhenDone() {\n    this[exports.DESTINATION]._closeWhenDone();\n}\nfunction destinationFillBuffer() {\n    if (this[exports.DESTINATION]._sourceStarted !== false)\n        this[exports.DESTINATION]._fillBuffer();\n}\n/**\n  An iterator that generates items based on a source iterator\n  and simple transformation steps passed as arguments.\n  @extends module:asynciterator.TransformIterator\n*/\nclass SimpleTransformIterator extends TransformIterator {\n    /**\n      Creates a new `SimpleTransformIterator`.\n      @param {module:asynciterator.AsyncIterator|Readable} [source] The source this iterator generates items from\n      @param {object|Function} [options] Settings of the iterator, or the transformation function\n      @param {integer} [options.maxbufferSize=4] The maximum number of items to keep in the buffer\n      @param {boolean} [options.autoStart=true] Whether buffering starts directly after construction\n      @param {module:asynciterator.AsyncIterator} [options.source] The source this iterator generates items from\n      @param {integer} [options.offset] The number of items to skip\n      @param {integer} [options.limit] The maximum number of items\n      @param {Function} [options.filter] A function to synchronously filter items from the source\n      @param {Function} [options.map] A function to synchronously transform items from the source\n      @param {Function} [options.transform] A function to asynchronously transform items from the source\n      @param {boolean} [options.optional=false] If transforming is optional, the original item is pushed when its mapping yields `null` or its transformation yields no items\n      @param {Array|module:asynciterator.AsyncIterator} [options.prepend] Items to insert before the source items\n      @param {Array|module:asynciterator.AsyncIterator} [options.append]  Items to insert after the source items\n    */\n    constructor(source, options) {\n        super(source, options);\n        this._offset = 0;\n        this._limit = Infinity;\n        this._filter = (item) => true;\n        // Set transformation steps from the options\n        options = options || (!isSourceExpression(source) ? source : null);\n        if (options) {\n            const transform = isFunction(options) ? options : options.transform;\n            const { limit, offset, filter, map, prepend, append } = options;\n            // Don't emit any items when bounds are unreachable\n            if (offset === Infinity || limit === -Infinity) {\n                this._limit = 0;\n            }\n            else {\n                if (Number.isFinite(offset))\n                    this._offset = Math.max(Math.trunc(offset), 0);\n                if (Number.isFinite(limit))\n                    this._limit = Math.max(Math.trunc(limit), 0);\n                if (isFunction(filter))\n                    this._filter = filter;\n                if (isFunction(map))\n                    this._map = map;\n                this._transform = isFunction(transform) ? transform : null;\n            }\n            if (prepend)\n                this._prepender = isEventEmitter(prepend) ? prepend : fromArray(prepend);\n            if (append)\n                this._appender = isEventEmitter(append) ? append : fromArray(append);\n        }\n    }\n    /* Tries to read and transform items */\n    _read(count, done) {\n        const next = () => this._readAndTransformSimple(count, nextAsync, done);\n        this._readAndTransformSimple(count, nextAsync, done);\n        function nextAsync() {\n            taskScheduler(next);\n        }\n    }\n    /* Reads and transform items */\n    _readAndTransformSimple(count, next, done) {\n        // Verify we have a readable source\n        let item;\n        const { source } = this;\n        if (!source || source.done) {\n            done();\n            return;\n        }\n        // Verify we are still below the limit\n        if (this._limit === 0)\n            this.close();\n        // Try to read the next item until at least `count` items have been pushed\n        while (!this.closed && this._pushedCount < count && (item = source.read()) !== null) {\n            // Verify the item passes the filter and we've reached the offset\n            if (!this._filter(item) || this._offset !== 0 && this._offset--)\n                continue;\n            // Synchronously map the item\n            const mappedItem = typeof this._map === 'undefined' ? item : this._map(item);\n            // Skip `null` items, pushing the original item if the mapping was optional\n            if (mappedItem === null) {\n                if (this._optional)\n                    this._push(item);\n            }\n            // Skip the asynchronous phase if no transformation was specified\n            else if (!isFunction(this._transform)) {\n                this._push(mappedItem);\n            }\n            // Asynchronously transform the item, and wait for `next` to call back\n            else {\n                if (!this._optional)\n                    this._transform(mappedItem, next, this._boundPush);\n                else\n                    this._optionalTransform(mappedItem, next);\n                return;\n            }\n            // Stop when we've reached the limit\n            if (--this._limit === 0)\n                this.close();\n        }\n        done();\n    }\n    // Prepends items to the iterator\n    _begin(done) {\n        this._insert(this._prepender, done);\n        delete this._prepender;\n    }\n    // Appends items to the iterator\n    _flush(done) {\n        this._insert(this._appender, done);\n        delete this._appender;\n    }\n    // Inserts items in the iterator\n    _insert(inserter, done) {\n        const push = (item) => this._push(item);\n        if (!inserter || inserter.done) {\n            done();\n        }\n        else {\n            inserter.on('data', push);\n            inserter.on('end', end);\n        }\n        function end() {\n            inserter.removeListener('data', push);\n            inserter.removeListener('end', end);\n            done();\n        }\n    }\n}\nexports.SimpleTransformIterator = SimpleTransformIterator;\n/**\n  An iterator that generates items by transforming each item of a source\n  with a different iterator.\n  @extends module:asynciterator.TransformIterator\n*/\nclass MultiTransformIterator extends TransformIterator {\n    /**\n     Creates a new `MultiTransformIterator`.\n     @param {module:asynciterator.AsyncIterator|Readable} [source] The source this iterator generates items from\n     @param {object|Function} [options] Settings of the iterator, or the transformation function\n     @param {integer} [options.maxbufferSize=4] The maximum number of items to keep in the buffer\n     @param {boolean} [options.autoStart=true] Whether buffering starts directly after construction\n     @param {module:asynciterator.AsyncIterator} [options.source] The source this iterator generates items from\n     @param {integer} [options.offset] The number of items to skip\n     @param {integer} [options.limit] The maximum number of items\n     @param {Function} [options.filter] A function to synchronously filter items from the source\n     @param {Function} [options.map] A function to synchronously transform items from the source\n     @param {Function} [options.transform] A function to asynchronously transform items from the source\n     @param {boolean} [options.optional=false] If transforming is optional, the original item is pushed when its mapping yields `null` or its transformation yields no items\n     @param {Function} [options.multiTransform] A function to asynchronously transform items to iterators from the source\n     @param {Array|module:asynciterator.AsyncIterator} [options.prepend] Items to insert before the source items\n     @param {Array|module:asynciterator.AsyncIterator} [options.append]  Items to insert after the source items\n     */\n    constructor(source, options) {\n        super(source, options);\n        this._transformerQueue = [];\n        // Set transformation steps from the options\n        if (options) {\n            const multiTransform = isFunction(options) ? options : options.multiTransform;\n            if (multiTransform)\n                this._createTransformer = multiTransform;\n        }\n    }\n    /* Tries to read and transform items */\n    _read(count, done) {\n        // Remove transformers that have ended\n        const transformerQueue = this._transformerQueue, optional = this._optional;\n        let head, item;\n        while ((head = transformerQueue[0]) && head.transformer.done) {\n            // If transforming is optional, push the original item if none was pushed\n            if (optional && head.item !== null) {\n                count--;\n                this._push(head.item);\n            }\n            // Remove listeners from the transformer\n            transformerQueue.shift();\n            const { transformer } = head;\n            transformer.removeListener('end', destinationFillBuffer);\n            transformer.removeListener('readable', destinationFillBuffer);\n            transformer.removeListener('error', destinationEmitError);\n        }\n        // Create new transformers if there are less than the maximum buffer size\n        const { source } = this;\n        while (source && !source.done && transformerQueue.length < this.maxBufferSize) {\n            // Read an item to create the next transformer\n            item = source.read();\n            if (item === null)\n                break;\n            // Create the transformer and listen to its events\n            const transformer = (this._createTransformer(item) ||\n                new EmptyIterator());\n            transformer[exports.DESTINATION] = this;\n            transformer.on('end', destinationFillBuffer);\n            transformer.on('readable', destinationFillBuffer);\n            transformer.on('error', destinationEmitError);\n            transformerQueue.push({ transformer, item });\n        }\n        // Try to read `count` items from the transformer\n        head = transformerQueue[0];\n        if (head) {\n            const { transformer } = head;\n            while (count-- > 0 && (item = transformer.read()) !== null) {\n                this._push(item);\n                // If a transformed item was pushed, no need to push the original anymore\n                if (optional)\n                    head.item = null;\n            }\n        }\n        // End the iterator if the source has ended\n        else if (source && source.done) {\n            this.close();\n        }\n        done();\n    }\n    /**\n      Creates a transformer for the given item.\n      @param {object} item The last read item from the source\n      @returns {module:asynciterator.AsyncIterator} An iterator that transforms the given item\n    */\n    _createTransformer(item) {\n        return new SingletonIterator(item);\n    }\n    /* Closes the iterator when pending items are transformed. */\n    _closeWhenDone() {\n        // Only close if all transformers are read\n        if (!this._transformerQueue.length)\n            this.close();\n    }\n    _end(destroy) {\n        super._end(destroy);\n        // Also destroy the open transformers left in the queue\n        if (this._destroySource) {\n            for (const item of this._transformerQueue)\n                item.transformer.destroy();\n        }\n    }\n}\nexports.MultiTransformIterator = MultiTransformIterator;\n/**\n  An iterator that generates items by reading from multiple other iterators.\n  @extends module:asynciterator.BufferedIterator\n*/\nclass UnionIterator extends BufferedIterator {\n    /**\n      Creates a new `UnionIterator`.\n      @param {module:asynciterator.AsyncIterator|Array} [sources] The sources to read from\n      @param {object} [options] Settings of the iterator\n      @param {boolean} [options.destroySource=true] Whether the sources should be destroyed when transformed iterator is closed or destroyed\n    */\n    constructor(sources, options = {}) {\n        super(options);\n        this._sources = [];\n        this._currentSource = -1;\n        const autoStart = options.autoStart !== false;\n        // Sources have been passed as an iterator\n        if (isEventEmitter(sources)) {\n            sources.on('error', error => this.emit('error', error));\n            this._pending = { loading: false, sources: sources };\n            if (autoStart)\n                this._loadSources();\n        }\n        // Sources have been passed as a non-empty array\n        else if (Array.isArray(sources) && sources.length > 0) {\n            for (const source of sources)\n                this._addSource(source);\n        }\n        // Sources are an empty list\n        else if (autoStart) {\n            this.close();\n        }\n        // Set other options\n        this._destroySources = options.destroySources !== false;\n    }\n    // Loads pending sources into the sources list\n    _loadSources() {\n        // Obtain sources iterator\n        const sources = this._pending.sources;\n        this._pending.loading = true;\n        // Close immediately if done\n        if (sources.done) {\n            delete this._pending;\n            this.close();\n        }\n        // Otherwise, set up source reading\n        else {\n            sources.on('data', source => {\n                this._addSource(source);\n                this._fillBufferAsync();\n            });\n            sources.on('end', () => {\n                delete this._pending;\n                this._fillBuffer();\n            });\n        }\n    }\n    // Adds the given source to the internal sources array\n    _addSource(source) {\n        if (isPromise(source))\n            source = wrap(source);\n        if (!source.done) {\n            this._sources.push(source);\n            source[exports.DESTINATION] = this;\n            source.on('error', destinationEmitError);\n            source.on('readable', destinationFillBuffer);\n            source.on('end', destinationRemoveEmptySources);\n        }\n    }\n    // Removes sources that will no longer emit items\n    _removeEmptySources() {\n        this._sources = this._sources.filter((source, index) => {\n            // Adjust the index of the current source if needed\n            if (source.done && index <= this._currentSource)\n                this._currentSource--;\n            return !source.done;\n        });\n        this._fillBuffer();\n    }\n    // Reads items from the next sources\n    _read(count, done) {\n        var _a;\n        // Start source loading if needed\n        if (((_a = this._pending) === null || _a === void 0 ? void 0 : _a.loading) === false)\n            this._loadSources();\n        // Try to read `count` items\n        let lastCount = 0, item;\n        while (lastCount !== (lastCount = count)) {\n            // Try every source at least once\n            for (let i = 0; i < this._sources.length && count > 0; i++) {\n                // Pick the next source\n                this._currentSource = (this._currentSource + 1) % this._sources.length;\n                const source = this._sources[this._currentSource];\n                // Attempt to read an item from that source\n                if ((item = source.read()) !== null) {\n                    count--;\n                    this._push(item);\n                }\n            }\n        }\n        // Close this iterator if all of its sources have been read\n        if (!this._pending && this._sources.length === 0)\n            this.close();\n        done();\n    }\n    _end(destroy = false) {\n        super._end(destroy);\n        // Destroy all sources that are still readable\n        if (this._destroySources) {\n            for (const source of this._sources)\n                source.destroy();\n            // Also close the sources stream if applicable\n            if (this._pending) {\n                this._pending.sources.destroy();\n                delete this._pending;\n            }\n        }\n    }\n}\nexports.UnionIterator = UnionIterator;\nfunction destinationRemoveEmptySources() {\n    this[exports.DESTINATION]._removeEmptySources();\n}\n/**\n  An iterator that copies items from another iterator.\n  @extends module:asynciterator.TransformIterator\n*/\nclass ClonedIterator extends TransformIterator {\n    /**\n      Creates a new `ClonedIterator`.\n      @param {module:asynciterator.AsyncIterator|Readable} [source] The source this iterator copies items from\n    */\n    constructor(source) {\n        super(source, { autoStart: false });\n        this._readPosition = 0;\n        this._reading = false;\n    }\n    _init() {\n        // skip buffered iterator initialization, since we read from history\n    }\n    close() {\n        // skip buffered iterator cleanup\n        AsyncIterator.prototype.close.call(this);\n    }\n    // The source this iterator copies items from\n    get source() {\n        return super.source;\n    }\n    set source(value) {\n        // Validate and set the source\n        const source = this._source = this._validateSource(value);\n        // Create a history reader for the source if none already existed\n        const history = (source && source[exports.DESTINATION]) ||\n            (source[exports.DESTINATION] = new HistoryReader(source));\n        // Do not read the source if this iterator already ended\n        if (this.done) {\n            if (this._destroySource)\n                source.destroy();\n        }\n        // Close this clone if history is empty and the source has ended\n        else if (history.endsAt(0)) {\n            this.close();\n        }\n        else {\n            // Subscribe to history events\n            history.register(this);\n            // If there are already items in history, this clone is readable\n            // If the source has a lazy start, always mark this iterator as readable without eagerly triggering a read.\n            if (source._sourceStarted === false || history.readAt(0) !== null)\n                this.readable = true;\n        }\n        // Hook pending property callbacks to the source\n        const propertyCallbacks = this._propertyCallbacks;\n        for (const propertyName in propertyCallbacks) {\n            const callbacks = propertyCallbacks[propertyName];\n            for (const callback of callbacks)\n                this._getSourceProperty(propertyName, callback);\n        }\n    }\n    /**\n      Validates whether the given iterator can be used as a source.\n      @protected\n      @param {object} source The source to validate\n      @param {boolean} allowDestination Whether the source can already have a destination\n    */\n    _validateSource(source, allowDestination = false) {\n        const history = (source && source[exports.DESTINATION]);\n        return super._validateSource(source, !history || history instanceof HistoryReader);\n    }\n    // Retrieves the property with the given name from the clone or its source.\n    getProperty(propertyName, callback) {\n        const { source } = this, properties = this._properties, hasProperty = properties && (propertyName in properties);\n        // If no callback was passed, return the property value\n        if (!callback) {\n            return hasProperty ? properties && properties[propertyName] :\n                source && source.getProperty(propertyName);\n        }\n        // Try to look up the property in this clone\n        super.getProperty(propertyName, callback);\n        // If the property is not set on this clone, it might become set on the source first\n        if (source && !hasProperty)\n            this._getSourceProperty(propertyName, callback);\n        return undefined;\n    }\n    // Retrieves the property with the given name from the source\n    _getSourceProperty(propertyName, callback) {\n        this.source.getProperty(propertyName, value => {\n            // Only send the source's property if it was not set on the clone in the meantime\n            if (!this._properties || !(propertyName in this._properties))\n                callback(value);\n        });\n    }\n    // Retrieves all properties of the iterator and its source.\n    getProperties() {\n        const base = this.source ? this.source.getProperties() : {}, properties = this._properties;\n        for (const name in properties)\n            base[name] = properties[name];\n        return base;\n    }\n    /* Generates details for a textual representation of the iterator. */\n    _toStringDetails() {\n        return `{source: ${this.source ? this.source.toString() : 'none'}}`;\n    }\n    /* Tries to read an item */\n    read() {\n        // An explicit read kickstarts the source\n        if (!this._sourceStarted)\n            this._sourceStarted = true;\n        const source = this.source;\n        let item = null;\n        if (!this.done && source) {\n            // Try to read an item at the current point in history\n            const history = source[exports.DESTINATION];\n            if ((item = history.readAt(this._readPosition)) !== null)\n                this._readPosition++;\n            else\n                this.readable = false;\n            // Close the iterator if we are at the end of the source\n            if (history.endsAt(this._readPosition))\n                this.close();\n        }\n        return item;\n    }\n    /* End the iterator and cleans up. */\n    _end(destroy) {\n        // Unregister from a possible history reader\n        const source = this.source;\n        const history = source === null || source === void 0 ? void 0 : source[exports.DESTINATION];\n        if (history)\n            history.unregister(this);\n        // Don't call TransformIterator#_end,\n        // as it would make the source inaccessible for other clones\n        BufferedIterator.prototype._end.call(this, destroy);\n    }\n}\nexports.ClonedIterator = ClonedIterator;\n// Stores the history of a source, so it can be cloned\nclass HistoryReader {\n    constructor(source) {\n        this._history = [];\n        this._trackers = new Set();\n        this._source = source;\n        // If the source is still live, set up clone tracking;\n        // otherwise, the clones just read from the finished history\n        if (!source.done) {\n            // When the source becomes readable, makes all clones readable\n            const setReadable = () => {\n                for (const tracker of this._trackers)\n                    tracker.readable = true;\n            };\n            // When the source errors, re-emits the error\n            const emitError = (error) => {\n                for (const tracker of this._trackers)\n                    tracker.emit('error', error);\n            };\n            // When the source ends, closes all clones that are fully read\n            const end = () => {\n                // Close the clone if all items had been emitted\n                for (const tracker of this._trackers) {\n                    if (tracker._sourceStarted !== false &&\n                        tracker._readPosition === this._history.length)\n                        tracker.close();\n                }\n                this._trackers.clear();\n                // Remove source listeners, since no further events will be emitted\n                source.removeListener('end', end);\n                source.removeListener('error', emitError);\n                source.removeListener('readable', setReadable);\n            };\n            // Listen to source events to trigger events in subscribed clones\n            source.on('end', end);\n            source.on('error', emitError);\n            source.on('readable', setReadable);\n        }\n    }\n    // Registers a clone for history updates\n    register(clone) {\n        // Tracking is only needed if the source is still live\n        if (!this._source.done)\n            this._trackers.add(clone);\n    }\n    // Unregisters a clone for history updates\n    unregister(clone) {\n        this._trackers.delete(clone);\n    }\n    // Tries to read the item at the given history position\n    readAt(pos) {\n        let item = null;\n        // Retrieve an item from history when available\n        if (pos < this._history.length)\n            item = this._history[pos];\n        // Read a new item from the source when possible\n        else if (!this._source.done && (item = this._source.read()) !== null)\n            this._history[pos] = item;\n        return item;\n    }\n    // Determines whether the given position is the end of the source\n    endsAt(pos) {\n        return this._source.done && this._history.length === pos;\n    }\n}\n/**\n * An iterator that takes a variety of iterable objects as a source.\n */\nclass WrappingIterator extends AsyncIterator {\n    constructor(source, opts) {\n        super();\n        this._source = null;\n        this._destroySource = (opts === null || opts === void 0 ? void 0 : opts.destroySource) !== false;\n        // If promise, set up a temporary source and replace when ready\n        if (isPromise(source)) {\n            this._source = new AsyncIterator();\n            source.then(value => {\n                this._source = null;\n                this.source = value;\n            }).catch(error => this.emit('error', error));\n        }\n        // Otherwise, set the source synchronously\n        else if (source) {\n            this.source = source;\n        }\n    }\n    set source(value) {\n        let source = value;\n        if (this._source !== null)\n            throw new Error('The source cannot be changed after it has been set');\n        // Process an iterable source\n        if (isIterable(source))\n            source = source[Symbol.iterator]();\n        // Process an iterator source\n        if (isIterator(source)) {\n            let iterator = source;\n            source = new events_1.EventEmitter();\n            source.read = () => {\n                if (iterator !== null) {\n                    // Skip any null values inside of the iterator\n                    let next;\n                    while (!(next = iterator.next()).done) {\n                        if (next.value !== null)\n                            return next.value;\n                    }\n                    // No remaining values, so stop iterating\n                    iterator = null;\n                    this.close();\n                }\n                return null;\n            };\n        }\n        // Process any other readable source\n        else {\n            source = ensureSourceAvailable(source);\n        }\n        // Do not change sources if the iterator is already done\n        if (this.done) {\n            if (this._destroySource && isFunction(source.destroy))\n                source.destroy();\n            return;\n        }\n        // Set up event handling\n        source[exports.DESTINATION] = this;\n        source.on('end', destinationClose);\n        source.on('error', destinationEmitError);\n        source.on('readable', destinationSetReadable);\n        // Enable reading from source\n        this._source = source;\n        this.readable = source.readable !== false;\n    }\n    read() {\n        if (this._source !== null && this._source.readable !== false) {\n            const item = this._source.read();\n            if (item !== null)\n                return item;\n            this.readable = false;\n        }\n        return null;\n    }\n    _end(destroy = false) {\n        if (this._source !== null) {\n            this._source.removeListener('end', destinationClose);\n            this._source.removeListener('error', destinationEmitError);\n            this._source.removeListener('readable', destinationSetReadable);\n            delete this._source[exports.DESTINATION];\n            if (this._destroySource && isFunction(this._source.destroy))\n                this._source.destroy();\n            this._source = null;\n        }\n        super._end(destroy);\n    }\n}\nexports.WrappingIterator = WrappingIterator;\n/**\n  Creates an iterator that wraps around a given iterator or readable stream.\n  Use this to convert an iterator-like object into a full-featured AsyncIterator.\n  After this operation, only read the returned iterator instead of the given one.\n  @function\n  @param [source] The source this iterator generates items from\n  @param {object} [options] Settings of the iterator\n  @returns {module:asynciterator.AsyncIterator} A new iterator with the items from the given iterator\n*/\nfunction wrap(source, options) {\n    // TransformIterator if TransformIteratorOptions were specified\n    if (options && ('autoStart' in options || 'optional' in options || 'source' in options || 'maxBufferSize' in options))\n        return new TransformIterator(source, options);\n    // Empty iterator if no source specified\n    if (!source)\n        return empty();\n    // Unwrap promised sources\n    if (isPromise(source))\n        return new WrappingIterator(source, options);\n    // Directly return any AsyncIterator\n    if (source instanceof AsyncIterator)\n        return source;\n    // Other iterable objects\n    if (Array.isArray(source))\n        return fromArray(source);\n    if (isIterable(source) || isIterator(source) || isEventEmitter(source))\n        return new WrappingIterator(source, options);\n    // Other types are unsupported\n    throw new TypeError(`Invalid source: ${source}`);\n}\nexports.wrap = wrap;\n/**\n  Creates an empty iterator.\n */\nfunction empty() {\n    return new EmptyIterator();\n}\nexports.empty = empty;\n/**\n  Creates an iterator with a single item.\n  @param {object} item the item\n */\nfunction single(item) {\n    return new SingletonIterator(item);\n}\nexports.single = single;\n/**\n  Creates an iterator for the given array.\n  @param {Array} items the items\n */\nfunction fromArray(items) {\n    return new ArrayIterator(items);\n}\nexports.fromArray = fromArray;\n/**\n Creates an iterator for the given Iterator.\n @param {Iterable} source the iterator\n */\nfunction fromIterator(source) {\n    return new WrappingIterator(source);\n}\nexports.fromIterator = fromIterator;\n/**\n Creates an iterator for the given Iterable.\n @param {Iterable} source the iterable\n */\nfunction fromIterable(source) {\n    return new WrappingIterator(source);\n}\nexports.fromIterable = fromIterable;\n/**\n  Creates an iterator containing all items from the given iterators.\n  @param {Array} items the items\n */\nfunction union(sources) {\n    return new UnionIterator(sources);\n}\nexports.union = union;\n/**\n  Creates an iterator of integers for the given numeric range.\n  @param {Array} items the items\n */\nfunction range(start, end, step) {\n    return new IntegerIterator({ start, end, step });\n}\nexports.range = range;\n// Returns a function that calls `fn` with `self` as `this` pointer. */\nfunction bind(fn, self) {\n    return self ? fn.bind(self) : fn;\n}\n// Determines whether the given object is a function\nfunction isFunction(object) {\n    return typeof object === 'function';\n}\nexports.isFunction = isFunction;\n// Determines whether the given object is an EventEmitter\nfunction isEventEmitter(object) {\n    return isFunction(object === null || object === void 0 ? void 0 : object.on);\n}\nexports.isEventEmitter = isEventEmitter;\n// Determines whether the given object is a promise\nfunction isPromise(object) {\n    return isFunction(object === null || object === void 0 ? void 0 : object.then);\n}\nexports.isPromise = isPromise;\n// Determines whether the given object is a source expression\nfunction isSourceExpression(object) {\n    return object && (isEventEmitter(object) || isPromise(object) || isFunction(object));\n}\nexports.isSourceExpression = isSourceExpression;\n// Determines whether the given object supports the iterable protocol\nfunction isIterable(object) {\n    return object && (Symbol.iterator in object);\n}\nexports.isIterable = isIterable;\n// Determines whether the given object supports the iterator protocol\nfunction isIterator(object) {\n    return isFunction(object === null || object === void 0 ? void 0 : object.next);\n}\nexports.isIterator = isIterator;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkedList = void 0;\n/**\n * A list with O(1) push and shift operations.\n */\nclass LinkedList {\n    constructor() {\n        this._length = 0;\n        this._head = null;\n        this._tail = null;\n    }\n    get length() { return this._length; }\n    get first() { var _a; return (_a = this._head) === null || _a === void 0 ? void 0 : _a.value; }\n    get last() { var _a; return (_a = this._tail) === null || _a === void 0 ? void 0 : _a.value; }\n    get empty() { return this._head === null; }\n    push(value) {\n        const node = { value, next: null };\n        if (this._tail === null)\n            this._head = this._tail = node;\n        else\n            this._tail.next = this._tail = node;\n        this._length++;\n    }\n    shift() {\n        if (this._head === null)\n            return undefined;\n        const { value, next } = this._head;\n        this._head = next;\n        if (next === null)\n            this._tail = null;\n        this._length--;\n        return value;\n    }\n    clear() {\n        this._length = 0;\n        this._head = this._tail = null;\n    }\n}\nexports.LinkedList = LinkedList;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createTaskScheduler = void 0;\nconst resolved = Promise.resolve(undefined);\n// Returns a function that asynchronously schedules a task\nfunction createTaskScheduler() {\n    // Use or create a microtask scheduler\n    const scheduleMicrotask = typeof queueMicrotask === 'function' ?\n        queueMicrotask : (task) => resolved.then(task);\n    // Use or create a macrotask scheduler\n    const scheduleMacrotask = typeof setImmediate === 'function' ?\n        setImmediate : (task) => setTimeout(task, 0);\n    // Interrupt with a macrotask every once in a while to avoid freezing\n    let i = 0;\n    let queue = null;\n    return (task) => {\n        // Tasks are currently being queued to avoid freezing\n        if (queue !== null)\n            queue.push(task);\n        // Tasks are being scheduled normally as microtasks\n        else if (++i < 100)\n            scheduleMicrotask(task);\n        // A macrotask interruption is needed\n        else {\n            // Hold all tasks in a queue, and reschedule them after a macrotask\n            queue = [task];\n            scheduleMacrotask(() => {\n                // Work through the queue\n                for (const queued of queue)\n                    scheduleMicrotask(queued);\n                queue = null;\n                // Reset the interruption schedule\n                i = 0;\n            });\n        }\n    };\n}\nexports.createTaskScheduler = createTaskScheduler;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the module cache\n__webpack_require__.c = __webpack_module_cache__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// module cache are used so entry inlining is disabled\n// startup\n// Load entry module and return exports\nvar __webpack_exports__ = __webpack_require__(__webpack_require__.s = 2159);\n"],"names":["AbortController","AbortSignal","self","window","undefined","module","exports","DynamicNestedLoopJoin","HashJoin","NestedLoopJoin","SymmetricHashJoin","MergeStream","AsyncIterator","MultiTransformIterator","SimpleTransformIterator","constructor","left","funRight","funJoin","options","super","this","_createTransformer","leftItem","transform","rightItem","done","push","result","right","funHash","addedDataListener","leftMap","Map","match","matches","matchIdx","on","error","destroy","readable","size","close","hasResults","_end","bind","eventName","_addDataListener","ended","length","read","item","hash","get","has","set","scheduleTask","clone","usedLeft","rightMap","_cleanup","i","map","streams","Array","isArray","prototype","slice","call","arguments","stream","emit","_removeStream","idx","indexOf","splice","attempts","df_367_1","require","https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_init__2_0_0_components_ActorInit_jsonld_ActorInit_default_bus","https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_context_preprocess__2_0_0_components_ActorContextPreprocess_jsonld_ActorContextPreprocess_default_bus","https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_hash_bindings__2_0_0_components_ActorHashBindings_jsonld_ActorHashBindings_default_bus","https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_optimize_query_operation__2_0_0_components_ActorOptimizeQueryOperation_jsonld_ActorOptimizeQueryOperation_default_bus","https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_operation__2_0_0_components_ActorQueryOperation_jsonld_ActorQueryOperation_default_bus","https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_parse__2_0_0_components_ActorQueryParse_jsonld_ActorQueryParse_default_bus","https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_query_result_serialize__2_0_0_components_ActorQueryResultSerialize_jsonld_ActorQueryResultSerialize_default_bus","https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_http_invalidate__2_0_0_components_ActorHttpInvalidate_jsonld_ActorHttpInvalidate_default_bus","https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_rdf_serialize__2_0_0_components_ActorRdfSerialize_jsonld_ActorRdfSerialize_default_bus","https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_http__2_0_0_components_ActorHttp_jsonld_ActorHttp_default_bus","https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_rdf_join_entries_sort__2_0_0_components_ActorRdfJoinEntriesSort_jsonld_ActorRdfJoinEntriesSort_default_bus","https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_rdf_join_selectivity__2_0_0_components_ActorRdfJoinSelectivity_jsonld_ActorRdfJoinSelectivity_default_bus","https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_rdf_update_quads__2_0_0_components_ActorRdfUpdateQuads_jsonld_ActorRdfUpdateQuads_default_bus","https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_rdf_join__2_0_0_components_ActorRdfJoin_jsonld_ActorRdfJoin_default_bus","https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_rdf_resolve_quad_pattern__2_0_0_components_ActorRdfResolveQuadPattern_jsonld_ActorRdfResolveQuadPattern_default_bus","https___linkedsoftwaredependencies_org_bundles_npm__comunica_bus_http__2_0_0_components_ActorHttp_jsonld_ActorHttp_fallback_bus","urn_comunica_default_context_preprocess_mediators_main","urn_comunica_default_hash_bindings_mediators_main","urn_comunica_default_optimize_query_operation_mediators_main","urn_comunica_default_query_operation_mediators_main","urn_comunica_default_query_parse_mediators_main","urn_comunica_default_query_result_serialize_mediators_serialize","urn_comunica_default_query_result_serialize_mediators_mediaType","urn_comunica_default_query_result_serialize_mediators_mediaTypeFormat","urn_comunica_default_http_invalidate_mediators_main","https___linkedsoftwaredependencies_org_bundles_npm__comunica_actor_query_result_serialize_sparql_json__2_0_0_components_ActionObserverHttp_jsonld_IActionObserverHttpArgs_default_invalidator","https___linkedsoftwaredependencies_org_bundles_npm__comunica_actor_query_result_serialize_stats__2_0_0_components_ActionObserverHttp_jsonld_IActionObserverHttpArgs_default_invalidator","urn_comunica_default_rdf_serialize_mediators_serialize","urn_comunica_default_rdf_serialize_mediators_mediaType","urn_comunica_default_rdf_serialize_mediators_mediaTypeFormat","urn_comunica_default_rdf_join_entries_sort_mediators_main","urn_comunica_default_rdf_join_selectivity_mediators_main","urn_comunica_default_rdf_update_quads_mediators_main","urn_comunica_default_rdf_join_mediators_main","urn_comunica_default_rdf_resolve_quad_pattern_mediators_main","urn_comunica_default_http_mediators_main","urn_comunica_default_init_actors_query","https___linkedsoftwaredependencies_org_bundles_npm__comunica_actor_query_result_serialize_sparql_json__2_0_0_components_ActorQueryResultSerializeSparqlJson_jsonld_ActorQueryResultSerializeSparqlJson_default_observer","https___linkedsoftwaredependencies_org_bundles_npm__comunica_actor_query_result_serialize_stats__2_0_0_components_ActorQueryResultSerializeStats_jsonld_ActorQueryResultSerializeStats_default_observer","engineDefault","QueryEngine","actor_init_query_1","engine","__exportStar","ActorAbstractMediaTyped","core_1","args","action","typedAction","handle","runHandle","handleMediaType","context","mediaTypes","getMediaTypes","mediaTypeFormats","getMediaTypeFormats","Error","testHandle","testMediaType","testMediaTypeFormats","ActorAbstractMediaTypedFixed","ActorAbstractMediaTyped_1","scale","priorityScale","mediaTypePriorities","Object","entries","forEach","key","value","index","freeze","mediaType","testHandleChecked","DF","rdf_data_factory_1","BF","bindings_factory_1","ActorAbstractPath","bus_query_operation_1","predicateType","operation","predicate","type","generateVariable","path","name","subject","object","variable","context_entries_1","isPathArbitraryLengthDistinctKey","getSafeBindings","mediatorQueryOperation","mediate","FACTORY","createDistinct","graph","predVar","createPath","findGraphs","createUnion","createPattern","results","passedGraphs","Set","bindingsStream","asynciterator_1","multiTransform","bindings","graphValue","add","async","it","getObjectsPredicateStar","count","next","maxBufferSize","autoStart","metadata","emitFirstSubject","termType","predicateStarGraphVariable","PathVariableObjectIterator_1","Promise","resolve","getProperty","termHashes","counter","termString","termToString","_push","thisVariable","subjectVar","objectVar","subjectVal","objectVal","termHashesGlobal","termHashesCurrentSubject","objects","getSubjectAndObjectBindingsPredicateStar","promise","reject","objectsArray","sparqlalgebrajs_1","PathVariableObjectIterator","maxRunningOperations","runningOperations","pendingOperations","pushAsResult","_read","pendingOperation","pop","runningOperation","_fillBufferAsync","setProperty","lastCount","then","ActorContextPreprocessSourceToDestination","bus_context_preprocess_1","sources","destination","canonicalize","ActorHashBindingsSha1","bus_hash_bindings_1","allowHashCollisions","hashFunction","sha1","update","fromEntries","digest","hashCollisions","process","global","ActorInitQuery","ActorInitQueryBase_1","ActorInitQueryBase","bus_init_1","children","logOperation","logicalOperator","physicalOperator","node","parentNode","actor","planNode","rawNode","rootNode","toJson","planNodeToJson","logical","physical","getLogicalMetadata","child","pattern","quadToString","variables","quad","QueryEngineBase","actorInitQuery","query","queryOfType","expectedType","resultType","execute","output","queryOrExplain","explainMode","explain","contextKeyShortcuts","actionContext","queryFormat","language","version","delete","setDefault","graphqlSingularizeVariables","baseIRI","queryTimestamp","Date","sourceIds","log","logger","mediatorContextPreprocess","queryString","queryParseOutput","mediatorQueryParse","data","initialBindings","materializeOperation","mediatorResult","mediatorOptimizeQueryOperation","physicalQueryPlanLogger","MemoryPhysicalQueryPlanLogger_1","finalOutput","internalToFinalResult","toArray","ensureActionContext","mediatorQueryResultSerializeMediaTypeCombiner","mediatorQueryResultSerializeMediaTypeFormatCombiner","queryResult","finalToInternalResult","mediatorQueryResultSerialize","invalidateHttpCache","url","mediatorHttpInvalidate","internalResult","quadStream","finalResult","enumerable","ActorOptimizeQueryOperationBgpToJoin","bus_optimize_query_operation_1","mapOperation","bgp","op","factory","recurse","createJoin","patterns","ActorOptimizeQueryOperationJoinBgp","join","input","every","subInput","createBgp","flatMap","ActorOptimizeQueryOperationJoinConnected","cluster","oldClusters","newClusters","subOp","inScopeVariables","clusterIteration","subJoins","oldCluster","entry","joined","newEntry","haveOverlappingVariables","variablesA","variablesB","variableA","keys","ActorQueryOperationAsk","take","ActorQueryOperationBgpJoin","ActorQueryOperationConstruct","uniqTerms","concat","apply","getVariables","getTerms","operationOriginal","template","types","PROJECT","localizeBlankNodesFromContext","localizeBlankNodes","meta","order","cardinality","canContainUndefs","availableOrders","BindingsToQuadsIterator_1","BindingsToQuadsIterator","blankNodeCounter","term","mapTerms","boundTerm","bindTerm","blankNode","localizeBlankNode","bindTemplate","quads","x","bindQuad","filter","Boolean","localizeQuad","ActorQueryOperationDescribeSubject","operations","terms","templatePattern","BGP","variablePatterns","JOIN","CONSTRUCT","outputs","all","getSafeQuads","metadatas","actor_query_operation_union_1","unionMetadata","ActorQueryOperationDistinctHash","newHashFilter","mediatorHashBindings","hashes","ActorQueryOperationExtend","sparqlee_1","expression","getAsyncExpressionContext","config","evaluator","evaluate","isExpressionError","logWarn","bindingsToString","outputMetadata","ActorQueryOperationFilterSparqlee","outputRaw","validateQueryOutput","evaluateAsEBV","ActorQueryOperationFromQuad","recursiveCb","copiedOperation","ALGEBRA_TYPES","includes","defaultGraphs","joinOperations","bgps","unionOperations","paths","copyOperation","subOperation","applyOperationDefaultGraph","namedGraphs","patternGraph","values","createValues","pat","applyOperationNamedGraph","some","namedGraph","equals","default","named","createOperation","ActorQueryOperationGroup","aggregate","aggregates","agg","sparqleeConfig","groups","GroupsState_1","collectResults","consumeBindings","catch","groupsInitializer","groupVariables","distinctHashes","distinct","waitCounter","resultHasBeenCalled","check","resultCheck","grouper","_","groupHash","hashBindings","res","groupInitializer","groupInitializerDefined","group","aggregators","put","subtractWaitCounterAndCollect","bindingsHash","handleResultCollection","rows","groupBindings","returnBindings","single","emptyValue","waitResolver","ActorQueryOperationJoin","mediatorJoin","ActorQueryOperationLeftJoin","ActorQueryOperationMinus","ActorQueryOperationNop","ActorQueryOperationOrderBySparqlee","Number","POSITIVE_INFINITY","expr","expressions","extractSortExpression","isAscending","transformedStream","sortedStream","SortIterator_1","orderTypes","expressionType","operator","expressionTypes","OPERATOR","SortIterator","source","sort","windowLength","isFinite","sorted","mid","Math","trunc","_flush","ActorQueryOperationPathAlt","actor_abstract_path_1","ALT","subOperations","subPredicate","subMeta","ActorQueryOperationPathInv","INV","invPath","ActorQueryOperationPathLink","LINK","iri","ActorQueryOperationPathNps","NPS","blank","iris","ActorQueryOperationPathOneOrMore","ONE_OR_MORE_PATH","isPathArbitraryLengthDistinct","starEval","getObjectsPredicateStarEval","createOneOrMorePath","createInv","ActorQueryOperationPathSeq","SEQ","joiner","generatedVariableNames","nextJoiner","generatedVariableName","joinMetadata","ActorQueryOperationPathZeroOrMore","ZERO_OR_MORE_PATH","sVar","oVar","entities","subjectGraphHash","objectGraphHash","pred","ActorQueryOperationPathZeroOrOne","ZERO_OR_ONE_PATH","extra","prepend","ActorQueryOperationProject","deleteVariables","subVariable","missingVariables","deleteVariable","scopedBlankNodesCache","data_factory_1","scopedBlankNode","AF","ActorQueryOperationQuadpattern","isTermVariable","variableElements","duplicateVariables","rdf_terms_1","val","duplicateElementLinks","elements","remainingElements","metadataRaw","JSON","stringify","elementVariables","quadsMetadataToBindingsMetadata","validateMetadata","metadataQuads","quadsOrderToBindingsOrder","orderDef","cost","quadsOrder","mappedVariables","variableName","direction","merge","patternInner","unionDefaultGraph","mediatorResolveQuadPattern","reduceTerms","acc","quadBindingsReducer","getMetadata","filteredOutput","getDuplicateElementLinks","element1","element2","onClose","ActorQueryOperationReducedHash","LRU","max","cacheSize","ActorQueryOperationService","endpoint","subContext","sourceType","forceSparqlEndpoint","silent","ActorQueryOperationSlice","limitIndicator","sliceStream","sliceMetadata","hasLength","start","end","offset","limit","subMetadata","min","ActorQueryOperationSparqlEndpoint","endpointFetcher","fetch_sparql_endpoint_1","method","forceHttpGet","fetch","init","mediatorHttp","lastContext","prefixVariableQuestionMark","getContextSourceFirst","getContextDestinationFirst","getDataSourceType","destinationType","getDataDestinationType","sourceValue","getDataSourceValue","destinationValue","getDataDestinationValue","checkUrlSuffixSparql","endsWith","checkUrlSuffixUpdate","httpRequests","toSparql","getQueryType","getUpdateTypes","createProject","executeQuery","fetchAsk","fetchUpdate","inputStream","fetchTriples","fetchBindings","wrap","rawData","resultStream","LazyCardinalityIterator_1","cachifyMetadata","getCardinality","LazyCardinalityIterator","_source","_count","_buffering","destinationSetReadable","destinationEmitError","_buffer","empty","shift","_cardinality","_error","removeListener","clean","onData","onEnd","onError","err","ActorQueryOperationUnion","flat","metadataBase","unionVariables","ActorQueryOperationAddRewrite","throwOnReadOnly","runOperation","defaultGraph","createDeleteInsert","ActorQueryOperationClear","graphs","mediatorUpdateQuads","deleteGraphs","requireExistence","dropGraphs","ActorQueryOperationUpdateCompositeUpdate","updates","subResult","getSafeVoid","ActorQueryOperationCopyRewrite","createCompositeUpdate","createDrop","createAdd","ActorQueryOperationCreate","createGraphs","requireNonExistence","ActorQueryOperationUpdateDeleteInsert","whereBindings","where","quadStreamInsert","quadStreamDelete","insert","actor_query_operation_construct_1","ActorQueryOperationDrop","ActorQueryOperationLoad","constructOperation","createConstruct","lenient","ActorQueryOperationMoveRewrite","ActorQueryOperationValues","ActorQueryParseGraphql","bus_query_parse_1","graphqlToSparql","graphql_to_sparql_1","requireContext","jsonLdContext","singularizeVariables","graphqlToSparqlAlgebra","ActorQueryParseSparql","prefixes","parsedSyntax","sparqljs_1","parse","base","translate","blankToVariable","ActorQueryResultSerializeJson","bus_query_result_serialize_1","readable_stream_1","element","RdfString","quadToStringQuad","setTimeout","ActorQueryResultSerializeRdf","mediatorMediaTypeCombiner","mediatorRdfSerialize","mediatorMediaTypeFormatCombiner","ActorQueryResultSerializeSimple","ActorQueryResultSerializeSparqlCsv","stringValue","test","replace","bindingsAction","bindingToCsvBindings","ActionObserverHttp","requests","bus","subscribeObserver","httpInvalidator","addInvalidateListener","onRun","ActorQueryResultSerializeSparqlJson","literal","jsonValue","datatype","head","vars","bindingsJson","bindingToJsonBindings","emitMetadata","httpObserver","once","ActorQueryResultSerializeSparqlTsv","bindingToTsvBindings","ActorQueryResultSerializeSparqlXml","attributes","valueToXmlValue","serializer","XmlSerializer_1","chunk","open","xmlns","bindingToXmlBindings","toString","stack","identation","formatTag","serializeNode","escape","parts","state","attr","text","char","ActorQueryResultSerializeStats","pushHeader","header","pushStat","startTime","row","delay","pushFooter","footer","now","performance","time","hrtime","QUAD_TERM_NAMES_VARS","ActorQueryResultSerializeTable","padding","repeat","columnWidth","str","pad","labels","label","pushRow","ActorQueryResultSerializeTree","converterSettings","bindingsArray","converter","sparqljson_to_tree_1","schema","bindingsToTree","bindingsStreamToGraphQl","materializeRdfJsTerms","ActorQueryResultSerializeTree_1","ActorRdfJoinEntriesSortCardinality","bus_rdf_join_entries_sort_1","entryLeft","entryRight","ActorRdfJoinHash","bus_rdf_join_1","logicalType","physicalName","limitEntries","getMetadatas","overlappingVariables","asyncjoin_1","joinBindings","constructResultMetadata","requestInitialTimes","getRequestInitialTimes","requestItemTimes","getRequestItemTimes","iterations","persistedItems","blockingItems","requestTime","ActorRdfJoinMultiBind","canHandleUndefs","bindOrder","baseStream","operationBinder","optional","binder","bindFilter","bindingsMerger","subBindings","variableOccurrences","multiOccurrenceVariables","entriesWithoutCommonVariables","hasCommon","mediatorJoinEntriesSort","leftWithoutCommonVariables","entriesUnsorted","getEntriesWithMetadatas","sortJoinEntries","logDebug","smallestStream","remainingEntries","joinLeftMetadata","joinRightMetadatas","createBindStream","operationBindings","physicalPlanMetadata","bindIndex","remainingRequestInitialTimes","remainingRequestItemTimes","EXTEND","GROUP","selectivities","mediatorJoinSelectivity","selectivity","selectivityModifier","cardinalityRemaining","reduce","sum","receiveInitialCostRemaining","receiveItemCostRemaining","ActorRdfJoinMultiEmpty","joinVariables","ActorRdfJoinMultiSmallest","limitEntriesMin","smallestEntry1","smallestEntry2","firstEntry","entriesWithMetadata","ActorRdfJoinNestedLoop","ActorRdfJoinNone","getJoinCoefficients","ActorRdfJoinSingle","includeInLogs","ActorRdfJoinSymmetricHash","ActorRdfJoinMinusHashUndef","buffer","commonVariables","BindingsIndex_1","contains","bufferMetadata","BindingsIndex","isBindingsValid","dataIt","dataKey","hashTerm","subDataIt","containsRecursive","validKeys","dataIndexes","subDatas","subKey","ActorRdfJoinMinusHash","ActorRdfJoinOptionalBind","actor_rdf_join_inner_multi_bind_1","ActorRdfJoinOptionalNestedLoop","ActorRdfJoinSelectivityVariableCounting","bus_rdf_join_selectivity_1","accuracy","PATH","operation1","operation2","joinTypes","JoinTypes","unboundSS","unboundSP","unboundSO","unboundSG","boundSS","boundSP","boundSO","boundSG","unboundPS","unboundPP","unboundPO","unboundPG","boundPS","boundPP","boundPO","boundPG","unboundOS","unboundOP","unboundOO","unboundOG","boundOS","boundOP","boundOO","boundOG","unboundGS","unboundGP","unboundGO","unboundGG","boundGS","boundGP","boundGO","boundGG","MAX_PAIRWISE_COST","joinType","getJoinTypes","recurseOperation","PATTERN","totalCost","costEntries","pattern1","pattern2","getOperationsPairwiseJoinCost","factor","getPatternCost","getOperationsJoinCost","ActorRdfResolveQuadPatternFederated","bus_rdf_resolve_quad_pattern_1","emptyPatterns","getContextSources","FederatedQuadSource_1","skipEmptyPatterns","FederatedQuadSource","contextDefault","algebraFactory","parent","isTermBound","sourceId","namedNode","SKOLEM_PREFIX","skolemizeTerm","skolemized","startsWith","colonSeparator","termLabel","deskolemizeTerm","isSourceEmpty","emptyPattern","isSubPatternOf","getSourceId","remainingSources","checkEmitMetadata","currentTotalItems","lastMetadata","proxyIt","patternS","patternP","patternO","patternG","getDataSourceContext","pageSize","skolemizeQuad","proxyItResolved","subIt","ActorRdfResolveQuadPatternRdfJsSource","hasContextSingleSourceOfType","getContextSource","RdfJsQuadSource_1","RdfJsQuadSource","rawStream","nullifyVariables","setMetadata","countQuads","ActorRdfSerializeJsonLd","bus_rdf_serialize_1","jsonld_streaming_serializer_1","space","jsonStringifyIndentSpaces","import","ActorRdfSerializeN3","n3_1","format","triples","ActorRdfUpdateQuadsRdfJsStore","bus_rdf_update_quads_1","getContextDestination","remove","RdfJsQuadDestination_1","store","promisifyEventEmitter","eventEmitter","deleteGraph","allQuads","stringToTerm","Bindings","dataFactory","mapIterable","iteratorToIterable","fn","Symbol","iterator","other","mergeWith","merger","iterable","callback","Bindings_1","fromBindings","fromRecord","record","raw","ActorContextPreprocess","ActorHashBindings","ActorHttpInvalidate","ActorHttpInvalidateListenable","ActorHttpInvalidate_1","invalidateListeners","listener","ReadableStream","isStream","toWebReadableStream","ActorHttp","body","readable_web_to_node_stream_1","headers","ActorInit","ActorOptimizeQueryOperation","bnodeCounter","ActorQueryOperation","lastReturn","extensionFunctionCreator","extensionFunctions","functionNamedNode","getBaseExpressionContext","bnode","expressionContext","exists","createExistenceResolver","not","readOnly","ActorQueryOperationTyped","ActorQueryOperation_1","operationName","testOperation","physicalQueryPlanNode","ActorQueryOperationTypedMediated","ActorQueryOperationTyped_1","materializeTerm","strictTargetVariables","extend","createGroup","project","binding","valueBindings","newBinding","valid","keyString","createTermExpression","aggregator","BusQueryOperation","actorIdentifierFields","actionIdentifierFields","ClosableTransformIterator","ActorQueryParse","ActorQueryResultSerialize","actor_abstract_mediatyped_1","ActorQueryResultSerializeFixedMediaTypes","ActorRdfJoinEntriesSort","ActorRdfJoinSelectivity","ActorRdfJoin","baseArray","array","el","merged","partialMetadata","cardinalityJoined","cardinalityThis","parentPhysicalQueryPlanNode","planMetadata","getOutput","assign","cardinalities","joinCoefficients","ActorRdfResolveQuadPattern","ActorRdfResolveQuadPatternSource","ActorRdfResolveQuadPattern_1","getSource","isDataSourceRawType","dataSource","datasources","fileUrl","hashPosition","requiredType","ActorRdfSerialize","ActorRdfSerializeFixedMediaTypes","ActorRdfUpdateQuads","deskolemizeStream","id","actor_rdf_resolve_quad_pattern_federated_1","deskolemizeQuad","deskolemize","ActorRdfUpdateQuadsDestination","ActorRdfUpdateQuads_1","getDestination","httpResponse","status","bodyString","responseStream","bus_http_1","toNodeReadable","stringifyStream","cancel","isDataDestinationRawType","dataDestination","includeCredentials","auth","httpTimeout","httpBodyTimeout","httpRetryCount","httpRetryDelay","httpRetryOnServerError","recoverBrokenLinks","datetime","httpProxyHandler","cliArgsHandlers","documentLoader","strictValues","parserOptions","processingHtmlScript","extractAllScripts","ActionContext","setRaw","getRaw","getSafe","hasRaw","contexts","keyName","ActionContextKey","toJS","for","maybeActionContext","Actor","beforeActors","subscribe","addDependencies","ContextEntries_1","runObservable","run","getDefaultLogData","dataActual","logTrace","message","getContextLogger","trace","debug","logInfo","info","warn","logError","logFatal","fatal","actors","observers","dependencyLinks","reorderForDependencies","observer","unsubscribe","unsubscribeObserver","publish","reply","dependent","dependencies","dependency","existingDependencies","actorsAfter","actorAfter","dependentPos","activeActorAfterId","validLink","activeActorAfter","BusIndexed","Bus_1","actorsIndex","actorId","getActorIdentifier","actionId","getActionIdentifier","_undefined_","field","ActionContext_1","mediateWith","mediateActor","Logger","types_1","singleBindingsScope","LoggerVoid","MediatorAll","validActors","testResults","testResult","MediatorCombinePipeline","filterErrors","_testResults","getOrder","elem","actor1","actor2","MediatorCombineUnion","combiner","createCombiner","arr","MediatorJoinCoefficientsFixed","errors","promises","coefficients","costs","coeff","cpuWeight","memoryWeight","timeWeight","ioWeight","maxCost","minIndex","minValue","bestActor","MediatorNumber","indexPicker","createIndexPicker","tests","prev","curr","getOrDefault","isNaN","NaN","NEGATIVE_INFINITY","defaultValue","ignoreErrors","dummy","MediatorRace","subError","level","LEVELS","byteLength","b64","lens","getLens","validLen","placeHoldersLen","toByteArray","tmp","Arr","_byteLength","curByte","len","revLookup","charCodeAt","fromByteArray","uint8","extraBytes","maxChunkLength","len2","encodeChunk","lookup","Uint8Array","code","num","globalObject","BigNumber","isNumeric","mathceil","ceil","mathfloor","floor","bignumberError","tooManyDigits","BASE","LOG_BASE","MAX_SAFE_INTEGER","POWS_TEN","SQRT_BASE","MAX","bitFloor","n","coeffToString","a","s","z","j","r","compare","y","b","xc","c","yc","k","e","l","intCheck","String","isOdd","toExponential","charAt","toFixedPoint","zs","configObject","div","convertBase","parseNumeric","pow2_53","random53bitInt","basePrefix","dotAfter","dotBefore","isInfinityOrNaN","whitespaceOrPlus","P","valueOf","ONE","DECIMAL_PLACES","ROUNDING_MODE","TO_EXP_NEG","TO_EXP_POS","MIN_EXP","MAX_EXP","CRYPTO","MODULO_MODE","POW_PRECISION","FORMAT","prefix","groupSize","secondaryGroupSize","groupSeparator","decimalSeparator","fractionGroupSize","fractionGroupSeparator","suffix","ALPHABET","alphabetHasNormalDecimalDigits","v","alphabet","caseChanged","isNum","_isBigNumber","search","substring","round","DEBUG","toUpperCase","toLowerCase","rm","c0","ne","maxOrMin","m","normalise","sd","d","ni","rd","pows10","out","ROUND_UP","ROUND_DOWN","ROUND_CEIL","ROUND_FLOOR","ROUND_HALF_UP","ROUND_HALF_DOWN","ROUND_HALF_EVEN","ROUND_HALF_CEIL","ROUND_HALF_FLOOR","EUCLID","obj","p","hasOwnProperty","crypto","getRandomValues","randomBytes","EXPONENTIAL_AT","RANGE","isBigNumber","maximum","lt","minimum","gt","random","dp","rand","Uint32Array","copy","plus","decimal","toBaseOut","baseIn","baseOut","arrL","reverse","sign","callerIsToString","pow","multiply","temp","xlo","xhi","carry","klo","khi","aL","bL","cmp","subtract","more","prod","prodL","q","qc","rem","remL","rem0","xi","xL","yc0","yL","yz","p1","p2","absoluteValue","abs","comparedTo","decimalPlaces","dividedBy","dividedToIntegerBy","idiv","exponentiatedBy","half","isModExp","nIsBig","nIsNeg","nIsOdd","isInteger","mod","times","integerValue","isEqualTo","eq","isGreaterThan","isGreaterThanOrEqualTo","gte","isLessThan","isLessThanOrEqualTo","lte","isNegative","isPositive","isZero","minus","t","xLTy","xe","ye","modulo","multipliedBy","xcL","ycL","ylo","yhi","zc","sqrtBase","negated","precision","shiftedBy","squareRoot","sqrt","rep","toFixed","toFormat","split","g1","g2","intPart","fractionPart","isNeg","intDigits","substr","RegExp","toFraction","md","d0","d1","d2","exp","n0","n1","toNumber","toPrecision","toJSON","base64","ieee754","customInspectSymbol","Buffer","SlowBuffer","alloc","INSPECT_MAX_BYTES","K_MAX_LENGTH","createBuffer","RangeError","buf","setPrototypeOf","arg","encodingOrOffset","TypeError","allocUnsafe","from","string","encoding","isEncoding","actual","write","fromString","ArrayBuffer","isView","arrayView","isInstance","fromArrayBuffer","byteOffset","fromArrayLike","fromArrayView","SharedArrayBuffer","isBuffer","checked","numberIsNaN","fromObject","toPrimitive","assertSize","mustMatch","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","dir","arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","readUInt16BE","foundIndex","found","hexWrite","remaining","strLen","parsed","parseInt","utf8Write","blitBuffer","asciiWrite","byteArray","asciiToBytes","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","codePoints","MAX_ARGUMENTS_LENGTH","fromCharCode","decodeCodePointsArray","kMaxLength","TYPED_ARRAY_SUPPORT","proto","foo","typedArraySupport","console","defineProperty","poolSize","fill","allocUnsafeSlow","_isBuffer","list","pos","swap16","swap32","swap64","toLocaleString","inspect","trim","target","thisStart","thisEnd","thisCopy","targetCopy","_arr","ret","hexSliceLookupTable","bytes","checkOffset","ext","checkInt","wrtBigUInt64LE","checkIntBI","BigInt","wrtBigUInt64BE","checkIEEE754","writeFloat","littleEndian","noAssert","writeDouble","newBuf","subarray","readUintLE","readUIntLE","mul","readUintBE","readUIntBE","readUint8","readUInt8","readUint16LE","readUInt16LE","readUint16BE","readUint32LE","readUInt32LE","readUint32BE","readUInt32BE","readBigUInt64LE","defineBigIntMethod","validateNumber","first","last","boundsError","readBigUInt64BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readBigInt64LE","readBigInt64BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUintLE","writeUIntLE","writeUintBE","writeUIntBE","writeUint8","writeUInt8","writeUint16LE","writeUInt16LE","writeUint16BE","writeUInt16BE","writeUint32LE","writeUInt32LE","writeUint32BE","writeUInt32BE","writeBigUInt64LE","writeBigUInt64BE","writeIntLE","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeBigInt64LE","writeBigInt64BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","copyWithin","E","sym","getMessage","Base","writable","configurable","addNumericalSeparator","range","ERR_OUT_OF_RANGE","checkBounds","ERR_INVALID_ARG_TYPE","ERR_BUFFER_OUT_OF_BOUNDS","msg","received","INVALID_BASE64_RE","Infinity","leadSurrogate","base64clean","src","dst","table","i16","BufferBigIntNotDefined","serialize","cv","ci","support","Blob","viewClasses","isArrayBufferView","normalizeName","normalizeValue","iteratorFor","items","Headers","append","getOwnPropertyNames","consumed","bodyUsed","fileReaderReady","reader","onload","onerror","readBlobAsArrayBuffer","blob","FileReader","readAsArrayBuffer","bufferClone","view","Body","_initBody","_bodyInit","_bodyText","isPrototypeOf","_bodyBlob","FormData","_bodyFormData","URLSearchParams","DataView","_bodyArrayBuffer","rejected","arrayBuffer","readAsText","chars","readArrayBufferAsText","formData","decode","json","oldValue","thisArg","methods","Request","upcased","credentials","mode","signal","referrer","form","decodeURIComponent","Response","bodyInit","ok","statusText","response","redirectStatuses","redirect","location","DOMException","create","request","aborted","xhr","XMLHttpRequest","abortXhr","abort","rawHeaders","getAllResponseHeaders","line","responseURL","responseText","ontimeout","onabort","withCredentials","responseType","setRequestHeader","addEventListener","onreadystatechange","readyState","removeEventListener","send","polyfill","ReflectOwnKeys","R","Reflect","ReflectApply","receiver","Function","ownKeys","getOwnPropertySymbols","NumberIsNaN","EventEmitter","emitter","errorListener","resolver","eventTargetAgnosticAddListener","handler","flags","addErrorHandlerIfEventEmitter","_events","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","_getMaxListeners","that","_addListener","events","existing","warning","newListener","unshift","warned","w","onceWrapper","fired","wrapFn","_onceWrap","wrapped","_listeners","unwrap","evlistener","unwrapListeners","arrayClone","listenerCount","wrapListener","getPrototypeOf","setMaxListeners","getMaxListeners","doError","er","listeners","addListener","prependListener","prependOnceListener","position","originalListener","spliceOne","off","removeAllListeners","rawListeners","eventNames","equal","__createBinding","o","k2","desc","getOwnPropertyDescriptor","__esModule","SparqlEndpointFetcher","abort_controller_1","sparqljson_parse_1","sparqlxml_parse_1","n3","additionalUrlParams","fetchCb","sparqlJsonParser","SparqlJsonParser","sparqlXmlParser","SparqlXmlParser","sparqlParsers","CONTENTTYPE_SPARQL_JSON","parseBooleanStream","sparqlResponseStream","parseJsonBooleanStream","parseResultsStream","parseJsonResultsStream","CONTENTTYPE_SPARQL_XML","parseXmlBooleanStream","parseXmlResultsStream","parsedQuery","Parser","queryType","updateType","contentType","fetchRawStream","CONTENTTYPE_SPARQL","parser","CONTENTTYPE_TURTLE","pipe","StreamParser","abortController","handleFetchCall","ignoreBody","acceptHeader","encodeURIComponent","ReadableWebToNodeStream","simpleUrl","exec","__awaiter","_arguments","generator","fulfilled","step","Converter","language_1","handler_1","directivenode_1","IConvertContext_1","Util_1","settings","variableDelimiter","expressionVariableCounter","util","Util","initializeNodeHandlers","static","registerNodeHandler","NodeHandlerDocument","NodeHandlerDefinitionOperation","NodeHandlerDefinitionFragment","NodeHandlerSelectionFragmentSpread","NodeHandlerSelectionInlineFragment","NodeHandlerSelectionField","registerNodeValueHandler","NodeValueHandlerVariable","NodeValueHandlerInt","NodeValueHandlerFloat","NodeValueHandlerString","NodeValueHandlerBoolean","NodeValueHandlerNull","NodeValueHandlerEnum","NodeValueHandlerList","NodeValueHandlerObject","registerDirectiveNodeHandler","DirectiveNodeHandlerInclude","DirectiveNodeHandlerOptional","DirectiveNodeHandlerPlural","DirectiveNodeHandlerSingle","DirectiveNodeHandlerSkip","graphqlQuery","graphqlToSparqlAlgebraRawContext","contextParser","document","convertContext","fragmentDefinitions","indexFragments","singularizeState","SingularizeState","PLURAL","terminalVariables","variablesDict","variablesMetaDict","handleNode","newDefinitions","definition","definitions","kind","registerNodeHandlers","registerNodeValueHandlers","registerDirectiveNodeHandlers","jsonld_context_parser_1","nodeHandlers","nodeValueHandlers","directiveNodeHandlers","DataFactory","operationFactory","Factory","ContextParser","nodeHandler","targetKind","nodeValueHandler","directiveNodeHandler","handleNodeValue","fieldName","handleDirectiveNode","directiveContext","directive","nonBgps","joinOperationsAsBgp","originalLeftJoin","createLeftJoin","joinOperationsAsNestedJoin","appendFieldToPath","fieldLabel","getFieldLabel","alias","nameToVariable","valueToNamedNode","contextValue","expandTerm","getArgument","argument","newTypePattern","typeCondition","createQuadPattern","predicateName","getContextRaw","createQuadPath","predicateAlternatives","predicateInitial","pathSymbol","createLink","predicateAlternative","createAlt","NodeHandlerAdapter","getNodeQuadContextSelectionSet","selectionSet","nodeQuadContext","selectionNode","selections","fieldNode","handleNodeQuadContextField","nodeQuadContextKey","valueOutput","auxiliaryPatterns","getDirectiveOutputs","directives","ignore","handleDirectiveOutputs","directiveOutputs","directiveOutput","operationOverrider","NodeHandlerDefinitionAdapter","NodeHandlerAdapter_1","NodeHandlerDefinitionAdapter_1","operationDefinition","variableDefinitions","variableDefinition","typeNode","mandatory","definitionOperations","subjectOutput","getNodeQuadContextDefinitionNode","ignoreUnknownVariables","queryParseContext","definitionOperation","translateBlankNodesToVariables","blankToVariableMapping","variablesRaw","createUniqueVariable","NodeHandlerSelectionAdapter","getNodeQuadContextFieldNode","fieldToOperation","pushTerminalVariables","nesting","SINGLE","operationOverride","handleMetaField","overrideObjectTerms","pathValue","subConvertContext","totalCount","selection","joinedOperation","expressionVariable","countOverVariable","createBoundAggregate","countProject","createExtend","createSlice","NodeHandlerSelectionAdapter_1","fragmentSpreadNode","fragmentDefinitionNode","inlineFragmentNode","DirectiveNodeHandlerAdapter","getDirectiveConditionalValue","subValue","isDirectiveScopeAll","scopeArg","DirectiveNodeHandlerAdapter_1","NodeValueHandlerAdapter","NodeValueHandlerAdapter_1","valueNode","nodeFirst","nodeRest","nodeNil","listTerms","arraysToRdfLists","firstListNode","listNode","nextListNode","nil","auxiliaryObjectPatterns","fields","contextEntry","listValue","_typeof","printError","GraphQLError","_isObjectLike","_symbols","_location","_printLocation","enumerableOnly","symbols","_defineProperty","_defineProperties","props","descriptor","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","_wrapNativeSuper","Class","_cache","Wrapper","_construct","_getPrototypeOf","_setPrototypeOf","Parent","_isNativeReflectConstruct","construct","instance","sham","Proxy","__proto__","_Error","subClass","superClass","_inherits","Derived","hasNativeReflectConstruct","Constructor","protoProps","_super","Super","NewTarget","nodes","positions","originalError","extensions","_nodeLocations","_nodeLocations2","_nodeLocations3","_this","_classCallCheck","undefinedIfEmpty","nodeLocations","_i2","_ref3","_this$nodes","loc","locations","getLocation","originalExtensions","getOwnPropertyDescriptors","defineProperties","_objectSpread","captureStackTrace","SYMBOL_TO_STRING_TAG","_i4","_error$nodes2","printLocation","_i6","_error$locations2","printSourceLocation","syntaxError","description","_GraphQLError","classObject","_invariant","_nodejsCustomInspectSymbol","_interopRequireDefault","condition","formatValue","seenValues","previouslySeenValues","customInspectFn","getCustomFn","customValue","formatArray","tag","getObjectTag","formatObject","formatObjectValue","_default","isNode","maybeNode","Token","Location","_defineInspect","startToken","endToken","column","isBlank","getBlockStringIndentation","_commonIndent","isFirstLine","isEmptyLine","indent","commonIndent","dedentBlockStringValue","rawString","lines","startLine","endLine","printBlockString","indentation","preferMultipleLines","isSingleLine","hasLeadingSpace","hasTrailingQuote","hasTrailingSlash","printAsMultipleLines","DirectiveLocation","QUERY","MUTATION","SUBSCRIPTION","FIELD","FRAGMENT_DEFINITION","FRAGMENT_SPREAD","INLINE_FRAGMENT","VARIABLE_DEFINITION","SCHEMA","SCALAR","OBJECT","FIELD_DEFINITION","ARGUMENT_DEFINITION","INTERFACE","UNION","ENUM","ENUM_VALUE","INPUT_OBJECT","INPUT_FIELD_DEFINITION","Source","_kinds","Kind","_tokenKind","TokenKind","_lexer","Lexer","_parser","parseValue","parseType","_printer","print","_visitor","visit","visitInParallel","getVisitFn","BREAK","_ast","_predicates","isDefinitionNode","isExecutableDefinitionNode","isSelectionNode","isValueNode","isTypeNode","isTypeSystemDefinitionNode","isTypeDefinitionNode","isTypeSystemExtensionNode","isTypeExtensionNode","_directiveLocation","NAME","DOCUMENT","OPERATION_DEFINITION","SELECTION_SET","ARGUMENT","VARIABLE","INT","FLOAT","STRING","BOOLEAN","NULL","LIST","OBJECT_FIELD","DIRECTIVE","NAMED_TYPE","LIST_TYPE","NON_NULL_TYPE","SCHEMA_DEFINITION","OPERATION_TYPE_DEFINITION","SCALAR_TYPE_DEFINITION","OBJECT_TYPE_DEFINITION","INPUT_VALUE_DEFINITION","INTERFACE_TYPE_DEFINITION","UNION_TYPE_DEFINITION","ENUM_TYPE_DEFINITION","ENUM_VALUE_DEFINITION","INPUT_OBJECT_TYPE_DEFINITION","DIRECTIVE_DEFINITION","SCHEMA_EXTENSION","SCALAR_TYPE_EXTENSION","OBJECT_TYPE_EXTENSION","INTERFACE_TYPE_EXTENSION","UNION_TYPE_EXTENSION","ENUM_TYPE_EXTENSION","INPUT_OBJECT_TYPE_EXTENSION","isPunctuatorTokenKind","BANG","DOLLAR","AMP","PAREN_L","PAREN_R","SPREAD","COLON","EQUALS","AT","BRACKET_L","BRACKET_R","BRACE_L","PIPE","BRACE_R","_syntaxError","_blockString","startOfFileToken","SOF","lastToken","token","lineStart","_proto","advance","lookahead","EOF","_token$next","readToken","COMMENT","printCharCode","lexer","bodyLength","_line","_col","readComment","readBlockString","readString","readNumber","readName","unexpectedCharacterMessage","col","firstCode","isFloat","readDigits","isNameStart","chunkStart","charCode","char2hex","invalidSequence","rawValue","BLOCK_STRING","lineRegexp","parseDocument","expectToken","parseValueLiteral","parseTypeReference","sourceObj","isSource","_options","parseName","many","parseDefinition","peek","parseOperationDefinition","parseFragmentDefinition","parseTypeSystemDefinition","parseTypeSystemExtension","peekDescription","unexpected","parseSelectionSet","parseOperationType","parseVariableDefinitions","parseDirectives","operationToken","optionalMany","parseVariableDefinition","parseVariable","expectOptionalToken","parseSelection","parseFragment","parseField","nameOrAlias","parseArguments","isConst","parseConstArgument","parseArgument","hasTypeCondition","expectOptionalKeyword","parseFragmentName","parseNamedType","_this$_options","expectKeyword","experimentalFragmentVariables","parseList","parseObject","parseStringLiteral","block","any","_this2","parseObjectField","parseDirective","keywordToken","parseSchemaDefinition","parseScalarTypeDefinition","parseObjectTypeDefinition","parseInterfaceTypeDefinition","parseUnionTypeDefinition","parseEnumTypeDefinition","parseInputObjectTypeDefinition","parseDirectiveDefinition","parseDescription","operationTypes","parseOperationTypeDefinition","interfaces","parseImplementsInterfaces","parseFieldsDefinition","_this$_options2","allowLegacySDLImplementsInterfaces","delimitedMany","_this$_options3","allowLegacySDLEmptyFields","parseFieldDefinition","parseArgumentDefs","parseInputValueDef","parseUnionMemberTypes","parseEnumValuesDefinition","parseEnumValueDefinition","parseInputFieldsDefinition","parseSchemaExtension","parseScalarTypeExtension","parseObjectTypeExtension","parseInterfaceTypeExtension","parseUnionTypeExtension","parseEnumTypeExtension","parseInputObjectTypeExtension","repeatable","parseDirectiveLocations","parseDirectiveLocation","_this$_options4","noLocation","getTokenKindDesc","getTokenDesc","atToken","openKind","parseFn","closeKind","delimiterKind","sourceLocation","firstLineColumnOffset","locationOffset","whitespace","lineIndex","lineOffset","lineNum","columnOffset","columnNum","locationStr","locationLine","subLineIndex","subLineColumnNum","subLines","printPrefixedLines","subLine","existingLines","_ref","padLen","_ref2","ast","leave","printDocASTReducer","Name","Variable","Document","OperationDefinition","varDefs","VariableDefinition","SelectionSet","Field","argsLine","Argument","_ref4","FragmentSpread","_ref5","InlineFragment","_ref6","FragmentDefinition","_ref7","IntValue","_ref8","FloatValue","_ref9","StringValue","_ref10","BooleanValue","_ref11","NullValue","EnumValue","_ref12","ListValue","_ref13","ObjectValue","_ref14","ObjectField","_ref15","Directive","_ref16","NamedType","_ref17","ListType","_ref18","NonNullType","_ref19","SchemaDefinition","addDescription","_ref20","OperationTypeDefinition","_ref21","ScalarTypeDefinition","_ref22","ObjectTypeDefinition","_ref23","FieldDefinition","_ref24","hasMultilineItems","InputValueDefinition","_ref25","InterfaceTypeDefinition","_ref26","UnionTypeDefinition","_ref27","EnumTypeDefinition","_ref28","EnumValueDefinition","_ref29","InputObjectTypeDefinition","_ref30","DirectiveDefinition","_ref31","SchemaExtension","_ref32","ScalarTypeExtension","_ref33","ObjectTypeExtension","_ref34","InterfaceTypeExtension","_ref35","UnionTypeExtension","_ref36","EnumTypeExtension","_ref37","InputObjectTypeExtension","_ref38","cb","maybeArray","_maybeArray$filter$jo","separator","maybeString","isMultiline","_instanceOf","_inspect","_devAssert","root","visitor","visitorKeys","QueryDocumentKeys","inArray","edits","ancestors","newRoot","isLeaving","isEdited","_Object$keys2","editOffset","ii","editKey","editValue","_visitorKeys$node$kin","visitFn","visitors","skipping","enter","kindVisitor","kindSpecificVisitor","specificVisitor","specificKindVisitor","SYMBOL_ASYNC_ITERATOR","SYMBOL_ITERATOR","asyncIterator","toStringTag","utils","common","sha","ripemd","hmac","sha256","sha224","sha384","sha512","ripemd160","assert","BlockHash","pending","pendingTotal","blockSize","outSize","hmacStrength","padLength","endian","_delta8","_delta32","enc","join32","_update","_pad","_digest","Hmac","Hash","inner","outer","_init","rotl32","sum32","sum32_3","sum32_4","RIPEMD160","h","f","K","Kh","inherits","A","B","C","D","Ah","Bh","Ch","Dh","Eh","T","rh","sh","toHex32","split32","shaCommon","sum32_5","ft_1","sha1_K","SHA1","W","SHA256","SHA224","ch32","maj32","s0_256","s1_256","g0_256","g1_256","sha256_K","g","T1","T2","SHA512","SHA384","rotr64_hi","rotr64_lo","shr64_hi","shr64_lo","sum64","sum64_hi","sum64_lo","sum64_4_hi","sum64_4_lo","sum64_5_hi","sum64_5_lo","sha512_K","ch64_hi","xh","xl","yh","yl","zh","ch64_lo","zl","maj64_hi","maj64_lo","s0_512_hi","s0_512_lo","s1_512_lo","g0_512_hi","g0_512_lo","g1_512_lo","_prepareBlock","c0_hi","c0_lo","c1_hi","c1_lo","c2_hi","c2_lo","c3_hi","c3_lo","ah","al","bh","bl","ch","cl","dh","dl","eh","fh","fl","gh","gl","hh","hl","c4_hi","c4_lo","T1_hi","T1_lo","T2_hi","T2_lo","rotr32","p32","isSurrogatePair","htonl","zero2","word","zero8","toHex","COMPATIBLE_ENCODING_PATTERN","WS_TRIM_PATTERN","WS_CHAR_PATTERN","WS_FOLD_PATTERN","DELIMITER_PATTERN","WS_DELIMITER_PATTERN","TOKEN_PATTERN","hasWhitespace","skipWhitespace","needsQuotes","Link","refs","rel","links","link","ref","expandRelations","uri","attrValue","isSingleOccurenceAttr","parseExtendedValue","formatAttribute","isCompatibleEncoding","isTokenAttr","escapeQuotes","formatExtendedAttribute","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","rt","LN2","SIZE","MASK","NOT_SET","SetRef","OwnerID","ensureSize","iter","__iterate","returnTrue","wrapIndex","uint32Index","wholeSlice","begin","resolveBegin","resolveIndex","resolveEnd","defaultIndex","IS_COLLECTION_SYMBOL","isCollection","maybeCollection","IS_KEYED_SYMBOL","isKeyed","maybeKeyed","IS_INDEXED_SYMBOL","isIndexed","maybeIndexed","isAssociative","maybeAssociative","Collection","Seq","KeyedCollection","KeyedSeq","IndexedCollection","IndexedSeq","SetCollection","SetSeq","Keyed","Indexed","IS_SEQ_SYMBOL","isSeq","maybeSeq","IS_RECORD_SYMBOL","isRecord","maybeRecord","isImmutable","maybeImmutable","IS_ORDERED_SYMBOL","isOrdered","maybeOrdered","REAL_ITERATOR_SYMBOL","ITERATOR_SYMBOL","Iterator","iteratorValue","iteratorResult","iteratorDone","hasIterator","maybeIterable","getIteratorFn","isIterator","maybeIterator","getIterator","iteratorFn","FAUX_ITERATOR_SYMBOL","KEYS","VALUES","ENTRIES","toSource","isArrayLike","emptySequence","toSeq","seq","maybeIndexedSeqFromValue","fromEntrySeq","isKeysIterable","toSetSeq","ObjectSeq","seqFromValue","__toString","cacheResult","__iterateUncached","entrySeq","cache","__iterator","__iteratorUncached","toKeyedSeq","keyedSeqFromValue","toIndexedSeq","indexedSeqFromValue","of","ArraySeq","_array","notSetValue","_object","_keys","EMPTY_SEQ","CollectionSeq","collection","_collection","IS_MAP_SYMBOL","isMap","maybeMap","isOrderedMap","maybeOrderedMap","isValueObject","maybeValue","hashCode","is","valueA","valueB","imul","smi","i32","defaultValueOf","hashNullish","hashed","hashNumber","STRING_HASH_CACHE_MIN_STRLEN","stringHashCache","hashString","STRING_HASH_CACHE_SIZE","STRING_HASH_CACHE_MAX_SIZE","usingWeakMap","weakMap","UID_HASH_KEY","canDefineProperty","propertyIsEnumerable","nodeType","uniqueID","documentElement","getIENodeHash","nextHash","isExtensible","hashJSObj","symbolMap","hashSymbol","nullish","_objHashUID","WeakMap","ToKeyedSequence","indexed","useKeys","_iter","_useKeys","valueSeq","this$1$1","reversedSequence","reverseFactory","mapper","mappedSequence","mapFactory","ToIndexedSequence","ToSetSequence","FromEntriesSequence","validateEntry","indexedCollection","flipFactory","flipSequence","makeSequence","flip","cacheResultThrough","filterFactory","filterSequence","sliceFactory","originalSize","resolvedBegin","resolvedEnd","sliceSize","resolvedSize","sliceSeq","skipped","isSkipping","skipWhileFactory","skipSequence","concatFactory","isKeyedCollection","iters","singleton","concatSeq","flatten","flattenFactory","depth","flatSequence","stopped","flatDeep","currentDepth","sortFactory","comparator","defaultComparator","maxFactory","maxCompare","comp","zipWithFactory","keyIter","zipper","zipAll","zipSequence","sizes","iterators","isDone","steps","reify","collectionClass","arrCopy","newArr","invariant","assertNotInfinite","coerceKeyPath","keyPath","isPlainObject","parentProto","nextProto","isDataStructure","quoteString","_ignoreError","shallowCopy","to","collectionCopy","updateIn$1","updater","updatedValue","updateInDeeply","inImmutable","wasNotSet","existingValue","newValue","nextExisting","nextUpdated","emptyMap","setIn$1","setIn","removeIn","deleteIn","update$1","updateIn","merge$1","mergeIntoKeyedWith","mergeWith$1","collections","collection$1","__ownerID","withMutations","mergeIntoCollection","oldVal","mergeWithSources","mergeDeep$1","mergeDeepWithSources","mergeDeepWith$1","deepMerger","newDataStructure","oldSeq","newSeq","deepMergerWith","mergeItem","hasVal","nextVal","mergeDeep","mergeDeepWith","mergeIn","mergeDeepIn","mutable","asMutable","wasAltered","__ensureOwner","asImmutable","__altered","keyValues","_root","updateMap","deleteAll","clear","__hash","OrderedMap","sortBy","MapIterator","iterate","ownerID","makeMap","MapPrototype","removeAll","ArrayMapNode","keyHash","didChangeSize","didAlter","removed","MAX_ARRAY_MAP_SIZE","ValueNode","createNodes","isEditable","newEntries","BitmapIndexedNode","bitmap","bit","popCount","keyHashFrag","newNode","updateNode","MAX_BITMAP_INDEXED_SIZE","including","expandedNodes","HashArrayMapNode","expandNodes","isLeafNode","newBitmap","newNodes","setAt","canEdit","newLen","newArray","after","spliceOut","spliceIn","newCount","MIN_HASH_ARRAY_MAP_SIZE","excluding","packedII","packedNodes","packNodes","HashCollisionNode","mergeIntoNode","keyMatch","maxIndex","EMPTY_MAP","_type","_reverse","_stack","mapIteratorFrame","mapIteratorValue","subNode","__prev","newSize","idx1","idx2","IS_LIST_SYMBOL","isList","maybeList","List","emptyList","makeList","VNode","setSize","listNodeFor","_origin","setListBounds","newTail","_tail","getTailOffset","_capacity","updateVNode","_level","updateList","oldSize","arguments$1","seqs","iterateList","DONE","ListPrototype","removeBefore","originIndex","newChild","removingFirst","oldChild","editable","editableVNode","removeAfter","sizeIndex","EMPTY_LIST","tailPos","tail","iterateNodeOrLeaf","iterateLeaf","iterateNode","origin","capacity","nodeHas","lowerNode","newLowerNode","rawIndex","owner","oldOrigin","oldCapacity","newOrigin","newCapacity","newLevel","offsetShift","oldTailOffset","newTailOffset","oldTail","beginIndex","EMPTY_ORDERED_MAP","emptyOrderedMap","_map","_list","updateOrderedMap","newMap","newList","makeOrderedMap","omap","toMap","IS_STACK_SYMBOL","isStack","maybeStack","Stack","emptyStack","pushAll","_head","makeStack","EMPTY_STACK","StackPrototype","unshiftAll","IS_SET_SYMBOL","isSet","maybeSet","isOrderedSet","maybeOrderedSet","deepEqual","notAssociative","flipped","allEqual","bSize","mixin","ctor","keyCopier","result$1","emptySet","fromKeys","keySeq","intersect","sets","SetPrototype","union","updateSet","didChanges","mapEntries","mapped","toRemove","OrderedSet","__make","__empty","EMPTY_SET","makeSet","EMPTY_RANGE","Range","_start","_step","searchValue","possibleIndex","offsetValue","getIn$1","searchKeyPath","getIn","hasIn$1","toObject","isIterable","useTuples","toOrderedMap","toOrderedSet","toSet","toStack","toList","__toStringMapper","returnValue","find","findEntry","sideEffect","isFirst","reducer","initialReduction","reduceRight","butLast","isEmpty","countBy","countByFactory","entriesSequence","entryMapper","filterNot","findKey","findLast","findLastEntry","findLastKey","coerce","flatMapFactory","searchKey","groupBy","isKeyedIter","groupByFactory","hasIn","isSubset","isSuperset","keyOf","keyMapper","lastKeyOf","maxBy","neg","defaultNegComparator","minBy","rest","skip","amount","skipLast","skipWhile","skipUntil","takeLast","takeWhile","takeSequence","iterating","takeWhileFactory","takeUntil","ordered","keyed","murmurHashOfSize","hashMerge","hashCollection","CollectionPrototype","chain","mapKeys","KeyedCollectionPrototype","findIndex","removeNum","numArgs","spliced","findLastIndex","interpose","interposedSequence","interposeFactory","interleave","zipped","interleaved","zip","defaultZipper","zipWith","IndexedCollectionPrototype","SetCollectionPrototype","reduction","useFirst","emptyOrderedSet","EMPTY_ORDERED_SET","OrderedSetPrototype","makeOrderedSet","Record","defaultValues","hasInitialized","throwOnInvalidDefaultValues","RecordType","indices","RecordTypePrototype","_indices","_name","_defaultValues","propName","recordName","setProp","_values","RecordPrototype","displayName","recordSeq","newValues","makeRecord","getDescriptiveName","likeRecord","EMPTY_REPEAT","Repeat","_value","fromJS","fromJSWith","defaultConverter","parentValue","converted","Iterable","superCtor","super_","TempCtor","_write","_writableState","_readableState","duplex","_transform","defaultExpandOptions","relative_to_absolute_iri_1","ErrorCoded_1","FetchDocumentLoader_1","JsonLdContextNormalized_1","canonicalizeJson","FetchDocumentLoader","documentCache","validateContext","skipValidation","expandContentTypeToBase","remoteContextsDepthLimit","redirectSchemaOrgHttps","strictRange","errorCode","ErrorCoded","REGEX_LANGUAGE_TAG","ERROR_CODES","INVALID_BASE_DIRECTION","REGEX_DIRECTION_TAG","idifyReverseTerms","isValidKeyword","INVALID_IRI_MAPPING","isPotentialKeyword","expandPrefixedTerms","contextRaw","EXPAND_KEYS_BLACKLIST","isReservedInternalKeyword","keyValue","ALIAS_DOMAIN_BLACKLIST","KEYWORD_REDEFINITION","ALIAS_RANGE_BLACKLIST","getContextValueId","INVALID_KEYWORD_ALIAS","INVALID_TERM_DEFINITION","isPrefixValue","changed","canAddIdEntry","isValidIri","newId","normalize","processingMode","normalizeLanguageTags","containersToHash","containerValue","applyScopedProtected","isTermProtected","validateKeywordRedefinitions","contextBefore","contextAfter","expandOptions","isPrefix","isSimpleTermDefinitionPrefix","valueBefore","PROTECTED_TERM_REDEFINITION","validate","valueType","INVALID_VOCAB_MAPPING","INVALID_BASE_IRI","validateLanguage","INVALID_DEFAULT_LANGUAGE","INVALID_VERSION_VALUE","validateDirection","INVALID_CONTEXT_ENTRY","INVALID_PROPAGATE_VALUE","getPrefix","CYCLIC_IRI_MAPPING","isValidIriWeak","JsonLdContextNormalized","isCompactIri","objectKey","objectValue","INVALID_TYPE_MAPPING","INVALID_REVERSE_PROPERTY","CONTAINERS_1_0","INVALID_CONTAINER_MAPPING","CONTAINERS","INVALID_LANGUAGE_MAPPING","INVALID_PREFIX_VALUE","INVALID_NEST_VALUE","applyBaseEntry","inheritFromParent","parentContext","external","normalizeContextIri","contextIri","_a","ignoreScopedContexts","ignoreProtection","ignoreRemoteScopedContexts","INVALID_SCOPED_CONTEXT","minimalProcessing","parentContextInitial","DEFAULT_PROCESSING_MODE","remoteContexts","CONTEXT_OVERFLOW","hasProtectedTerms","INVALID_CONTEXT_NULLIFICATION","overriddenLoad","getOverriddenLoad","parsedStringContext","load","contextIris","reducedContexts","accContextPromise","accContext","newContext","importContext","INVALID_IMPORT_VALUE","loadImportContext","newContextWrapped","parseInnerContexts","INVALID_LOCAL_CONTEXT","cached","LOADING_REMOTE_CONTEXT_FAILED","INVALID_REMOTE_CONTEXT","RECURSIVE_CONTEXT_INCLUSION","importContextIri","allowPrefixForcing","allowPrefixNonGenDelims","allowVocabRelativeToBase","http_link_header_1","fetcher","accept","colonPos","alternateUrl","linkHeader","LOADING_DOCUMENT_FAILED","ContextParser_1","expandVocab","validIriMapping","vocab","vocabRelative","potentialKeyword","contextPrefixValue","compactIri","shortestPrefixing","separatorPos","isPrefixIriEndingWithGenDelim","keyword","KEYWORD_REGEX","prefixIri","ENDS_WITH_GEN_DELIM","IRI_REGEX","IRI_REGEX_WEAK","VALID_KEYWORDS","JsonLdSerializer","SeparatorType_1","Transform","objectMode","originalContext","PassThrough","transformQuad","termToValue","opened","pushDocumentStart","lastPredicate","endPredicate","lastSubject","endSubject","lastGraph","endGraph","endDocument","lastGraphMatchesSubject","lastSubjectMatchesGraph","pushId","pushSeparator","SeparatorType","GRAPH_FIELD_NONCOMPACT","GRAPH_FIELD_COMPACT","ARRAY_END_COMMA","pushPredicate","pushObject","excludeContext","OBJECT_START","CONTEXT_FIELD","pushIndented","ARRAY_START","subjectValue","property","useRdfType","RDF_TYPE","objectOptions","compactIds","compactedProperty","hadObjectForPredicate","COMMA","ARRAY_END","OBJECT_END","comma","OBJECT_END_COMMA","getIndentPrefix","useNativeTypes","compacted","RDF_JSON","parsedJson","INVALID_JSON_LITERAL","rdfDirection","I18N","stringType","XSD_STRING","stringToNativeType","XSD","parsedInt","parsedFloat","parseFloat","RDF","LEFT_BRACE","RIGHT_BRACE","LEFT_BRACKET","RIGHT_BRACKET","TRUE","FALSE","NUMBER","START","STOP","TRUE1","TRUE2","TRUE3","FALSE1","FALSE2","FALSE3","FALSE4","NULL1","NULL2","NULL3","NUMBER1","NUMBER3","STRING1","STRING2","STRING3","STRING4","STRING5","STRING6","VALUE","KEY","ARRAY","BACK_SLASH","FORWARD_SLASH","BACKSPACE","FORM_FEED","NEWLINE","CARRIAGE_RETURN","TAB","STRING_BUFFER_SIZE","tState","stringBuffer","stringBufferOffset","unicode","highSurrogate","bytes_remaining","bytes_in_sequence","temp_buffs","toknam","charError","appendStringChar","appendStringBuf","onToken","intVal","parseError","onValue","Yallist","LENGTH","LENGTH_CALCULATOR","ALLOW_STALE","MAX_AGE","DISPOSE","NO_DISPOSE_ON_SET","LRU_LIST","CACHE","UPDATE_AGE_ON_GET","naiveLength","doUse","hit","isStale","del","unshiftNode","maxAge","diff","walker","removeNode","Entry","forEachStep","thisp","lc","stale","dispose","noDisposeOnSet","updateAgeOnGet","reset","mL","allowStale","mA","lengthCalculator","lC","itemCount","rforEach","dump","dumpLru","expiresAt","prune","codes","createErrorType","NodeError","_Base","arg1","arg2","arg3","oneOf","expected","thing","determiner","this_len","objectKeys","Duplex","Readable","Writable","allowHalfOpen","onend","nextTick","onEndNT","highWaterMark","getBuffer","destroyed","ReadableState","EElistenerCount","Stream","OurUint8Array","debugUtil","debuglog","StringDecoder","createReadableStreamAsyncIterator","BufferList","destroyImpl","getHighWaterMark","_require$codes","ERR_STREAM_PUSH_AFTER_EOF","ERR_METHOD_NOT_IMPLEMENTED","ERR_STREAM_UNSHIFT_AFTER_END_EVENT","errorOrDestroy","kProxyEvents","isDuplex","readableObjectMode","pipes","pipesCount","flowing","endEmitted","reading","sync","needReadable","emittedReadable","readableListening","resumeScheduled","paused","emitClose","autoDestroy","defaultEncoding","awaitDrain","readingMore","decoder","_destroy","readableAddChunk","addToFront","skipChunkCheck","emitReadable","emitReadable_","onEofChunk","chunkInvalid","_uint8ArrayToBuffer","addChunk","maybeReadMore","_undestroy","undestroy","isPaused","setEncoding","content","MAX_HWM","howMuchToRead","computeNewHighWaterMark","flow","maybeReadMore_","updateReadableListening","resume","nReadingNextTick","resume_","fromList","consume","endReadable","endReadableNT","wState","finished","xs","nOrig","doRead","dest","pipeOpts","endFn","stdout","stderr","unpipe","onunpipe","unpipeInfo","hasUnpiped","onclose","onfinish","ondrain","ondata","cleanedUp","needDrain","pipeOnDrain","pause","event","dests","ev","_fromList","opts","ERR_MULTIPLE_CALLBACK","ERR_TRANSFORM_ALREADY_TRANSFORMING","ERR_TRANSFORM_WITH_LENGTH_0","afterTransform","ts","_transformState","transforming","writecb","writechunk","rs","needTransform","writeencoding","flush","prefinish","err2","CorkedRequest","finish","corkReq","pendingcb","onCorkedFinish","corkedRequestsFree","WritableState","realHasInstance","internalUtil","deprecate","ERR_STREAM_CANNOT_PIPE","ERR_STREAM_DESTROYED","ERR_STREAM_NULL_VALUES","ERR_STREAM_WRITE_AFTER_END","ERR_UNKNOWN_ENCODING","nop","writableObjectMode","finalCalled","ending","noDecode","decodeStrings","writing","corked","bufferProcessing","onwrite","writelen","onwriteStateUpdate","finishMaybe","errorEmitted","onwriteError","needFinish","bufferedRequest","clearBuffer","afterWrite","lastBufferedRequest","prefinished","bufferedRequestCount","writev","_writev","final","_final","doWrite","onwriteDrain","holder","allBuffers","isBuf","callFinal","need","rState","current","hasInstance","writeAfterEnd","validChunk","newChunk","decodeChunk","writeOrBuffer","cork","uncork","setDefaultEncoding","endWritable","_Object$setPrototypeO","kLastResolve","kLastReject","kError","kEnded","kLastPromise","kHandlePromise","kStream","createIterResult","readAndResolve","onReadable","AsyncIteratorPrototype","ReadableStreamAsyncIteratorPrototype","lastPromise","wrapForNext","_Object$create","custom","hasStrings","_getString","_getBuffer","nb","customInspect","emitErrorAndCloseNT","emitErrorNT","emitCloseNT","readableDestroyed","writableDestroyed","ERR_STREAM_PREMATURE_CLOSE","noop","eos","called","_len","_key","onlegacyfinish","writableEnded","readableEnded","onrequest","req","setHeader","isRequest","ERR_MISSING_ARGS","destroyer","closed","popCallback","destroys","ERR_INVALID_OPT_VALUE","duplexKey","hwm","highWaterMarkFrom","pipeline","SWAP","xsd","boolean","double","integer","rdf","langString","owl","sameAs","forSome","forAll","implies","escapeSequence","escapeReplacements","illegalIriChars","lineModeRegExps","_iri","_unescapedIri","_simpleQuotedString","_langcode","_blank","_newline","_comment","_whitespace","_endOfFile","invalidRegExp","N3Lexer","_simpleApostropheString","_prefix","_prefixed","_variable","_number","_boolean","_keyword","_sparqlKeyword","_shortPredicates","_lineMode","lineMode","_n3Mode","_comments","comments","_literalClosingPos","_tokenizeToEnd","inputFinished","_input","currentLineLength","whiteSpaceMatch","comment","emitToken","firstChar","matchLength","inconclusive","_previousMarker","_unescape","reportSyntaxError","_parseLiteral","previousToken","invalid","replaced","sequence","unicode4","unicode8","escapedChar","opening","openingLength","closingPos","backslashCount","issue","_readStartingBom","tokenize","tokens","_pendingBuffer","isNamedNode","isBlankNode","isLiteral","isVariable","isDefaultGraph","inDefaultGraph","defaultPrefixes","processPrefix","local","N3DataFactory","DEFAULTGRAPH","_blankNodeCounter","escapedLiteral","quadId","NamedNode","BlankNode","languageOrDataType","Literal","triple","Term","atPos","datatypeString","dtPos","DefaultGraph","termFromId","endPos","components","unescapeQuotes","termToId","Quad","_subject","_predicate","_graph","quoted","blankNodePrefix","N3Parser","_contextStack","_setBase","initDataFactory","isTurtle","isTriG","isNTriples","isNQuads","isN3","isLineMode","_supportsNamedGraphs","_readPredicateOrNamedGraph","_readPredicate","_supportsQuads","_supportsRDFStar","_resolveRelativeIRI","_blankNodePrefix","_explicitQuantifiers","explicitQuantifiers","fragmentPos","_base","_basePath","_baseRoot","_baseScheme","_saveContext","n3Mode","inverse","_inversePredicate","blankPrefix","_prefixes","quantified","_quantified","_restoreContext","_readInTopContext","_callback","_sparqlStyle","_readPrefix","_readBaseIRI","_readSubject","_readNamedGraphLabel","_readEntity","quantifier","_resolveIRI","_namedNode","_blankNode","_readBlankNodeHead","RDF_NIL","_readListItem","_readPunctuation","N3_FORSOME","_quantifier","_readQuantifierList","N3_FORALL","_literalValue","_completeSubjectLiteral","_literal","_getPathReader","ABBREVIATIONS","_readBlankNodeTail","_readObject","_readDataTypeOrLang","_getContextEndReader","_readGraph","_readBlankNodePunctuation","_emit","_readPredicateAfterBlank","previousList","RDF_FIRST","_readListItemDataTypeOrLang","RDF_REST","_completeObjectLiteral","_completeLiteral","listItem","completed","_readCallback","_readFormulaTail","inversePredicate","_readQuadPunctuation","_readPrefixIRI","prefixNode","_prefixCallback","_readDeclarationPunctuation","_readNamedGraphBlankLabel","entity","QUANTIFIERS_GRAPH","_readQuantifierPunctuation","afterPath","_afterPath","_readPath","_readForwardPath","_readBackwardPath","_readRDFStarTailOrGraph","_readRDFStarTail","_quad","contextStack","_removeDotSegments","pathStart","segmentStart","quadCallback","prefixCallback","escapeAll","escapedCharacters","SerializedTerm","N3Writer","outputStream","_prefixRegex","_lists","lists","_outputStream","_endStream","_writeQuad","_writeQuadLine","_prefixIRIs","addPrefixes","_baseMatcher","escapeRegex","_baseLength","_inDefaultGraph","_encodeIriOrBlank","_encodeObject","_encodePredicate","_encodeSubject","_prefixMatch","quadsToString","_encodeQuad","characterReplacer","prefixMatch","_encodeLiteral","_blockedWrite","addQuad","addQuads","addPrefix","hasPrefixes","IRIlist","prefixList","prefixIRI","contents","singleDone","character","regex","N3Store","_size","_graphs","_id","_ids","_entities","_blankNodeIndex","_factory","subjects","graphKey","subjectKey","predicateKey","_addToIndex","index0","key0","key1","key2","index1","index2","existed","_removeFromIndex","name0","name1","name2","graphId","entityKeys","value0","value1","_loop","_loopByKey0","_loopByKey1","_loopBy2Keys","_countInIndex","_getGraphs","isString","_uniqueEntities","uniqueIds","graphItem","predicates","ids","removeQuad","subjectOrQuad","readQuads","removeQuads","removeMatches","getQuads","subjectId","predicateId","objectId","_findInIndex","DatasetCoreAndReadableStream","getSubjects","forSubjects","getPredicates","forPredicates","getObjects","forObjects","getGraphs","forGraphs","createBlankNode","suggestedName","extractLists","tails","tailQuad","headPos","malformed","objectQuads","subjectQuads","n3Store","filtered","_filtered","newStore","N3StreamParser","N3StreamWriter","writer","_writer","Writer","Store","StreamWriter","Triple","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","marker","runClearTimeout","Item","title","browser","env","argv","versions","cwd","chdir","umask","asap","setImmediate","_state","_deferreds","doResolve","deferred","me","onFulfilled","onRejected","finale","Handler","reason","ex","race","queueMicrotask","BlankNode_1","DefaultGraph_1","Literal_1","NamedNode_1","Quad_1","Variable_1","dataFactoryCounter","languageOrDatatype","INSTANCE","fromTerm","original","fromQuad","resetBlankNodeCounter","RDF_LANGUAGE_STRING","isTermGrounded","termToSignature","quadToSignature","sha1hex","hashTerms","getGraphBlankNodes","uniqGraph","deindexGraph","indexGraph","getQuadsWithoutBlankNodes","getQuadsWithBlankNodes","hasValue","hashValues","getBijectionInner","getBijection","isomorphic","hash_js_1","rdf_string_1","graphA","graphB","nonBlankIndexA","nonBlankIndexB","blankQuadsA","blankQuadsB","blankNodesA","blankNodesB","groundedHashesA","groundedHashesB","hashesA","ungroundedHashesA","hashesB","ungroundedHashesB","hashKeyA","bijection","blankNodeA","blankNodeAString","blankNodeAHash","blankNodeBString","arraysEqual","blankNodeB","array1","array2","hashValue","someTerms","getTermsNested","everyTerms","indexedGraph","stringQuadToQuad","getBlankNodes","groundedHashes","ungroundedHashes","hashNeeded","initialGroundedNodesCount","grounded","uniques","termKey","quadSignatures","quadTerm","subTerm","getSupportedJavaScriptPrimitives","getSupportedRdfDatatypes","getTermRaw","toRdf","fromRdf","Translator_1","translator","Translator","registerHandler","TypeHandlerString","TYPES","TypeHandlerBoolean","TYPE","TypeHandlerNumberDouble","TypeHandlerNumberInteger","TypeHandlerDate","supportedRdfDatatypes","fromRdfHandlers","toRdfHandlers","rdfDatatypes","javaScriptDataTypes","rdfDatatype","javaScriptDataType","existingToRdfHandlers","handlers","incorrectRdfDataType","VALIDATORS","partsMonthDay","date","valueString","getUTCDate","getUTCMonth","getUTCFullYear","toISOString","dateTime","gDay","gMonthDay","gYear","gYearMonth","MAX_INT","MIN_INT","getLiteralValue","getLiteralType","getLiteralLanguage","TermUtil_1","literalValue","stringTerms","ignoreTags","lastIndex","stringQuad","matchPatternMappings","matchPatternComplete","matchPattern","matchTerm","filterQuadTermNames","filterTerms","forEachTerms","collectNamedTerms","getNamedTerms","TRIPLE_TERM_NAMES","QUAD_TERM_NAMES","ignoreDefaultGraph","checker","termA","termB","namedTerms","defaultCb","namedTerm","names","initialValue","mapping","_pattern","getDefaultGraphs","getLiterals","getNamedNodes","getTermsOfType","TERM_TYPES","nodeStream","WEBSTREAM_SUPPORT","controller","onDestroy","enqueue","pull","AbortError","addAbortSignal","validateAbortSignal","addAbortSignalNoValidate","onAbort","cause","StringPrototypeSlice","SymbolIterator","TypedArrayPrototypeSet","retLen","isNodeStream","isReadable","isWritable","ERR_INVALID_ARG_VALUE","orgStreams","onreadable","aggregateTwoErrors","kDestroyed","isDestroyed","isFinished","isServerRequest","kDestroy","kConstruct","checkError","errored","emitErrorCloseNT","closeEmitted","constructNT","onConstruct","constructed","emitConstructNT","emitCloseLegacy","emitErrorCloseLegacy","socket","ObjectDefineProperties","ObjectGetOwnPropertyDescriptor","ObjectKeys","ObjectSetPrototypeOf","webStreamsAdapters","duplexify","lazyWebStreams","writableHighWaterMark","writableBuffer","writableLength","writableFinished","writableCorked","writableNeedDrain","fromWeb","pair","newStreamDuplexFromReadableWritablePair","toWeb","newReadableWritablePairFromDuplex","bufferModule","isReadableNodeStream","isWritableNodeStream","isDuplexNodeStream","ERR_INVALID_RETURN_VALUE","createDeferredPromise","globalThis","isBlob","FunctionPrototypeCall","Duplexify","_duplexify","onfinished","ac","_promise","_resolve","fromAsyncGen","validateFunction","validateObject","isClosed","isReadableFinished","isReadableErrored","isWritableFinished","isWritableErrored","willEmitClose","_willEmitClose","_options$readable","_options$writable","readableFinished","cleanup","endCallback","originalCallback","PromisePrototypeThen","SymbolAsyncIterator","isAsync","hadError","hasThrow","throw","return","ArrayIsArray","EE","_isStdio","didOnEnd","validateInteger","kWeakHandler","ArrayPrototypePush","MathFloor","PromiseReject","PromisePrototypeCatch","kEmpty","kEof","concurrency","_options$signal","_options$signal2","signalOpt","onDone","_val","_options$signal3","pump","unused","ReduceAwareErrMissingArgs","toIntegerOrInfinity","number","streamReturningOperators","asIndexedPairs","_options$signal4","drop","_options$signal8","_options$signal9","_options$signal10","_options$signal11","promiseReturningOperators","_options$signal5","hasInitialValue","gotAnyItemFromStream","_options$signal6","_options$signal7","makeAsyncIterable","fromReadable","onresolve","wait","pipelineImpl","outerSignal","lastStreamCleanup","finishImpl","finishCount","isLastStream","_ret","pt","ArrayPrototypeIndexOf","NumberIsInteger","NumberParseInt","SafeSet","getDefaultHighWaterMark","kPaused","awaitDrainWriters","multiAwaitDrain","dataEmitted","_isUint8Array","streamToAsyncIterator","destroyOnReturn","createAsyncIterator","endWritableNT","captureRejectionSymbol","streamKeys","readableDidRead","readableAborted","readableHighWaterMark","readableBuffer","readableFlowing","readableLength","readableEncoding","readableStream","newStreamReadableFromReadableStream","streamReadable","newReadableStreamFromStreamReadable","_src$readableObjectMo","kCallback","kIsErrored","kIsReadable","kIsDisturbed","strict","_obj$_readableState","_obj$_writableState","isWritableEnded","isOutgoingMessage","_closed","_defaultKeepAlive","_removedConnection","_removedContLen","isServerResponse","_sent100","isDisturbed","_stream$kIsDisturbed","isErrored","_stream$kIsErrored","_stream$_readableStat3","_stream$_writableStat3","_stream$_readableStat4","_stream$_writableStat4","readableErrored","writableErrored","isReadableEnded","_stream$_readableStat","_stream$_readableStat2","_stream$_writableStat","_stream$_writableStat2","_stream$req","_consuming","_dumped","upgradeOrConnect","ArrayPrototypeSlice","FunctionPrototypeSymbolHasInstance","ObjectDefineProperty","StringPrototypeToLowerCase","SymbolHasInstance","ERR_STREAM_ALREADY_FINISHED","kOnFinished","afterWriteTickInfo","resetBuffer","buffered","bufferedIndex","allNoop","errorBuffer","afterWriteTick","_state$errored","onfinishCallbacks","_state$errored2","bufferedLength","chunks","onFinish","writableAborted","writableStream","newStreamWritableFromWritableStream","streamWritable","newWritableStreamFromStreamWritable","ArrayPrototypeIncludes","ArrayPrototypeJoin","ArrayPrototypeMap","NumberMAX_SAFE_INTEGER","NumberMIN_SAFE_INTEGER","RegExpPrototypeTest","StringPrototypeToUpperCase","StringPrototypeTrim","hideStackFrames","ERR_SOCKET_BAD_PORT","ERR_UNKNOWN_SIGNAL","normalizeEncoding","isAsyncFunction","signals","isInt32","isUint32","octalReg","validateInt32","validateUint32","positive","validateString","validateOneOf","allowed","useDefaultOptions","allowArray","allowFunction","nullable","validateArray","minLength","validateBuffer","validatePlainFunction","validateUndefined","parseFileMode","def","validateBoolean","validateEncoding","normalizedEncoding","validatePort","port","allowZero","validateSignalName","CustomStream","originalDestroy","compose","AggregateError","CustomAggregateError","kIsNodeError","kTypes","classRegExp","ERR_INTERNAL_ASSERTION","expectedLength","hidden","instances","_actual$constructor","inspected","colors","_value$constructor","innerError","outerError","sep","ArrayPrototypePop","thisArgs","MIN_SAFE_INTEGER","prop","thenFn","catchFn","AsyncFunction","rej","promisify","_unused","replacement","customPromisify","ERR_ILLEGAL_CONSTRUCTOR","pl","lastArg","bytesRead","released","getReader","pendingRead","syncAndRelease","waitForReadToComplete","releaseLock","__export","removeDotSegments","segmentBuffers","isCharacterAllowedAfterRelativePathSegment","removeDotSegmentsOfPath","colonPosition","searchOffset","pathSeparator","relativeIRI","baseFragmentPos","baseQueryPos","relativeColonPos","valueColonPos","baseColonPos","baseIRIScheme","baseSlashAfterColonPos","baseIRIPath","baseIRILastSlashPos","copyProps","SafeBuffer","SaxesParser","EVENTS","ed5","ed2","NSed3","isS","isChar10","isChar","isNameStartChar","isNameChar","S_LIST","NAME_RE","isChar11","isNCNameStartChar","isNCNameChar","NC_NAME_RE","XML_NAMESPACE","XMLNS_NAMESPACE","rootNS","xml","XML_ENTITIES","amp","quot","apos","EOC","NL_LIKE","S_TEXT","S_XML_DECL_ENDING","NL","LESS","EQUAL","GREATER","QUESTION","CLOSE_BRACKET","isQuote","QUOTES","DOCTYPE_TERMINATOR","DTD_TERMINATOR","XML_DECL_NAME_TERMINATOR","ATTRIB_VALUE_UNQUOTED_TERMINATOR","nsPairCheck","fail","isNCName","isName","EVENT_NAME_TO_HANDLER_NAME","xmldecl","processinginstruction","doctype","opentagstart","attribute","opentag","closetag","cdata","ready","opt","fragmentOpt","fragment","xmlnsOpt","trackPosition","fileName","nameStartCheck","nameCheck","processAttribs","processAttribsNS","pushAttrib","pushAttribNS","ns","additional","additionalNamespaces","nsMappingCheck","processAttribsPlain","pushAttribPlain","stateTable","sBegin","sBeginWhitespace","sDoctype","sDoctypeQuote","sDTD","sDTDQuoted","sDTDOpenWaka","sDTDOpenWakaBang","sDTDComment","sDTDCommentEnding","sDTDCommentEnded","sDTDPI","sDTDPIEnding","sText","sEntity","sOpenWaka","sOpenWakaBang","sComment","sCommentEnding","sCommentEnded","sCData","sCDataEnding","sCDataEnding2","sPIFirstChar","sPIRest","sPIBody","sPIEnding","sXMLDeclNameStart","sXMLDeclName","sXMLDeclEq","sXMLDeclValueStart","sXMLDeclValue","sXMLDeclSeparator","sXMLDeclEnding","sOpenTag","sOpenTagSlash","sAttrib","sAttribName","sAttribNameSawWhite","sAttribValue","sAttribValueQuoted","sAttribValueClosed","sAttribValueUnquoted","sCloseTag","sCloseTagSawWhite","openWakaBang","piTarget","tags","topNS","chunkPosition","prevI","carriedFromPrevious","forbiddenState","attribList","reportedTextBeforeRoot","reportedTextAfterRoot","closedRoot","sawRoot","xmlDeclPossible","xmlDeclExpects","entityReturnState","defaultXMLVersion","forceXMLVersion","setXMLVersion","positionAtNewLine","xmlDecl","standalone","ENTITIES","readyHandler","columnIndex","makeError","errorHandler","lastCode","getCode10","getCode11","getCodeNorm","getCode","unget","captureTo","isNLLike","captureToChar","captureNameChars","skipSpaces","currentXMLVersion","iBefore","doctypeHandler","fromCodePoint","owb","handleTextInRoot","handleTextOutsideRoot","loop","parseEntity","textHandler","commentHandler","cdataHandler","isQuestion","piHandler","xmldeclHandler","openTagStartHandler","openTag","openSelfClosingTag","closeTag","scanLoop","nonSpace","outRootLoop","qname","attributeHandler","trimmed","_b","endHandler","resolvePrefix","colon","seen","eqname","isSelfClosing","openTagHandler","_c","closeTagHandler","defined","hex_chr","md5cycle","md5blk","md5blks","md5blk_array","md51","rhex","hex","toUtf8","unescape","hexToBinaryString","SparkMD5","clamp","targetArray","sourceArray","appendBinary","_buff","_length","_hash","buff","_finish","getState","setState","hashBinary","second","returnUInt8Array","utf8Str2ArrayBuffer","md51_array","__setModuleDefault","__importStar","__importDefault","toSparqlJs","Algebra","sparqlAlgebra_1","factory_1","sparql_1","util_1","createTerm","flattenMulti","createAsk","ASK","createAggregateExpression","createDescribe","DESCRIBE","DISTINCT","createFrom","FROM","createFilter","FILTER","createGraph","GRAPH","LEFT_JOIN","createMinus","MINUS","createNop","NOP","createNps","createOrderBy","ORDER_BY","createReduced","REDUCED","createSeq","createService","SERVICE","SLICE","createZeroOrMorePath","createZeroOrOnePath","EXPRESSION","AGGREGATE","createExistenceExpression","EXISTENCE","createNamedExpression","NAMED","createOperatorExpression","TERM","createWildcardExpression","WILDCARD","wildcard","Wildcard","COMPOSITE_UPDATE","deleteQuads","insertQuads","DELETE_INSERT","createLoad","LOAD","addSilent","createClear","CLEAR","createCreate","CREATE","DROP","ADD","createMove","MOVE","createCopy","COPY","newChildren","rdf_isomorphic_1","eTypes","resetContext","translateOperation","removeQuadsRecursive","translateExpression","translateProject","translatePattern","translateBgp","translateConstruct","translateDistinct","translateExtend","translateFrom","translateFilter","translateGraph","aggs","translateBoundAggregate","translateGroup","translateJoin","leftjoin","translateLeftJoin","translateMinus","translateOrderBy","translatePathComponent","translatePath","reduced","translateReduced","translateService","translateSlice","translateUnion","translateValues","translateCompositeUpdate","using","convertUpdatePatterns","graphNames","graphName","translateDeleteInsert","translateLoad","translateClearCreateDrop","translateClear","translateCreate","translateDrop","translateUpdateGraphShortcut","translateAdd","translateMove","translateCopy","aggregation","translateAggregateExpression","translateExistenceExpression","function","translateNamedExpression","translateOperatorExpression","translateTermExpression","translateWildcardExpression","pathType","translateAlt","inv","translateInv","translateLink","translateNps","translateOneOrMorePath","translateSeq","translateZeroOrMorePath","translateZeroOrOnePath","translateTerm","replaceAggregatorVariables","st","isSimpleTerm","select","descending","objectContainsValues","having","vals","keyGraphs","globalNames","newGraphs","potentialGraphFromPatterns","graphNameSet","Generator","varCount","useQuads","translateQuery","sparql","thingy","findAllVariables","translateGroupGraphPattern","mapAggregate","generateFreshVar","translateInlineData","PV","isWildcard","localeCompare","translateQuad","translateAggregates","translateSingleUpdate","isTerm","inScope","filters","nonfilters","joins","simplifyPath","translatePathPredicate","recurseGraph","accumulateGroupGraphPattern","isQuad","normals","inverted","normalElement","invertedElement","simplifiedPath","_resetBlanks","typeVals","G","simplifiedJoin","subthingy","translateUpdateGraphLoad","translateUpdateGraph","deleteTriples","insertTriples","translateUpdateTriplesBlock","translateInsertDelete","currentGraph","currentTriples","algebra_1","algebra","objectify","addVariable","v2","recurseTerm","callbacks","doRecursion","recurseOp","mapOp","mapExpression","labelLoop","AsyncAggregateEvaluator","ExpressionError","AggregateEvaluator","SyncEvaluator","AsyncEvaluator","AsyncEvaluator_1","SyncEvaluator_1","AggregateEvaluator_1","Errors_1","Ordering_1","AsyncAggregateEvaluator_1","Average","functions_1","Helpers_1","BaseAggregator_1","BaseAggregator","summer","regularFunctions","RegularOperator","ADDITION","divider","DIVISION","toRDF","termToNumericOrError","internalTerm","sharedContext","IntegerLiteral","TermTransformer_1","Consts_1","TypeHandling_1","termTransformer","TermTransformer","superTypeProvider","enableExtendedXsdTypes","isSubTypeOf","TypeAlias","SPARQL_NUMERIC","transformLiteral","extractValue","transformedLit","dataType","typedValue","Count","GroupConcat","Max","extremeValue","extracted","Min","Sample","Sum","Average_1","Count_1","GroupConcat_1","Max_1","Min_1","Sample_1","Sum_1","avg","group_concat","sample","BaseAggregateEvaluator_1","BaseAggregateEvaluator","throwError","completeContext","__put","safeThrow","startTerm","__result","errorOccurred","LRUCache","AlgebraTransformer_1","AsyncRecursiveEvaluator_1","algExpr","creator","baseContext","transformer","AlgebraTransformer","transformAlgebra","AsyncRecursiveEvaluator","overloadCache","typeCache","discoverer","getSuperType","coerceEBV","SyncRecursiveEvaluator_1","SyncRecursiveEvaluator","evaluateAsInternal","Err","BaseExpressionEvaluator_1","BaseExpressionEvaluator","subEvaluators","ExpressionType","Operator","evalOperator","SpecialOperator","evalSpecialOperator","Named","evalNamed","Existence","evalExistence","Aggregate","evalAggregate","AsyncExtension","evalAsyncExtension","InvalidExpressionType","argPromises","argResults","applyAsync","_evalAsyncArgs","NoExistenceHook","BooleanLiteral","_mapping","transformRDFTermUnsafe","aggregators_1","EmptyAggregateError","expressionToVar","UnboundVariableError","SyncExtension","evalSyncExtension","applySync","NoAggregator","Expressions_1","asTermType","isNonLexicalLiteral","NonLexicalLiteral","StringLiteral","LangStringLiteral","DateTimeLiteral","DoubleLiteral","FloatLiteral","DecimalLiteral","NumericLiteral","isLiteralTermExpression","InvalidArgumentTypes","STR","EBVCoercionError","_nextID","nextID","strValue","mainSparqlType","specificFormatter","TypeURL","XSD_INTEGER","XSD_DECIMAL","XSD_FLOAT","XSD_DOUBLE","jsExponential","jsMantisse","jsExponent","exponent","XSD_BOOLEAN","XSD_DATE_TIME","RDF_LANG_STRING","typeURL","openWorldType","SPARQL_NON_LEXICAL","lit","SpecialFunction","NamedFunction","RegularFunction","BaseFunction","monomorph","handleInvalidTypes","concreteFunction","arity","overloads","experimental","experimentalTree","tree","functionClass","checkArity","float","bool","Builder","declare","expressions_1","LegacyTree_1","OverloadTree_1","identifier","overloadTree","OverloadTree","legacyTree","LegacyTree","collected","collect","argTypes","func","addOverload","setLegacy","addLegacyOverload","impl","getImplementationExact","UnexpectedError","onUnary","onUnaryTyped","onBinary","onBinaryTyped","onTernaryTyped","a1","a2","a3","onTernary","onQuaternaryTyped","a4","onTerm1","onLiteral1","onBoolean1","onBoolean1Typed","onString1","onString1Typed","onLangString1","onStringly1","SPARQL_STRINGLY","onStringly1Typed","onNumeric1","invalidLexicalForm","onDateTime1","numericConverter","evalHelper","arithmetic","legacyArithmeticPromotion","numberTest","numeric","stringTest","booleanTest","dateTimeTest","InvalidLexicalForm","dt","isInternalSubType","lang","variableExpression","legacyImportance","implementation","subTrees","searchStack","getSubTreeWithArg","startIndex","argumentTypes","_addOverload","alwaysOverride","prevPrio","argumentType","_argumentTypes","mainType","prio","literalExpression","namedDefinitions","Parsing_1","xsdToString","xsdToFloat","parseXSDFloat","CastError","xsdToDouble","xsdToDecimal","parseXSDDecimal","xsdToInteger","parseXSDInteger","xsdToDatetime","getTime","xsdToBoolean","XSD_DATE","generalOverloads","literalOverLoads","promotionCount","getSubtree","overrideType","generalType","asGeneralType","getOverloadCacheIdentifier","ExperimentalArgumentTypes","experimentalArgumentType","_experimentalArgumentTypes","nextTree","asOverrideType","addPromotedOverload","XSD_ANY_URI","typeToPromote","conversionFunction","funcConf","concreteType","asKnownLiteralType","subExtensionTable","superTypeDictTable","getSuperTypes","matchType","prioA","matchTypeA","prioB","matchTypeB","sortedType","bignumber_js_1","spark_md5_1","uuid","X","NOT","unaryPlus","UPLUS","unaryMinus","UMINUS","multiplication","MULTIPLICATION","division","addition","subtraction","SUBTRACTION","equality","RDFTermEqual","_left","_right","RDFEqualTypeError","inequality","NOT_EQUAL","lesserThan","LT","greaterThan","GT","lesserThanEqual","LTE","greaterThanEqual","GTE","isIRI","IS_IRI","IS_BLANK","IS_LITERAL","IS_NUMERIC","LANG","DATATYPE","IRI","STRDT","STRLANG","UUID","v4","STRUUID","STRLEN","SUBSTR","startingLoc","UCASE","LCASE","STRSTARTS","IncompatibleLanguageOperation","STRENDS","CONTAINS","STRBEFORE","STRAFTER","ENCODE_FOR_URI","encodeURI","langmatches","LANG_MATCHES","langMatches","REGEX","REPLACE","ABS","ROUND","CEIL","FLOOR","RAND","parseDate","dateLit","parseXSDDateTime","NOW","year","YEAR","month","MONTH","day","DAY","hours","HOURS","minutes","MINUTES","seconds","SECONDS","timezone","TIMEZONE","duration","formatDayTimeDuration","InvalidTimezoneCall","XSD_DAYTIME_DURATION","tz","TZ","MD5","isiri","isblank","isliteral","isnumeric","strdt","strlang","struuid","strlen","ucase","lcase","strstarts","strends","strbefore","strafter","encode_for_uri","md5","specialDefinitions","_1","bound","bound_","BOUND","ifSPARQL","valFirst","coalesce","CoalesceError","logicalOr","leftExpr","rightExpr","logicalAnd","sameTerm","inSPARQL","inRecursiveAsync","inRecursiveSync","needle","InError","nextExpression","notInSPARQL","_in","specialFunctions","IN","isIn","concatTree","CONCAT","pLits","pTerm","lits","langAllEqual","bnodeTree","BNODE","strInput","BNODE_","if","sameterm","in","notin","_isWildCard","_matchLangTag","reg","langTags","rangeTags","lI","rI","h1Raw","h2Raw","m1Raw","m2Raw","h1","h2","m1","m2","namedFunctions","Core_1","NamedFunctions_1","RegularFunctions_1","SpecialFunctions_1","algebraConfig","creatorConfig","InvalidExpression","transformTerm","transformOperator","transformNamed","transformExistence","transformAggregate","transformWildcard","SpecialOperators","specialOp","specialArgs","specialFunc","InvalidArity","Operators","UnknownOperator","regularOp","regularArgs","regularFunc","hasCorrectArity","wrapSyncFunction","ExtensionFunctionError","wrapAsyncFunction","funcName","namedArgs","NamedOperators","namedFunc","syncExtensionFunc","simpleAppl","asyncExtensionFunc","asyncAppl","UnknownNamedOperator","RDFString","enableExtendedXSDTypes","InvalidTermType","legacyTransformLiteral","XSD_NORMALIZED_STRING","XSD_TOKEN","XSD_LANGUAGE","XSD_NM_TOKEN","XSD_NAME","XSD_ENTITY","XSD_ID","XSD_ID_REF","XSD_DATE_TIME_STAMP","dateVal","decimalVal","floatVal","doubleVal","XSD_NON_POSITIVE_INTEGER","XSD_NEGATIVE_INTEGER","XSD_LONG","XSD_INT","XSD_SHORT","XSD_BYTE","XSD_NON_NEGATIVE_INTEGER","XSD_POSITIVE_INTEGER","XSD_UNSIGNED_LONG","XSD_UNSIGNED_INT","XSD_UNSIGNED_SHORT","XSD_UNSIGNED_BYTE","experimentalTransformLiteral","superTypeDict","getSuperTypeDict","isDouble","SetFunction","SetFunctions","RegularOperators","UnimplementedError","pp","cast","dateString","payload","feature","functionError","typeDiscoveryCallback","_TERM_ORDERING_PRIORITY","litA","litB","myLitA","myLitB","typeA","_SPARQL_TYPE_NORMALIZATION","typeB","isLiteralLowerThan","isTermLowerThan","nonlexical","numb","posT","timeAndTimeZone","_timeZoneChopped","timezoneOrNull","asTypeAlias","typeAliasCheck","extensionTableInit","extensionTableInput","__depth","subExtension","knownValue","extensionTableBuilderInitKey","baseRes","baseType","XSD_DURATION","XSD_YEAR_MONTH_DURATION","XSD_NC_NAME","initTypeAliasCheck","_prefixByIri","prefixIris","iriList","_usedPrefixes","_sparqlStar","sparqlStar","_indent","newline","_explicitDatatype","explicitDatatype","toQuery","mapJoin","toEntity","toExpression","variableToString","toUpdate","baseAndPrefixes","allPrefixes","toPattern","encodeTriples","equalTerms","inline","valuesList","lparen","rparen","service","escapeReplacer","lexical","encodeIRI","term1","term2","currentOptions","createGenerator","SparqlParser","$V0","$V1","$V2","$V3","$V4","$V5","$V6","$V7","$V8","$V9","$Va","$Vb","$Vc","$Vd","$Ve","$Vf","$Vg","$Vh","$Vi","$Vj","$Vk","$Vl","$Vm","$Vn","$Vo","$Vp","$Vq","$Vr","$Vs","$Vt","$Vu","$Vv","$Vw","$Vx","$Vy","$Vz","$VA","$VB","$VC","$VD","$VE","$VF","$VG","$VH","$VI","$VJ","$VK","$VL","$VM","$VN","$VO","$VP","$VQ","$VR","$VS","$VT","$VU","$VV","$VW","$VX","$VY","$VZ","$V_","$V$","$V01","$V11","$V21","$V31","$V41","$V51","$V61","$V71","$V81","$V91","$Va1","$Vb1","$Vc1","$Vd1","$Ve1","$Vf1","$Vg1","$Vh1","$Vi1","$Vj1","$Vk1","$Vl1","$Vm1","$Vn1","$Vo1","$Vp1","$Vq1","$Vr1","$Vs1","$Vt1","$Vu1","$Vv1","$Vw1","$Vx1","$Vy1","$Vz1","$VA1","$VB1","$VC1","$VD1","$VE1","$VF1","$VG1","$VH1","$VI1","$VJ1","$VK1","$VL1","$VM1","$VN1","$VO1","$VP1","$VQ1","$VR1","$VS1","$VT1","$VU1","$VV1","$VW1","$VX1","$VY1","$VZ1","$V_1","$V$1","$V02","$V12","$V22","$V32","$V42","$V52","$V62","$V72","$V82","$V92","$Va2","$Vb2","$Vc2","$Vd2","$Ve2","$Vf2","$Vg2","$Vh2","$Vi2","$Vj2","$Vk2","$Vl2","$Vm2","$Vn2","$Vo2","$Vp2","$Vq2","$Vr2","$Vs2","$Vt2","$Vu2","$Vv2","$Vw2","$Vx2","$Vy2","$Vz2","$VA2","$VB2","yy","symbols_","terminals_","productions_","performAction","yytext","yyleng","yylineno","yystate","$$","_$","propertyList","$0","insertBnodesAll","insertBnodes","$","resolveIRI","groupDatasets","getAggregatesOfExpression","selectVar","groupVar","getExpressionId","usedVars","getVariablesFromExpression","usedVar","subqueries","selectedVarIds","subqueryIds","selectedVarId","duplicates","sortedArray","getDuplicatesInArray","lowercase","toVar","ensureSparqlStar","appendAllTo","toInt","valuesObject","appendTo","ensureNoVariables","ensureNoBnodes","unionAll","boundVars","getBoundVarsFromGroupGraphPattern","boundVar","degroupSingle","objectListToTriples","listItems","listTriples","createList","createOperationTree","negatedLiteral","createTypedLiteral","unescapeString","namePos","expansion","uriString","defaultActions","recoverable","vstack","lstack","recovering","TERROR","sharedState","setInput","yylloc","yyloc","ranges","symbol","preErrorSymbol","newState","lex","yyval","errStr","showPosition","first_line","last_line","first_column","last_column","basePath","baseRoot","operatorName","initialExpression","operationList","fromClauses","groupName","fromClause","defaults","blankId","partialSurrogatesWithoutEndpoint","trimLength","objectList","otherTriples","visitExpression","_more","_backtrack","matched","conditionStack","unput","oldLines","backtrack_lexer","less","pastInput","past","upcomingInput","pre","test_match","indexed_rule","backup","tempMatch","rules","_currentRules","flex","popState","conditions","topState","pushState","stateStackSize","yy_","$avoiding_name_collisions","YY_START","main","exit","skipUngroupedVariableCheck","prefixesCopy","JsonParser","parseJsonResults","sparqlResponse","rawBindings","parseJsonBindings","jsonParser","variablesFound","resultsFound","parseJsonBoolean","rdf_literal_1","delimiter","lastKeyPath","singularize","nextNode","addValueToTree","tree1","tree2","tree1Element","mergedElement","mergeTrees","materializeTree","materialized","sparqlJsonResultsToTree","singularRoot","subTree","saxes_1","currentBindingAnnotation","currentBindings","currentBindingName","currentBindingType","currentText","stackEquals","nenc","retried","_normalizeEncoding","utf16Text","utf16End","fillLast","utf8FillLast","base64Text","base64End","simpleWrite","simpleEnd","lastNeed","lastTotal","lastChar","utf8CheckByte","byte","utf8CheckExtraBytes","total","utf8CheckIncomplete","localStorage","rnds8","rng","msCrypto","byteToHex","_nodeId","_clockseq","_lastMSecs","_lastNSecs","clockseq","seedBytes","msecs","nsecs","tl","tmh","hashfunc","generateUUID","namespace","stringToBytes","DNS","URL","getOutputLength","inputLength8","safeAdd","lsw","md5cmn","cnt","md5ff","md5gg","md5hh","md5ii","v35","length32","hexTab","md5ToHexEncodedArray","olda","oldb","oldc","oldd","wordsToMd5","length8","bytesToWords","rnds","ROTL","H","N","M","_i","_t","_t2","u","_dereq_","WritableStream","ByteLengthQueuingStrategy","CountQueuingStrategy","TransformStream","pToString","getName","isFunction","functionsHaveNames","truncate","AssertionError","stackStartFunction","_deepEqual","isDate","isRegExp","multiline","ignoreCase","Float32Array","Float64Array","isPrimitive","isArguments","pSlice","objEquiv","expectedException","_throws","_tryBlock","isError","hasOwn","generatedMessage","notEqual","deepStrictEqual","notDeepEqual","notDeepStrictEqual","strictEqual","notStrictEqual","throws","doesNotThrow","ifError","stylize","stylizeNoColor","isBoolean","showHidden","_extend","isUndefined","stylizeWithColor","styles","isNumber","isNull","formatPrimitive","arrayToHash","formatError","toUTCString","formatProperty","reduceToSingleString","isObject","objectToString","timestamp","getHours","getMinutes","getSeconds","getDate","months","getMonth","formatRegExp","noDeprecation","throwDeprecation","traceDeprecation","debugEnviron","debugs","NODE_DEBUG","pid","bold","italic","underline","white","grey","black","blue","cyan","green","magenta","red","yellow","special","null","regexp","isNullOrUndefined","isSymbol","_createClass","createDataProperty","Call","PromiseCall","isFakeDetached","typeIsObject","createArrayFromList","ArrayBufferCopy","CreateIterResultObject","IsFiniteNonNegativeNumber","IsNonNegativeNumber","CreateAlgorithmFromUnderlyingMethod","InvokeOrNoop","TransferArrayBuffer","IsDetachedBuffer","ValidateAndNormalizeHighWaterMark","MakeSizeAlgorithmFromSizeFunction","DequeueValue","_queue","_queueTotalSize","EnqueueValueWithSize","PeekQueueValue","ResetQueue","AcquireReadableStreamBYOBReader","ReadableStreamBYOBReader","AcquireReadableStreamDefaultReader","ReadableStreamDefaultReader","CreateReadableStream","InitializeReadableStream","SetUpReadableStreamDefaultController","ReadableStreamDefaultController","_reader","_storedError","_disturbed","IsReadableStream","IsReadableStreamLocked","ReadableStreamAddReadIntoRequest","_reject","_readIntoRequests","ReadableStreamAddReadRequest","_readRequests","ReadableStreamCancel","ReadableStreamClose","_readableStreamController","CancelSteps","IsReadableStreamDefaultReader","_closedPromise_resolve","_closedPromise_reject","defaultReaderClosedPromiseResolve","ReadableStreamError","defaultReaderClosedPromiseReject","_closedPromise","ReadableStreamFulfillReadRequest","ReadableStreamGetNumReadIntoRequests","ReadableStreamGetNumReadRequests","ReadableStreamHasBYOBReader","IsReadableStreamBYOBReader","ReadableStreamHasDefaultReader","ReadableStreamReaderGenericInitialize","_ownerReadableStream","defaultReaderClosedPromiseInitialize","defaultReaderClosedPromiseInitializeAsResolved","defaultReaderClosedPromiseInitializeAsRejected","ReadableStreamReaderGenericCancel","ReadableStreamReaderGenericRelease","defaultReaderClosedPromiseResetToRejected","ReadableStreamBYOBReaderRead","_controlledReadableByteStream","BYTES_PER_ELEMENT","bytesFilled","elementSize","readerType","_pendingPullIntos","ReadableByteStreamControllerFillPullIntoDescriptorFromQueue","ReadableByteStreamControllerConvertPullIntoDescriptor","ReadableByteStreamControllerHandleQueueDrain","_closeRequested","ReadableByteStreamControllerError","ReadableByteStreamControllerCallPullIfNeeded","ReadableByteStreamControllerPullInto","ReadableStreamDefaultReaderRead","PullSteps","IsReadableStreamDefaultController","ReadableStreamDefaultControllerCallPullIfNeeded","ReadableStreamDefaultControllerShouldCallPull","_pulling","_pullAlgorithm","_pullAgain","ReadableStreamDefaultControllerErrorIfNeeded","rethrowAssertionErrorRejection","_controlledReadableStream","ReadableStreamDefaultControllerCanCloseOrEnqueue","_started","ReadableStreamDefaultControllerGetDesiredSize","ReadableStreamDefaultControllerClose","ReadableStreamDefaultControllerEnqueue","_strategySizeAlgorithm","ReadableStreamDefaultControllerError","_strategyHWM","_cancelAlgorithm","SetUpReadableStreamDefaultControllerFromUnderlyingSource","IsReadableByteStreamController","IsReadableStreamBYOBRequest","ReadableByteStreamControllerGetDesiredSize","ReadableByteStreamControllerShouldCallPull","ReadableByteStreamControllerClearPendingPullIntos","ReadableByteStreamControllerInvalidateBYOBRequest","ReadableByteStreamControllerCommitPullIntoDescriptor","ReadableStreamFulfillReadIntoRequest","ReadableByteStreamControllerEnqueueChunkToQueue","ReadableByteStreamControllerFillHeadPullIntoDescriptor","_byobRequest","_associatedReadableByteStreamController","_view","ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue","ReadableByteStreamControllerShiftPendingPullInto","ReadableByteStreamControllerRespondInternal","ReadableByteStreamControllerRespondInClosedState","ReadableByteStreamControllerRespondInReadableState","SetUpReadableByteStreamController","_autoAllocateChunkSize","SetUpReadableByteStreamControllerFromUnderlyingSource","ReadableByteStreamController","autoAllocateChunkSize","streamBrandCheckException","readerLockException","defaultReaderBrandCheckException","byobReaderBrandCheckException","defaultControllerBrandCheckException","byobRequestBrandCheckException","byteStreamControllerBrandCheckException","_require","_require3","_require4","AcquireWritableStreamDefaultWriter","IsWritableStream","IsWritableStreamLocked","WritableStreamAbort","WritableStreamDefaultWriterCloseWithErrorPropagation","WritableStreamDefaultWriterRelease","WritableStreamDefaultWriterWrite","WritableStreamCloseQueuedOrInFlight","ifIsObjectAndHasAPromiseIsHandledInternalSlotSetPromiseIsHandledToTrue","pipeTo","preventClose","preventAbort","preventCancel","waitForWritesToFinish","isOrBecomesErrored","shutdownWithAction","doTheRest","finalize","shutdown","pipeLoop","_readyPromise","pullAlgorithm","startAlgorithm","ReadableStreamTee","CreateReadableByteStream","IsReadableStreamDisturbed","ReadableStreamDefaultControllerHasBackpressure","ReadableStreamBYOBRequest","ReadableByteStreamControllerRespond","ReadableByteStreamControllerRespondWithNewView","ReadableByteStreamControllerClose","ReadableByteStreamControllerEnqueue","SetUpReadableStreamBYOBRequest","InitializeTransformStream","_writable","CreateWritableStream","verbose","_transformStreamController","_backpressure","_backpressureChangePromise","_transformAlgorithm","TransformStreamDefaultSinkWriteAlgorithm","_readable","_flushAlgorithm","TransformStreamError","TransformStreamDefaultSinkCloseAlgorithm","TransformStreamDefaultSinkAbortAlgorithm","TransformStreamSetBackpressure","TransformStreamDefaultSourcePullAlgorithm","TransformStreamErrorWritableAndUnblockWrite","_backpressureChangePromise_resolve","IsTransformStream","WritableStreamDefaultControllerErrorIfNeeded","_writableStreamController","IsTransformStreamDefaultController","SetUpTransformStreamDefaultController","_controlledTransformStream","SetUpTransformStreamDefaultControllerFromTransformer","TransformStreamDefaultController","TransformStreamDefaultControllerEnqueue","_require2","readableType","writableType","TransformStreamDefaultControllerError","TransformStreamDefaultControllerTerminate","CreateTransformStream","WritableStreamDefaultWriter","InitializeWritableStream","_writeRequests","_inFlightWriteRequest","_closeRequest","_inFlightCloseRequest","_pendingAbortRequest","_reason","_wasAlreadyErroring","WritableStreamStartErroring","WritableStreamDealWithRejection","WritableStreamFinishErroring","WritableStreamDefaultWriterEnsureReadyPromiseRejected","WritableStreamHasOperationMarkedInFlight","ErrorSteps","WritableStreamRejectCloseAndClosedPromiseIfNeeded","AbortSteps","defaultWriterClosedPromiseReject","WritableStreamUpdateBackpressure","_readyPromise_resolve","_readyPromise_reject","_readyPromiseState","defaultWriterReadyPromiseReset","defaultWriterReadyPromiseResolve","IsWritableStreamDefaultWriter","WritableStreamDefaultWriterClose","_ownerWritableStream","WritableStreamDefaultControllerAdvanceQueueIfNeeded","WritableStreamDefaultControllerClose","WritableStreamDefaultWriterEnsureClosedPromiseRejected","_closedPromiseState","defaultWriterClosedPromiseResetToRejected","defaultWriterReadyPromiseReject","defaultWriterReadyPromiseResetToRejected","WritableStreamDefaultControllerGetChunkSize","defaultWriterLockException","WritableStreamAddWriteRequest","_controlledWritableStream","WritableStreamDefaultControllerGetBackpressure","WritableStreamDefaultControllerWrite","SetUpWritableStreamDefaultController","_writeAlgorithm","_closeAlgorithm","_abortAlgorithm","SetUpWritableStreamDefaultControllerFromUnderlyingSink","WritableStreamDefaultController","WritableStreamDefaultControllerGetDesiredSize","WritableStreamMarkCloseRequestInFlight","defaultWriterClosedPromiseResolve","WritableStreamFinishInFlightClose","WritableStreamFinishInFlightCloseWithError","WritableStreamDefaultControllerProcessClose","WritableStreamMarkFirstWriteRequestInFlight","WritableStreamFinishInFlightWrite","WritableStreamFinishInFlightWriteWithError","WritableStreamDefaultControllerProcessWrite","WritableStreamDefaultControllerError","defaultWriterBrandCheckException","defaultWriterClosedPromiseInitialize","defaultWriterReadyPromiseInitializeAsRejected","defaultWriterReadyPromiseInitializeAsResolved","defaultWriterReadyPromiseInitialize","defaultWriterClosedPromiseInitializeAsResolved","defaultWriterClosedPromiseInitializeAsRejected","WritableStreamDefaultWriterAbort","IsWritableStreamDefaultController","callsite","fs","NO_ASSERT","getFileName","getLineNumber","readFileSync","getFunction","prepareStackTrace","callee","storage","formatArgs","useColors","humanize","color","save","removeItem","navigator","userAgent","style","WebkitAppearance","firebug","exception","$1","chrome","localstorage","formatters","enable","createDebug","enabled","selectColor","disable","skips","fmtShort","fmtLong","plural","long","CHAR","S","NAME_START_CHAR","NAME_CHAR","CHAR_RE","S_RE","NAME_START_CHAR_RE","NAME_CHAR_RE","NMTOKEN_RE","RESTRICTED_CHAR","RESTRICTED_CHAR_RE","isRestrictedChar","isCharAndNotRestricted","NC_NAME_START_CHAR","NC_NAME_CHAR","NC_NAME_START_CHAR_RE","NC_NAME_CHAR_RE","inserted","Node","pushNode","forEachReverse","getReverse","mapReverse","initial","reduceReverse","toArrayReverse","sliceReverse","deleteCount","isSourceExpression","isPromise","isEventEmitter","fromIterable","fromIterator","fromArray","WrappingIterator","ClonedIterator","UnionIterator","TransformIterator","BufferedIterator","MappingIterator","DESTINATION","identity","IntegerIterator","ArrayIterator","SingletonIterator","EmptyIterator","DESTROYED","ENDED","CLOSED","CLOSING","OPEN","INIT","setTaskScheduler","getTaskScheduler","LinkedList","events_1","linkedlist_1","taskScheduler","createTaskScheduler","task","scheduler","initialState","waitForDataListener","_changeState","eventAsync","_endAsync","details","_toStringDetails","resolveItems","pushItem","propertyName","properties","_properties","propertyCallbacks","_propertyCallbacks","getProperties","setProperties","copyProperties","propertyNames","uniq","by","surround","addSingleListener","emitData","_item","preserve","_index","_sourceStarted","_truncateThreshold","_next","ascending","_last","ensureSourceAvailable","_destroySource","destroySource","destinationClose","allowDestination","_maxBufferSize","_reading","_pushedCount","_fillBuffer","doneCalled","_begin","neededItems","_completeClose","_boundPush","_createSource","_loadSourceAsync","_optional","_validateSource","destinationCloseWhenDone","destinationFillBuffer","_readAndTransform","_optionalTransform","pushedCount","_closeWhenDone","_offset","_limit","_filter","_prepender","_appender","_readAndTransformSimple","nextAsync","mappedItem","_insert","inserter","_transformerQueue","transformerQueue","_sources","_currentSource","_pending","loading","_loadSources","_addSource","_destroySources","destroySources","destinationRemoveEmptySources","_removeEmptySources","_readPosition","history","HistoryReader","endsAt","register","readAt","_getSourceProperty","hasProperty","unregister","_history","_trackers","setReadable","tracker","emitError","resolved","scheduleMicrotask","scheduleMacrotask","queued","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","loaded","__webpack_modules__","getter","nmd","__webpack_exports__"],"sourceRoot":""}